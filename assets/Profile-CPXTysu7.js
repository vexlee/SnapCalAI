import{c as i,x as a,L as ue,M as xe,e as me,N as G,j as e,O as pe,B as v,m as he,U as be,D as ge,R as Q,P as fe,f as ye,w as ve,Q as je,T as we}from"./index-aBxdPfl4.js";import{r as s}from"./vendor-react-wGySg1uH.js";import{A as Ne,U as ke,H as Se}from"./users-9ls_ElOM.js";import{R as Ce,W as _e}from"./weight-B5Whl_y3.js";import{C as ze}from"./calendar-CBjl7dX7.js";import{T as $}from"./target-vPfh4ke8.js";import{C as De}from"./chevron-down-Cs0u80uX.js";import{T as Le}from"./trending-up-48LKRYAI.js";import{S as Ae}from"./scale-B2ZogKDk.js";import{C as Me}from"./check-Lsi9BFtD.js";import"./vendor-charts-Bdt_fL2G.js";import"./vendor-supabase-DfwcnzK-.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=i("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=i("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=i("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=i("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=i("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=i("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Y=`
-- Run this in your Supabase SQL Editor

-- 1. Create Food Entries Table
create table if not exists food_entries (
  id uuid primary key,
  user_id uuid not null references auth.users(id),
  timestamp text not null,
  date text not null,
  time text not null,
  food_item text not null,
  calories integer not null,
  protein integer default 0,
  carbs integer default 0,
  fat integer default 0,
  confidence float default 1.0,
  is_manual boolean default false,
  image_url text,
  ingredients jsonb default '[]'::jsonb,
  original_ai_response jsonb,
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 2. Create User Profiles Table
create table if not exists user_profiles (
  user_id uuid primary key references auth.users(id),
  name text,
  height float,
  weight float,
  age integer,
  gender text check (gender in ('male', 'female')),
  activity_level text check (activity_level in ('sedentary', 'light', 'moderate', 'very', 'extra')),
  goal text check (goal in ('cut', 'bulk', 'maintain')),
  equipment_access text check (equipment_access in ('gym', 'home', 'bodyweight')),
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 3. Create Settings Table
create table if not exists user_settings (
  user_id uuid primary key references auth.users(id),
  daily_goal integer default 2000,
  has_completed_onboarding boolean default false
);

-- 4. Create Summaries Table (Optional optimization)
create table if not exists daily_summaries (
  id text primary key, -- Composite key user_id + date usually
  user_id uuid not null references auth.users(id),
  date text not null,
  total_calories integer default 0,
  total_protein integer default 0,
  total_carbs integer default 0,
  total_fat integer default 0
);

-- 5. Enable Row Level Security (RLS)
alter table food_entries enable row level security;
alter table user_profiles enable row level security;
alter table user_settings enable row level security;
alter table daily_summaries enable row level security;

-- 6. Create Policies (Allow users to see/edit ONLY their own data)

-- Food Entries
create policy "Users can all own entries" on food_entries
  for all using (auth.uid() = user_id);

-- Profiles
create policy "Users can all own profile" on user_profiles
  for all using (auth.uid() = user_id);

-- Settings
create policy "Users can all own settings" on user_settings
  for all using (auth.uid() = user_id);

-- Summaries
create policy "Users can all own summaries" on daily_summaries
  for all using (auth.uid() = user_id);
`,Ze=()=>{const[u,j]=s.useState(""),[o,w]=s.useState(""),[n,N]=s.useState(""),[x,k]=s.useState(""),[S,C]=s.useState(""),[_,z]=s.useState(""),[m,D]=s.useState(""),[L,A]=s.useState(""),[Z,M]=s.useState(!1),[J,B]=s.useState(!1),[p,K]=s.useState(null),[T,U]=s.useState(!1),[X,E]=s.useState(!1),[ee,O]=s.useState(!1),[F,d]=s.useState("checking"),[h,te]=s.useState(!1),[b,se]=s.useState(!1),[g,q]=s.useState("");s.useEffect(()=>{ae(),a?(E(ue()),P()):d("ok")},[]);const P=async()=>{const t=await xe();t.missingTables?d("missing_tables"):t.ok?d("ok"):d("error")},R=t=>{if(t===G())return;confirm(t==="local"?"Switching to Local Mode means your data will stay on this device only. You will be logged out of Cloud to create a local profile.":"Switching to Cloud Mode allows you to sync data across devices. You will be redirected to log in or sign up.")&&je(t)},ae=async()=>{const t=await me();t&&(j(t.name),w(t.height.toString()),N(t.weight.toString()),t.age&&k(t.age.toString()),t.gender&&C(t.gender),t.activityLevel&&z(t.activityLevel),t.goal&&D(t.goal),t.equipmentAccess&&A(t.equipmentAccess),t.targetWeight&&q(t.targetWeight.toString()))},W=()=>{const t=parseFloat(o),l=parseFloat(n);return!t||!l?null:l/(t/100*(t/100))},re=t=>t<18.5?{label:"Underweight",color:"text-blue-300"}:t<25?{label:"Healthy",color:"text-emerald-300"}:t<30?{label:"Overweight",color:"text-orange-300"}:{label:"Obese",color:"text-red-300"},H=t=>{const y=(10*parseFloat(n)+6.25*parseFloat(o)-5*25+5)*1.2;return t<18.5?Math.round(y+400):t>25?Math.round(y-400):Math.round(y)},le=async()=>{if(!(!u||!o||!n)){M(!0);try{await ve({name:u,height:parseFloat(o),weight:parseFloat(n),age:x?parseInt(x):void 0,gender:S||void 0,activityLevel:_||void 0,goal:m||void 0,equipmentAccess:L||void 0,targetWeight:g?parseFloat(g):void 0}),B(!0),setTimeout(()=>B(!1),2e3);const t=W();if(t){const l=H(t);K(l)}}catch(t){console.error(t)}finally{M(!1)}}},ie=async()=>{p&&(await ye(p),alert(`Daily goal updated to ${p} kcal!`))},oe=async()=>{if(confirm("Are you sure you want to sign out?")){U(!0);try{await we()}catch(t){console.error(t)}finally{U(!1)}}},ne=async()=>{if(confirm("This will upload your local history to your Supabase account and clear local storage. Continue?")){O(!0);try{await fe(),E(!1),alert("Migration successful! Your local history is now in the cloud.")}catch(t){alert("Sync failed: "+t.message)}finally{O(!1)}}},ce=()=>{navigator.clipboard.writeText(Y),alert("SQL Copied to clipboard! Paste it into the Supabase SQL Editor.")},r=W(),f=r?re(r):null,I=r?H(r):null,c=G();return e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-10 space-y-8 animate-in fade-in duration-500 bg-background",children:[e.jsxs("header",{children:[e.jsx("p",{className:"text-secondary-400 text-xs font-bold uppercase tracking-widest mb-2",children:"My Profile"}),e.jsx("h1",{className:"text-3xl font-black text-primary-900 tracking-tight font-display",children:"Personal Details"})]}),a&&X&&e.jsx("div",{className:"bg-indigo-50 border border-indigo-100 p-5 rounded-4xl animate-in slide-in-from-top-4 shadow-soft",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-2xl text-indigo-600",children:e.jsx(Oe,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black text-indigo-900",children:"Local Data Found"}),e.jsx("p",{className:"text-xs text-indigo-700 mt-1 mb-3 leading-relaxed font-medium",children:"We found meal history on this device that isn't in the cloud yet. Sync now to secure your data."}),e.jsx(v,{onClick:ne,isLoading:ee,className:"py-3 px-6 text-xs bg-[#3D745B] hover:bg-[#2D5A45] shadow-lg shadow-primary-200/50 rounded-full",children:"Sync to Cloud"})]})]})}),a&&F==="missing_tables"&&e.jsx("div",{className:"bg-rose-50 border border-rose-100 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-rose-100 rounded-2xl text-rose-600",children:e.jsx(V,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-extrabold text-rose-900",children:"Database Setup Required"}),e.jsx("p",{className:"text-xs text-rose-700 mt-1 mb-3 leading-relaxed",children:"Your Supabase project is connected, but the required tables don't exist yet. Saving will fail until you run the setup script."}),e.jsxs("button",{onClick:()=>te(!h),className:"flex items-center gap-2 py-2 px-4 rounded-xl text-xs font-bold bg-white text-rose-600 shadow-sm",children:[e.jsx(Te,{size:14})," ",h?"Hide SQL":"View SQL Script"]}),h&&e.jsxs("div",{className:"mt-4 animate-in slide-in-from-top-2",children:[e.jsx("div",{className:"bg-gray-900 rounded-xl p-3 mb-2 overflow-x-auto border border-white/10",children:e.jsx("pre",{className:"text-[10px] text-emerald-400 font-mono leading-relaxed",children:Y})}),e.jsxs(v,{onClick:ce,className:"w-full py-3 text-xs bg-[#3D745B] hover:bg-[#2D5A45] text-white",children:[e.jsx(Ue,{size:14,className:"mr-2"})," Copy SQL to Clipboard"]}),e.jsx("p",{className:"text-[10px] text-rose-600/70 mt-2 italic text-center",children:"Paste this into the SQL Editor in your Supabase Dashboard."})]})]})]})}),r&&f&&I&&e.jsxs("div",{className:"relative rounded-4xl p-6 text-white overflow-hidden shadow-xl bg-[#3D745B] shadow-primary-200/50 animate-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ne,{size:16,className:"text-primary-200"}),e.jsx("span",{className:"text-primary-200 text-xs font-bold uppercase tracking-widest",children:"Body Insight"})]}),e.jsxs("h2",{className:"text-3xl font-black tracking-tight font-display",children:["BMI: ",r.toFixed(1)]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/10 text-sm font-black ${f.color}`,children:f.label})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-5 border border-white/5",children:[e.jsx("p",{className:"text-white/70 text-xs font-bold mb-3",children:"Based on your profile, we recommend a daily calorie limit of:"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-4xl font-black tracking-tighter",children:I}),e.jsx("span",{className:"text-lg font-bold text-white/60",children:"kcal"})]}),e.jsx("button",{onClick:ie,className:"w-10 h-10 bg-white text-[#3D745B] rounded-full flex items-center justify-center hover:scale-110 active:scale-95 transition-all shadow-lg",children:e.jsx(he,{size:20,strokeWidth:3})})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-4xl border border-white/50 shadow-soft space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:u,onChange:t=>j(t.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-secondary-50 border border-secondary-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-primary-900 transition-all placeholder:text-secondary-300:text-secondary-600"}),e.jsx(be,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-secondary-400",size:20})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:o,onChange:t=>w(t.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-secondary-50 border border-secondary-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-primary-900 transition-all placeholder:text-secondary-300:text-secondary-600"}),e.jsx(Ce,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-secondary-400",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:n,onChange:t=>N(t.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-secondary-50 border border-secondary-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-primary-900 transition-all placeholder:text-secondary-300:text-secondary-600"}),e.jsx(_e,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-secondary-400",size:20})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Age"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:x,onChange:t=>k(t.target.value),placeholder:"25",className:"w-full p-4 pl-12 bg-secondary-50 border border-secondary-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-primary-900 transition-all placeholder:text-secondary-300:text-secondary-600"}),e.jsx(ze,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-secondary-400",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Gender"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:S,onChange:t=>C(t.target.value),className:"w-full p-4 pl-12 bg-secondary-50 border border-secondary-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-primary-900 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]}),e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-secondary-400 pointer-events-none",size:20})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-secondary-100",children:[e.jsxs("button",{type:"button",onClick:()=>se(!b),className:"w-full flex items-center justify-between mb-3 group",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{size:16,className:"text-[#3D745B]"}),e.jsx("p",{className:"text-xs font-black text-[#3D745B] uppercase tracking-wider",children:"Training Goal Setting"})]}),e.jsx(De,{size:18,className:`text-[#3D745B] transition-transform duration-300 ${b?"rotate-180":""}`})]}),e.jsx("p",{className:"text-[10px] text-secondary-400 mb-3 ml-1 font-medium",children:"Optional - Fill this for personalized AI Coach recommendations"}),b&&e.jsxs("div",{className:"space-y-5 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Activity Level"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:_,onChange:t=>z(t.target.value),className:"w-full p-4 pl-12 bg-secondary-50 border border-secondary-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-primary-900 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"sedentary",children:"Sedentary (Little or no exercise)"}),e.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),e.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),e.jsx("option",{value:"very",children:"Very Active (6-7 days/week)"}),e.jsx("option",{value:"extra",children:"Extra Active (Intense daily)"})]}),e.jsx(Le,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-secondary-400 pointer-events-none",size:20})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Goal"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:m,onChange:t=>D(t.target.value),className:"w-full p-4 pl-12 bg-secondary-50 border border-secondary-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-primary-900 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"cut",children:"Cut (Lose Fat)"}),e.jsx("option",{value:"bulk",children:"Bulk (Gain Muscle)"}),e.jsx("option",{value:"maintain",children:"Maintain"})]}),e.jsx($,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-secondary-400 pointer-events-none",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Equipment"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:L,onChange:t=>A(t.target.value),className:"w-full p-4 pl-12 bg-secondary-50 border border-secondary-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-primary-900 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"gym",children:"Gym Access"}),e.jsx("option",{value:"home",children:"Home Equipment"}),e.jsx("option",{value:"bodyweight",children:"Bodyweight Only"})]}),e.jsx(ge,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-secondary-400 pointer-events-none",size:20})]})]})]}),m==="cut"&&e.jsxs("div",{className:"mt-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsx("label",{className:"block text-xs font-black text-secondary-400 uppercase tracking-wider mb-2 ml-1",children:"Target Weight (kg)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:g,onChange:t=>q(t.target.value),placeholder:"e.g. 63",step:"0.1",min:"30",max:"200",className:"w-full p-4 pl-12 bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 font-bold text-primary-900 transition-all"}),e.jsx(Ae,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500",size:20})]}),e.jsx("p",{className:"text-[10px] text-emerald-600 mt-2 ml-1 font-medium",children:"This powers your weight prediction on the Dashboard"})]})]})]}),e.jsx(v,{className:"w-full py-5 text-lg shadow-lg bg-[#3D745B] hover:bg-[#2D5A45] shadow-primary-200/50 rounded-full transition-all",onClick:le,isLoading:Z,children:J?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Me,{size:20})," Saved"]}):"Save Profile"})]}),pe&&e.jsxs("div",{className:"bg-white p-6 rounded-4xl border border-white/50 shadow-soft",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${c==="cloud"?"bg-emerald-50 text-emerald-600":"bg-secondary-100 text-secondary-500"}`,children:c==="cloud"?e.jsx(Be,{size:20}):e.jsx(Se,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-primary-900",children:"Storage Mode"}),e.jsx("p",{className:"text-xs text-secondary-500 font-bold",children:c==="cloud"?"Connected to Supabase":"Device Storage Only"})]})]}),a&&e.jsx("button",{onClick:P,className:"p-2 text-secondary-400 hover:text-primary-500 transition-colors",title:"Check Connection",children:e.jsx(Q,{size:16,className:F==="checking"?"animate-spin":""})})]}),e.jsxs("div",{className:"flex p-1 bg-secondary-50 rounded-2xl",children:[e.jsx("button",{onClick:()=>R("local"),className:`flex-1 py-3 text-xs font-black rounded-xl transition-all ${c==="local"?"bg-white text-primary-900 shadow-sm":"text-secondary-400 hover:text-secondary-600"}`,children:"Device Only"}),e.jsx("button",{onClick:()=>R("cloud"),className:`flex-1 py-3 text-xs font-black rounded-xl transition-all ${c==="cloud"?"bg-[#3D745B] text-white shadow-sm":"text-secondary-400 hover:text-secondary-600"}`,children:"Cloud Sync"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:oe,disabled:T,className:"w-full flex items-center justify-center gap-3 py-5 rounded-3xl border border-red-200 text-red-500 font-black hover:bg-red-50:bg-red-950/20 active:scale-95 transition-all shadow-sm",children:T?e.jsx(Q,{size:20,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:20}),e.jsx("span",{children:"Sign Out"})]})})}),e.jsx("div",{className:"text-center pt-4 pb-2",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-black border transition-colors ${a?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-amber-50 text-amber-700 border-amber-100"}`,children:[e.jsx(V,{size:12}),e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a?"bg-emerald-500 animate-pulse":"bg-amber-500"}`}),a?"Syncing to Supabase":"Local Storage Mode"]})})]})};export{Ze as Profile};
