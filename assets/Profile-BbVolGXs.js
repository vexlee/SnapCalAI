import{c as r,w as s,J as me,K as he,d as pe,L as $,j as e,M as be,B as v,k as ye,U as fe,D as ke,N as ve,e as je,v as we,O as Ne,P as Se}from"./index-DC3id3Mb.js";import{r as a}from"./vendor-react-wGySg1uH.js";import{A as Ce,U as _e,H as ze,R as Q}from"./users-4_U-RpyW.js";import{R as Me,W as Le}from"./weight-DlXdUhTP.js";import{C as Ae}from"./calendar-Bo1Lwrvo.js";import{T as V}from"./target-C15aZRWT.js";import{C as De}from"./chevron-down-0X1AlZ1I.js";import{T as Te,C as Ee}from"./trending-up-D0C4-wXC.js";import{S as Ue}from"./scale-BJ-ZQiE6.js";import"./vendor-charts-Bdt_fL2G.js";import"./vendor-supabase-DfwcnzK-.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=r("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=r("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=r("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=r("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=r("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=r("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=r("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=r("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Z=`
-- Run this in your Supabase SQL Editor

-- 1. Create Food Entries Table
create table if not exists food_entries (
  id uuid primary key,
  user_id uuid not null references auth.users(id),
  timestamp text not null,
  date text not null,
  time text not null,
  food_item text not null,
  calories integer not null,
  protein integer default 0,
  carbs integer default 0,
  fat integer default 0,
  confidence float default 1.0,
  is_manual boolean default false,
  image_url text,
  ingredients jsonb default '[]'::jsonb,
  original_ai_response jsonb,
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 2. Create User Profiles Table
create table if not exists user_profiles (
  user_id uuid primary key references auth.users(id),
  name text,
  height float,
  weight float,
  age integer,
  gender text check (gender in ('male', 'female')),
  activity_level text check (activity_level in ('sedentary', 'light', 'moderate', 'very', 'extra')),
  goal text check (goal in ('cut', 'bulk', 'maintain')),
  equipment_access text check (equipment_access in ('gym', 'home', 'bodyweight')),
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 3. Create Settings Table
create table if not exists user_settings (
  user_id uuid primary key references auth.users(id),
  daily_goal integer default 2000,
  has_completed_onboarding boolean default false
);

-- 4. Create Summaries Table (Optional optimization)
create table if not exists daily_summaries (
  id text primary key, -- Composite key user_id + date usually
  user_id uuid not null references auth.users(id),
  date text not null,
  total_calories integer default 0,
  total_protein integer default 0,
  total_carbs integer default 0,
  total_fat integer default 0
);

-- 5. Enable Row Level Security (RLS)
alter table food_entries enable row level security;
alter table user_profiles enable row level security;
alter table user_settings enable row level security;
alter table daily_summaries enable row level security;

-- 6. Create Policies (Allow users to see/edit ONLY their own data)

-- Food Entries
create policy "Users can all own entries" on food_entries
  for all using (auth.uid() = user_id);

-- Profiles
create policy "Users can all own profile" on user_profiles
  for all using (auth.uid() = user_id);

-- Settings
create policy "Users can all own settings" on user_settings
  for all using (auth.uid() = user_id);

-- Summaries
create policy "Users can all own summaries" on daily_summaries
  for all using (auth.uid() = user_id);
`,et=()=>{const[u,j]=a.useState(""),[i,w]=a.useState(""),[n,N]=a.useState(""),[g,S]=a.useState(""),[C,_]=a.useState(""),[z,M]=a.useState(""),[m,L]=a.useState(""),[A,D]=a.useState(""),[J,T]=a.useState(!1),[K,E]=a.useState(!1),[h,X]=a.useState(null),[c,ee]=a.useState(document.documentElement.classList.contains("dark")),[U,O]=a.useState(!1),[te,q]=a.useState(!1),[ae,F]=a.useState(!1),[I,x]=a.useState("checking"),[p,re]=a.useState(!1),[b,se]=a.useState(!1),[y,P]=a.useState("");a.useEffect(()=>{oe(),s?(q(me()),R()):x("ok")},[]);const R=async()=>{const t=await he();t.missingTables?x("missing_tables"):t.ok?x("ok"):x("error")},le=()=>{const t=!c;ee(t),t?(document.documentElement.classList.add("dark"),localStorage.setItem("snapcal-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("snapcal-theme","light"))},W=t=>{if(t===$())return;confirm(t==="local"?"Switching to Local Mode means your data will stay on this device only. You will be logged out of Cloud to create a local profile.":"Switching to Cloud Mode allows you to sync data across devices. You will be redirected to log in or sign up.")&&Ne(t)},oe=async()=>{const t=await pe();t&&(j(t.name),w(t.height.toString()),N(t.weight.toString()),t.age&&S(t.age.toString()),t.gender&&_(t.gender),t.activityLevel&&M(t.activityLevel),t.goal&&L(t.goal),t.equipmentAccess&&D(t.equipmentAccess),t.targetWeight&&P(t.targetWeight.toString()))},B=()=>{const t=parseFloat(i),o=parseFloat(n);return!t||!o?null:o/(t/100*(t/100))},ie=t=>t<18.5?{label:"Underweight",color:"text-blue-300"}:t<25?{label:"Healthy",color:"text-emerald-300"}:t<30?{label:"Overweight",color:"text-orange-300"}:{label:"Obese",color:"text-red-300"},H=t=>{const k=(10*parseFloat(n)+6.25*parseFloat(i)-5*25+5)*1.2;return t<18.5?Math.round(k+400):t>25?Math.round(k-400):Math.round(k)},ne=async()=>{if(!(!u||!i||!n)){T(!0);try{await we({name:u,height:parseFloat(i),weight:parseFloat(n),age:g?parseInt(g):void 0,gender:C||void 0,activityLevel:z||void 0,goal:m||void 0,equipmentAccess:A||void 0,targetWeight:y?parseFloat(y):void 0}),E(!0),setTimeout(()=>E(!1),2e3);const t=B();if(t){const o=H(t);X(o)}}catch(t){console.error(t)}finally{T(!1)}}},de=async()=>{h&&(await je(h),alert(`Daily goal updated to ${h} kcal!`))},ce=async()=>{if(confirm("Are you sure you want to sign out?")){O(!0);try{await Se()}catch(t){console.error(t)}finally{O(!1)}}},xe=async()=>{if(confirm("This will upload your local history to your Supabase account and clear local storage. Continue?")){F(!0);try{await ve(),q(!1),alert("Migration successful! Your local history is now in the cloud.")}catch(t){alert("Sync failed: "+t.message)}finally{F(!1)}}},ue=()=>{navigator.clipboard.writeText(Z),alert("SQL Copied to clipboard! Paste it into the Supabase SQL Editor.")},l=B(),f=l?ie(l):null,G=l?H(l):null,d=$();return e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-10 space-y-8 animate-in fade-in duration-500",children:[e.jsxs("header",{children:[e.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"My Profile"}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Personal Details"})]}),s&&te&&e.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-100 dark:border-indigo-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/50 rounded-2xl text-indigo-600 dark:text-indigo-400",children:e.jsx(We,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-extrabold text-indigo-900 dark:text-indigo-200",children:"Local Data Found"}),e.jsx("p",{className:"text-xs text-indigo-700 dark:text-indigo-300 mt-1 mb-3 leading-relaxed",children:"We found meal history on this device that isn't in the cloud yet. Sync now to secure your data."}),e.jsx(v,{onClick:xe,isLoading:ae,className:"py-3 px-6 text-xs bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none",children:"Sync to Cloud"})]})]})}),s&&I==="missing_tables"&&e.jsx("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-100 dark:border-rose-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/50 rounded-2xl text-rose-600 dark:text-rose-400",children:e.jsx(Y,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-extrabold text-rose-900 dark:text-rose-200",children:"Database Setup Required"}),e.jsx("p",{className:"text-xs text-rose-700 dark:text-rose-300 mt-1 mb-3 leading-relaxed",children:"Your Supabase project is connected, but the required tables don't exist yet. Saving will fail until you run the setup script."}),e.jsxs("button",{onClick:()=>re(!p),className:"flex items-center gap-2 py-2 px-4 rounded-xl text-xs font-bold bg-white dark:bg-white/10 text-rose-600 dark:text-rose-200 shadow-sm",children:[e.jsx(qe,{size:14})," ",p?"Hide SQL":"View SQL Script"]}),p&&e.jsxs("div",{className:"mt-4 animate-in slide-in-from-top-2",children:[e.jsx("div",{className:"bg-gray-900 rounded-xl p-3 mb-2 overflow-x-auto border border-white/10",children:e.jsx("pre",{className:"text-[10px] text-emerald-400 font-mono leading-relaxed",children:Z})}),e.jsxs(v,{onClick:ue,className:"w-full py-3 text-xs bg-rose-600 hover:bg-rose-700 text-white",children:[e.jsx(Fe,{size:14,className:"mr-2"})," Copy SQL to Clipboard"]}),e.jsx("p",{className:"text-[10px] text-rose-600/70 dark:text-rose-400/70 mt-2 italic text-center",children:"Paste this into the SQL Editor in your Supabase Dashboard."})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center text-royal-600 dark:text-royal-400",children:c?e.jsx(Pe,{size:20}):e.jsx(Re,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Dark Mode"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Optimize for low light"})]})]}),e.jsx("button",{onClick:le,className:`w-14 h-8 rounded-full transition-all duration-300 relative ${c?"bg-royal-600":"bg-gray-200 dark:bg-gray-800"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-sm transition-transform duration-300 ${c?"translate-x-6":""}`})})]})}),l&&f&&G&&e.jsxs("div",{className:"relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40 animate-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ce,{size:16,className:"text-royal-200"}),e.jsx("span",{className:"text-royal-200 text-xs font-bold uppercase tracking-widest",children:"Body Insight"})]}),e.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight",children:["BMI: ",l.toFixed(1)]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/10 text-sm font-bold ${f.color}`,children:f.label})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-[24px] p-5 border border-white/5",children:[e.jsx("p",{className:"text-white/70 text-xs font-medium mb-3",children:"Based on your profile, we recommend a daily calorie limit of:"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-4xl font-extrabold tracking-tighter",children:G}),e.jsx("span",{className:"text-lg font-bold text-white/60",children:"kcal"})]}),e.jsx("button",{onClick:de,className:"w-10 h-10 bg-white text-royal-600 rounded-full flex items-center justify-center hover:scale-110 active:scale-95 transition-all shadow-lg",children:e.jsx(ye,{size:20,strokeWidth:3})})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:u,onChange:t=>j(t.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),e.jsx(fe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:i,onChange:t=>w(t.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),e.jsx(Me,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:n,onChange:t=>N(t.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),e.jsx(Le,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Age"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:g,onChange:t=>S(t.target.value),placeholder:"25",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),e.jsx(Ae,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Gender"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:C,onChange:t=>_(t.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]}),e.jsx(_e,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-white/5",children:[e.jsxs("button",{type:"button",onClick:()=>se(!b),className:"w-full flex items-center justify-between mb-3 group",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{size:16,className:"text-royal-600 dark:text-royal-400"}),e.jsx("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Training Goal Setting"})]}),e.jsx(De,{size:18,className:`text-royal-600 dark:text-royal-400 transition-transform duration-300 ${b?"rotate-180":""}`})]}),e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-3 ml-1",children:"Optional - Fill this for personalized AI Coach recommendations"}),b&&e.jsxs("div",{className:"space-y-5 animate-in slide-in-from-top-2 duration-300",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Activity Level"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:z,onChange:t=>M(t.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"sedentary",children:"Sedentary (Little or no exercise)"}),e.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),e.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),e.jsx("option",{value:"very",children:"Very Active (6-7 days/week)"}),e.jsx("option",{value:"extra",children:"Extra Active (Intense daily)"})]}),e.jsx(Te,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Goal"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:m,onChange:t=>L(t.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"cut",children:"Cut (Lose Fat)"}),e.jsx("option",{value:"bulk",children:"Bulk (Gain Muscle)"}),e.jsx("option",{value:"maintain",children:"Maintain"})]}),e.jsx(V,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Equipment"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:A,onChange:t=>D(t.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"gym",children:"Gym Access"}),e.jsx("option",{value:"home",children:"Home Equipment"}),e.jsx("option",{value:"bodyweight",children:"Bodyweight Only"})]}),e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]})]}),m==="cut"&&e.jsxs("div",{className:"mt-4 animate-in slide-in-from-top-2 duration-300",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Target Weight (kg)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:y,onChange:t=>P(t.target.value),placeholder:"e.g. 63",step:"0.1",min:"30",max:"200",className:"w-full p-4 pl-12 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-950/30 dark:to-green-950/30 border border-emerald-200 dark:border-emerald-900/50 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 font-bold text-gray-900 dark:text-gray-50 transition-all"}),e.jsx(Ue,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500",size:20})]}),e.jsx("p",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mt-2 ml-1 font-medium",children:"This powers your weight prediction on the Dashboard"})]})]})]}),e.jsx(v,{className:"w-full py-5 text-lg shadow-lg shadow-royal-200 dark:shadow-royal-900/40",onClick:ne,isLoading:J,children:K?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ee,{size:20})," Saved"]}):"Save Profile"})]}),be&&e.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${d==="cloud"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600":"bg-gray-100 dark:bg-white/10 text-gray-500"}`,children:d==="cloud"?e.jsx(Oe,{size:20}):e.jsx(ze,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Storage Mode"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:d==="cloud"?"Connected to Supabase":"Device Storage Only"})]})]}),s&&e.jsx("button",{onClick:R,className:"p-2 text-gray-400 hover:text-royal-500 transition-colors",title:"Check Connection",children:e.jsx(Q,{size:16,className:I==="checking"?"animate-spin":""})})]}),e.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-2xl",children:[e.jsx("button",{onClick:()=>W("local"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${d==="local"?"bg-white dark:bg-white/10 text-gray-900 dark:text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Device Only"}),e.jsx("button",{onClick:()=>W("cloud"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${d==="cloud"?"bg-emerald-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Cloud Sync"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:ce,disabled:U,className:"w-full flex items-center justify-center gap-3 py-5 rounded-[24px] border border-red-200 dark:border-red-900/30 text-red-500 dark:text-red-400 font-bold hover:bg-red-50 dark:hover:bg-red-950/20 active:scale-95 transition-all shadow-sm",children:U?e.jsx(Q,{size:20,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:20}),e.jsx("span",{children:"Sign Out"})]})})}),e.jsx("div",{className:"text-center pt-4 pb-2",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-bold border transition-colors ${s?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-700 dark:text-emerald-400 border-emerald-100 dark:border-emerald-900/30":"bg-amber-50 dark:bg-amber-950/20 text-amber-700 dark:text-amber-400 border-amber-100 dark:border-amber-900/30"}`,children:[e.jsx(Y,{size:12}),e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s?"bg-emerald-500 animate-pulse":"bg-amber-500"}`}),s?"Syncing to Supabase":"Local Storage Mode"]})})]})};export{et as Profile};
