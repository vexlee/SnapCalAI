(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XT={exports:{}},rd={},QT={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),$N=Symbol.for("react.portal"),DN=Symbol.for("react.fragment"),LN=Symbol.for("react.strict_mode"),UN=Symbol.for("react.profiler"),jN=Symbol.for("react.provider"),FN=Symbol.for("react.context"),BN=Symbol.for("react.forward_ref"),GN=Symbol.for("react.suspense"),VN=Symbol.for("react.memo"),HN=Symbol.for("react.lazy"),q0=Symbol.iterator;function zN(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var ZT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eA=Object.assign,tA={};function La(t,e,n){this.props=t,this.context=e,this.refs=tA,this.updater=n||ZT}La.prototype.isReactComponent={};La.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};La.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nA(){}nA.prototype=La.prototype;function Ry(t,e,n){this.props=t,this.context=e,this.refs=tA,this.updater=n||ZT}var My=Ry.prototype=new nA;My.constructor=Ry;eA(My,La.prototype);My.isPureReactComponent=!0;var W0=Array.isArray,rA=Object.prototype.hasOwnProperty,$y={current:null},iA={key:!0,ref:!0,__self:!0,__source:!0};function oA(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)rA.call(e,r)&&!iA.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ru,type:t,key:o,ref:a,props:i,_owner:$y.current}}function qN(t,e){return{$$typeof:ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dy(t){return typeof t=="object"&&t!==null&&t.$$typeof===ru}function WN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K0=/\/+/g;function Th(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WN(""+t.key):e.toString(36)}function ic(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ru:case $N:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Th(a,0):r,W0(i)?(n="",t!=null&&(n=t.replace(K0,"$&/")+"/"),ic(i,e,n,"",function(u){return u})):i!=null&&(Dy(i)&&(i=qN(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(K0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",W0(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Th(o,s);a+=ic(o,e,n,l,i)}else if(l=zN(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Th(o,s++),a+=ic(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function yu(t,e,n){if(t==null)return t;var r=[],i=0;return ic(t,r,"","",function(o){return e.call(n,o,i++)}),r}function KN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},oc={transition:null},JN={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:oc,ReactCurrentOwner:$y};function aA(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!Dy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=La;de.Fragment=DN;de.Profiler=UN;de.PureComponent=Ry;de.StrictMode=LN;de.Suspense=GN;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;de.act=aA;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eA({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=$y.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)rA.call(e,l)&&!iA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ru,type:t.type,key:i,ref:o,props:r,_owner:a}};de.createContext=function(t){return t={$$typeof:FN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jN,_context:t},t.Consumer=t};de.createElement=oA;de.createFactory=function(t){var e=oA.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:BN,render:t}};de.isValidElement=Dy;de.lazy=function(t){return{$$typeof:HN,_payload:{_status:-1,_result:t},_init:KN}};de.memo=function(t,e){return{$$typeof:VN,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=oc.transition;oc.transition={};try{t()}finally{oc.transition=e}};de.unstable_act=aA;de.useCallback=function(t,e){return jt.current.useCallback(t,e)};de.useContext=function(t){return jt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};de.useEffect=function(t,e){return jt.current.useEffect(t,e)};de.useId=function(){return jt.current.useId()};de.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return jt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};de.useRef=function(t){return jt.current.useRef(t)};de.useState=function(t){return jt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return jt.current.useTransition()};de.version="18.3.1";QT.exports=de;var R=QT.exports;const N=ke(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=R,XN=Symbol.for("react.element"),QN=Symbol.for("react.fragment"),ZN=Object.prototype.hasOwnProperty,eR=YN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tR={key:!0,ref:!0,__self:!0,__source:!0};function sA(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ZN.call(e,r)&&!tR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XN,type:t,key:o,ref:a,props:i,_owner:eR.current}}rd.Fragment=QN;rd.jsx=sA;rd.jsxs=sA;XT.exports=rd;var _=XT.exports,Lp={},lA={exports:{}},ln={},uA={exports:{}},cA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var G=D.length;D.push($);e:for(;0<G;){var W=G-1>>>1,H=D[W];if(0<i(H,$))D[W]=$,D[G]=H,G=W;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],G=D.pop();if(G!==$){D[0]=G;e:for(var W=0,H=D.length,ee=H>>>1;W<ee;){var he=2*(W+1)-1,Ee=D[he],Fe=he+1,Nt=D[Fe];if(0>i(Ee,G))Fe<H&&0>i(Nt,Ee)?(D[W]=Nt,D[Fe]=G,W=Fe):(D[W]=Ee,D[he]=G,W=he);else if(Fe<H&&0>i(Nt,G))D[W]=Nt,D[Fe]=G,W=Fe;else break e}}return $}function i(D,$){var G=D.sortIndex-$.sortIndex;return G!==0?G:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=D)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function T(D){if(y=!1,x(D),!g)if(n(l)!==null)g=!0,U(S);else{var $=n(u);$!==null&&B(T,$.startTime-D)}}function S(D,$){g=!1,y&&(y=!1,v(P),P=-1),m=!0;var G=h;try{for(x($),f=n(l);f!==null&&(!(f.expirationTime>$)||D&&!O());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var H=W(f.expirationTime<=$);$=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),x($)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var he=n(u);he!==null&&B(T,he.startTime-$),ee=!1}return ee}finally{f=null,h=G,m=!1}}var E=!1,A=null,P=-1,C=5,k=-1;function O(){return!(t.unstable_now()-k<C)}function I(){if(A!==null){var D=t.unstable_now();k=D;var $=!0;try{$=A(!0,D)}finally{$?M():(E=!1,A=null)}}else E=!1}var M;if(typeof b=="function")M=function(){b(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=I,M=function(){j.postMessage(null)}}else M=function(){w(I,0)};function U(D){A=D,E||(E=!0,M())}function B(D,$){P=w(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,U(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return D()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=h;h=D;try{return $()}finally{h=G}},t.unstable_scheduleCallback=function(D,$,G){var W=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?W+G:W):G=W,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,D={id:c++,callback:$,priorityLevel:D,startTime:G,expirationTime:H,sortIndex:-1},G>W?(D.sortIndex=G,e(u,D),n(l)===null&&D===n(u)&&(y?(v(P),P=-1):y=!0,B(T,G-W))):(D.sortIndex=H,e(l,D),g||m||(g=!0,U(S))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var $=h;return function(){var G=h;h=$;try{return D.apply(this,arguments)}finally{h=G}}}})(cA);uA.exports=cA;var nR=uA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR=R,sn=nR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fA=new Set,Xs={};function Qi(t,e){na(t,e),na(t+"Capture",e)}function na(t,e){for(Xs[t]=e,t=0;t<e.length;t++)fA.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,iR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J0={},Y0={};function oR(t){return Up.call(Y0,t)?!0:Up.call(J0,t)?!1:iR.test(t)?Y0[t]=!0:(J0[t]=!0,!1)}function aR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sR(t,e,n,r){if(e===null||typeof e>"u"||aR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ly=/[\-:]([a-z])/g;function Uy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ly,Uy);St[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ly,Uy);St[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ly,Uy);St[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function jy(t,e,n,r){var i=St.hasOwnProperty(e)?St[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sR(e,n,i,r)&&(n=null),r||i===null?oR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=rR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),dA=Symbol.for("react.provider"),hA=Symbol.for("react.context"),By=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),Gy=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),pA=Symbol.for("react.offscreen"),X0=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=X0&&t[X0]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Ah;function Es(t){if(Ah===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ah=e&&e[1]||""}return`
`+Ah+t}var Ch=!1;function Ph(t,e){if(!t||Ch)return"";Ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Ch=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Es(t):""}function lR(t){switch(t.tag){case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return t=Ph(t.type,!1),t;case 11:return t=Ph(t.type.render,!1),t;case 1:return t=Ph(t.type,!0),t;default:return""}}function Gp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Eo:return"Portal";case jp:return"Profiler";case Fy:return"StrictMode";case Fp:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hA:return(t.displayName||"Context")+".Consumer";case dA:return(t._context.displayName||"Context")+".Provider";case By:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gy:return e=t.displayName||null,e!==null?e:Gp(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return Gp(t(e))}catch{}}return null}function uR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gp(e);case 8:return e===Fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cR(t){var e=mA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wu(t){t._valueTracker||(t._valueTracker=cR(t))}function gA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vp(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Q0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yA(t,e){e=e.checked,e!=null&&jy(t,"checked",e,!1)}function Hp(t,e){yA(t,e);var n=ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zp(t,e.type,n):e.hasOwnProperty("defaultValue")&&zp(t,e.type,ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Z0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zp(t,e,n){(e!=="number"||wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ts=Array.isArray;function Go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ii(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ew(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ts(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ii(n)}}function vA(t,e){var n=ii(e.value),r=ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,bA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fR=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(t){fR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Os[e]=Os[t]})});function xA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Os.hasOwnProperty(t)&&Os[t]?(""+e).trim():e+"px"}function _A(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dR=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(t,e){if(e){if(dR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Jp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function Vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xp=null,Vo=null,Ho=null;function nw(t){if(t=au(t)){if(typeof Xp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=ld(e),Xp(t.stateNode,t.type,e))}}function SA(t){Vo?Ho?Ho.push(t):Ho=[t]:Vo=t}function EA(){if(Vo){var t=Vo,e=Ho;if(Ho=Vo=null,nw(t),e)for(t=0;t<e.length;t++)nw(e[t])}}function TA(t,e){return t(e)}function AA(){}var kh=!1;function CA(t,e,n){if(kh)return t(e,n);kh=!0;try{return TA(t,e,n)}finally{kh=!1,(Vo!==null||Ho!==null)&&(AA(),EA())}}function Zs(t,e){var n=t.stateNode;if(n===null)return null;var r=ld(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Qp=!1;if(wr)try{var os={};Object.defineProperty(os,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Qp=!1}function hR(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ns=!1,bc=null,xc=!1,Zp=null,pR={onError:function(t){Ns=!0,bc=t}};function mR(t,e,n,r,i,o,a,s,l){Ns=!1,bc=null,hR.apply(pR,arguments)}function gR(t,e,n,r,i,o,a,s,l){if(mR.apply(this,arguments),Ns){if(Ns){var u=bc;Ns=!1,bc=null}else throw Error(z(198));xc||(xc=!0,Zp=u)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rw(t){if(Zi(t)!==t)throw Error(z(188))}function yR(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rw(i),t;if(o===r)return rw(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function kA(t){return t=yR(t),t!==null?IA(t):null}function IA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IA(t);if(e!==null)return e;t=t.sibling}return null}var OA=sn.unstable_scheduleCallback,iw=sn.unstable_cancelCallback,vR=sn.unstable_shouldYield,wR=sn.unstable_requestPaint,Ke=sn.unstable_now,bR=sn.unstable_getCurrentPriorityLevel,Hy=sn.unstable_ImmediatePriority,NA=sn.unstable_UserBlockingPriority,_c=sn.unstable_NormalPriority,xR=sn.unstable_LowPriority,RA=sn.unstable_IdlePriority,id=null,tr=null;function _R(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(id,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:TR,SR=Math.log,ER=Math.LN2;function TR(t){return t>>>=0,t===0?32:31-(SR(t)/ER|0)|0}var xu=64,_u=4194304;function As(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=As(s):(o&=a,o!==0&&(r=As(o)))}else a=n&~i,a!==0?r=As(a):o!==0&&(r=As(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),i=1<<n,r|=t[n],e&=~i;return r}function AR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Bn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=AR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MA(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function Ih(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function iu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function PR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function zy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function $A(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DA,qy,LA,UA,jA,tm=!1,Su=[],Jr=null,Yr=null,Xr=null,el=new Map,tl=new Map,Br=[],kR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ow(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":el.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(e.pointerId)}}function as(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=au(e),e!==null&&qy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IR(t,e,n,r,i){switch(e){case"focusin":return Jr=as(Jr,t,e,n,r,i),!0;case"dragenter":return Yr=as(Yr,t,e,n,r,i),!0;case"mouseover":return Xr=as(Xr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return el.set(o,as(el.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,tl.set(o,as(tl.get(o)||null,t,e,n,r,i)),!0}return!1}function FA(t){var e=Ci(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=PA(n),e!==null){t.blockedOn=e,jA(t.priority,function(){LA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yp=r,n.target.dispatchEvent(r),Yp=null}else return e=au(n),e!==null&&qy(e),t.blockedOn=n,!1;e.shift()}return!0}function aw(t,e,n){ac(t)&&n.delete(e)}function OR(){tm=!1,Jr!==null&&ac(Jr)&&(Jr=null),Yr!==null&&ac(Yr)&&(Yr=null),Xr!==null&&ac(Xr)&&(Xr=null),el.forEach(aw),tl.forEach(aw)}function ss(t,e){t.blockedOn===e&&(t.blockedOn=null,tm||(tm=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,OR)))}function nl(t){function e(i){return ss(i,t)}if(0<Su.length){ss(Su[0],t);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&ss(Jr,t),Yr!==null&&ss(Yr,t),Xr!==null&&ss(Xr,t),el.forEach(e),tl.forEach(e),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)FA(n),n.blockedOn===null&&Br.shift()}var zo=Cr.ReactCurrentBatchConfig,Ec=!0;function NR(t,e,n,r){var i=xe,o=zo.transition;zo.transition=null;try{xe=1,Wy(t,e,n,r)}finally{xe=i,zo.transition=o}}function RR(t,e,n,r){var i=xe,o=zo.transition;zo.transition=null;try{xe=4,Wy(t,e,n,r)}finally{xe=i,zo.transition=o}}function Wy(t,e,n,r){if(Ec){var i=nm(t,e,n,r);if(i===null)Fh(t,e,r,Tc,n),ow(t,r);else if(IR(i,t,e,n,r))r.stopPropagation();else if(ow(t,r),e&4&&-1<kR.indexOf(t)){for(;i!==null;){var o=au(i);if(o!==null&&DA(o),o=nm(t,e,n,r),o===null&&Fh(t,e,r,Tc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Fh(t,e,r,null,n)}}var Tc=null;function nm(t,e,n,r){if(Tc=null,t=Vy(r),t=Ci(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tc=t,null}function BA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case Hy:return 1;case NA:return 4;case _c:case xR:return 16;case RA:return 536870912;default:return 16}default:return 16}}var Hr=null,Ky=null,sc=null;function GA(){if(sc)return sc;var t,e=Ky,n=e.length,r,i="value"in Hr?Hr.value:Hr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return sc=i.slice(t,1<r?1-r:void 0)}function lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eu(){return!0}function sw(){return!1}function un(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eu:sw,this.isPropagationStopped=sw,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),e}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jy=un(Ua),ou=He({},Ua,{view:0,detail:0}),MR=un(ou),Oh,Nh,ls,od=He({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ls&&(ls&&t.type==="mousemove"?(Oh=t.screenX-ls.screenX,Nh=t.screenY-ls.screenY):Nh=Oh=0,ls=t),Oh)},movementY:function(t){return"movementY"in t?t.movementY:Nh}}),lw=un(od),$R=He({},od,{dataTransfer:0}),DR=un($R),LR=He({},ou,{relatedTarget:0}),Rh=un(LR),UR=He({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),jR=un(UR),FR=He({},Ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BR=un(FR),GR=He({},Ua,{data:0}),uw=un(GR),VR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zR[t])?!!e[t]:!1}function Yy(){return qR}var WR=He({},ou,{key:function(t){if(t.key){var e=VR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yy,charCode:function(t){return t.type==="keypress"?lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KR=un(WR),JR=He({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cw=un(JR),YR=He({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yy}),XR=un(YR),QR=He({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZR=un(QR),eM=He({},od,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tM=un(eM),nM=[9,13,27,32],Xy=wr&&"CompositionEvent"in window,Rs=null;wr&&"documentMode"in document&&(Rs=document.documentMode);var rM=wr&&"TextEvent"in window&&!Rs,VA=wr&&(!Xy||Rs&&8<Rs&&11>=Rs),fw=" ",dw=!1;function HA(t,e){switch(t){case"keyup":return nM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function iM(t,e){switch(t){case"compositionend":return zA(e);case"keypress":return e.which!==32?null:(dw=!0,fw);case"textInput":return t=e.data,t===fw&&dw?null:t;default:return null}}function oM(t,e){if(Ao)return t==="compositionend"||!Xy&&HA(t,e)?(t=GA(),sc=Ky=Hr=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VA&&e.locale!=="ko"?null:e.data;default:return null}}var aM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aM[t.type]:e==="textarea"}function qA(t,e,n,r){SA(r),e=Ac(e,"onChange"),0<e.length&&(n=new Jy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ms=null,rl=null;function sM(t){r1(t,0)}function ad(t){var e=ko(t);if(gA(e))return t}function lM(t,e){if(t==="change")return e}var WA=!1;if(wr){var Mh;if(wr){var $h="oninput"in document;if(!$h){var pw=document.createElement("div");pw.setAttribute("oninput","return;"),$h=typeof pw.oninput=="function"}Mh=$h}else Mh=!1;WA=Mh&&(!document.documentMode||9<document.documentMode)}function mw(){Ms&&(Ms.detachEvent("onpropertychange",KA),rl=Ms=null)}function KA(t){if(t.propertyName==="value"&&ad(rl)){var e=[];qA(e,rl,t,Vy(t)),CA(sM,e)}}function uM(t,e,n){t==="focusin"?(mw(),Ms=e,rl=n,Ms.attachEvent("onpropertychange",KA)):t==="focusout"&&mw()}function cM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ad(rl)}function fM(t,e){if(t==="click")return ad(e)}function dM(t,e){if(t==="input"||t==="change")return ad(e)}function hM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:hM;function il(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Up.call(e,i)||!zn(t[i],e[i]))return!1}return!0}function gw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yw(t,e){var n=gw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gw(n)}}function JA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YA(){for(var t=window,e=wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wc(t.document)}return e}function Qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pM(t){var e=YA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JA(n.ownerDocument.documentElement,n)){if(r!==null&&Qy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=yw(n,o);var a=yw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mM=wr&&"documentMode"in document&&11>=document.documentMode,Co=null,rm=null,$s=null,im=!1;function vw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;im||Co==null||Co!==wc(r)||(r=Co,"selectionStart"in r&&Qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$s&&il($s,r)||($s=r,r=Ac(rm,"onSelect"),0<r.length&&(e=new Jy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Co)))}function Tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Po={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},Dh={},XA={};wr&&(XA=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function sd(t){if(Dh[t])return Dh[t];if(!Po[t])return t;var e=Po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XA)return Dh[t]=e[n];return t}var QA=sd("animationend"),ZA=sd("animationiteration"),e1=sd("animationstart"),t1=sd("transitionend"),n1=new Map,ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(t,e){n1.set(t,e),Qi(e,[t])}for(var Lh=0;Lh<ww.length;Lh++){var Uh=ww[Lh],gM=Uh.toLowerCase(),yM=Uh[0].toUpperCase()+Uh.slice(1);ai(gM,"on"+yM)}ai(QA,"onAnimationEnd");ai(ZA,"onAnimationIteration");ai(e1,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(t1,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function bw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gR(r,e,void 0,t),t.currentTarget=null}function r1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;bw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;bw(i,s,u),o=l}}}if(xc)throw t=Zp,xc=!1,Zp=null,t}function Ie(t,e){var n=e[um];n===void 0&&(n=e[um]=new Set);var r=t+"__bubble";n.has(r)||(i1(e,t,2,!1),n.add(r))}function jh(t,e,n){var r=0;e&&(r|=4),i1(n,t,r,e)}var Au="_reactListening"+Math.random().toString(36).slice(2);function ol(t){if(!t[Au]){t[Au]=!0,fA.forEach(function(n){n!=="selectionchange"&&(vM.has(n)||jh(n,!1,t),jh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Au]||(e[Au]=!0,jh("selectionchange",!1,e))}}function i1(t,e,n,r){switch(BA(e)){case 1:var i=NR;break;case 4:i=RR;break;default:i=Wy}n=i.bind(null,e,n,t),i=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ci(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}CA(function(){var u=o,c=Vy(n),f=[];e:{var h=n1.get(t);if(h!==void 0){var m=Jy,g=t;switch(t){case"keypress":if(lc(n)===0)break e;case"keydown":case"keyup":m=KR;break;case"focusin":g="focus",m=Rh;break;case"focusout":g="blur",m=Rh;break;case"beforeblur":case"afterblur":m=Rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=DR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=XR;break;case QA:case ZA:case e1:m=jR;break;case t1:m=ZR;break;case"scroll":m=MR;break;case"wheel":m=tM;break;case"copy":case"cut":case"paste":m=BR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cw}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,x;b!==null;){x=b;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,v!==null&&(T=Zs(b,v),T!=null&&y.push(al(b,T,x)))),w)break;b=b.return}0<y.length&&(h=new m(h,g,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Yp&&(g=n.relatedTarget||n.fromElement)&&(Ci(g)||g[br]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Ci(g):null,g!==null&&(w=Zi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=lw,T="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=cw,T="onPointerLeave",v="onPointerEnter",b="pointer"),w=m==null?h:ko(m),x=g==null?h:ko(g),h=new y(T,b+"leave",m,n,c),h.target=w,h.relatedTarget=x,T=null,Ci(c)===u&&(y=new y(v,b+"enter",g,n,c),y.target=x,y.relatedTarget=w,T=y),w=T,m&&g)t:{for(y=m,v=g,b=0,x=y;x;x=lo(x))b++;for(x=0,T=v;T;T=lo(T))x++;for(;0<b-x;)y=lo(y),b--;for(;0<x-b;)v=lo(v),x--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=lo(y),v=lo(v)}y=null}else y=null;m!==null&&xw(f,h,m,y,!1),g!==null&&w!==null&&xw(f,w,g,y,!0)}}e:{if(h=u?ko(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=lM;else if(hw(h))if(WA)S=dM;else{S=cM;var E=uM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=fM);if(S&&(S=S(t,u))){qA(f,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&zp(h,"number",h.value)}switch(E=u?ko(u):window,t){case"focusin":(hw(E)||E.contentEditable==="true")&&(Co=E,rm=u,$s=null);break;case"focusout":$s=rm=Co=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,vw(f,n,c);break;case"selectionchange":if(mM)break;case"keydown":case"keyup":vw(f,n,c)}var A;if(Xy)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ao?HA(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(VA&&n.locale!=="ko"&&(Ao||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ao&&(A=GA()):(Hr=c,Ky="value"in Hr?Hr.value:Hr.textContent,Ao=!0)),E=Ac(u,P),0<E.length&&(P=new uw(P,t,null,n,c),f.push({event:P,listeners:E}),A?P.data=A:(A=zA(n),A!==null&&(P.data=A)))),(A=rM?iM(t,n):oM(t,n))&&(u=Ac(u,"onBeforeInput"),0<u.length&&(c=new uw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=A))}r1(f,e)})}function al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ac(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zs(t,n),o!=null&&r.unshift(al(t,o,i)),o=Zs(t,e),o!=null&&r.push(al(t,o,i))),t=t.return}return r}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Zs(n,o),l!=null&&a.unshift(al(n,l,s))):i||(l=Zs(n,o),l!=null&&a.push(al(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var wM=/\r\n?/g,bM=/\u0000|\uFFFD/g;function _w(t){return(typeof t=="string"?t:""+t).replace(wM,`
`).replace(bM,"")}function Cu(t,e,n){if(e=_w(e),_w(t)!==e&&n)throw Error(z(425))}function Cc(){}var om=null,am=null;function sm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,xM=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,_M=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(t){return Sw.resolve(null).then(t).catch(SM)}:lm;function SM(t){setTimeout(function(){throw t})}function Bh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nl(e)}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ew(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ja=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ja,sl="__reactProps$"+ja,br="__reactContainer$"+ja,um="__reactEvents$"+ja,EM="__reactListeners$"+ja,TM="__reactHandles$"+ja;function Ci(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[br]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ew(t);t!==null;){if(n=t[Qn])return n;t=Ew(t)}return e}t=n,n=t.parentNode}return null}function au(t){return t=t[Qn]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function ld(t){return t[sl]||null}var cm=[],Io=-1;function si(t){return{current:t}}function Re(t){0>Io||(t.current=cm[Io],cm[Io]=null,Io--)}function Pe(t,e){Io++,cm[Io]=t.current,t.current=e}var oi={},Ot=si(oi),Ht=si(!1),Gi=oi;function ra(t,e){var n=t.type.contextTypes;if(!n)return oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function Pc(){Re(Ht),Re(Ot)}function Tw(t,e,n){if(Ot.current!==oi)throw Error(z(168));Pe(Ot,e),Pe(Ht,n)}function o1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,uR(t)||"Unknown",i));return He({},n,r)}function kc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oi,Gi=Ot.current,Pe(Ot,t),Pe(Ht,Ht.current),!0}function Aw(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=o1(t,e,Gi),r.__reactInternalMemoizedMergedChildContext=t,Re(Ht),Re(Ot),Pe(Ot,t)):Re(Ht),Pe(Ht,n)}var fr=null,ud=!1,Gh=!1;function a1(t){fr===null?fr=[t]:fr.push(t)}function AM(t){ud=!0,a1(t)}function li(){if(!Gh&&fr!==null){Gh=!0;var t=0,e=xe;try{var n=fr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,ud=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),OA(Hy,li),i}finally{xe=e,Gh=!1}}return null}var Oo=[],No=0,Ic=null,Oc=0,mn=[],gn=0,Vi=null,dr=1,hr="";function vi(t,e){Oo[No++]=Oc,Oo[No++]=Ic,Ic=t,Oc=e}function s1(t,e,n){mn[gn++]=dr,mn[gn++]=hr,mn[gn++]=Vi,Vi=t;var r=dr;t=hr;var i=32-Bn(r)-1;r&=~(1<<i),n+=1;var o=32-Bn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,dr=1<<32-Bn(e)+i|n<<i|r,hr=o+t}else dr=1<<o|n<<i|r,hr=t}function Zy(t){t.return!==null&&(vi(t,1),s1(t,1,0))}function ev(t){for(;t===Ic;)Ic=Oo[--No],Oo[No]=null,Oc=Oo[--No],Oo[No]=null;for(;t===Vi;)Vi=mn[--gn],mn[gn]=null,hr=mn[--gn],mn[gn]=null,dr=mn[--gn],mn[gn]=null}var an=null,on=null,Ue=!1,Un=null;function l1(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,on=Qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vi!==null?{id:dr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,on=null,!0):!1;default:return!1}}function fm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dm(t){if(Ue){var e=on;if(e){var n=e;if(!Cw(t,e)){if(fm(t))throw Error(z(418));e=Qr(n.nextSibling);var r=an;e&&Cw(t,e)?l1(r,n):(t.flags=t.flags&-4097|2,Ue=!1,an=t)}}else{if(fm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ue=!1,an=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function Pu(t){if(t!==an)return!1;if(!Ue)return Pw(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sm(t.type,t.memoizedProps)),e&&(e=on)){if(fm(t))throw u1(),Error(z(418));for(;e;)l1(t,e),e=Qr(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=Qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=an?Qr(t.stateNode.nextSibling):null;return!0}function u1(){for(var t=on;t;)t=Qr(t.nextSibling)}function ia(){on=an=null,Ue=!1}function tv(t){Un===null?Un=[t]:Un.push(t)}var CM=Cr.ReactCurrentBatchConfig;function us(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ku(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kw(t){var e=t._init;return e(t._payload)}function c1(t){function e(v,b){if(t){var x=v.deletions;x===null?(v.deletions=[b],v.flags|=16):x.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=ni(v,b),v.index=0,v.sibling=null,v}function o(v,b,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<b?(v.flags|=2,b):x):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,b,x,T){return b===null||b.tag!==6?(b=Jh(x,v.mode,T),b.return=v,b):(b=i(b,x),b.return=v,b)}function l(v,b,x,T){var S=x.type;return S===To?c(v,b,x.props.children,T,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lr&&kw(S)===b.type)?(T=i(b,x.props),T.ref=us(v,b,x),T.return=v,T):(T=mc(x.type,x.key,x.props,null,v.mode,T),T.ref=us(v,b,x),T.return=v,T)}function u(v,b,x,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Yh(x,v.mode,T),b.return=v,b):(b=i(b,x.children||[]),b.return=v,b)}function c(v,b,x,T,S){return b===null||b.tag!==7?(b=Li(x,v.mode,T,S),b.return=v,b):(b=i(b,x),b.return=v,b)}function f(v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Jh(""+b,v.mode,x),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vu:return x=mc(b.type,b.key,b.props,null,v.mode,x),x.ref=us(v,null,b),x.return=v,x;case Eo:return b=Yh(b,v.mode,x),b.return=v,b;case Lr:var T=b._init;return f(v,T(b._payload),x)}if(Ts(b)||is(b))return b=Li(b,v.mode,x,null),b.return=v,b;ku(v,b)}return null}function h(v,b,x,T){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:s(v,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vu:return x.key===S?l(v,b,x,T):null;case Eo:return x.key===S?u(v,b,x,T):null;case Lr:return S=x._init,h(v,b,S(x._payload),T)}if(Ts(x)||is(x))return S!==null?null:c(v,b,x,T,null);ku(v,x)}return null}function m(v,b,x,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(x)||null,s(b,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case vu:return v=v.get(T.key===null?x:T.key)||null,l(b,v,T,S);case Eo:return v=v.get(T.key===null?x:T.key)||null,u(b,v,T,S);case Lr:var E=T._init;return m(v,b,x,E(T._payload),S)}if(Ts(T)||is(T))return v=v.get(x)||null,c(b,v,T,S,null);ku(b,T)}return null}function g(v,b,x,T){for(var S=null,E=null,A=b,P=b=0,C=null;A!==null&&P<x.length;P++){A.index>P?(C=A,A=null):C=A.sibling;var k=h(v,A,x[P],T);if(k===null){A===null&&(A=C);break}t&&A&&k.alternate===null&&e(v,A),b=o(k,b,P),E===null?S=k:E.sibling=k,E=k,A=C}if(P===x.length)return n(v,A),Ue&&vi(v,P),S;if(A===null){for(;P<x.length;P++)A=f(v,x[P],T),A!==null&&(b=o(A,b,P),E===null?S=A:E.sibling=A,E=A);return Ue&&vi(v,P),S}for(A=r(v,A);P<x.length;P++)C=m(A,v,P,x[P],T),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?P:C.key),b=o(C,b,P),E===null?S=C:E.sibling=C,E=C);return t&&A.forEach(function(O){return e(v,O)}),Ue&&vi(v,P),S}function y(v,b,x,T){var S=is(x);if(typeof S!="function")throw Error(z(150));if(x=S.call(x),x==null)throw Error(z(151));for(var E=S=null,A=b,P=b=0,C=null,k=x.next();A!==null&&!k.done;P++,k=x.next()){A.index>P?(C=A,A=null):C=A.sibling;var O=h(v,A,k.value,T);if(O===null){A===null&&(A=C);break}t&&A&&O.alternate===null&&e(v,A),b=o(O,b,P),E===null?S=O:E.sibling=O,E=O,A=C}if(k.done)return n(v,A),Ue&&vi(v,P),S;if(A===null){for(;!k.done;P++,k=x.next())k=f(v,k.value,T),k!==null&&(b=o(k,b,P),E===null?S=k:E.sibling=k,E=k);return Ue&&vi(v,P),S}for(A=r(v,A);!k.done;P++,k=x.next())k=m(A,v,P,k.value,T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?P:k.key),b=o(k,b,P),E===null?S=k:E.sibling=k,E=k);return t&&A.forEach(function(I){return e(v,I)}),Ue&&vi(v,P),S}function w(v,b,x,T){if(typeof x=="object"&&x!==null&&x.type===To&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case vu:e:{for(var S=x.key,E=b;E!==null;){if(E.key===S){if(S=x.type,S===To){if(E.tag===7){n(v,E.sibling),b=i(E,x.props.children),b.return=v,v=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lr&&kw(S)===E.type){n(v,E.sibling),b=i(E,x.props),b.ref=us(v,E,x),b.return=v,v=b;break e}n(v,E);break}else e(v,E);E=E.sibling}x.type===To?(b=Li(x.props.children,v.mode,T,x.key),b.return=v,v=b):(T=mc(x.type,x.key,x.props,null,v.mode,T),T.ref=us(v,b,x),T.return=v,v=T)}return a(v);case Eo:e:{for(E=x.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(v,b.sibling),b=i(b,x.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=Yh(x,v.mode,T),b.return=v,v=b}return a(v);case Lr:return E=x._init,w(v,b,E(x._payload),T)}if(Ts(x))return g(v,b,x,T);if(is(x))return y(v,b,x,T);ku(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,x),b.return=v,v=b):(n(v,b),b=Jh(x,v.mode,T),b.return=v,v=b),a(v)):n(v,b)}return w}var oa=c1(!0),f1=c1(!1),Nc=si(null),Rc=null,Ro=null,nv=null;function rv(){nv=Ro=Rc=null}function iv(t){var e=Nc.current;Re(Nc),t._currentValue=e}function hm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){Rc=t,nv=Ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(nv!==t)if(t={context:t,memoizedValue:e,next:null},Ro===null){if(Rc===null)throw Error(z(308));Ro=t,Rc.dependencies={lanes:0,firstContext:t}}else Ro=Ro.next=t;return e}var Pi=null;function ov(t){Pi===null?Pi=[t]:Pi.push(t)}function d1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ov(e)):(n.next=i.next,i.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function av(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xr(t,n)}return i=r.interleaved,i===null?(e.next=e,ov(r)):(e.next=i.next,i.next=e),r.interleaved=e,xr(t,n)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zy(t,n)}}function Iw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mc(t,e,n,r){var i=t.updateQueue;Ur=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=He({},f,h);break e;case 2:Ur=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);zi|=a,t.lanes=a,t.memoizedState=f}}function Ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var su={},nr=si(su),ll=si(su),ul=si(su);function ki(t){if(t===su)throw Error(z(174));return t}function sv(t,e){switch(Pe(ul,e),Pe(ll,t),Pe(nr,su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wp(e,t)}Re(nr),Pe(nr,e)}function aa(){Re(nr),Re(ll),Re(ul)}function p1(t){ki(ul.current);var e=ki(nr.current),n=Wp(e,t.type);e!==n&&(Pe(ll,t),Pe(nr,n))}function lv(t){ll.current===t&&(Re(nr),Re(ll))}var Ge=si(0);function $c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vh=[];function uv(){for(var t=0;t<Vh.length;t++)Vh[t]._workInProgressVersionPrimary=null;Vh.length=0}var cc=Cr.ReactCurrentDispatcher,Hh=Cr.ReactCurrentBatchConfig,Hi=0,Ve=null,ot=null,dt=null,Dc=!1,Ds=!1,cl=0,PM=0;function Tt(){throw Error(z(321))}function cv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function fv(t,e,n,r,i,o){if(Hi=o,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?NM:RM,t=n(r,i),Ds){o=0;do{if(Ds=!1,cl=0,25<=o)throw Error(z(301));o+=1,dt=ot=null,e.updateQueue=null,cc.current=MM,t=n(r,i)}while(Ds)}if(cc.current=Lc,e=ot!==null&&ot.next!==null,Hi=0,dt=ot=Ve=null,Dc=!1,e)throw Error(z(300));return t}function dv(){var t=cl!==0;return cl=0,t}function Yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ve.memoizedState=dt=t:dt=dt.next=t,dt}function Sn(){if(ot===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=dt===null?Ve.memoizedState:dt.next;if(e!==null)dt=e,ot=t;else{if(t===null)throw Error(z(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Ve.memoizedState=dt=t:dt=dt.next=t}return dt}function fl(t,e){return typeof e=="function"?e(t):e}function zh(t){var e=Sn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Hi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Ve.lanes|=c,zi|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,zn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ve.lanes|=o,zi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qh(t){var e=Sn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);zn(o,e.memoizedState)||(Gt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function m1(){}function g1(t,e){var n=Ve,r=Sn(),i=e(),o=!zn(r.memoizedState,i);if(o&&(r.memoizedState=i,Gt=!0),r=r.queue,hv(w1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,dl(9,v1.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(z(349));Hi&30||y1(n,e,i)}return i}function y1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function v1(t,e,n,r){e.value=n,e.getSnapshot=r,b1(e)&&x1(t)}function w1(t,e,n){return n(function(){b1(e)&&x1(t)})}function b1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function x1(t){var e=xr(t,1);e!==null&&Gn(e,t,1,-1)}function Nw(t){var e=Yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},e.queue=t,t=t.dispatch=OM.bind(null,Ve,t),[e.memoizedState,t]}function dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _1(){return Sn().memoizedState}function fc(t,e,n,r){var i=Yn();Ve.flags|=t,i.memoizedState=dl(1|e,n,void 0,r===void 0?null:r)}function cd(t,e,n,r){var i=Sn();r=r===void 0?null:r;var o=void 0;if(ot!==null){var a=ot.memoizedState;if(o=a.destroy,r!==null&&cv(r,a.deps)){i.memoizedState=dl(e,n,o,r);return}}Ve.flags|=t,i.memoizedState=dl(1|e,n,o,r)}function Rw(t,e){return fc(8390656,8,t,e)}function hv(t,e){return cd(2048,8,t,e)}function S1(t,e){return cd(4,2,t,e)}function E1(t,e){return cd(4,4,t,e)}function T1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A1(t,e,n){return n=n!=null?n.concat([t]):null,cd(4,4,T1.bind(null,e,t),n)}function pv(){}function C1(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function P1(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function k1(t,e,n){return Hi&21?(zn(n,e)||(n=MA(),Ve.lanes|=n,zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function kM(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Hh.transition;Hh.transition={};try{t(!1),e()}finally{xe=n,Hh.transition=r}}function I1(){return Sn().memoizedState}function IM(t,e,n){var r=ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O1(t))N1(e,n);else if(n=d1(t,e,n,r),n!==null){var i=Lt();Gn(n,t,r,i),R1(n,e,r)}}function OM(t,e,n){var r=ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O1(t))N1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,zn(s,a)){var l=e.interleaved;l===null?(i.next=i,ov(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=d1(t,e,i,r),n!==null&&(i=Lt(),Gn(n,t,r,i),R1(n,e,r))}}function O1(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function N1(t,e){Ds=Dc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function R1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zy(t,n)}}var Lc={readContext:_n,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},NM={readContext:_n,useCallback:function(t,e){return Yn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Rw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fc(4194308,4,T1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return fc(4,2,t,e)},useMemo:function(t,e){var n=Yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IM.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Yn();return t={current:t},e.memoizedState=t},useState:Nw,useDebugValue:pv,useDeferredValue:function(t){return Yn().memoizedState=t},useTransition:function(){var t=Nw(!1),e=t[0];return t=kM.bind(null,t[1]),Yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=Yn();if(Ue){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ht===null)throw Error(z(349));Hi&30||y1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Rw(w1.bind(null,r,o,t),[t]),r.flags|=2048,dl(9,v1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Yn(),e=ht.identifierPrefix;if(Ue){var n=hr,r=dr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RM={readContext:_n,useCallback:C1,useContext:_n,useEffect:hv,useImperativeHandle:A1,useInsertionEffect:S1,useLayoutEffect:E1,useMemo:P1,useReducer:zh,useRef:_1,useState:function(){return zh(fl)},useDebugValue:pv,useDeferredValue:function(t){var e=Sn();return k1(e,ot.memoizedState,t)},useTransition:function(){var t=zh(fl)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:m1,useSyncExternalStore:g1,useId:I1,unstable_isNewReconciler:!1},MM={readContext:_n,useCallback:C1,useContext:_n,useEffect:hv,useImperativeHandle:A1,useInsertionEffect:S1,useLayoutEffect:E1,useMemo:P1,useReducer:qh,useRef:_1,useState:function(){return qh(fl)},useDebugValue:pv,useDeferredValue:function(t){var e=Sn();return ot===null?e.memoizedState=t:k1(e,ot.memoizedState,t)},useTransition:function(){var t=qh(fl)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:m1,useSyncExternalStore:g1,useId:I1,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fd={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=ti(t),o=gr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zr(t,o,i),e!==null&&(Gn(e,t,i,r),uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=ti(t),o=gr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zr(t,o,i),e!==null&&(Gn(e,t,i,r),uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=ti(t),i=gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zr(t,i,r),e!==null&&(Gn(e,t,r,n),uc(e,t,r))}};function Mw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!il(n,r)||!il(i,o):!0}function M1(t,e,n){var r=!1,i=oi,o=e.contextType;return typeof o=="object"&&o!==null?o=_n(o):(i=zt(e)?Gi:Ot.current,r=e.contextTypes,o=(r=r!=null)?ra(t,i):oi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $w(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fd.enqueueReplaceState(e,e.state,null)}function mm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},av(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=_n(o):(o=zt(e)?Gi:Ot.current,i.context=ra(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(pm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fd.enqueueReplaceState(i,i.state,null),Mc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e){try{var n="",r=e;do n+=lR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Wh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $M=typeof WeakMap=="function"?WeakMap:Map;function $1(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jc||(jc=!0,Am=r),gm(t,e)},n}function D1(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){gm(t,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $M;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JM.bind(null,t,e,n),e.then(t,t))}function Lw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,Zr(n,e,1))),n.lanes|=1),t)}var DM=Cr.ReactCurrentOwner,Gt=!1;function $t(t,e,n,r){e.child=t===null?f1(e,null,n,r):oa(e,t.child,n,r)}function jw(t,e,n,r,i){n=n.render;var o=e.ref;return qo(e,i),r=fv(t,e,n,r,o,i),n=dv(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(Ue&&n&&Zy(e),e.flags|=1,$t(t,e,r,i),e.child)}function Fw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_v(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,L1(t,e,o,r,i)):(t=mc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:il,n(a,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=ni(o,r),t.ref=e.ref,t.return=e,e.child=t}function L1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(il(o,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return ym(t,e,n,r,i)}function U1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe($o,Qt),Qt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe($o,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe($o,Qt),Qt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pe($o,Qt),Qt|=r;return $t(t,e,i,n),e.child}function j1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ym(t,e,n,r,i){var o=zt(n)?Gi:Ot.current;return o=ra(e,o),qo(e,i),n=fv(t,e,n,r,o,i),r=dv(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(Ue&&r&&Zy(e),e.flags|=1,$t(t,e,n,i),e.child)}function Bw(t,e,n,r,i){if(zt(n)){var o=!0;kc(e)}else o=!1;if(qo(e,i),e.stateNode===null)dc(t,e),M1(e,n,r),mm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_n(u):(u=zt(n)?Gi:Ot.current,u=ra(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&$w(e,a,r,u),Ur=!1;var h=e.memoizedState;a.state=h,Mc(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Ht.current||Ur?(typeof c=="function"&&(pm(e,n,c,r),l=e.memoizedState),(s=Ur||Mw(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,h1(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Nn(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=zt(n)?Gi:Ot.current,l=ra(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&$w(e,a,r,l),Ur=!1,h=e.memoizedState,a.state=h,Mc(e,r,a,i);var g=e.memoizedState;s!==f||h!==g||Ht.current||Ur?(typeof m=="function"&&(pm(e,n,m,r),g=e.memoizedState),(u=Ur||Mw(e,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return vm(t,e,n,r,o,i)}function vm(t,e,n,r,i,o){j1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Aw(e,n,!1),_r(t,e,o);r=e.stateNode,DM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=oa(e,t.child,null,o),e.child=oa(e,null,s,o)):$t(t,e,s,o),e.memoizedState=r.state,i&&Aw(e,n,!0),e.child}function F1(t){var e=t.stateNode;e.pendingContext?Tw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tw(t,e.context,!1),sv(t,e.containerInfo)}function Gw(t,e,n,r,i){return ia(),tv(i),e.flags|=256,$t(t,e,n,r),e.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function B1(t,e,n){var r=e.pendingProps,i=Ge.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Ge,i&1),t===null)return dm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=pd(a,r,0,null),t=Li(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=bm(n),e.memoizedState=wm,t):mv(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return LM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ni(s,o):(o=Li(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?bm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=wm,r}return o=t.child,t=o.sibling,r=ni(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mv(t,e){return e=pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Iu(t,e,n,r){return r!==null&&tv(r),oa(e,t.child,null,n),t=mv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Wh(Error(z(422))),Iu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=pd({mode:"visible",children:r.children},i,0,null),o=Li(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&oa(e,t.child,null,a),e.child.memoizedState=bm(a),e.memoizedState=wm,o);if(!(e.mode&1))return Iu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(z(419)),r=Wh(o,r,void 0),Iu(t,e,a,r)}if(s=(a&t.childLanes)!==0,Gt||s){if(r=ht,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xr(t,i),Gn(r,t,i,-1))}return xv(),r=Wh(Error(z(421))),Iu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,on=Qr(i.nextSibling),an=e,Ue=!0,Un=null,t!==null&&(mn[gn++]=dr,mn[gn++]=hr,mn[gn++]=Vi,dr=t.id,hr=t.overflow,Vi=e),e=mv(e,r.children),e.flags|=4096,e)}function Vw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hm(t.return,e,n)}function Kh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function G1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if($t(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vw(t,n,e);else if(t.tag===19)Vw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$c(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$c(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kh(e,!0,n,null,o);break;case"together":Kh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UM(t,e,n){switch(e.tag){case 3:F1(e),ia();break;case 5:p1(e);break;case 1:zt(e.type)&&kc(e);break;case 4:sv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Nc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?B1(t,e,n):(Pe(Ge,Ge.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Pe(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return G1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,U1(t,e,n)}return _r(t,e,n)}var V1,xm,H1,z1;V1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xm=function(){};H1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ki(nr.current);var o=null;switch(n){case"input":i=Vp(t,i),r=Vp(t,r),o=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),o=[];break;case"textarea":i=qp(t,i),r=qp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cc)}Kp(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ie("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};z1=function(t,e,n,r){n!==r&&(e.flags|=4)};function cs(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jM(t,e,n){var r=e.pendingProps;switch(ev(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return zt(e.type)&&Pc(),At(e),null;case 3:return r=e.stateNode,aa(),Re(Ht),Re(Ot),uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(km(Un),Un=null))),xm(t,e),At(e),null;case 5:lv(e);var i=ki(ul.current);if(n=e.type,t!==null&&e.stateNode!=null)H1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return At(e),null}if(t=ki(nr.current),Pu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Qn]=e,r[sl]=o,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Cs.length;i++)Ie(Cs[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Q0(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":ew(r,o),Ie("invalid",r)}Kp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Cu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Cu(r.textContent,s,t),i=["children",""+s]):Xs.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ie("scroll",r)}switch(n){case"input":wu(r),Z0(r,o,!0);break;case"textarea":wu(r),tw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Qn]=e,t[sl]=r,V1(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jp(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cs.length;i++)Ie(Cs[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":Q0(t,r),i=Vp(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":ew(t,r),i=qp(t,r),Ie("invalid",t);break;default:i=r}Kp(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?_A(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bA(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qs(t,l):typeof l=="number"&&Qs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ie("scroll",t):l!=null&&jy(t,o,l,a))}switch(n){case"input":wu(t),Z0(t,r,!1);break;case"textarea":wu(t),tw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ii(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Go(t,!!r.multiple,o,!1):r.defaultValue!=null&&Go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)z1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ki(ul.current),ki(nr.current),Pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qn]=e,(o=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return At(e),null;case 13:if(Re(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&on!==null&&e.mode&1&&!(e.flags&128))u1(),ia(),e.flags|=98560,o=!1;else if(o=Pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Qn]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),o=!1}else Un!==null&&(km(Un),Un=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?at===0&&(at=3):xv())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return aa(),xm(t,e),t===null&&ol(e.stateNode.containerInfo),At(e),null;case 10:return iv(e.type._context),At(e),null;case 17:return zt(e.type)&&Pc(),At(e),null;case 19:if(Re(Ge),o=e.memoizedState,o===null)return At(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)cs(o,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=$c(t),a!==null){for(e.flags|=128,cs(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Ge,Ge.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ke()>la&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304)}else{if(!r)if(t=$c(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ue)return At(e),null}else 2*Ke()-o.renderingStartTime>la&&n!==1073741824&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ke(),e.sibling=null,n=Ge.current,Pe(Ge,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return bv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function FM(t,e){switch(ev(e),e.tag){case 1:return zt(e.type)&&Pc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return aa(),Re(Ht),Re(Ot),uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lv(e),null;case 13:if(Re(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Ge),null;case 4:return aa(),null;case 10:return iv(e.type._context),null;case 22:case 23:return bv(),null;case 24:return null;default:return null}}var Ou=!1,Pt=!1,BM=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function _m(t,e,n){try{n()}catch(r){qe(t,e,r)}}var Hw=!1;function GM(t,e){if(om=Ec,t=YA(),Qy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:t,selectionRange:n},Ec=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Nn(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(T){qe(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return g=Hw,Hw=!1,g}function Ls(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&_m(e,n,o)}i=i.next}while(i!==r)}}function dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q1(t){var e=t.alternate;e!==null&&(t.alternate=null,q1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[sl],delete e[um],delete e[EM],delete e[TM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W1(t){return t.tag===5||t.tag===3||t.tag===4}function zw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cc));else if(r!==4&&(t=t.child,t!==null))for(Em(t,e,n),t=t.sibling;t!==null;)Em(t,e,n),t=t.sibling}function Tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tm(t,e,n),t=t.sibling;t!==null;)Tm(t,e,n),t=t.sibling}var bt=null,Mn=!1;function $r(t,e,n){for(n=n.child;n!==null;)K1(t,e,n),n=n.sibling}function K1(t,e,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(id,n)}catch{}switch(n.tag){case 5:Pt||Mo(n,e);case 6:var r=bt,i=Mn;bt=null,$r(t,e,n),bt=r,Mn=i,bt!==null&&(Mn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Mn?(t=bt,n=n.stateNode,t.nodeType===8?Bh(t.parentNode,n):t.nodeType===1&&Bh(t,n),nl(t)):Bh(bt,n.stateNode));break;case 4:r=bt,i=Mn,bt=n.stateNode.containerInfo,Mn=!0,$r(t,e,n),bt=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&_m(n,e,a),i=i.next}while(i!==r)}$r(t,e,n);break;case 1:if(!Pt&&(Mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){qe(n,e,s)}$r(t,e,n);break;case 21:$r(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,$r(t,e,n),Pt=r):$r(t,e,n);break;default:$r(t,e,n)}}function qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BM),e.forEach(function(r){var i=XM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:bt=s.stateNode,Mn=!1;break e;case 3:bt=s.stateNode.containerInfo,Mn=!0;break e;case 4:bt=s.stateNode.containerInfo,Mn=!0;break e}s=s.return}if(bt===null)throw Error(z(160));K1(o,a,i),bt=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J1(e,t),e=e.sibling}function J1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Jn(t),r&4){try{Ls(3,t,t.return),dd(3,t)}catch(y){qe(t,t.return,y)}try{Ls(5,t,t.return)}catch(y){qe(t,t.return,y)}}break;case 1:kn(e,t),Jn(t),r&512&&n!==null&&Mo(n,n.return);break;case 5:if(kn(e,t),Jn(t),r&512&&n!==null&&Mo(n,n.return),t.flags&32){var i=t.stateNode;try{Qs(i,"")}catch(y){qe(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&yA(i,o),Jp(s,a);var u=Jp(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?_A(i,f):c==="dangerouslySetInnerHTML"?bA(i,f):c==="children"?Qs(i,f):jy(i,c,f,u)}switch(s){case"input":Hp(i,o);break;case"textarea":vA(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Go(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Go(i,!!o.multiple,o.defaultValue,!0):Go(i,!!o.multiple,o.multiple?[]:"",!1))}i[sl]=o}catch(y){qe(t,t.return,y)}}break;case 6:if(kn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){qe(t,t.return,y)}}break;case 3:if(kn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nl(e.containerInfo)}catch(y){qe(t,t.return,y)}break;case 4:kn(e,t),Jn(t);break;case 13:kn(e,t),Jn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vv=Ke())),r&4&&qw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(u=Pt)||c,kn(e,t),Pt=u):kn(e,t),Jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(f=Y=c;Y!==null;){switch(h=Y,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ls(4,h,h.return);break;case 1:Mo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){qe(r,n,y)}}break;case 5:Mo(h,h.return);break;case 22:if(h.memoizedState!==null){Kw(f);continue}}m!==null?(m.return=h,Y=m):Kw(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=xA("display",a))}catch(y){qe(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){qe(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kn(e,t),Jn(t),r&4&&qw(t);break;case 21:break;default:kn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(W1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qs(i,""),r.flags&=-33);var o=zw(t);Tm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=zw(t);Em(t,s,a);break;default:throw Error(z(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VM(t,e,n){Y=t,Y1(t)}function Y1(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ou;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Pt;s=Ou;var u=Pt;if(Ou=a,(Pt=l)&&!u)for(Y=i;Y!==null;)a=Y,l=a.child,a.tag===22&&a.memoizedState!==null?Jw(i):l!==null?(l.return=a,Y=l):Jw(i);for(;o!==null;)Y=o,Y1(o),o=o.sibling;Y=i,Ou=s,Pt=u}Ww(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):Ww(t)}}function Ww(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||dd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ow(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ow(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&nl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Pt||e.flags&512&&Sm(e)}catch(h){qe(e,e.return,h)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Kw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Jw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dd(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var o=e.return;try{Sm(e)}catch(l){qe(e,o,l)}break;case 5:var a=e.return;try{Sm(e)}catch(l){qe(e,a,l)}}}catch(l){qe(e,e.return,l)}if(e===t){Y=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Y=s;break}Y=e.return}}var HM=Math.ceil,Uc=Cr.ReactCurrentDispatcher,gv=Cr.ReactCurrentOwner,wn=Cr.ReactCurrentBatchConfig,me=0,ht=null,Ze=null,_t=0,Qt=0,$o=si(0),at=0,hl=null,zi=0,hd=0,yv=0,Us=null,Bt=null,vv=0,la=1/0,ur=null,jc=!1,Am=null,ei=null,Nu=!1,zr=null,Fc=0,js=0,Cm=null,hc=-1,pc=0;function Lt(){return me&6?Ke():hc!==-1?hc:hc=Ke()}function ti(t){return t.mode&1?me&2&&_t!==0?_t&-_t:CM.transition!==null?(pc===0&&(pc=MA()),pc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:BA(t.type)),t):1}function Gn(t,e,n,r){if(50<js)throw js=0,Cm=null,Error(z(185));iu(t,n,r),(!(me&2)||t!==ht)&&(t===ht&&(!(me&2)&&(hd|=n),at===4&&Gr(t,_t)),qt(t,r),n===1&&me===0&&!(e.mode&1)&&(la=Ke()+500,ud&&li()))}function qt(t,e){var n=t.callbackNode;CR(t,e);var r=Sc(t,t===ht?_t:0);if(r===0)n!==null&&iw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&iw(n),e===1)t.tag===0?AM(Yw.bind(null,t)):a1(Yw.bind(null,t)),_M(function(){!(me&6)&&li()}),n=null;else{switch($A(r)){case 1:n=Hy;break;case 4:n=NA;break;case 16:n=_c;break;case 536870912:n=RA;break;default:n=_c}n=iC(n,X1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function X1(t,e){if(hc=-1,pc=0,me&6)throw Error(z(327));var n=t.callbackNode;if(Wo()&&t.callbackNode!==n)return null;var r=Sc(t,t===ht?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bc(t,r);else{e=r;var i=me;me|=2;var o=Z1();(ht!==t||_t!==e)&&(ur=null,la=Ke()+500,Di(t,e));do try{WM();break}catch(s){Q1(t,s)}while(!0);rv(),Uc.current=o,me=i,Ze!==null?e=0:(ht=null,_t=0,e=at)}if(e!==0){if(e===2&&(i=em(t),i!==0&&(r=i,e=Pm(t,i))),e===1)throw n=hl,Di(t,0),Gr(t,r),qt(t,Ke()),n;if(e===6)Gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!zM(i)&&(e=Bc(t,r),e===2&&(o=em(t),o!==0&&(r=o,e=Pm(t,o))),e===1))throw n=hl,Di(t,0),Gr(t,r),qt(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:wi(t,Bt,ur);break;case 3:if(Gr(t,r),(r&130023424)===r&&(e=vv+500-Ke(),10<e)){if(Sc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lm(wi.bind(null,t,Bt,ur),e);break}wi(t,Bt,ur);break;case 4:if(Gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Bn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HM(r/1960))-r,10<r){t.timeoutHandle=lm(wi.bind(null,t,Bt,ur),r);break}wi(t,Bt,ur);break;case 5:wi(t,Bt,ur);break;default:throw Error(z(329))}}}return qt(t,Ke()),t.callbackNode===n?X1.bind(null,t):null}function Pm(t,e){var n=Us;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=Bc(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&km(e)),t}function km(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function zM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!zn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~yv,e&=~hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function Yw(t){if(me&6)throw Error(z(327));Wo();var e=Sc(t,0);if(!(e&1))return qt(t,Ke()),null;var n=Bc(t,e);if(t.tag!==0&&n===2){var r=em(t);r!==0&&(e=r,n=Pm(t,r))}if(n===1)throw n=hl,Di(t,0),Gr(t,e),qt(t,Ke()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wi(t,Bt,ur),qt(t,Ke()),null}function wv(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(la=Ke()+500,ud&&li())}}function qi(t){zr!==null&&zr.tag===0&&!(me&6)&&Wo();var e=me;me|=1;var n=wn.transition,r=xe;try{if(wn.transition=null,xe=1,t)return t()}finally{xe=r,wn.transition=n,me=e,!(me&6)&&li()}}function bv(){Qt=$o.current,Re($o)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xM(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(ev(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pc();break;case 3:aa(),Re(Ht),Re(Ot),uv();break;case 5:lv(r);break;case 4:aa();break;case 13:Re(Ge);break;case 19:Re(Ge);break;case 10:iv(r.type._context);break;case 22:case 23:bv()}n=n.return}if(ht=t,Ze=t=ni(t.current,null),_t=Qt=e,at=0,hl=null,yv=hd=zi=0,Bt=Us=null,Pi!==null){for(e=0;e<Pi.length;e++)if(n=Pi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Pi=null}return t}function Q1(t,e){do{var n=Ze;try{if(rv(),cc.current=Lc,Dc){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dc=!1}if(Hi=0,dt=ot=Ve=null,Ds=!1,cl=0,gv.current=null,n===null||n.return===null){at=1,hl=e,Ze=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=_t,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Lw(a);if(m!==null){m.flags&=-257,Uw(m,a,s,o,e),m.mode&1&&Dw(o,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){Dw(o,u,e),xv();break e}l=Error(z(426))}}else if(Ue&&s.mode&1){var w=Lw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Uw(w,a,s,o,e),tv(sa(l,s));break e}}o=l=sa(l,s),at!==4&&(at=2),Us===null?Us=[o]:Us.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=$1(o,l,e);Iw(o,v);break e;case 1:s=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ei===null||!ei.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=D1(o,s,e);Iw(o,T);break e}}o=o.return}while(o!==null)}tC(n)}catch(S){e=S,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function Z1(){var t=Uc.current;return Uc.current=Lc,t===null?Lc:t}function xv(){(at===0||at===3||at===2)&&(at=4),ht===null||!(zi&268435455)&&!(hd&268435455)||Gr(ht,_t)}function Bc(t,e){var n=me;me|=2;var r=Z1();(ht!==t||_t!==e)&&(ur=null,Di(t,e));do try{qM();break}catch(i){Q1(t,i)}while(!0);if(rv(),me=n,Uc.current=r,Ze!==null)throw Error(z(261));return ht=null,_t=0,at}function qM(){for(;Ze!==null;)eC(Ze)}function WM(){for(;Ze!==null&&!vR();)eC(Ze)}function eC(t){var e=rC(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?tC(t):Ze=e,gv.current=null}function tC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FM(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,Ze=null;return}}else if(n=jM(n,e,Qt),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);at===0&&(at=5)}function wi(t,e,n){var r=xe,i=wn.transition;try{wn.transition=null,xe=1,KM(t,e,n,r)}finally{wn.transition=i,xe=r}return null}function KM(t,e,n,r){do Wo();while(zr!==null);if(me&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(PR(t,o),t===ht&&(Ze=ht=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nu||(Nu=!0,iC(_c,function(){return Wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wn.transition,wn.transition=null;var a=xe;xe=1;var s=me;me|=4,gv.current=null,GM(t,n),J1(n,t),pM(am),Ec=!!om,am=om=null,t.current=n,VM(n),wR(),me=s,xe=a,wn.transition=o}else t.current=n;if(Nu&&(Nu=!1,zr=t,Fc=i),o=t.pendingLanes,o===0&&(ei=null),_R(n.stateNode),qt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jc)throw jc=!1,t=Am,Am=null,t;return Fc&1&&t.tag!==0&&Wo(),o=t.pendingLanes,o&1?t===Cm?js++:(js=0,Cm=t):js=0,li(),null}function Wo(){if(zr!==null){var t=$A(Fc),e=wn.transition,n=xe;try{if(wn.transition=null,xe=16>t?16:t,zr===null)var r=!1;else{if(t=zr,zr=null,Fc=0,me&6)throw Error(z(331));var i=me;for(me|=4,Y=t.current;Y!==null;){var o=Y,a=o.child;if(Y.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Ls(8,c,o)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var h=c.sibling,m=c.return;if(q1(c),c===u){Y=null;break}if(h!==null){h.return=m,Y=h;break}Y=m}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Y=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Y=a;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ls(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Y=v;break e}Y=o.return}}var b=t.current;for(Y=b;Y!==null;){a=Y;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Y=x;else e:for(a=b;Y!==null;){if(s=Y,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:dd(9,s)}}catch(S){qe(s,s.return,S)}if(s===a){Y=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,Y=T;break e}Y=s.return}}if(me=i,li(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(id,t)}catch{}r=!0}return r}finally{xe=n,wn.transition=e}}return!1}function Xw(t,e,n){e=sa(n,e),e=$1(t,e,1),t=Zr(t,e,1),e=Lt(),t!==null&&(iu(t,1,e),qt(t,e))}function qe(t,e,n){if(t.tag===3)Xw(t,t,n);else for(;e!==null;){if(e.tag===3){Xw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){t=sa(n,t),t=D1(e,t,1),e=Zr(e,t,1),t=Lt(),e!==null&&(iu(e,1,t),qt(e,t));break}}e=e.return}}function JM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(_t&n)===n&&(at===4||at===3&&(_t&130023424)===_t&&500>Ke()-vv?Di(t,0):yv|=n),qt(t,e)}function nC(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var n=Lt();t=xr(t,e),t!==null&&(iu(t,e,n),qt(t,n))}function YM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nC(t,n)}function XM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),nC(t,n)}var rC;rC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,UM(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Ue&&e.flags&1048576&&s1(e,Oc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dc(t,e),t=e.pendingProps;var i=ra(e,Ot.current);qo(e,n),i=fv(null,e,r,t,i,n);var o=dv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(o=!0,kc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,av(e),i.updater=fd,e.stateNode=i,i._reactInternals=e,mm(e,r,t,n),e=vm(null,e,r,!0,o,n)):(e.tag=0,Ue&&o&&Zy(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ZM(r),t=Nn(r,t),i){case 0:e=ym(null,e,r,t,n);break e;case 1:e=Bw(null,e,r,t,n);break e;case 11:e=jw(null,e,r,t,n);break e;case 14:e=Fw(null,e,r,Nn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),ym(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Bw(t,e,r,i,n);case 3:e:{if(F1(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,h1(t,e),Mc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=sa(Error(z(423)),e),e=Gw(t,e,r,n,i);break e}else if(r!==i){i=sa(Error(z(424)),e),e=Gw(t,e,r,n,i);break e}else for(on=Qr(e.stateNode.containerInfo.firstChild),an=e,Ue=!0,Un=null,n=f1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),r===i){e=_r(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return p1(e),t===null&&dm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,sm(r,i)?a=null:o!==null&&sm(r,o)&&(e.flags|=32),j1(t,e),$t(t,e,a,n),e.child;case 6:return t===null&&dm(e),null;case 13:return B1(t,e,n);case 4:return sv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oa(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),jw(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Pe(Nc,r._currentValue),r._currentValue=a,o!==null)if(zn(o.value,a)){if(o.children===i.children&&!Ht.current){e=_r(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=gr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(z(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),hm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qo(e,n),i=_n(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=Nn(r,e.pendingProps),i=Nn(r.type,i),Fw(t,e,r,i,n);case 15:return L1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),dc(t,e),e.tag=1,zt(r)?(t=!0,kc(e)):t=!1,qo(e,n),M1(e,r,i),mm(e,r,i,n),vm(null,e,r,!0,t,n);case 19:return G1(t,e,n);case 22:return U1(t,e,n)}throw Error(z(156,e.tag))};function iC(t,e){return OA(t,e)}function QM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new QM(t,e,n,r)}function _v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZM(t){if(typeof t=="function")return _v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===By)return 11;if(t===Gy)return 14}return 2}function ni(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")_v(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case To:return Li(n.children,i,o,e);case Fy:a=8,i|=8;break;case jp:return t=yn(12,n,e,i|2),t.elementType=jp,t.lanes=o,t;case Fp:return t=yn(13,n,e,i),t.elementType=Fp,t.lanes=o,t;case Bp:return t=yn(19,n,e,i),t.elementType=Bp,t.lanes=o,t;case pA:return pd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dA:a=10;break e;case hA:a=9;break e;case By:a=11;break e;case Gy:a=14;break e;case Lr:a=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=yn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Li(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function pd(t,e,n,r){return t=yn(22,t,r,e),t.elementType=pA,t.lanes=n,t.stateNode={isHidden:!1},t}function Jh(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Yh(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ih(0),this.expirationTimes=Ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sv(t,e,n,r,i,o,a,s,l){return t=new e$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=yn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},av(o),t}function t$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oC(t){if(!t)return oi;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(zt(n))return o1(t,n,e)}return e}function aC(t,e,n,r,i,o,a,s,l){return t=Sv(n,r,!0,t,i,o,a,s,l),t.context=oC(null),n=t.current,r=Lt(),i=ti(n),o=gr(r,i),o.callback=e??null,Zr(n,o,i),t.current.lanes=i,iu(t,i,r),qt(t,r),t}function md(t,e,n,r){var i=e.current,o=Lt(),a=ti(i);return n=oC(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zr(i,e,a),t!==null&&(Gn(t,i,a,o),uc(t,i,a)),a}function Gc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ev(t,e){Qw(t,e),(t=t.alternate)&&Qw(t,e)}function n$(){return null}var sC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tv(t){this._internalRoot=t}gd.prototype.render=Tv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));md(t,e,null,null)};gd.prototype.unmount=Tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qi(function(){md(null,t,null,null)}),e[br]=null}};function gd(t){this._internalRoot=t}gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=UA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Br.length&&e!==0&&e<Br[n].priority;n++);Br.splice(n,0,t),n===0&&FA(t)}};function Av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zw(){}function r$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Gc(a);o.call(u)}}var a=aC(e,r,t,0,null,!1,!1,"",Zw);return t._reactRootContainer=a,t[br]=a.current,ol(t.nodeType===8?t.parentNode:t),qi(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Gc(l);s.call(u)}}var l=Sv(t,0,!1,null,null,!1,!1,"",Zw);return t._reactRootContainer=l,t[br]=l.current,ol(t.nodeType===8?t.parentNode:t),qi(function(){md(e,l,n,r)}),l}function vd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Gc(a);s.call(l)}}md(e,a,t,i)}else a=r$(n,e,t,i,r);return Gc(a)}DA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=As(e.pendingLanes);n!==0&&(zy(e,n|1),qt(e,Ke()),!(me&6)&&(la=Ke()+500,li()))}break;case 13:qi(function(){var r=xr(t,1);if(r!==null){var i=Lt();Gn(r,t,1,i)}}),Ev(t,1)}};qy=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=Lt();Gn(e,t,134217728,n)}Ev(t,134217728)}};LA=function(t){if(t.tag===13){var e=ti(t),n=xr(t,e);if(n!==null){var r=Lt();Gn(n,t,e,r)}Ev(t,e)}};UA=function(){return xe};jA=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Xp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ld(r);if(!i)throw Error(z(90));gA(r),Hp(r,i)}}}break;case"textarea":vA(t,n);break;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}};TA=wv;AA=qi;var i$={usingClientEntryPoint:!1,Events:[au,ko,ld,SA,EA,wv]},fs={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o$={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kA(t),t===null?null:t.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||n$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{id=Ru.inject(o$),tr=Ru}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i$;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(e))throw Error(z(200));return t$(t,e,null,n)};ln.createRoot=function(t,e){if(!Av(t))throw Error(z(299));var n=!1,r="",i=sC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sv(t,1,!1,null,null,n,!1,r,i),t[br]=e.current,ol(t.nodeType===8?t.parentNode:t),new Tv(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=kA(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return qi(t)};ln.hydrate=function(t,e,n){if(!yd(e))throw Error(z(200));return vd(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Av(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=sC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=aC(e,null,t,1,n??null,i,!1,o,a),t[br]=e.current,ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gd(e)};ln.render=function(t,e,n){if(!yd(e))throw Error(z(200));return vd(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!yd(t))throw Error(z(40));return t._reactRootContainer?(qi(function(){vd(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};ln.unstable_batchedUpdates=wv;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return vd(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function lC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lC)}catch(t){console.error(t)}}lC(),lA.exports=ln;var a$=lA.exports,eb=a$;Lp.createRoot=eb.createRoot,Lp.hydrateRoot=eb.hydrateRoot;var ct=(t=>(t.DASHBOARD="DASHBOARD",t.HISTORY="HISTORY",t.PROFILE="PROFILE",t.ONBOARDING="ONBOARDING",t))(ct||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(t,e)=>{const n=R.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>R.createElement("svg",{ref:c,...s$,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${l$(t)}`,s].join(" "),...u},[...e.map(([f,h])=>R.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=ue("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ue("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=ue("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=ue("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=ue("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=ue("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=ue("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=ue("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ue("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=ue("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function bC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=bC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=bC(t))&&(r&&(r+=" "),r+=e);return r}const k$=({children:t,currentView:e,onNavigate:n})=>_.jsxs("div",{className:"min-h-screen bg-surface dark:bg-surface-dark flex flex-col max-w-md mx-auto relative shadow-2xl shadow-gray-200 dark:shadow-black/50 overflow-hidden border-x border-gray-100/50 dark:border-white/5 transition-colors duration-300",children:[_.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-10",children:t}),_.jsx("div",{className:"absolute bottom-8 left-6 right-6 z-50",children:_.jsxs("nav",{className:"bg-white dark:bg-[#1a1c26] rounded-[32px] p-2 shadow-diffused-lg dark:shadow-diffused-dark border border-white dark:border-white/5 flex justify-between items-center",children:[_.jsxs("button",{onClick:()=>n(ct.DASHBOARD),className:ce("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===ct.DASHBOARD?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[_.jsx(g$,{size:22,strokeWidth:e===ct.DASHBOARD?2.5:2}),e===ct.DASHBOARD&&_.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Today"})]}),_.jsxs("button",{onClick:()=>n(ct.HISTORY),className:ce("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===ct.HISTORY?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[_.jsx(c$,{size:22,strokeWidth:e===ct.HISTORY?2.5:2}),e===ct.HISTORY&&_.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Report"})]}),_.jsxs("button",{onClick:()=>n(ct.PROFILE),className:ce("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===ct.PROFILE?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[_.jsx(ua,{size:22,strokeWidth:e===ct.PROFILE?2.5:2}),e===ct.PROFILE&&_.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Profile"})]})]})})]}),Im=({children:t,className:e,onClick:n})=>_.jsx("div",{onClick:n,className:ce("bg-white dark:bg-[#1a1c26] rounded-[32px] p-5 shadow-diffused dark:shadow-diffused-dark border border-white/60 dark:border-white/5",n&&"cursor-pointer active:scale-[0.98] transition-all hover:shadow-diffused-lg dark:hover:shadow-diffused-dark hover:-translate-y-0.5",e),children:t});function bd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function I$(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const O$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Pv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class N$ extends Pv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class rb extends Pv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ib extends Pv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Om;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Om||(Om={}));class R${constructor(e,{headers:n={},customFetch:r,region:i=Om.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=O$(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return I$(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const g=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let w=c;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),c?(w=a.signal,c.addEventListener("abort",()=>a.abort())):w=a.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:w}).catch(S=>{throw new N$(S)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new rb(v);if(!v.ok)throw new ib(v);let x=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return x==="application/json"?T=yield v.json():x==="application/octet-stream"||x==="application/pdf"?T=yield v.blob():x==="text/event-stream"?T=v:x==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof ib||s instanceof rb?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var M$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},$$=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var m;const v=await o.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=v:s=JSON.parse(v))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var g;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&y===""?(u=204,c="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new M$(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,f,h;const g=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${g}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},D$=class extends $${select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ob=new RegExp("[,()]");var wo=class extends D${eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ob.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ob.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},L$=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new wo({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new wo({method:i,url:o,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&s.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);s.searchParams.set("columns",c.join(","))}}return new wo({method:a,url:s,headers:l,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new wo({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new wo({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},U$=class xC{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new L$(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),f=r&&Object.values(n).some(c);f?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{l.searchParams.append(m,g)})):(s="POST",u=n);const h=new Headers(this.headers);return f?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new wo({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class j${constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const F$="2.90.1",B$=`realtime-js/${F$}`,_C="1.0.0",G$="2.0.0",ab=_C,Nm=1e4,V$=1e3,H$=100;var jr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jr||(jr={}));var it;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(it||(it={}));var $n;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($n||($n={}));var Rm;(function(t){t.websocket="websocket"})(Rm||(Rm={}));var Ti;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ti||(Ti={}));class z${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,s.length),g.setUint8(y++,a.length),g.setUint8(y++,u.length),g.setUint8(y++,f.length),g.setUint8(y++,n),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(s,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(f,v=>g.setUint8(y++,v.charCodeAt(0)));var w=new Uint8Array(m.byteLength+r.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(r),m.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class SC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ae||(Ae={}));const sb=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=q$(a,t,e,i),o),{}):{}},q$=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?EC(o,a):Mm(a)},EC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Y$(e,n)}switch(t){case Ae.bool:return W$(e);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return K$(e);case Ae.json:case Ae.jsonb:return J$(e);case Ae.timestamp:return X$(e);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return Mm(e);default:return Mm(e)}},Mm=t=>t,W$=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},K$=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},J$=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Y$=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>EC(e,s))}return t},X$=t=>typeof t=="string"?t.replace(" ","T"):t,TC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Xh{constructor(e,n,r={},i=Nm){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(lb||(lb={}));class Gs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gs.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Gs.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gs.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const f=o[u];if(f){const h=c.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),g=c.filter(w=>m.indexOf(w.presence_ref)<0),y=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(s[u]=g),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(m=>m.presence_ref),h=c.filter(m=>f.indexOf(m.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ub;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ub||(ub={}));var Vs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vs||(Vs={}));var cr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class Do{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xh(this,$n.join,this.params,this.timeout),this.rejoinTimer=new SC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Gs(this),this.broadcastEndpointURL=TC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Vs.PRESENCE]&&this.bindings[Vs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(cr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(cr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let b=0;b<w;b++){const x=y[b],{filter:{event:T,schema:S,table:E,filter:A}}=x,P=m&&m[b];if(P&&P.event===T&&Do.isFilterValueEqual(P.schema,S)&&Do.isFilterValueEqual(P.table,E)&&Do.isFilterValueEqual(P.filter,A))v.push(Object.assign(Object.assign({},x),{id:P.id}));else{this.unsubscribe(),this.state=it.errored,e==null||e(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(cr.SUBSCRIBED);return}}).receive("error",m=>{this.state=it.errored,e==null||e(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===it.joined&&e===Vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=it.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Xh(this,$n.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xh(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>H$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=$n;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,y,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(y=m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var g,y,w,v,b,x,T,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,A=(g=m.filter)===null||g===void 0?void 0:g.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))&&(!(!((v=m.filter)===null||v===void 0)&&v.table)||m.filter.table===((b=n.data)===null||b===void 0?void 0:b.table))}else{const E=(T=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:w,commit_timestamp:v,type:b,errors:x}=g;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:v,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}m.callback(h,r)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Do.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($n.close,{},e)}_onError(e){this._on($n.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=sb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=sb(e.columns,e.old_record)),n}}const Qh=()=>{},Mu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Q$=[1e3,2e3,5e3,1e4],Z$=1e4,e2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t2{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nm,this.transport=null,this.heartbeatIntervalMs=Mu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qh,this.ref=0,this.reconnectTimer=null,this.vsn=ab,this.logger=Qh,this.conn=null,this.sendBuffer=[],this.serializer=new z$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Rm.websocket}`,this.httpEndpoint=TC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j$.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jr.connecting:return Ti.Connecting;case jr.open:return Ti.Open;case jr.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Do(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(V$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===jr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===jr.open||this.conn.readyState===jr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($n.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([e2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:B$};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push($n.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new SC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,f,h,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Nm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Mu.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Qh,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:ab,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>Q$[g-1]||Z$,this.vsn){case _C:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(g,y)=>y(JSON.stringify(g)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(g,y)=>y(JSON.parse(g));break;case G$:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var pl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function n2(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function r2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function i2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=n2(t.baseUrl,r,i),l=await r2(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&c?JSON.parse(c):c;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new pl((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function $u(t){return t.join("")}var o2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:$u(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$u(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$u(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$u(t.namespace)}`}),!0}catch(e){if(e instanceof pl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof pl&&n.status===409)return;throw n}}};function uo(t){return t.join("")}var a2=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof pl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof pl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},s2=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=i2({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new o2(this.client,e),this.tableOps=new a2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},xd=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var l2=class extends xd{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$m=class extends xd{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const kv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u2=()=>Response,Dm=t=>{if(Array.isArray(t))return t.map(n=>Dm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Dm(r)}),e},c2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},f2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function d2(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h2(t){var e=d2(t,"string");return ml(e)=="symbol"?e:e+""}function p2(t,e,n){return(e=h2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(r){p2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Zh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},m2=async(t,e,n)=>{t instanceof await u2()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new l2(Zh(r),i,o))}).catch(r=>{e(new $m(Zh(r),r))}):e(new $m(Zh(t),t))},g2=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(c2(r)?(i.headers=re({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),re(re({},i),n))};async function lu(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,g2(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>m2(l,s,r))})}async function gl(t,e,n,r){return lu(t,"GET",e,n,r)}async function Rn(t,e,n,r,i){return lu(t,"POST",e,r,i,n)}async function Lm(t,e,n,r,i){return lu(t,"PUT",e,r,i,n)}async function y2(t,e,n,r){return lu(t,"HEAD",e,re(re({},n),{},{noResolveJson:!0}),r)}async function Iv(t,e,n,r,i){return lu(t,"DELETE",e,r,i,n)}var v2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}}};let AC;AC=Symbol.toStringTag;var w2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[AC]="BlobDownloadBuilder",this.promise=null}asStream(){return new v2(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}}};const b2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var x2=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=kv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=re(re({},fb),r);let s=re(re({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=re(re({},s),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),f=await(t=="PUT"?Lm:Rn)(i.fetch,`${i.url}/object/${c}`,o,re({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=re({upsert:fb.upsert},r),c=re(re({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:o,fullPath:(await Lm(i.fetch,s.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=re({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await Rn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new xd("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Rn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Rn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await Rn(r.fetch,`${r.url}/object/sign/${i}`,re({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Rn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>re(re({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>gl(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new w2(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Dm(await gl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await y2(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Be(r)&&r instanceof $m){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await Iv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=re(re(re({},b2),e),{},{prefix:t||""});return{data:await Rn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=re({},t);return{data:await Rn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const CC="2.90.1",PC={"X-Client-Info":`storage-js/${CC}`};var _2=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=re(re({},PC),e),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await gl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await gl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Rn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Lm(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Rn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Iv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},S2=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=re(re({},PC),e),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Rn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await gl(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Iv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!f2(t))throw new xd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new s2({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Ov={"X-Client-Info":`storage-js/${CC}`,"Content-Type":"application/json"};var kC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function en(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var ep=class extends kC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},E2=class extends kC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Nv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),T2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},db=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A2=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new ep(db(o),r,a))}).catch(()=>{const o=r+"";e(new ep(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new ep(i.statusText||`HTTP ${r} error`,r,o))}}else e(new E2(db(t),t))},C2=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(T2(r)?(i.headers=re({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,re(re({},i),n)):i};async function P2(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,C2(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>A2(l,s,r))})}async function tn(t,e,n,r,i){return P2(t,"POST",e,r,i,n)}var k2=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=re(re({},Ov),e),this.fetch=Nv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await tn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await tn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}},I2=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=re(re({},Ov),e),this.fetch=Nv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await tn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},O2=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=re(re({},Ov),e),this.fetch=Nv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await tn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},N2=class extends O2{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new R2(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},R2=class extends k2{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,re(re({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,re(re({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new M2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},M2=class extends I2{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,re(re({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,re(re({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,re(re({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,re(re({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,re(re({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},$2=class extends _2{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new x2(this.url,this.headers,t,this.fetch)}get vectors(){return new N2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new S2(this.url+"/iceberg",this.headers,this.fetch)}};const IC="2.90.1",bo=30*1e3,Um=3,tp=Um*bo,D2="http://localhost:9999",L2="supabase.auth.token",U2={"X-Client-Info":`gotrue-js/${IC}`},jm="X-Supabase-Api-Version",OC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,F2=10*60*1e3;class yl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class B2 extends yl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function G2(t){return Z(t)&&t.name==="AuthApiError"}class Ai extends yl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Pr extends yl{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Jt extends Pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function V2(t){return Z(t)&&t.name==="AuthSessionMissingError"}class co extends Pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Du extends Pr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lu extends Pr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H2(t){return Z(t)&&t.name==="AuthImplicitGrantRedirectError"}class hb extends Pr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z2 extends Pr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fm extends Pr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function np(t){return Z(t)&&t.name==="AuthRetryableFetchError"}class pb extends Pr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Bm extends Pr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mb=` 	
\r=`.split(""),q2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mb.length;e+=1)t[mb[e].charCodeAt(0)]=-2;for(let e=0;e<Hc.length;e+=1)t[Hc[e].charCodeAt(0)]=e;return t})();function gb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Hc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Hc[r]),e.queuedBits-=6}}function NC(t,e,n){const r=q2[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function yb(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{J2(a,r,n)};for(let a=0;a<t.length;a+=1)NC(t.charCodeAt(a),i,o);return e.join("")}function W2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function K2(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}W2(r,e)}}function J2(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Jo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)NC(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Y2(t){const e=[];return K2(t,n=>e.push(n)),new Uint8Array(e)}function Ii(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>gb(i,n,r)),gb(null,n,r),e.join("")}function X2(t){return Math.round(Date.now()/1e3)+t}function Q2(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",mi={tested:!1,writable:!1},RC=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mi.tested)return mi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mi.tested=!0,mi.writable=!0}catch{mi.tested=!0,mi.writable=!1}return mi.writable};function Z2(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const MC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},gi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gt=async(t,e)=>{await t.removeItem(e)};class _d{constructor(){this.promise=new _d.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_d.promiseConstructor=Promise;function rp(t){const e=t.split(".");if(e.length!==3)throw new Bm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!j2.test(e[r]))throw new Bm("JWT not in base64url format");return{header:JSON.parse(yb(e[0])),payload:JSON.parse(yb(e[1])),signature:Jo(e[2]),raw:{header:e[0],payload:e[1]}}}async function tD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nD(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function rD(t){return("0"+t.toString(16)).substr(-2)}function iD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,rD).join("")}async function oD(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function aD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await oD(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fo(t,e,n=!1){const r=iD();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await xo(t,`${e}-code-verifier`,i);const o=await aD(r);return[o,r===o?"plain":"s256"]}const sD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lD(t){const e=t.headers.get(jm);if(!e||!e.match(sD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function uD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function cD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(t){if(!fD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ip(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dD(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function vb(t){return JSON.parse(JSON.stringify(t))}const bi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hD=[502,503,504];async function wb(t){var e;if(!eD(t))throw new Fm(bi(t),0);if(hD.includes(t.status))throw new Fm(bi(t),t.status);let n;try{n=await t.json()}catch(o){throw new Ai(bi(o),o)}let r;const i=lD(t);if(i&&i.getTime()>=OC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new pb(bi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new pb(bi(n),t.status,n.weak_password.reasons);throw new B2(bi(n),t.status||500,r)}const pD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ne(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[jm]||(o[jm]=OC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await mD(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function mD(t,e,n,r,i,o){const a=pD(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Fm(bi(l),0)}if(s.ok||await wb(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await wb(l)}}function On(t){var e;let n=null;vD(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=X2(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function bb(t){const e=On(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gD(t){return{data:t,error:null}}function yD(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=bd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function xb(t){return t}function vD(t){return t.access_token&&t.refresh_token&&t.expires_in}const op=["global","local","others"];class wD{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=MC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=op[0]){if(op.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${op.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Vr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=bd(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:xb});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ho(e);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vr})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ho(e);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Vr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ho(e);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Vr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ho(e.userId);try{const{data:n,error:r}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ho(e.userId),ho(e.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:xb});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function _b(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const po={debug:!!(globalThis&&RC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $C extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class bD extends $C{}async function xD(t,e,n){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new bD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(po.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function _D(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function SD(t){return parseInt(t,16)}function ED(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function TD(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=DC(t.address),g=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${m}

${y}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}v+=b}return`${w}
${v}`}class Qe extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class zc extends Qe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function AD({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(LC(a)){if(o.rp.id!==a)return new Qe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function CD({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(LC(r)){if(n.rpId!==r)return new Qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class PD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const kD=new PD;function ID(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=bd(t,["challenge","user","excludeCredentials"]),o=Jo(e).buffer,a=Object.assign(Object.assign({},n),{id:Jo(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Jo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function OD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=bd(t,["challenge","allowCredentials"]),i=Jo(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Jo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function ND(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ii(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ii(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function RD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ii(new Uint8Array(i.authenticatorData)),clientDataJSON:Ii(new Uint8Array(i.clientDataJSON)),signature:Ii(new Uint8Array(i.signature)),userHandle:i.userHandle?Ii(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Sb(){var t,e;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function MD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zc("Browser returned unexpected credential type",e)}:{data:null,error:new zc("Empty credential response",e)}}catch(e){return{data:null,error:AD({error:e,options:t})}}}async function $D(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zc("Browser returned unexpected credential type",e)}:{data:null,error:new zc("Empty credential response",e)}}catch(e){return{data:null,error:CD({error:e,options:t})}}}const DD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},LD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=qc(s,a):r[o]=qc(a)}else r[o]=a}return r}function UD(t,e){return qc(DD,t,e||{})}function jD(t,e){return qc(LD,t,e||{})}class FD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??kD.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=UD(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:f}=await MD({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=jD(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:f}=await $D(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(a){return Z(a)?{data:null,error:a}:{data:null,error:new Ai("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new yl("rpId is required for WebAuthn authentication")};try{if(!Sb())return{data:null,error:new Ai("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return Z(a)?{data:null,error:a}:{data:null,error:new Ai("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new yl("rpId is required for WebAuthn registration")};try{if(!Sb())return{data:null,error:new Ai("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Z(a)?{data:null,error:a}:{data:null,error:new Ai("Unexpected error in register",a)}}}}_D();const BD={url:D2,storageKey:L2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Eb(t,e,n){return await n()}const mo={};class vl{get jwks(){var e,n;return(n=(e=mo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=mo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},BD),e);if(this.storageKey=o.storageKey,this.instanceID=(n=vl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,vl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&vt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new wD({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=MC(o.fetch),this.lock=o.lock||Eb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=xD:this.lock=Eb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:RC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_b(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=_b(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${IC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(vt()&&(n=Z2(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),H2(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?this._returnResult({error:n}):this._returnResult({error:new Ai("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:On}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(Z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:f,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await fo(this.storage,this.storageKey)),o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:On})}else if("phone"in e){const{phone:c,password:f,options:h}=e;o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:On})}else throw new Du("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:bb})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:bb})}else throw new Du("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new co;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,f,h;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:v,options:b}=e;let x;if(vt())if(typeof w=="object")x=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")x=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=DC(S[0]);let A=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const C=await x.request({method:"eth_chainId"});A=SD(C)}const P={domain:T.host,address:E,statement:v,uri:T.href,version:"1",chainId:A,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=TD(P),g=await x.request({method:"personal_sign",params:[ED(m),E]})}try{const{data:y,error:w}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:On});if(w)throw w;if(!y||!y.session||!y.user){const v=new co;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(Z(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,f,h,m;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:w,wallet:v,statement:b,options:x}=e;let T;if(vt())if(typeof v=="object")T=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const S=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)g=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(c=x==null?void 0:x.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:w,error:v}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ii(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:On});if(v)throw v;if(!w||!w.session||!w.user){const b=new co;return this._returnResult({data:{user:null,session:null},error:b})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(Z(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await gi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new z2;const{data:o,error:a}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:On});if(await gt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new co;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:On}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new co;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await fo(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Du("You must provide either an email or phone number.")}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),Z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:On});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await fo(this.storage,this.storageKey));const u=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:gD});return!((o=u.data)===null||o===void 0)&&o.url&&vt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),Z(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Jt;const{error:i}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Z(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Du("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<tp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await gi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ip()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=dD(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Vr})})}catch(n){if(Z(n))return V2(n)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Jt;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await fo(this.storage,this.storageKey));const{data:u,error:c}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Vr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await gt(this.storage,`${this.storageKey}-code-verifier`),Z(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=rp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Jt;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!vt())throw new Lu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new hb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hb("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Lu("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const m=h-c;m*1e3<=bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,c);const{data:y,error:w}=await this._getUser(o);if(w)throw w;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(Z(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await gi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(G2(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Q2(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await fo(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return vt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Z(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:On}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new co}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nD(async i=>(i>0&&await tD(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:On})),(i,o)=>{const a=200*Math.pow(2,i);return o&&np(o)&&Date.now()+a-r<bo})}catch(r){if(this._debug(n,"error",r),Z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),vt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await gi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await gi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await xo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ip()}else if(i&&!i.user&&!i.user){const a=await gi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await gt(this.storage,this.storageKey+"-user"),await xo(this.storage,this.storageKey,i)):i.user=ip()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${tp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),np(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _d;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Jt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Z(o)){const a={data:null,error:o};return np(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=vb(i);await xo(this.storage,this.storageKey,o)}else{const i=vb(n);await xo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bo}ms, refresh threshold is ${Um} ticks`),i<=Um&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $C)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await fo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ND(e.webauthn.credential_response):RD(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:ID(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:OD(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rp(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Jt});const a=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&vt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Jt});const a=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&vt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(e){if(Z(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+F2>i)return r;const{data:o,error:a}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=rp(r);n!=null&&n.allowExpired||uD(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=cD(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,Y2(`${s}.${l}`)))throw new Bm("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}}vl.nextInstanceID={};const GD=vl,VD="2.90.1";let Ps="";typeof Deno<"u"?Ps="deno":typeof document<"u"?Ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ps="react-native":Ps="node";const HD={"X-Client-Info":`supabase-js-${Ps}/${VD}`},zD={headers:HD},qD={schema:"public"},WD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},KD={};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function JD(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YD(t){var e=JD(t,"string");return wl(e)=="symbol"?e:e+""}function XD(t,e,n){return(e=YD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(n),!0).forEach(function(r){XD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const QD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ZD=()=>Headers,eL=(t,e,n)=>{const r=QD(n),i=ZD();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,ze(ze({},a),{},{headers:u}))}};function tL(t){return t.endsWith("/")?t:t+"/"}function nL(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,h={db:ze(ze({},l),i),auth:ze(ze({},u),o),realtime:ze(ze({},c),a),storage:{},global:ze(ze(ze({},f),s),{},{headers:ze(ze({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function rL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var iL=class extends GD{constructor(t){super(t)}},oL=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=rL(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:qD,realtime:KD,auth:ze(ze({},WD),{},{storageKey:a}),global:zD},l=nL(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=eL(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new U$(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new $2(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new R$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iL({url:this.authUrl.href,headers:ze(ze({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new t2(this.realtimeUrl.href,ze(ze({},t),{},{params:ze(ze({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const aL=(t,e,n)=>new oL(t,e,n);function sL(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}sL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UC=!1,Ab=UC;console.log("Supabase is not configured. Using Mock Auth & Local Storage.");aL("https://placeholder.supabase.co","placeholder");const Sd="snapcal_mock_session",Wc="snapcal_auth_change",lL=t=>new Promise(e=>setTimeout(e,t)),jC=async(t,e)=>{{await lL(600);const n={id:btoa(t.toLowerCase()),email:t};return localStorage.setItem(Sd,JSON.stringify(n)),window.dispatchEvent(new Event(Wc)),{user:n}}},uL=async(t,e)=>jC(t),cL=async()=>{localStorage.removeItem(Sd),window.dispatchEvent(new Event(Wc))},An=async()=>{{const t=localStorage.getItem(Sd);return t?JSON.parse(t):null}},fL=t=>{{const e=()=>{const n=localStorage.getItem(Sd);t(n?JSON.parse(n):null)};return window.addEventListener(Wc,e),window.addEventListener("storage",e),()=>{window.removeEventListener(Wc,e),window.removeEventListener("storage",e)}}},FC="snapcal_data_v1",Gm="snapcal_settings_v1",Vm="snapcal_profile_v1",BC="snapcal_summaries_v1",bl=()=>{try{const t=localStorage.getItem(FC);return t?JSON.parse(t):[]}catch{return[]}},Rv=t=>{try{localStorage.setItem(FC,JSON.stringify(t))}catch(e){throw e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"||String(e).toLowerCase().includes("quota")?new Error("Browser Storage Full: Your local history (with photos) has reached the browser's 5MB limit. Please delete some old entries in the History tab or connect to Supabase for unlimited cloud storage."):e}},GC=()=>{try{const t=localStorage.getItem(BC);return t?JSON.parse(t):[]}catch{return[]}},dL=t=>{try{localStorage.setItem(BC,JSON.stringify(t))}catch{throw new Error("Browser Storage Full: Cannot even save simple summaries. Please clear your browser data.")}},VC=async t=>{const e=await An();if(!e)throw new Error("User must be logged in to save.");{const n=bl(),r=n.findIndex(o=>o.id===t.id),i={...t,user_id:e.id};r>=0?n[r]=i:n.push(i),Rv(n);return}},HC=async()=>{const t=await An();return t?bl().filter(e=>e.user_id===t.id).sort((e,n)=>n.timestamp.localeCompare(e.timestamp)):[]},zC=async()=>{const t=await An();if(!t)return[];const e=await HC(),n={};e.forEach(o=>{n[o.date]||(n[o.date]=[]),n[o.date].push(o)});let r=[];r=GC().filter(o=>o.user_id===t.id);const i={};return r.forEach(o=>{i[o.date]={date:o.date,totalCalories:o.total_calories,totalProtein:o.total_protein,totalCarbs:o.total_carbs,totalFat:o.total_fat,entries:[]}}),Object.keys(n).forEach(o=>{const a=n[o];i[o]={date:o,totalCalories:a.reduce((s,l)=>s+l.calories,0),totalProtein:a.reduce((s,l)=>s+(l.protein||0),0),totalCarbs:a.reduce((s,l)=>s+(l.carbs||0),0),totalFat:a.reduce((s,l)=>s+(l.fat||0),0),entries:a}}),Object.values(i).sort((o,a)=>new Date(a.date).getTime()-new Date(o.date).getTime())},Cb=async()=>{const t=await An();if(!t)return;const e=new Date;e.setDate(e.getDate()-7);const n=e.toISOString().split("T")[0];let r=[];if(r=bl().filter(o=>o.user_id===t.id&&o.date<n),r.length===0)return;const i={};r.forEach(o=>{i[o.date]||(i[o.date]=[]),i[o.date].push(o)});for(const o of Object.keys(i)){const a=i[o],s={id:`${t.id}_${o}`,user_id:t.id,date:o,total_calories:a.reduce((l,u)=>l+u.calories,0),total_protein:a.reduce((l,u)=>l+(u.protein||0),0),total_carbs:a.reduce((l,u)=>l+(u.carbs||0),0),total_fat:a.reduce((l,u)=>l+(u.fat||0),0)};{const l=GC(),u=l.findIndex(f=>f.user_id===t.id&&f.date===o);u>=0?l[u]=s:l.push(s),dL(l);const c=bl().filter(f=>!(f.user_id===t.id&&f.date===o));Rv(c)}}},qC=async t=>{const e=await An();if(!e)throw new Error("Not logged in");{const n=bl().filter(r=>!(r.id===t&&r.user_id===e.id));Rv(n);return}},WC=async()=>{const t=await An();if(!t)return 2e3;{const e=localStorage.getItem(Gm);return(e?JSON.parse(e):{})[t.id]||2e3}},Mv=async t=>{const e=await An();if(!e)throw new Error("Not logged in");{const n=localStorage.getItem(Gm),r=n?JSON.parse(n):{};r[e.id]=t,localStorage.setItem(Gm,JSON.stringify(r));return}},KC=async()=>{const t=await An();if(!t)return null;{const e=localStorage.getItem(Vm);return(e?JSON.parse(e):{})[t.id]||null}},JC=async t=>{const e=await An();if(!e)throw new Error("Not logged in");{const n=localStorage.getItem(Vm),r=n?JSON.parse(n):{};r[e.id]=t,localStorage.setItem(Vm,JSON.stringify(r));return}},Hm="snapcal_onboarding_v1",hL=async()=>{const t=await An();if(!t)return!1;{const e=localStorage.getItem(Hm);return(e?JSON.parse(e):{})[t.id]===!0}},YC=async()=>{const t=await An();if(!t)throw new Error("Not logged in");{const e=localStorage.getItem(Hm),n=e?JSON.parse(e):{};n[t.id]=!0,localStorage.setItem(Hm,JSON.stringify(n));return}},pL=async()=>{await YC()},nn=({className:t,variant:e="primary",isLoading:n,children:r,...i})=>{const o="inline-flex items-center justify-center px-6 py-4 rounded-[24px] font-semibold transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none text-sm tracking-wide",a={primary:"bg-royal-600 text-white hover:bg-royal-700 shadow-[0_10px_20px_-10px_rgba(124,58,237,0.5)]",secondary:"bg-royal-50 text-royal-700 hover:bg-royal-100",ghost:"bg-transparent text-gray-500 hover:text-royal-600 hover:bg-royal-50"};return _.jsx("button",{className:ce(o,a[e],t),disabled:n||i.disabled,...i,children:n?_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r})};var mL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gL,yL;function vL(){return{geminiUrl:gL,vertexUrl:yL}}function wL(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=vL();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kr{}function J(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>d(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function bL(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}zm(t,i,o,0,a)}}function zm(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])zm(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);p(a,f,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&zm(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $v(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xL(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function _L(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],EL(a)),e}function SL(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],TL(a)),e}function EL(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>AL(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function TL(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>CL(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function AL(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],RL(n)),e}function CL(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],ML(n)),e}function PL(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function kL(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function IL(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],OL(a)),e}function OL(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function XC(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],NL(a)),e}function NL(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function RL(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],$v(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function ML(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],$v(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pb;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Pb||(Pb={}));var kb;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(kb||(kb={}));var Ib;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ib||(Ib={}));var ge;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ge||(ge={}));var Ob;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ob||(Ob={}));var Nb;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Nb||(Nb={}));var Rb;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Rb||(Rb={}));var Mb;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Mb||(Mb={}));var $b;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})($b||($b={}));var Db;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Db||(Db={}));var Lb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Lb||(Lb={}));var Ub;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Ub||(Ub={}));var jb;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(jb||(jb={}));var Fb;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Fb||(Fb={}));var Bb;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Bb||(Bb={}));var Gb;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Gb||(Gb={}));var Vb;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Vb||(Vb={}));var Hb;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hb||(Hb={}));var zb;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zb||(zb={}));var qb;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(qb||(qb={}));var Wb;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wb||(Wb={}));var Kc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Kc||(Kc={}));var Kb;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Kb||(Kb={}));var Jb;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Jb||(Jb={}));var Yb;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Yb||(Yb={}));var qm;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qm||(qm={}));var Xb;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Xb||(Xb={}));var Qb;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Qb||(Qb={}));var Zb;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Zb||(Zb={}));var ex;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ex||(ex={}));var tx;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(tx||(tx={}));var nx;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(nx||(nx={}));var rx;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(rx||(rx={}));var ix;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ix||(ix={}));var ox;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ox||(ox={}));var ax;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ax||(ax={}));var sx;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sx||(sx={}));var lx;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(lx||(lx={}));var ux;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(ux||(ux={}));var cx;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(cx||(cx={}));var fx;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fx||(fx={}));var dx;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dx||(dx={}));var hx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(hx||(hx={}));var px;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(px||(px={}));var mx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(mx||(mx={}));var gx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(gx||(gx={}));var yx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(yx||(yx={}));var vx;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(vx||(vx={}));var wx;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wx||(wx={}));var bx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bx||(bx={}));var xx;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(xx||(xx={}));var _x;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_x||(_x={}));var Sx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sx||(Sx={}));var Ex;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ex||(Ex={}));var Lo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Lo||(Lo={}));class Wm{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ds{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,g]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(g!==null||g!==void 0)&&f.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(f))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Tx{}class Ax{}class $L{}class DL{}class LL{}class UL{}class Cx{}class Px{}class kx{}class jL{}class Jc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Jc;let i;const o=e;return n?i=SL(o):i=_L(o),Object.assign(r,i),r}}class Ix{}class Ox{}class Nx{}class Rx{}class FL{}class BL{}class GL{}class Dv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Dv,o=IL(e);return Object.assign(r,o),r}}class VL{}class HL{}class zL{}class Mx{}class qL{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class WL{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Lv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Lv,o=XC(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function QC(t,e){const n=ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ZC(t){return Array.isArray(t)?t.map(e=>Yc(e)):[Yc(t)]}function Yc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function eP(t){const e=Yc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tP(t){const e=Yc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $x(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function nP(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>$x(e)):[$x(t)]}function Km(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Dx(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Lx(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function It(t){if(t==null)throw new Error("ContentUnion is required");return Km(t)?t:{role:"user",parts:nP(t)}}function Uv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=It(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=It(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>It(n)):[It(e)]}function bn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dx(t)||Lx(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(t)]}const e=[],n=[],r=Km(t[0]);for(const i of t){const o=Km(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(Dx(i)||Lx(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:nP(n)}),e}function KL(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ge).includes(n[0].toUpperCase())?n[0].toUpperCase():ge.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ge).includes(r.toUpperCase())?r.toUpperCase():ge.TYPE_UNSPECIFIED})}}function Yo(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&KL(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ge).includes(s.toUpperCase())?s.toUpperCase():ge.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Yo(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Yo(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Yo(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function jv(t){return Yo(t)}function Fv(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Bv(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Fa(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Yo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Yo(e.response));return t}function Ba(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function JL(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ir(t,e){if(typeof e!="string")throw new Error("name must be a string");return JL(t,e,"cachedContents")}function rP(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ui(t){return $v(t)}function YL(t){return t!=null&&typeof t=="object"&&"name"in t}function XL(t){return t!=null&&typeof t=="object"&&"video"in t}function QL(t){return t!=null&&typeof t=="object"&&"uri"in t}function iP(t){var e;let n;if(YL(t)&&(n=t.name),!(QL(t)&&(n=t.uri,n===void 0))&&!(XL(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function oP(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function aP(t){for(const e of["models","tunedModels","publisherModels"])if(ZL(t,e))return t[e];return[]}function ZL(t,e){return t!==null&&typeof t=="object"&&e in t}function eU(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function tU(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=eU(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function sP(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function nU(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function lP(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ga(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function uP(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rU(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>LU(a))),p(e,["inlinedResponses"],o)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function iU(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function oU(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function yc(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&p(e,["state"],uP(i));const o=d(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=d(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=d(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=d(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&p(e,["dest"],rU(lP(u))),e}function Jm(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],uP(i));const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=d(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=d(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&p(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&p(e,["src"],aU(f));const h=d(t,["outputConfig"]);h!=null&&p(e,["dest"],iU(lP(h)));const m=d(t,["completionStats"]);return m!=null&&p(e,["completionStats"],m),e}function aU(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function sU(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>DU(t,a))),p(n,["requests","requests"],o)}return n}function lU(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function uU(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function cU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ga(t,r)),n}function fU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ga(t,r)),n}function dU(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],hU(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=d(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=d(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function hU(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function cP(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>HU(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function pU(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function mU(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],oU(nU(i))),n}function Ux(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],sU(t,sP(t,i)));const o=d(e,["config"]);return o!=null&&pU(o,n),n}function gU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],ye(t,r));const i=d(e,["src"]);i!=null&&p(n,["inputConfig"],lU(sP(t,i)));const o=d(e,["config"]);return o!=null&&mU(o,n),n}function yU(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function vU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],TU(t,i));const o=d(e,["config"]);return o!=null&&yU(o,n),n}function wU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ga(t,r)),n}function bU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ga(t,r)),n}function xU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function _U(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function SU(t,e){const n={},r=d(e,["contents"]);if(r!=null){let o=Uv(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=d(e,["config"]);return i!=null&&(p(n,["_self"],EU(i,n)),bL(n,{"requests[].*":"requests[].request.*"})),n}function EU(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function TU(t,e){const n={},r=d(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],SU(t,i)),n}function AU(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function CU(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PU(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&p(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kU(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],cP(It(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const g=d(e,["frequencyPenalty"]);g!=null&&p(r,["frequencyPenalty"],g);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],jv(v));const b=d(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=d(e,["safetySettings"]);if(n!==void 0&&x!=null){let M=x;Array.isArray(M)&&(M=M.map(L=>zU(L))),p(n,["safetySettings"],M)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let M=Ba(T);Array.isArray(M)&&(M=M.map(L=>WU(Fa(L)))),p(n,["tools"],M)}const S=d(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],qU(S)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Ir(t,E));const A=d(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const P=d(e,["mediaResolution"]);P!=null&&p(r,["mediaResolution"],P);const C=d(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],Fv(C)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=d(e,["thinkingConfig"]);k!=null&&p(r,["thinkingConfig"],k);const O=d(e,["imageConfig"]);O!=null&&p(r,["imageConfig"],$U(O));const I=d(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function IU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>dU(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=d(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function OU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ga(t,r)),n}function NU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ga(t,r)),n}function RU(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function MU(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function $U(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function DU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["request","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let s=bn(i);Array.isArray(s)&&(s=s.map(l=>cP(l))),p(n,["request","contents"],s)}const o=d(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(e,["config"]);return a!=null&&p(n,["request","generationConfig"],kU(t,a,d(n,["request"],{}))),n}function LU(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],IU(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],r),e}function UU(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function jU(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function FU(t){const e={},n=d(t,["config"]);return n!=null&&UU(n,e),e}function BU(t){const e={},n=d(t,["config"]);return n!=null&&jU(n,e),e}function GU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>yc(a))),p(e,["batchJobs"],o)}return e}function VU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Jm(a))),p(e,["batchJobs"],o)}return e}function HU(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],AU(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],CU(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],uU(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function zU(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function qU(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],PU(r)),e}function WU(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],RU(a));const s=d(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],MU(s));const l=d(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Sr||(Sr={}));class eo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KU extends kr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eo(Sr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Ux(this.apiClient,e),r=n._url,i=J("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const m=f.request;m.systemInstruction=h,f.request=m}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=gU(this.apiClient,e);return s=J("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Jm(c))}else{const u=Ux(this.apiClient,e);return s=J("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>yc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vU(this.apiClient,e);return o=J("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>yc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=NU(this.apiClient,e);return s=J("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Jm(c))}else{const u=OU(this.apiClient,e);return s=J("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>yc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=fU(this.apiClient,e);a=J("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=cU(this.apiClient,e);a=J("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=BU(e);return s=J("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=VU(c),h=new Mx;return Object.assign(h,f),h})}else{const u=FU(e);return s=J("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=GU(c),h=new Mx;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=bU(this.apiClient,e);return s=J("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>_U(c))}else{const u=wU(this.apiClient,e);return s=J("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>xU(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JU(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function jx(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vj(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function YU(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=d(t,["contents"]);if(e!==void 0&&a!=null){let c=bn(a);Array.isArray(c)&&(c=c.map(f=>jx(f))),p(e,["contents"],c)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],jx(It(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>bj(f))),p(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],wj(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function XU(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=d(t,["contents"]);if(e!==void 0&&a!=null){let f=bn(a);Array.isArray(f)&&(f=f.map(h=>h)),p(e,["contents"],f)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],It(s));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>xj(h))),p(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function QU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],QC(t,r));const i=d(e,["config"]);return i!=null&&YU(i,n),n}function ZU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],QC(t,r));const i=d(e,["config"]);return i!=null&&XU(i,n),n}function ej(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ir(t,r)),n}function tj(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ir(t,r)),n}function nj(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function rj(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function ij(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function oj(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aj(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&p(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sj(t){const e={},n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const s=d(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function lj(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ir(t,r)),n}function uj(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ir(t,r)),n}function cj(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function fj(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function dj(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function hj(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function pj(t){const e={},n=d(t,["config"]);return n!=null&&dj(n,e),e}function mj(t){const e={},n=d(t,["config"]);return n!=null&&hj(n,e),e}function gj(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function yj(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function vj(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],ij(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],oj(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],JU(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function wj(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],aj(r)),e}function bj(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],cj(a));const s=d(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],fj(s));const l=d(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function xj(t){const e={},n=d(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=d(t,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>sj(h))),p(e,["functionDeclarations"],f)}const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function _j(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function Sj(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function Ej(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ir(t,r));const i=d(e,["config"]);return i!=null&&_j(i,n),n}function Tj(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ir(t,r));const i=d(e,["config"]);return i!=null&&Sj(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aj extends kr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eo(Sr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ZU(this.apiClient,e);return s=J("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=QU(this.apiClient,e);return s=J("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=uj(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=lj(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tj(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=rj(c),h=new Nx;return Object.assign(h,f),h})}else{const u=ej(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=nj(c),h=new Nx;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Tj(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Ej(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=mj(e);return s=J("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=yj(c),h=new Rx;return Object.assign(h,f),h})}else{const u=pj(e);return s=J("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=gj(c),h=new Rx;return Object.assign(h,f),h})}}}function Xc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(t){return this instanceof ie?(this.v=t,this):new ie(t)}function Vn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(g){return Promise.resolve(g).then(m,f)}}function s(m,g){r[m]&&(i[m]=function(y){return new Promise(function(w,v){o.push([m,y,w,v])>1||l(m,y)})},g&&(i[m]=g(i[m])))}function l(m,g){try{u(r[m](g))}catch(y){h(o[0][3],y)}}function u(m){m.value instanceof ie?Promise.resolve(m.value.v).then(c,f):h(o[0][2],m)}function c(m){l("next",m)}function f(m){l("throw",m)}function h(m,g){m(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Hn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fx=="function"?Fx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cj(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:fP(n)}function fP(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Pj(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Bx(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!fP(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class kj{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ij(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ij{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Pj(o)}async sendMessage(e){var n;await this.sendPromise;const r=It(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=It(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Bx(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Vn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var f=!0,h=Hn(e),m;m=yield ie(h.next()),i=m.done,!i;f=!0){s=m.value,f=!1;const g=s;if(Cj(g)){const y=(u=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;y!==void 0&&c.push(y)}yield yield ie(g)}}catch(g){o={error:g}}finally{try{!f&&!i&&(a=h.return)&&(yield ie(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Bx(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ed extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ed.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oj(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],n),e}function Nj(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Rj(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],iP(n)),e}function Mj(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function $j(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],iP(n)),e}function Dj(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Lj(t){const e={},n=d(t,["config"]);return n!=null&&Dj(n,e),e}function Uj(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jj extends kr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eo(Sr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Lj(e);return o=J("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Uj(l),c=new VL;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Oj(e);return o=J("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Nj(l),c=new HL;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$j(e);return o=J("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Rj(e);return o=J("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Mj(l),c=new zL;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vc(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Fj(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nF(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Bj(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Gj(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vj(t){const e={},n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const s=d(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Hj(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=d(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=d(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=d(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const g=d(t,["responseModalities"]);g!=null&&p(e,["responseModalities"],g);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const w=d(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const v=d(t,["seed"]);v!=null&&p(e,["seed"],v);const b=d(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],b);const x=d(t,["stopSequences"]);x!=null&&p(e,["stopSequences"],x);const T=d(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=d(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=d(t,["topK"]);E!=null&&p(e,["topK"],E);const A=d(t,["topP"]);if(A!=null&&p(e,["topP"],A),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zj(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function qj(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Wj(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],Bv(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(t,["systemInstruction"]);e!==void 0&&g!=null&&p(e,["setup","systemInstruction"],Fj(It(g)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let E=Ba(y);Array.isArray(E)&&(E=E.map(A=>iF(Fa(A)))),p(e,["setup","tools"],E)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],rF(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const x=d(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&p(e,["setup","realtimeInputConfig"],x);const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=d(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Kj(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],Hj(r));const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],Bv(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(t,["systemInstruction"]);e!==void 0&&g!=null&&p(e,["setup","systemInstruction"],It(g));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let A=Ba(y);Array.isArray(A)&&(A=A.map(P=>oF(Fa(P)))),p(e,["setup","tools"],A)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],w);const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const x=d(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&p(e,["setup","realtimeInputConfig"],x);const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=d(t,["proactivity"]);e!==void 0&&S!=null&&p(e,["setup","proactivity"],S);const E=d(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&p(e,["setup","explicitVadSignal"],E),n}function Jj(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],ye(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Wj(i,n)),n}function Yj(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],ye(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Kj(i,n)),n}function Xj(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function Qj(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function Zj(t){const e={},n=d(t,["media"]);if(n!=null){let u=ZC(n);Array.isArray(u)&&(u=u.map(c=>vc(c))),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],vc(tP(r)));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],vc(eP(o)));const a=d(t,["text"]);a!=null&&p(e,["text"],a);const s=d(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function eF(t){const e={},n=d(t,["media"]);if(n!=null){let u=ZC(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],tP(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],eP(o));const a=d(t,["text"]);a!=null&&p(e,["text"],a);const s=d(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function tF(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=d(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=d(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],aF(a));const s=d(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=d(t,["sessionResumptionUpdate"]);l!=null&&p(e,["sessionResumptionUpdate"],l);const u=d(t,["voiceActivityDetectionSignal"]);return u!=null&&p(e,["voiceActivityDetectionSignal"],u),e}function nF(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],Bj(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],Gj(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],vc(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function rF(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function iF(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],zj(a));const s=d(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],qj(s));const l=d(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function oF(t){const e={},n=d(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=d(t,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>Vj(h))),p(e,["functionDeclarations"],f)}const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function aF(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=d(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=d(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["promptTokensDetails"],m)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["cacheTokensDetails"],m)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["responseTokensDetails"],m)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["toolUsePromptTokensDetails"],m)}const h=d(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sF(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function lF(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],uF(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=d(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=d(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function uF(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function cF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let o=bn(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function fF(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function dF(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&p(e,["statistics"],hF(r)),e}function hF(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Td(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_B(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function pF(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function mF(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function gF(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],It(r));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>mP(s))),p(e,["tools"],a)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],sB(o)),n}function yF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=bn(i);Array.isArray(a)&&(a=a.map(s=>Td(s))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&mF(o),n}function vF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=bn(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&gF(o,n),n}function wF(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function bF(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function xF(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],ye(t,r)),n}function _F(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],ye(t,r)),n}function SF(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function EF(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function TF(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=d(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const g=d(t,["outputMimeType"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","mimeType"],g);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const v=d(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const b=d(t,["editMode"]);e!==void 0&&b!=null&&p(e,["parameters","editMode"],b);const x=d(t,["baseSteps"]);return e!==void 0&&x!=null&&p(e,["parameters","editConfig","baseSteps"],x),n}function AF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>PB(l))),p(n,["instances[0]","referenceImages"],s)}const a=d(e,["config"]);return a!=null&&TF(a,n),n}function CF(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ad(o))),p(e,["generatedImages"],i)}return e}function PF(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kF(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=d(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=d(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function IF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let s=Uv(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=d(e,["config"]);o!=null&&PF(o,n);const a=d(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],ye(t,a)),n}function OF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=Uv(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=d(e,["config"]);return o!=null&&kF(o,n),n}function NF(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function RF(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>dF(a))),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function MF(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function $F(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function DF(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LF(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&p(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function UF(t){const e={},n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=d(t,["response"]);a!=null&&p(e,["response"],a);const s=d(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function jF(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Td(It(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const g=d(e,["frequencyPenalty"]);g!=null&&p(r,["frequencyPenalty"],g);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],jv(v));const b=d(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=d(e,["safetySettings"]);if(n!==void 0&&x!=null){let M=x;Array.isArray(M)&&(M=M.map(L=>kB(L))),p(n,["safetySettings"],M)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let M=Ba(T);Array.isArray(M)&&(M=M.map(L=>DB(Fa(L)))),p(n,["tools"],M)}const S=d(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],$B(S)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Ir(t,E));const A=d(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const P=d(e,["mediaResolution"]);P!=null&&p(r,["mediaResolution"],P);const C=d(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],Fv(C)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=d(e,["thinkingConfig"]);k!=null&&p(r,["thinkingConfig"],k);const O=d(e,["imageConfig"]);O!=null&&p(r,["imageConfig"],dB(O));const I=d(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function FF(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],It(i));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(e,["topP"]);a!=null&&p(r,["topP"],a);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const g=d(e,["frequencyPenalty"]);g!=null&&p(r,["frequencyPenalty"],g);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],jv(v));const b=d(e,["responseJsonSchema"]);b!=null&&p(r,["responseJsonSchema"],b);const x=d(e,["routingConfig"]);x!=null&&p(r,["routingConfig"],x);const T=d(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let U=S;Array.isArray(U)&&(U=U.map(B=>B)),p(n,["safetySettings"],U)}const E=d(e,["tools"]);if(n!==void 0&&E!=null){let U=Ba(E);Array.isArray(U)&&(U=U.map(B=>mP(Fa(B)))),p(n,["tools"],U)}const A=d(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const P=d(e,["labels"]);n!==void 0&&P!=null&&p(n,["labels"],P);const C=d(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Ir(t,C));const k=d(e,["responseModalities"]);k!=null&&p(r,["responseModalities"],k);const O=d(e,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const I=d(e,["speechConfig"]);I!=null&&p(r,["speechConfig"],Fv(I));const M=d(e,["audioTimestamp"]);M!=null&&p(r,["audioTimestamp"],M);const L=d(e,["thinkingConfig"]);L!=null&&p(r,["thinkingConfig"],L);const j=d(e,["imageConfig"]);if(j!=null&&p(r,["imageConfig"],hB(j)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Gx(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=bn(i);Array.isArray(a)&&(a=a.map(s=>Td(s))),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],jF(t,o,n)),n}function Vx(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["contents"]);if(i!=null){let a=bn(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],FF(t,o,n)),n}function Hx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>lF(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=d(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function zx(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=d(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function BF(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=d(t,["imageSize"]);if(e!==void 0&&m!=null&&p(e,["parameters","sampleImageSize"],m),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function GF(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=d(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const g=d(t,["outputMimeType"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","mimeType"],g);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const v=d(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const b=d(t,["imageSize"]);e!==void 0&&b!=null&&p(e,["parameters","sampleImageSize"],b);const x=d(t,["enhancePrompt"]);return e!==void 0&&x!=null&&p(e,["parameters","enhancePrompt"],x),n}function VF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&BF(o,n),n}function HF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&GF(o,n),n}function zF(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>rB(a))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],hP(i)),e}function qF(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Ad(a))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],pP(i)),e}function WF(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=d(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=d(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=d(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Cd(c));const f=d(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>JB(m))),p(e,["instances[0]","referenceImages"],h)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function KF(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=d(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=d(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&p(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=d(t,["enhancePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m);const g=d(t,["generateAudio"]);e!==void 0&&g!=null&&p(e,["parameters","generateAudio"],g);const y=d(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],Wn(y));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let x=w;Array.isArray(x)&&(x=x.map(T=>YB(T))),p(e,["instances[0]","referenceImages"],x)}const v=d(t,["mask"]);e!==void 0&&v!=null&&p(e,["instances[0]","mask"],KB(v));const b=d(t,["compressionQuality"]);return e!==void 0&&b!=null&&p(e,["parameters","compressionQuality"],b),n}function JF(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],ZF(a)),e}function YF(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],eB(a)),e}function XF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],Cd(o));const a=d(e,["video"]);a!=null&&p(n,["instances[0]","video"],gP(a));const s=d(e,["source"]);s!=null&&tB(s,n);const l=d(e,["config"]);return l!=null&&WF(l,n),n}function QF(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],Wn(o));const a=d(e,["video"]);a!=null&&p(n,["instances[0]","video"],yP(a));const s=d(e,["source"]);s!=null&&nB(s,n);const l=d(e,["config"]);return l!=null&&KF(l,n),n}function ZF(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>oB(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function eB(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>aB(a))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function tB(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Cd(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],gP(o)),n}function nB(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Wn(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],yP(o)),n}function rB(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],pB(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],hP(i)),e}function Ad(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],dP(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&p(e,["safetyAttributes"],pP(i));const o=d(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function iB(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],dP(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function oB(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],qB(n)),e}function aB(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],WB(n)),e}function sB(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=d(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=d(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=d(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const g=d(t,["responseModalities"]);g!=null&&p(e,["responseModalities"],g);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const w=d(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const v=d(t,["seed"]);v!=null&&p(e,["seed"],v);const b=d(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],b);const x=d(t,["stopSequences"]);x!=null&&p(e,["stopSequences"],x);const T=d(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=d(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=d(t,["topK"]);E!=null&&p(e,["topK"],E);const A=d(t,["topP"]);if(A!=null&&p(e,["topP"],A),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lB(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],ye(t,r)),n}function uB(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],ye(t,r)),n}function cB(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function fB(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function dB(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hB(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=d(t,["personGeneration"]);i!=null&&p(e,["personGeneration"],i);const o=d(t,["outputMimeType"]);o!=null&&p(e,["imageOutputOptions","mimeType"],o);const a=d(t,["outputCompressionQuality"]);return a!=null&&p(e,["imageOutputOptions","compressionQuality"],a),e}function pB(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],ui(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function dP(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],ui(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Cd(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],ui(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Wn(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],ui(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function mB(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=d(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],oP(t,s)),r}function gB(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=d(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],oP(t,s)),r}function yB(t,e){const n={},r=d(e,["config"]);return r!=null&&mB(t,r,n),n}function vB(t,e){const n={},r=d(e,["config"]);return r!=null&&gB(t,r,n),n}function wB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=aP(i);Array.isArray(o)&&(o=o.map(a=>Ym(a))),p(e,["models"],o)}return e}function bB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=aP(i);Array.isArray(o)&&(o=o.map(a=>Xm(a))),p(e,["models"],o)}return e}function xB(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function Ym(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["version"]);o!=null&&p(e,["version"],o);const a=d(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],LB(a));const s=d(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=d(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=d(t,["temperature"]);c!=null&&p(e,["temperature"],c);const f=d(t,["maxTemperature"]);f!=null&&p(e,["maxTemperature"],f);const h=d(t,["topP"]);h!=null&&p(e,["topP"],h);const m=d(t,["topK"]);m!=null&&p(e,["topK"],m);const g=d(t,["thinking"]);return g!=null&&p(e,["thinking"],g),e}function Xm(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["versionId"]);o!=null&&p(e,["version"],o);const a=d(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>MF(h))),p(e,["endpoints"],f)}const s=d(t,["labels"]);s!=null&&p(e,["labels"],s);const l=d(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],UB(l));const u=d(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["checkpoints"],f)}return e}function _B(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],$F(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],DF(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],sF(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function SB(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],Wn(n)),e}function EB(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=d(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const m=d(t,["labels"]);return e!==void 0&&m!=null&&p(e,["labels"],m),n}function TB(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["source"]);i!=null&&CB(i,n);const o=d(e,["config"]);return o!=null&&EB(o,n),n}function AB(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ad(i))),p(e,["generatedImages"],r)}return e}function CB(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Wn(i));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>SB(s))),p(e,["instances[0]","productImages"],a)}return n}function PB(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Wn(n));const r=d(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=d(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],xB(o));const a=d(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],pF(a));const s=d(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=d(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function hP(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function pP(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function kB(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function IB(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],Wn(n)),e}function OB(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=d(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=d(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=d(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function NB(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["source"]);i!=null&&MB(i,n);const o=d(e,["config"]);return o!=null&&OB(o,n),n}function RB(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iB(i))),p(e,["generatedMasks"],r)}return e}function MB(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Wn(i));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],IB(o)),n}function $B(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],LF(r)),e}function DB(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],cB(a));const s=d(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],fB(s));const l=d(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function mP(t){const e={},n=d(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=d(t,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>UF(h))),p(e,["functionDeclarations"],f)}const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function LB(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function UB(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function jB(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function FB(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function BB(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],ye(t,r));const i=d(e,["config"]);return i!=null&&jB(i,n),n}function GB(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["config"]);return i!=null&&FB(i,n),n}function VB(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=d(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=d(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const m=d(t,["mode"]);return e!==void 0&&m!=null&&p(e,["parameters","mode"],m),n}function HB(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],ye(t,r));const i=d(e,["image"]);i!=null&&p(n,["instances[0]","image"],Wn(i));const o=d(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=d(e,["config"]);return a!=null&&VB(a,n),n}function zB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ad(o))),p(e,["generatedImages"],i)}return e}function qB(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],ui(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function WB(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],ui(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function KB(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],Wn(n));const r=d(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function JB(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Cd(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function YB(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Wn(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function gP(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],ui(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function yP(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],ui(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XB(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function QB(t){const e={},n=d(t,["config"]);return n!=null&&XB(n,e),e}function ZB(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function e4(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&ZB(r,e),e}function t4(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function n4(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=d(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function r4(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const a=d(t,["response"]);return a!=null&&p(e,["response"],o4(a)),e}function i4(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=d(t,["config"]);return i!=null&&n4(i,e),e}function o4(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function a4(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function s4(t){const e={},n=d(t,["config"]);return n!=null&&a4(n,e),e}function l4(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function vP(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=d(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=d(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function u4(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&vP(r,e),e}function c4(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f4="Content-Type",d4="X-Server-Timeout",h4="User-Agent",Qm="x-goog-api-client",p4="1.35.0",m4=`google-genai-sdk/${p4}`,g4="v1beta1",y4="v1beta";class v4{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:g4,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:y4,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&w4(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qx(i),new Wm(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qx(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Vn(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield ie(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const g=JSON.parse(f);if("error"in g){const y=JSON.parse(JSON.stringify(g.error)),w=y.status,v=y.code,b=`got status: ${w}. ${JSON.stringify(g)}`;if(v>=400&&v<600)throw new Ed({message:b,status:v})}}catch(g){if(g.name==="ApiError")throw g}a+=f;let h=-1,m=0;for(;;){h=-1,m=0;for(const w of l){const v=a.indexOf(w);v!==-1&&(h===-1||v<h)&&(h=v,m=w.length)}if(h===-1)break;const g=a.substring(0,h);a=a.substring(h+m);const y=g.trim();if(y.startsWith(s)){const w=y.substring(s.length).trim();try{const v=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ie(new Wm(v))}catch(v){throw new Error(`exception parsing stream chunk ${w}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=m4+" "+this.clientOptions.userAgentExtra;return e[h4]=n,e[Qm]=n,e[f4]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(d4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=J("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&vP(r,f);const h=await this.fetchUploadUrl(u,s,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function qx(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ed({message:i,status:n}):new Error(i)}}function w4(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b4="mcp_used/unknown";let x4=!1;function wP(t){for(const e of t)if(_4(e)||typeof e=="object"&&"inputSchema"in e)return!0;return x4}function bP(t){var e;const n=(e=t[Qm])!==null&&e!==void 0?e:"";t[Qm]=(n+` ${b4}`).trimStart()}function _4(t){return t!==null&&typeof t=="object"&&t instanceof Gv}function S4(t){return Vn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield ie(n.listTools({cursor:i}));for(const s of a.tools)yield yield ie(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class Gv{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Gv(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Hn(S4(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),tU(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function E4(t,e,n){const r=new WL;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class T4{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=P4(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(x=>{u=x}),f=e.callbacks,h=function(){u({})},m=this.apiClient,g={onopen:h,onmessage:x=>{E4(m,f.onmessage,x)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(x){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(x){}},y=this.webSocketFactory.create(l,C4(a),g);y.connect(),await c;const b={setup:{model:ye(this.apiClient,e.model)}};return y.send(JSON.stringify(b)),new A4(y,this.apiClient)}}class A4{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Qj(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Xj(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Lo.PLAY)}pause(){this.sendPlaybackControl(Lo.PAUSE)}stop(){this.sendPlaybackControl(Lo.STOP)}resetContext(){this.sendPlaybackControl(Lo.RESET_CONTEXT)}close(){this.conn.close()}}function C4(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function P4(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k4="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function I4(t,e,n){const r=new qL;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=tF(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class O4{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new T4(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&wP(e.config.tools)&&bP(f);const h=$4(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const C=this.apiClient.getApiKey();let k="BidiGenerateContent",O="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${k}?${O}=${C}`}let m=()=>{};const g=new Promise(C=>{m=C}),y=e.callbacks,w=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),m({})},v=this.apiClient,b={onopen:w,onmessage:C=>{I4(v,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},x=this.webSocketFactory.create(c,M4(h),b);x.connect(),await g;let T=ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const C=this.apiClient.getProject(),k=this.apiClient.getLocation();T=`projects/${C}/locations/${k}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Kc.AUDIO]}:e.config.responseModalities=[Kc.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const C of E)if(this.isCallableTool(C)){const k=C;A.push(await k.tool())}else A.push(C);A.length>0&&(e.config.tools=A);const P={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Yj(this.apiClient,P):S=Jj(this.apiClient,P),delete S.config,x.send(JSON.stringify(S)),new R4(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const N4={turnComplete:!0};class R4{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=bn(n.turns),e.isVertexAI()||(r=r.map(i=>Td(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(k4)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},N4),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:eF(e)}:n={realtimeInput:Zj(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function M4(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function $4(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wx=10;function Kx(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Xo(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Xo(t){return"callTool"in t&&typeof t.callTool=="function"}function D4(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Xo(i)))!==null&&r!==void 0?r:!1}function Jx(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Xo(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Yx(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L4 extends kr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!D4(n)||Kx(n.config))return await this.generateContentInternal(l);const u=Jx(n);if(u.length>0){const y=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,f;const h=bn(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Wx;let g=0;for(;g<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,w=[];for(const v of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Xo(v)){const x=await v.callTool(c.functionCalls);w.push(...x)}g++,f={role:"user",parts:w},l.contents=bn(l.contents),l.contents.push(y),l.contents.push(f),Yx(l.config)&&(h.push(y),h.push(f))}return Yx(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),Kx(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=Jx(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new eo(Sr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Xo(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&wP(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),bP(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Xo(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Wx;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return Vn(this,arguments,function*(){for(var h,m,g,y,w,v;s<o;){a&&(s++,a=!1);const S=yield ie(u.processParamsMaybeAddMcpUsage(f)),E=yield ie(u.generateContentStreamInternal(S)),A=[],P=[];try{for(var b=!0,x=(m=void 0,Hn(E)),T;T=yield ie(x.next()),h=T.done,!h;b=!0){y=T.value,b=!1;const C=y;if(yield yield ie(C),C.candidates&&(!((w=C.candidates[0])===null||w===void 0)&&w.content)){P.push(C.candidates[0].content);for(const k of(v=C.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(s<o&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(k.functionCall.name)){const O=yield ie(c.get(k.functionCall.name).callTool([k.functionCall]));A.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(C){m={error:C}}finally{try{!b&&!h&&(g=x.return)&&(yield ie(g.call(x)))}finally{if(m)throw m.error}}if(A.length>0){a=!0;const C=new ds;C.candidates=[{content:{role:"user",parts:A}}],yield yield ie(C);const k=[];k.push(...P),k.push({role:"user",parts:A});const O=bn(f.contents).concat(k);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vx(this.apiClient,e);return s=J("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=zx(c),h=new ds;return Object.assign(h,f),h})}else{const u=Gx(this.apiClient,e);return s=J("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Hx(c),h=new ds;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vx(this.apiClient,e);return s=J("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Vn(this,arguments,function*(){var h,m,g,y;try{for(var w=!0,v=Hn(f),b;b=yield ie(v.next()),h=b.done,!h;w=!0){y=b.value,w=!1;const x=y,T=zx(yield ie(x.json()));T.sdkHttpResponse={headers:x.headers};const S=new ds;Object.assign(S,T),yield yield ie(S)}}catch(x){m={error:x}}finally{try{!w&&!h&&(g=v.return)&&(yield ie(g.call(v)))}finally{if(m)throw m.error}}})})}else{const u=Gx(this.apiClient,e);return s=J("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return Vn(this,arguments,function*(){var h,m,g,y;try{for(var w=!0,v=Hn(f),b;b=yield ie(v.next()),h=b.done,!h;w=!0){y=b.value,w=!1;const x=y,T=Hx(yield ie(x.json()));T.sdkHttpResponse={headers:x.headers};const S=new ds;Object.assign(S,T),yield yield ie(S)}}catch(x){m={error:x}}finally{try{!w&&!h&&(g=v.return)&&(yield ie(g.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=OF(this.apiClient,e);return s=J("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=RF(c),h=new Tx;return Object.assign(h,f),h})}else{const u=IF(this.apiClient,e);return s=J("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=NF(c),h=new Tx;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=HF(this.apiClient,e);return s=J("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=qF(c),h=new Ax;return Object.assign(h,f),h})}else{const u=VF(this.apiClient,e);return s=J("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=zF(c),h=new Ax;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=AF(this.apiClient,e);return o=J("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=CF(l),c=new $L;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=HB(this.apiClient,e);return o=J("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=zB(l),c=new DL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=TB(this.apiClient,e);return o=J("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=AB(l),c=new LL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=NB(this.apiClient,e);return o=J("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=RB(l),c=new UL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=uB(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Xm(c))}else{const u=lB(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Ym(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=vB(this.apiClient,e);return s=J("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=bB(c),h=new Cx;return Object.assign(h,f),h})}else{const u=yB(this.apiClient,e);return s=J("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=wB(c),h=new Cx;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=GB(this.apiClient,e);return s=J("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Xm(c))}else{const u=BB(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Ym(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_F(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=EF(c),h=new Px;return Object.assign(h,f),h})}else{const u=xF(this.apiClient,e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=SF(c),h=new Px;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=vF(this.apiClient,e);return s=J("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=bF(c),h=new kx;return Object.assign(h,f),h})}else{const u=yF(this.apiClient,e);return s=J("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=wF(c),h=new kx;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=cF(this.apiClient,e);return o=J("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=fF(l),c=new jL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=QF(this.apiClient,e);return s=J("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=YF(c),h=new Jc;return Object.assign(h,f),h})}else{const u=XF(this.apiClient,e);return s=J("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const f=JF(c),h=new Jc;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U4 extends kr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=kL(e);return s=J("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=PL(e);return s=J("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=xL(e);return o=J("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j4(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function F4(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>J4(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function B4(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=d(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=d(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],K4(t,s));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function G4(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],B4(t,r,n)),n}function V4(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function H4(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function z4(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function q4(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function W4(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=d(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],Bv(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(t,["systemInstruction"]);e!==void 0&&g!=null&&p(e,["setup","systemInstruction"],F4(It(g)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let E=Ba(y);Array.isArray(E)&&(E=E.map(A=>X4(Fa(A)))),p(e,["setup","tools"],E)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],Y4(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const x=d(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&p(e,["setup","realtimeInputConfig"],x);const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=d(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function K4(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],ye(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],W4(i,n)),n}function J4(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],V4(o));const a=d(t,["functionCall"]);a!=null&&p(e,["functionCall"],H4(a));const s=d(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],j4(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Y4(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function X4(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],z4(a));const s=d(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],q4(s));const l=d(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q4(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Z4(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Q4(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class e5 extends kr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=G4(this.apiClient,e);o=J("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Z4(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t5(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function n5(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&t5(r,e),e}function r5(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function i5(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function o5(t){const e={},n=d(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&i5(r,e),e}function a5(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s5 extends kr{constructor(e){super(),this.apiClient=e,this.list=async n=>new eo(Sr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=r5(e);return o=J("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=n5(e);i=J("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=o5(e);return o=J("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=a5(l),c=new FL;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l5 extends kr{constructor(e,n=new s5(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new eo(Sr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=QB(e);return o=J("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=t4(e);return o=J("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=e4(e);i=J("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=s4(e);return o=J("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=l4(l),c=new BL;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=u4(e);return o=J("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=c4(l),c=new GL;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=i4(e);return o=J("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=r4(l),c=new Dv;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xP=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return xP=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const u5=()=>xP();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const eg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class En extends Error{}class Ut extends En{constructor(e,n,r,i){super(`${Ut.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Pd({message:r,cause:eg(n)});const o=n;return e===400?new SP(e,o,r,i):e===401?new EP(e,o,r,i):e===403?new TP(e,o,r,i):e===404?new AP(e,o,r,i):e===409?new CP(e,o,r,i):e===422?new PP(e,o,r,i):e===429?new kP(e,o,r,i):e>=500?new IP(e,o,r,i):new Ut(e,o,r,i)}}class tg extends Ut{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Pd extends Ut{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class _P extends Pd{constructor({message:e}={}){super({message:e??"Request timed out."})}}class SP extends Ut{}class EP extends Ut{}class TP extends Ut{}class AP extends Ut{}class CP extends Ut{}class PP extends Ut{}class kP extends Ut{}class IP extends Ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c5=/^[a-z][a-z0-9+.-]*:/i,f5=t=>c5.test(t);let ng=t=>(ng=Array.isArray,ng(t));const d5=ng;let h5=d5;const Xx=h5;function p5(t){if(!t)return!0;for(const e in t)return!1;return!0}function m5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const g5=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new En(`${t} must be an integer`);if(e<0)throw new En(`${t} must be a positive integer`);return e},y5=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v5=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _o="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w5(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const b5=()=>{var t,e,n,r,i;const o=w5();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":Zx(Deno.build.os),"X-Stainless-Arch":Qx(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":Zx((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Qx((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=x5();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function x5(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const Qx=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Zx=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Uu;const _5=()=>Uu??(Uu=b5());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S5(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function OP(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function E5(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return OP({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function NP(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function T5(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A5=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RP=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ap(t,e,n){return RP(),new File(t,e??"unknown_file",n)}function C5(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const P5=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MP=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",k5=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&MP(t),I5=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function O5(t,e,n){if(RP(),t=await t,k5(t))return t instanceof File?t:ap([await t.arrayBuffer()],t.name);if(I5(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ap(await rg(i),e,n)}const r=await rg(t);if(e||(e=C5(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ap(r,e,n)}async function rg(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(MP(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(P5(t))try{for(var s=!0,l=Hn(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;a.push(...await rg(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${N5(t)}`)}return a}function N5(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $P{constructor(e){this._client=e}}$P._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DP(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const e_=Object.freeze(Object.create(null)),R5=(t=DP)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,f,h)=>{var m,g,y;/[?#]/.test(f)&&(i=!0);const w=r[h];let v=(i?encodeURIComponent:t)(""+w);return h!==r.length&&(w==null||typeof w=="object"&&w.toString===((y=Object.getPrototypeOf((g=Object.getPrototypeOf((m=w.hasOwnProperty)!==null&&m!==void 0?m:e_))!==null&&g!==void 0?g:e_))===null||y===void 0?void 0:y.toString))&&(v=w+"",o.push({start:c.length+f.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":v)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,m)=>{const g=" ".repeat(m.start-c),y="^".repeat(m.length);return c=m.start+m.length,h+g+y},"");throw new En(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},ju=R5(DP);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LP extends $P{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Xc(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new En("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new En("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ju`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ju`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ju`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Xc(o,["api_version"]);return this._client.get(ju`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}LP._key=Object.freeze(["interactions"]);class UP extends LP{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M5(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Fu;function Vv(t){let e;return(Fu??(e=new globalThis.TextEncoder,Fu=e.encode.bind(e)))(t)}let Bu;function t_(t){let e;return(Bu??(e=new globalThis.TextDecoder,Bu=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vv(e):e;this.buffer=M5([this.buffer,n]);const r=[];let i;for(;(i=$5(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(t_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=t_(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}kd.NEWLINE_CHARS=new Set([`
`,"\r"]);kd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $5(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function D5(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qc={off:0,error:200,warn:300,info:400,debug:500},n_=(t,e,n)=>{if(t){if(m5(Qc,t))return t;Mt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Qc))}`)}};function ks(){}function Gu(t,e,n){return!e||Qc[t]>Qc[n]?ks:e[t].bind(e)}const L5={error:ks,warn:ks,info:ks,debug:ks};let r_=new WeakMap;function Mt(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return L5;const i=r_.get(n);if(i&&i[0]===r)return i[1];const o={error:Gu("error",n,r),warn:Gu("warn",n,r),info:Gu("info",n,r),debug:Gu("debug",n,r)};return r_.set(n,[r,o]),o}const xi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uo{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Mt(r):console;function a(){return Vn(this,arguments,function*(){var l,u,c,f;if(i)throw new En("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,g=Hn(U5(e,n)),y;y=yield ie(g.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const w=f;if(!h)if(w.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield ie(JSON.parse(w.data))}catch(v){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),v}}}catch(w){u={error:w}}finally{try{!m&&!l&&(c=g.return)&&(yield ie(c.call(g)))}finally{if(u)throw u.error}}h=!0}catch(w){if(Zm(w))return yield ie(void 0);throw w}finally{h||n.abort()}})}return new Uo(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Vn(this,arguments,function*(){var l,u,c,f;const h=new kd,m=NP(e);try{for(var g=!0,y=Hn(m),w;w=yield ie(y.next()),l=w.done,!l;g=!0){f=w.value,g=!1;const v=f;for(const b of h.decode(v))yield yield ie(b)}}catch(v){u={error:v}}finally{try{!g&&!l&&(c=y.return)&&(yield ie(c.call(y)))}finally{if(u)throw u.error}}for(const v of h.flush())yield yield ie(v)})}function a(){return Vn(this,arguments,function*(){var l,u,c,f;if(i)throw new En("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,g=Hn(o()),y;y=yield ie(g.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const w=f;h||w&&(yield yield ie(JSON.parse(w)))}}catch(w){u={error:w}}finally{try{!m&&!l&&(c=g.return)&&(yield ie(c.call(g)))}finally{if(u)throw u.error}}h=!0}catch(w){if(Zm(w))return yield ie(void 0);throw w}finally{h||n.abort()}})}return new Uo(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Uo(()=>i(e),this.controller,this.client),new Uo(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return OP({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Vv(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function U5(t,e){return Vn(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new En("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new En("Attempted to iterate over a response with no body");const s=new F5,l=new kd,u=NP(t.body);try{for(var c=!0,f=Hn(j5(u)),h;h=yield ie(f.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const g of l.decode(m)){const y=s.decode(g);y&&(yield yield ie(y))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=f.return)&&(yield ie(o.call(f)))}finally{if(i)throw i.error}}for(const m of l.flush()){const g=s.decode(m);g&&(yield yield ie(g))}})}function j5(t){return Vn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=Hn(t),u;u=yield ie(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?Vv(c):c;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let m;for(;(m=D5(a))!==-1;)yield yield ie(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield ie(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield ie(a))})}class F5{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=B5(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function B5(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function G5(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return Mt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Uo.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Mt(t).debug(`[${r}] response parsed`,xi({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hv extends Promise{constructor(e,n,r=G5){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Hv(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jP=Symbol("brand.privateNullableHeaders");function*V5(t){if(!t)return;if(jP in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Xx(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Xx(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const hs=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of V5(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[jP]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sp=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=mL)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var FP;class Id{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=sp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=sp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Xc(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:Id.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const g="warn";this.logLevel=g,this.logLevel=(a=(o=n_(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:n_(sp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:g,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:S5(),this.encoder=A5,this._options=m,this.apiKey=c,this.apiVersion=f,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=hs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return hs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return hs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new En(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_o}`}defaultIdempotencyKey(){return`stainless-node-retry-${u5()}`}makeStatusError(e,n,r,i){return Ut.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=f5(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return p5(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Hv(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,g=Date.now();if(Mt(this).debug(`[${h}] sending request`,xi({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new tg;const y=new AbortController,w=await this.fetchWithTimeout(c,u,f,y).catch(eg),v=Date.now();if(w instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new tg;const T=Zm(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return Mt(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${x}`),Mt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${x})`,xi({retryOfRequestLogID:r,url:c,durationMs:v-g,message:w.message})),this.retryRequest(s,n,r??h);throw Mt(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Mt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,xi({retryOfRequestLogID:r,url:c,durationMs:v-g,message:w.message})),T?new _P:new Pd({cause:w})}const b=`[${h}${m}] ${u.method} ${c} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${v-g}ms`;if(!w.ok){const x=await this.shouldRetry(w);if(n&&x){const C=`retrying, ${n} attempts remaining`;return await T5(w.body),Mt(this).info(`${b} - ${C}`),Mt(this).debug(`[${h}] response error (${C})`,xi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:v-g})),this.retryRequest(s,n,r??h,w.headers)}const T=x?"error; no more retries left":"error; not retryable";Mt(this).info(`${b} - ${T}`);const S=await w.text().catch(C=>eg(C).message),E=y5(S),A=E?void 0:S;throw Mt(this).debug(`[${h}] response error (${T})`,xi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:A,durationMs:Date.now()-g})),this.makeStatusError(w.status,E,A,w.headers)}return Mt(this).info(b),Mt(this).debug(`[${h}] response start`,xi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:v-g})),{response:w,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:g}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Xc(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await v5(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=a,f=this.buildURL(l,u,c);"timeout"in a&&g5("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),g=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:g},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=hs([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),_5()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=hs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:E5(e)}:this.encoder({body:e,headers:r})}}Id.DEFAULT_TIMEOUT=6e4;class pt extends Id{constructor(){super(...arguments),this.interactions=new UP(this)}}FP=pt;pt.GeminiNextGenAPIClient=FP;pt.GeminiNextGenAPIClientError=En;pt.APIError=Ut;pt.APIConnectionError=Pd;pt.APIConnectionTimeoutError=_P;pt.APIUserAbortError=tg;pt.NotFoundError=AP;pt.ConflictError=CP;pt.RateLimitError=kP;pt.BadRequestError=SP;pt.AuthenticationError=EP;pt.InternalServerError=IP;pt.PermissionDeniedError=TP;pt.UnprocessableEntityError=PP;pt.toFile=O5;pt.Interactions=UP;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H5(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function z5(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function q5(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function W5(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function K5(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=d(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=d(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=d(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function J5(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=d(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec"],i_(m))}else if(i==="PREFERENCE_TUNING"){const m=d(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec"],i_(m))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=d(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=d(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=d(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=d(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=d(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=d(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=d(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=d(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(c==="PREFERENCE_TUNING"){const m=d(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Y5(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&s3(o);const a=d(t,["config"]);return a!=null&&K5(a,n),n}function X5(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&l3(o,n,e);const a=d(t,["config"]);return a!=null&&J5(a,n,e),n}function Q5(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Z5(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function e3(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function t3(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function n3(t,e){const n={},r=d(t,["config"]);return r!=null&&e3(r,n),n}function r3(t,e){const n={},r=d(t,["config"]);return r!=null&&t3(r,n),n}function i3(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>BP(s))),p(n,["tuningJobs"],a)}return n}function o3(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>ig(s))),p(n,["tuningJobs"],a)}return n}function a3(t,e){const n={},r=d(t,["name"]);r!=null&&p(n,["model"],r);const i=d(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function s3(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function l3(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=d(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=d(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=d(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=d(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function BP(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],rP(o));const a=d(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=d(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["description"]);c!=null&&p(n,["description"],c);const f=d(t,["baseModel"]);f!=null&&p(n,["baseModel"],f);const h=d(t,["_self"]);return h!=null&&p(n,["tunedModel"],a3(h)),n}function ig(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],rP(o));const a=d(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=d(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["error"]);c!=null&&p(n,["error"],c);const f=d(t,["description"]);f!=null&&p(n,["description"],f);const h=d(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=d(t,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const g=d(t,["preTunedModel"]);g!=null&&p(n,["preTunedModel"],g);const y=d(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const w=d(t,["preferenceOptimizationSpec"]);w!=null&&p(n,["preferenceOptimizationSpec"],w);const v=d(t,["tuningDataStats"]);v!=null&&p(n,["tuningDataStats"],v);const b=d(t,["encryptionSpec"]);b!=null&&p(n,["encryptionSpec"],b);const x=d(t,["partnerModelTuningSpec"]);x!=null&&p(n,["partnerModelTuningSpec"],x);const T=d(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const S=d(t,["experiment"]);S!=null&&p(n,["experiment"],S);const E=d(t,["labels"]);E!=null&&p(n,["labels"],E);const A=d(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const P=d(t,["pipelineJob"]);P!=null&&p(n,["pipelineJob"],P);const C=d(t,["serviceAccount"]);C!=null&&p(n,["serviceAccount"],C);const k=d(t,["tunedModelDisplayName"]);k!=null&&p(n,["tunedModelDisplayName"],k);const O=d(t,["veoTuningSpec"]);return O!=null&&p(n,["veoTuningSpec"],O),n}function u3(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(t,["done"]);a!=null&&p(n,["done"],a);const s=d(t,["error"]);return s!=null&&p(n,["error"],s),n}function i_(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c3 extends kr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eo(Sr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:qm.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Z5(e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>ig(c))}else{const u=Q5(e);return s=J("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>BP(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=r3(e);return s=J("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=o3(c),h=new Ix;return Object.assign(h,f),h})}else{const u=n3(e);return s=J("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=i3(c),h=new Ix;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=z5(e);return s=J("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=W5(c),h=new Ox;return Object.assign(h,f),h})}else{const u=H5(e);return s=J("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=q5(c),h=new Ox;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=X5(e,e);return o=J("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>ig(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Y5(e);return o=J("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>u3(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const d3=1024*1024*8,h3=3,p3=1e3,m3=2,Zc="x-goog-upload-status";async function g3(t,e,n){var r;const i=await GP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Zc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function y3(t,e,n){var r;const i=await GP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Zc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=XC(o),s=new Lv;return Object.assign(s,a),s}async function GP(t,e,n){var r,i;let o=0,a=0,s=new Wm(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(d3,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=p3;for(;f<h3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Zc]));)f++,await w3(h),h=h*m3;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Zc])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function v3(t){return{size:t.size,type:t.type}}function w3(t){return new Promise(e=>setTimeout(e,t))}class b3{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await g3(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await y3(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x3{create(e,n,r){return new _3(e,n,r)}}class _3{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o_="x-goog-api-key";class S3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(o_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(o_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E3="gl-node/";class T3{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new pt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=wL(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new S3(this.apiKey);this.apiClient=new v4({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:E3+"web",uploader:new b3,downloader:new f3}),this.models=new L4(this.apiClient),this.live=new O4(this.apiClient,i,new x3),this.batches=new KU(this.apiClient),this.chats=new kj(this.models,this.apiClient),this.caches=new Aj(this.apiClient),this.files=new jj(this.apiClient),this.operations=new U4(this.apiClient),this.authTokens=new e5(this.apiClient),this.tunings=new c3(this.apiClient),this.fileSearchStores=new l5(this.apiClient)}}const A3="",VP=new T3({apiKey:A3}),HP=`
You are an expert AI nutritionist and mathematical calculator. 

SCENARIO 1: IMAGE/TEXT ESTIMATION
- Analyze food descriptions or images.
- Provide a detailed "receipt" breakdown of every ingredient.
- Estimate weights in grams (g) and calculate nutrition.

SCENARIO 2: STRICT RECALCULATION (User provided weights)
- If a list of ingredients with specific weights (grams) is provided, you MUST act as a precise calculator.
- IGNORE your previous estimations.
- Use the provided weights as the ABSOLUTE GROUND TRUTH.
- Calculate calories and macros strictly based on these weights.
- Return the recalculated totals.
`,zP=t=>{const e=(t==null?void 0:t.message)||String(t)||"",n=e.toLowerCase();return e.includes("429")||n.includes("quota")||n.includes("limit")||n.includes("exhausted")?"AI Limit Reached: You've sent too many requests. Please wait about 60 seconds for the quota to reset.":n.includes("api key")?"Configuration Error: Invalid API key. Please check your settings.":n.includes("network")||n.includes("fetch")?"Connection Error: Please check your internet connection and try again.":e||"An unexpected AI error occurred."};async function zv(t,e=2,n=2e3){try{return await t()}catch(r){const i=(r==null?void 0:r.message)||"";if((i.includes("429")||i.toLowerCase().includes("quota"))&&e>0)return console.warn(`Gemini Quota hit. Retrying in ${n}ms... (${e} retries left)`),await new Promise(a=>setTimeout(a,n)),zv(t,e-1,n*2);throw r}}const C3=async t=>{try{return await zv(async()=>{const e=await VP.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:"Analyze this image. Breakdown into ingredients, weights in grams, calories, and total nutrition."}]},config:{systemInstruction:HP,responseMimeType:"application/json",responseSchema:{type:ge.OBJECT,properties:{item:{type:ge.STRING},calories:{type:ge.INTEGER},protein:{type:ge.INTEGER},carbs:{type:ge.INTEGER},fat:{type:ge.INTEGER},confidence:{type:ge.NUMBER},ingredients:{type:ge.ARRAY,items:{type:ge.OBJECT,properties:{name:{type:ge.STRING},grams:{type:ge.INTEGER},calories:{type:ge.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(e.text||"{}")})}catch(e){throw console.error("Gemini Analysis Error:",e),new Error(zP(e))}},a_=async(t,e)=>{try{return await zv(async()=>{let n="";e&&e.length>0?n=`USER MANUAL WEIGHT CORRECTION:
        The following ingredients have been updated with exact weights. 
        Perform a mathematical calculation for the nutrition of each item based strictly on these grams:
        
        ${e.map(o=>`- ${o.name}: ${o.grams}g`).join(`
`)}
        
        CRITICAL: 
        1. Calculate calories/macros from scratch for each item.
        2. Sum the totals.
        3. Do not adjust the weights provided.
        4. Return the new AnalysisResult.`:n=`Estimate nutrition for: "${t}".`;const r=await VP.models.generateContent({model:"gemini-3-flash-preview",contents:[{parts:[{text:n}]}],config:{systemInstruction:HP,responseMimeType:"application/json",responseSchema:{type:ge.OBJECT,properties:{item:{type:ge.STRING},calories:{type:ge.INTEGER},protein:{type:ge.INTEGER},carbs:{type:ge.INTEGER},fat:{type:ge.INTEGER},confidence:{type:ge.NUMBER},ingredients:{type:ge.ARRAY,items:{type:ge.OBJECT,properties:{name:{type:ge.STRING},grams:{type:ge.INTEGER},calories:{type:ge.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(r.text||"{}")})}catch(n){throw console.error("Gemini Text Analysis Error:",n),new Error(zP(n))}};let Vu;const P3=new Uint8Array(16);function k3(){if(!Vu&&(Vu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Vu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vu(P3)}const yt=[];for(let t=0;t<256;++t)yt.push((t+256).toString(16).slice(1));function I3(t,e=0){return yt[t[e+0]]+yt[t[e+1]]+yt[t[e+2]]+yt[t[e+3]]+"-"+yt[t[e+4]]+yt[t[e+5]]+"-"+yt[t[e+6]]+yt[t[e+7]]+"-"+yt[t[e+8]]+yt[t[e+9]]+"-"+yt[t[e+10]]+yt[t[e+11]]+yt[t[e+12]]+yt[t[e+13]]+yt[t[e+14]]+yt[t[e+15]]}const O3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s_={randomUUID:O3};function N3(t,e,n){if(s_.randomUUID&&!t)return s_.randomUUID();t=t||{};const r=t.random||(t.rng||k3)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,I3(r)}const R3=(t,e=800)=>new Promise((n,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=o=>{var s;const a=new Image;a.src=(s=o.target)==null?void 0:s.result,a.onload=()=>{const l=document.createElement("canvas");let u=a.width,c=a.height;u>e&&(c=e/u*c,u=e),l.width=u,l.height=c;const f=l.getContext("2d");f==null||f.drawImage(a,0,0,u,c),n(l.toDataURL("image/jpeg",.7))},a.onerror=l=>r(l)},i.onerror=o=>r(o)}),qP=({onClose:t,onSuccess:e,editEntry:n})=>{const[r,i]=R.useState("scan"),[o,a]=R.useState(n?"details":"upload"),[s,l]=R.useState((n==null?void 0:n.imageUrl)||null),[u,c]=R.useState(!1),[f,h]=R.useState(!1),[m,g]=R.useState(!1),[y,w]=R.useState(null),v=R.useRef(null),[b,x]=R.useState(""),T=new Date,S=`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}`,[E,A]=R.useState((n==null?void 0:n.date)||T.toISOString().split("T")[0]),[P,C]=R.useState((n==null?void 0:n.time)||S),[k,O]=R.useState((n==null?void 0:n.food_item)||""),[I,M]=R.useState((n==null?void 0:n.calories.toString())||""),[L,j]=R.useState((n==null?void 0:n.protein.toString())||""),[U,B]=R.useState((n==null?void 0:n.carbs.toString())||""),[D,$]=R.useState((n==null?void 0:n.fat.toString())||""),[G,W]=R.useState((n==null?void 0:n.ingredients)||[]),[H,ee]=R.useState((n==null?void 0:n.confidence)||null),[he,Ee]=R.useState((n==null?void 0:n.originalAiResponse)||null),Fe=async Q=>{if(Q.target.files&&Q.target.files[0]){const Le=Q.target.files[0];try{const tt=await R3(Le);l(tt),w(null)}catch{w("Failed to process image.")}}},Nt=async()=>{if(s){c(!0),w(null);try{const Q=s.split(",")[1],Le=await C3(Q);K(Le),Ee(Le),a("details")}catch(Q){w(Q.message)}finally{c(!1)}}},Et=async()=>{if(b.trim()){c(!0),w(null);try{const Q=await a_(b);K(Q),Ee(Q),a("details")}catch(Q){w(Q.message)}finally{c(!1)}}},K=Q=>{O(Q.item),M(Q.calories.toString()),j(Q.protein.toString()),B(Q.carbs.toString()),$(Q.fat.toString()),W(Q.ingredients||[]),ee(Q.confidence)},ae=async()=>{h(!0),w(null);try{const Q=await a_(k,G);K(Q)}catch(Q){w(Q.message)}finally{h(!1)}},le=(Q,Le,tt)=>{const Rt=[...G];if(Le==="grams"||Le==="calories"){const cn=tt===""?0:parseInt(tt);Rt[Q]={...Rt[Q],[Le]:isNaN(cn)?0:cn}}else Rt[Q]={...Rt[Q],[Le]:tt};W(Rt)},V=Q=>{W(G.filter((Le,tt)=>tt!==Q))},Me=()=>{W([...G,{name:"",grams:100,calories:0}])},pe=async()=>{if(!k.trim()||!I){w("Please fill required fields.");return}try{const[Q,Le,tt]=E.split("-").map(Number),[Rt,cn]=P.split(":").map(Number),so=new Date(Q,Le-1,tt,Rt,cn);if(isNaN(so.getTime()))throw new Error("Invalid date or time selected.");const mu=so.toISOString(),rs=Number(I),ON=Number(L)||0,NN=Number(U)||0,RN=Number(D)||0;if(isNaN(rs))throw new Error("Calories must be a valid number.");const MN={id:(n==null?void 0:n.id)||N3(),timestamp:mu,date:E,time:P,food_item:k,calories:rs,protein:ON,carbs:NN,fat:RN,confidence:H||1,imageUrl:s||void 0,ingredients:G,originalAiResponse:he};g(!0),w(null),await VC(MN),e()}catch(Q){console.error("Save failed:",Q),w(Q.message||"Failed to save record.")}finally{g(!1)}},$e=y==null?void 0:y.includes("Limit Reached"),De=y==null?void 0:y.includes("Database Quota"),Ye=y==null?void 0:y.includes("Browser Storage Full");return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] p-6 shadow-2xl border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[o==="details"&&!n&&_.jsx("button",{onClick:()=>a("upload"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:_.jsx(dC,{size:24,className:"text-gray-900 dark:text-gray-50"})}),_.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-gray-50 tracking-tight",children:n?"Edit Record":o==="upload"?"Track Meal":"Meal Receipt"})]}),_.jsx("button",{onClick:t,className:"p-2 bg-gray-100 dark:bg-white/5 rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:_.jsx(ca,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),y&&_.jsxs("div",{className:`mb-4 p-4 rounded-3xl flex flex-col gap-3 animate-in shake-1 duration-300 ${$e?"bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/30 text-amber-700 dark:text-amber-400":De||Ye?"bg-orange-50 dark:bg-orange-950/30 border border-orange-100 dark:border-orange-900/30 text-orange-700 dark:text-orange-400":"bg-red-50 dark:bg-red-950/20 border border-red-100 dark:border-red-900/30 text-red-600 dark:text-red-400"}`,children:[_.jsxs("div",{className:"flex items-start gap-3",children:[$e?_.jsx(y$,{className:"shrink-0 mt-0.5",size:18}):De||Ye?_.jsx(m$,{className:"shrink-0 mt-0.5",size:18}):_.jsx(uC,{className:"shrink-0 mt-0.5",size:18}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:$e?"AI limit reached":Ye?"Phone Storage Full":De?"Cloud Storage Full":"Action Failed"}),_.jsx("p",{className:"text-xs font-semibold leading-relaxed",children:y})]})]}),!Ye&&($e||!De)&&_.jsxs("button",{onClick:()=>{w(null),o==="upload"?Nt():ae()},className:"w-full py-2 bg-white/50 dark:bg-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/80 dark:hover:bg-white/20 transition-all",children:[_.jsx(A$,{size:14})," Try Again"]}),Ye&&_.jsx("div",{className:"pt-2 border-t border-orange-200 dark:border-orange-900/40",children:_.jsx("p",{className:"text-[10px] font-medium text-orange-600/70 dark:text-orange-400/70 italic",children:"Tip: Photos take up the most space. Delete old entries in the History tab to free up browser storage."})})]}),o==="upload"?_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-[20px]",children:[_.jsxs("button",{onClick:()=>i("scan"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="scan"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[_.jsx(Fs,{size:16}),"Scan"]}),_.jsxs("button",{onClick:()=>i("chat"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="chat"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[_.jsx(x$,{size:16}),"Chat"]}),_.jsxs("button",{onClick:()=>i("recipe"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="recipe"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[_.jsx(Vc,{size:16}),"Recipe"]})]}),r==="scan"&&_.jsxs(_.Fragment,{children:[s?_.jsxs("div",{className:"rounded-[32px] overflow-hidden h-64 relative mb-6 shadow-xl border border-white/10",children:[_.jsx("img",{src:s,className:"w-full h-full object-cover"}),_.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 bg-black/40 text-white p-2 rounded-full backdrop-blur-md",children:_.jsx(ca,{size:20})})]}):_.jsxs("div",{onClick:()=>{var Q;return(Q=v.current)==null?void 0:Q.click()},className:"border-2 border-dashed border-gray-200 dark:border-white/10 rounded-[32px] h-64 flex flex-col items-center justify-center cursor-pointer hover:border-royal-400 hover:bg-royal-50 dark:hover:bg-white/5 transition-all group",children:[_.jsx(Fs,{size:48,className:"text-gray-300 group-hover:text-royal-600 mb-4 transition-colors"}),_.jsx("p",{className:"text-gray-900 dark:text-gray-50 font-bold",children:"Snap or Upload Photo"}),_.jsx("p",{className:"text-gray-400 text-xs mt-1 italic",children:"Let AI do the calorie math"})]}),_.jsx("input",{type:"file",ref:v,accept:"image/*",onChange:Fe,className:"hidden"}),_.jsx(nn,{className:"w-full py-5 text-lg font-black",disabled:!s||u,isLoading:u,onClick:Nt,children:"Analyze Plate"})]}),r==="chat"&&_.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[_.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/40 p-5 rounded-[32px] border border-royal-100 dark:border-royal-900/30 transition-colors",children:[_.jsxs("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[_.jsx(Ko,{size:14})," Describe your meal"]}),_.jsx("textarea",{value:b,onChange:Q=>x(Q.target.value),placeholder:"e.g. I had two slices of pepperoni pizza and a small Caesar salad with Italian dressing.",rows:4,className:"w-full bg-transparent border-none outline-none text-gray-900 dark:text-white font-medium text-sm resize-none placeholder-gray-400 dark:placeholder-gray-600"})]}),_.jsx(nn,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",disabled:!b.trim()||u,isLoading:u,onClick:Et,children:"Ask AI"})]}),r==="recipe"&&_.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 text-center py-6",children:[_.jsx(Vc,{size:40,className:"mx-auto text-royal-400 mb-2"}),_.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Recipe Mode Coming Soon"}),_.jsx("p",{className:"text-xs font-medium text-gray-400 px-8",children:"For now, use Chat mode to describe your recipe ingredients for estimation."}),_.jsx(nn,{className:"w-full py-3 mt-4 text-xs font-bold text-gray-400 hover:text-royal-500 bg-gray-50 dark:bg-white/5",onClick:()=>a("details"),children:"Enter Details Manually"})]}),r!=="recipe"&&_.jsx("button",{onClick:()=>a("details"),className:"w-full py-3 text-sm font-bold text-gray-400 dark:text-gray-600 hover:text-royal-500",children:"Enter Details Manually"})]}):_.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[_.jsxs("div",{className:"bg-royal-600 rounded-[32px] p-6 text-white shadow-xl shadow-royal-200 dark:shadow-none",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-royal-100 text-[10px] font-black uppercase tracking-widest mb-1",children:"Estimated Calories"}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("input",{type:"number",value:I,onChange:Q=>M(Q.target.value),className:"bg-transparent text-4xl font-black w-24 outline-none border-b-2 border-white/20 focus:border-white transition-colors"}),_.jsx("span",{className:"text-xl font-bold opacity-70",children:"kcal"})]})]}),_.jsx("div",{className:"bg-white/20 p-3 rounded-2xl backdrop-blur-md",children:_.jsx(Cv,{size:24})})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[_.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[_.jsxs("span",{className:"text-xs font-black",children:[L,"g"]}),_.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Protein"})]}),_.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[_.jsxs("span",{className:"text-xs font-black",children:[U,"g"]}),_.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Carbs"})]}),_.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[_.jsxs("span",{className:"text-xs font-black",children:[D,"g"]}),_.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Fat"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[_.jsx(wd,{size:18,className:"text-royal-400"}),_.jsx("input",{type:"date",value:E,onChange:Q=>A(Q.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]}),_.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[_.jsx(hC,{size:18,className:"text-royal-400"}),_.jsx("input",{type:"time",value:P,onChange:Q=>C(Q.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Meal Title"}),_.jsx("input",{type:"text",value:k,onChange:Q=>O(Q.target.value),className:"w-full p-4 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-2xl font-bold dark:text-white mt-1"})]}),_.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-[32px] p-5 border border-gray-100 dark:border-white/5",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[_.jsx(Ko,{size:14,className:"text-royal-500"})," Ingredient Receipt"]}),_.jsx("button",{onClick:Me,className:"text-royal-500 hover:text-royal-600",children:_.jsx(E$,{size:18})})]}),_.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto no-scrollbar pr-1",children:G.map((Q,Le)=>_.jsxs("div",{className:"flex items-center gap-2 group animate-in slide-in-from-left duration-200",children:[_.jsx("input",{type:"text",value:Q.name,onChange:tt=>le(Le,"name",tt.target.value),className:"flex-1 bg-white dark:bg-white/10 p-2.5 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none focus:border-royal-300 dark:text-white",placeholder:"Ingredient"}),_.jsxs("div",{className:"relative w-20",children:[_.jsx("input",{type:"number",value:Q.grams===0?"":Q.grams,onChange:tt=>le(Le,"grams",tt.target.value),className:"w-full bg-white dark:bg-white/10 p-2.5 pr-6 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none text-right dark:text-white"}),_.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[8px] font-black text-gray-400",children:"g"})]}),_.jsx("button",{onClick:()=>V(Le),className:"text-red-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(yC,{size:16})})]},Le))}),_.jsxs(nn,{variant:"ghost",className:"w-full mt-4 py-3 text-[10px] font-black uppercase tracking-widest text-royal-600 bg-royal-100/50 hover:bg-royal-100",onClick:ae,isLoading:f,children:[_.jsx(mC,{size:14,className:`mr-2 ${f?"animate-spin":""}`}),"Recalculate Totals"]})]}),_.jsx(nn,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",onClick:pe,isLoading:m,disabled:m,children:n?"Update Record":"Save & Track"})]})]})})},M3=({currentGoal:t,onClose:e,onSave:n})=>{const[r,i]=R.useState(t.toString()),o=()=>{const a=parseInt(r,10);!isNaN(a)&&a>0&&n(a)};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white w-full max-w-xs rounded-[32px] p-6 shadow-2xl border border-white/50 animate-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg font-extrabold text-gray-900",children:"Daily Calorie Goal"}),_.jsx("button",{onClick:e,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:_.jsx(ca,{size:18,className:"text-gray-600"})})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Target Calories"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:r,onChange:a=>i(a.target.value),className:"w-full p-5 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 transition-all font-extrabold text-3xl text-center text-gray-900",autoFocus:!0}),_.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-bold",children:"kcal"})]})]}),_.jsx(nn,{className:"w-full py-4 shadow-lg shadow-royal-200",onClick:o,children:"Update Goal"})]})})},WP=({entry:t,onClose:e,onDelete:n,onEdit:r})=>{const[i,o]=R.useState(!1),[a,s]=R.useState(!1),l=async()=>{confirm("Permanently remove this record?")&&(o(!0),await n(t.id),e())},u=async()=>{if(confirm("Remove the photo to save storage space? Nutritional data will be kept.")){s(!0);try{const c={...t,imageUrl:void 0};await VC(c),e(),window.dispatchEvent(new CustomEvent("food-entry-updated"))}catch(c){console.error("Failed to clear image",c)}finally{s(!1)}}};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 dark:bg-black/60 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl dark:shadow-black border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[_.jsxs("div",{className:"relative h-64 bg-gray-100 dark:bg-white/5",children:[t.imageUrl?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"}),_.jsxs("button",{onClick:u,disabled:a,className:"absolute bottom-4 right-4 p-2.5 bg-white/20 hover:bg-white/40 text-white rounded-full backdrop-blur-md border border-white/20 transition-all flex items-center gap-2",title:"Remove photo to save space",children:[a?_.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):_.jsx(v$,{size:18}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Clear Image"})]})]}):_.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 dark:text-gray-700",children:[_.jsx(Vc,{size:48,className:"mb-2 opacity-50"}),_.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"No Photo Attached"})]}),_.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 dark:bg-black/40 text-gray-900 dark:text-white rounded-full backdrop-blur-md hover:bg-white dark:hover:bg-black/60 shadow-lg transition-colors z-10",children:_.jsx(ca,{size:20})}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent pointer-events-none"}),_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white pointer-events-none",children:[_.jsx("h2",{className:"text-3xl font-black leading-tight tracking-tight",children:t.food_item}),_.jsxs("div",{className:"flex items-center gap-4 text-xs text-white/70 font-bold mt-2",children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(wd,{size:14})," ",t.date]}),_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(hC,{size:14})," ",t.time]})]})]})]}),_.jsxs("div",{className:"p-8 space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[_.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/20 p-3 rounded-2xl flex flex-col items-center border border-royal-100/50",children:[_.jsx("span",{className:"text-lg font-black text-royal-600",children:t.calories}),_.jsx("span",{className:"text-[8px] font-black uppercase text-royal-400",children:"kcal"})]}),_.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/20 p-3 rounded-2xl flex flex-col items-center border border-emerald-100/50",children:[_.jsxs("span",{className:"text-lg font-black text-emerald-600",children:[t.protein,"g"]}),_.jsx("span",{className:"text-[8px] font-black uppercase text-emerald-400",children:"Prot"})]}),_.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-2xl flex flex-col items-center border border-blue-100/50",children:[_.jsxs("span",{className:"text-lg font-black text-blue-600",children:[t.carbs,"g"]}),_.jsx("span",{className:"text-[8px] font-black uppercase text-blue-400",children:"Carb"})]}),_.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 p-3 rounded-2xl flex flex-col items-center border border-orange-100/50",children:[_.jsxs("span",{className:"text-lg font-black text-orange-600",children:[t.fat,"g"]}),_.jsx("span",{className:"text-[8px] font-black uppercase text-orange-400",children:"Fat"})]})]}),t.ingredients&&t.ingredients.length>0&&_.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-3xl p-6 border border-gray-100 dark:border-white/5",children:[_.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[_.jsx(w$,{size:14})," Ingredient Receipt"]}),_.jsx("div",{className:"space-y-3",children:t.ingredients.map((c,f)=>_.jsxs("div",{className:"flex justify-between items-center text-sm font-bold border-b border-gray-100 dark:border-white/5 pb-2 last:border-0 last:pb-0",children:[_.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c.name}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("span",{className:"text-gray-400",children:[c.grams,"g"]}),_.jsxs("span",{className:"text-royal-500 text-xs w-12 text-right",children:[c.calories,"cal"]})]})]},f))})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs(nn,{variant:"ghost",className:"flex-1 text-red-500 py-4 font-black",onClick:l,isLoading:i,children:[_.jsx(yC,{size:18,className:"mr-2"})," Delete"]}),_.jsxs(nn,{className:"flex-[2] py-4 font-black shadow-lg shadow-royal-200",onClick:()=>r(t),children:[_.jsx(pC,{size:18,className:"mr-2"})," Edit Meal"]})]})]})]})})};var $3=Array.isArray,Kt=$3,D3=typeof gu=="object"&&gu&&gu.Object===Object&&gu,KP=D3,L3=KP,U3=typeof self=="object"&&self&&self.Object===Object&&self,j3=L3||U3||Function("return this")(),sr=j3,F3=sr,B3=F3.Symbol,uu=B3,l_=uu,JP=Object.prototype,G3=JP.hasOwnProperty,V3=JP.toString,ps=l_?l_.toStringTag:void 0;function H3(t){var e=G3.call(t,ps),n=t[ps];try{t[ps]=void 0;var r=!0}catch{}var i=V3.call(t);return r&&(e?t[ps]=n:delete t[ps]),i}var z3=H3,q3=Object.prototype,W3=q3.toString;function K3(t){return W3.call(t)}var J3=K3,u_=uu,Y3=z3,X3=J3,Q3="[object Null]",Z3="[object Undefined]",c_=u_?u_.toStringTag:void 0;function eG(t){return t==null?t===void 0?Z3:Q3:c_&&c_ in Object(t)?Y3(t):X3(t)}var Or=eG;function tG(t){return t!=null&&typeof t=="object"}var Nr=tG,nG=Or,rG=Nr,iG="[object Symbol]";function oG(t){return typeof t=="symbol"||rG(t)&&nG(t)==iG}var Va=oG,aG=Kt,sG=Va,lG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uG=/^\w*$/;function cG(t,e){if(aG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||sG(t)?!0:uG.test(t)||!lG.test(t)||e!=null&&t in Object(e)}var qv=cG;function fG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ci=fG;const Ha=ke(ci);var dG=Or,hG=ci,pG="[object AsyncFunction]",mG="[object Function]",gG="[object GeneratorFunction]",yG="[object Proxy]";function vG(t){if(!hG(t))return!1;var e=dG(t);return e==mG||e==gG||e==pG||e==yG}var Wv=vG;const fe=ke(Wv);var wG=sr,bG=wG["__core-js_shared__"],xG=bG,lp=xG,f_=function(){var t=/[^.]+$/.exec(lp&&lp.keys&&lp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _G(t){return!!f_&&f_ in t}var SG=_G,EG=Function.prototype,TG=EG.toString;function AG(t){if(t!=null){try{return TG.call(t)}catch{}try{return t+""}catch{}}return""}var YP=AG,CG=Wv,PG=SG,kG=ci,IG=YP,OG=/[\\^$.*+?()[\]{}|]/g,NG=/^\[object .+?Constructor\]$/,RG=Function.prototype,MG=Object.prototype,$G=RG.toString,DG=MG.hasOwnProperty,LG=RegExp("^"+$G.call(DG).replace(OG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UG(t){if(!kG(t)||PG(t))return!1;var e=CG(t)?LG:NG;return e.test(IG(t))}var jG=UG;function FG(t,e){return t==null?void 0:t[e]}var BG=FG,GG=jG,VG=BG;function HG(t,e){var n=VG(t,e);return GG(n)?n:void 0}var to=HG,zG=to,qG=zG(Object,"create"),Od=qG,d_=Od;function WG(){this.__data__=d_?d_(null):{},this.size=0}var KG=WG;function JG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var YG=JG,XG=Od,QG="__lodash_hash_undefined__",ZG=Object.prototype,eV=ZG.hasOwnProperty;function tV(t){var e=this.__data__;if(XG){var n=e[t];return n===QG?void 0:n}return eV.call(e,t)?e[t]:void 0}var nV=tV,rV=Od,iV=Object.prototype,oV=iV.hasOwnProperty;function aV(t){var e=this.__data__;return rV?e[t]!==void 0:oV.call(e,t)}var sV=aV,lV=Od,uV="__lodash_hash_undefined__";function cV(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lV&&e===void 0?uV:e,this}var fV=cV,dV=KG,hV=YG,pV=nV,mV=sV,gV=fV;function za(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}za.prototype.clear=dV;za.prototype.delete=hV;za.prototype.get=pV;za.prototype.has=mV;za.prototype.set=gV;var yV=za;function vV(){this.__data__=[],this.size=0}var wV=vV;function bV(t,e){return t===e||t!==t&&e!==e}var Kv=bV,xV=Kv;function _V(t,e){for(var n=t.length;n--;)if(xV(t[n][0],e))return n;return-1}var Nd=_V,SV=Nd,EV=Array.prototype,TV=EV.splice;function AV(t){var e=this.__data__,n=SV(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():TV.call(e,n,1),--this.size,!0}var CV=AV,PV=Nd;function kV(t){var e=this.__data__,n=PV(e,t);return n<0?void 0:e[n][1]}var IV=kV,OV=Nd;function NV(t){return OV(this.__data__,t)>-1}var RV=NV,MV=Nd;function $V(t,e){var n=this.__data__,r=MV(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var DV=$V,LV=wV,UV=CV,jV=IV,FV=RV,BV=DV;function qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qa.prototype.clear=LV;qa.prototype.delete=UV;qa.prototype.get=jV;qa.prototype.has=FV;qa.prototype.set=BV;var Rd=qa,GV=to,VV=sr,HV=GV(VV,"Map"),Jv=HV,h_=yV,zV=Rd,qV=Jv;function WV(){this.size=0,this.__data__={hash:new h_,map:new(qV||zV),string:new h_}}var KV=WV;function JV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var YV=JV,XV=YV;function QV(t,e){var n=t.__data__;return XV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Md=QV,ZV=Md;function eH(t){var e=ZV(this,t).delete(t);return this.size-=e?1:0,e}var tH=eH,nH=Md;function rH(t){return nH(this,t).get(t)}var iH=rH,oH=Md;function aH(t){return oH(this,t).has(t)}var sH=aH,lH=Md;function uH(t,e){var n=lH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var cH=uH,fH=KV,dH=tH,hH=iH,pH=sH,mH=cH;function Wa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wa.prototype.clear=fH;Wa.prototype.delete=dH;Wa.prototype.get=hH;Wa.prototype.has=pH;Wa.prototype.set=mH;var Yv=Wa,XP=Yv,gH="Expected a function";function Xv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Xv.Cache||XP),n}Xv.Cache=XP;var QP=Xv;const yH=ke(QP);var vH=QP,wH=500;function bH(t){var e=vH(t,function(r){return n.size===wH&&n.clear(),r}),n=e.cache;return e}var xH=bH,_H=xH,SH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EH=/\\(\\)?/g,TH=_H(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SH,function(n,r,i,o){e.push(i?o.replace(EH,"$1"):r||n)}),e}),AH=TH;function CH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Qv=CH,p_=uu,PH=Qv,kH=Kt,IH=Va,m_=p_?p_.prototype:void 0,g_=m_?m_.toString:void 0;function ZP(t){if(typeof t=="string")return t;if(kH(t))return PH(t,ZP)+"";if(IH(t))return g_?g_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var OH=ZP,NH=OH;function RH(t){return t==null?"":NH(t)}var ek=RH,MH=Kt,$H=qv,DH=AH,LH=ek;function UH(t,e){return MH(t)?t:$H(t,e)?[t]:DH(LH(t))}var tk=UH,jH=Va;function FH(t){if(typeof t=="string"||jH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $d=FH,BH=tk,GH=$d;function VH(t,e){e=BH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[GH(e[n++])];return n&&n==r?t:void 0}var Zv=VH,HH=Zv;function zH(t,e,n){var r=t==null?void 0:HH(t,e);return r===void 0?n:r}var nk=zH;const xn=ke(nk);function qH(t){return t==null}var WH=qH;const oe=ke(WH);var KH=Or,JH=Kt,YH=Nr,XH="[object String]";function QH(t){return typeof t=="string"||!JH(t)&&YH(t)&&KH(t)==XH}var ZH=QH;const Wi=ke(ZH);var rk={exports:{}},_e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=Symbol.for("react.element"),t0=Symbol.for("react.portal"),Dd=Symbol.for("react.fragment"),Ld=Symbol.for("react.strict_mode"),Ud=Symbol.for("react.profiler"),jd=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),ez=Symbol.for("react.server_context"),Bd=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Vd=Symbol.for("react.suspense_list"),Hd=Symbol.for("react.memo"),zd=Symbol.for("react.lazy"),tz=Symbol.for("react.offscreen"),ik;ik=Symbol.for("react.module.reference");function Cn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case e0:switch(t=t.type,t){case Dd:case Ud:case Ld:case Gd:case Vd:return t;default:switch(t=t&&t.$$typeof,t){case ez:case Fd:case Bd:case zd:case Hd:case jd:return t;default:return e}}case t0:return e}}}_e.ContextConsumer=Fd;_e.ContextProvider=jd;_e.Element=e0;_e.ForwardRef=Bd;_e.Fragment=Dd;_e.Lazy=zd;_e.Memo=Hd;_e.Portal=t0;_e.Profiler=Ud;_e.StrictMode=Ld;_e.Suspense=Gd;_e.SuspenseList=Vd;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(t){return Cn(t)===Fd};_e.isContextProvider=function(t){return Cn(t)===jd};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===e0};_e.isForwardRef=function(t){return Cn(t)===Bd};_e.isFragment=function(t){return Cn(t)===Dd};_e.isLazy=function(t){return Cn(t)===zd};_e.isMemo=function(t){return Cn(t)===Hd};_e.isPortal=function(t){return Cn(t)===t0};_e.isProfiler=function(t){return Cn(t)===Ud};_e.isStrictMode=function(t){return Cn(t)===Ld};_e.isSuspense=function(t){return Cn(t)===Gd};_e.isSuspenseList=function(t){return Cn(t)===Vd};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dd||t===Ud||t===Ld||t===Gd||t===Vd||t===tz||typeof t=="object"&&t!==null&&(t.$$typeof===zd||t.$$typeof===Hd||t.$$typeof===jd||t.$$typeof===Fd||t.$$typeof===Bd||t.$$typeof===ik||t.getModuleId!==void 0)};_e.typeOf=Cn;rk.exports=_e;var nz=rk.exports,rz=Or,iz=Nr,oz="[object Number]";function az(t){return typeof t=="number"||iz(t)&&rz(t)==oz}var ok=az;const sz=ke(ok);var lz=ok;function uz(t){return lz(t)&&t!=+t}var cz=uz;const Ka=ke(cz);var Fn=function(e){return e===0?0:e>0?1:-1},Oi=function(e){return Wi(e)&&e.indexOf("%")===e.length-1},q=function(e){return sz(e)&&!Ka(e)},fz=function(e){return oe(e)},st=function(e){return q(e)||Wi(e)},dz=0,no=function(e){var n=++dz;return"".concat(e||"").concat(n)},Ki=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!q(e)&&!Wi(e))return r;var o;if(Oi(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Ka(o)&&(o=r),i&&o>n&&(o=n),o},So=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Je=function(e,n){return q(e)&&q(n)?function(r){return e+r*(n-e)}:function(){return n}};function ef(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):xn(r,e))===n})}var pz=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,l=-1/0,u=0,c=0,f=0;f<n;f++)u=e[f].cx||0,c=e[f].cy||0,r+=u,i+=c,o+=u*c,a+=u*u,s=Math.min(s,u),l=Math.max(l,u);var h=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:l,a:h,b:(i-h*r)/n}},mz=function(e,n){return q(e)&&q(n)?e-n:Wi(e)&&Wi(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Qo(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}var gz=["viewBox","children"],yz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y_=["points","pathLength"],up={svg:gz,polygon:y_,polyline:y_},n0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tf=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!Ha(r))return null;var i={};return Object.keys(r).forEach(function(o){n0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},vz=function(e,n,r){return function(i){return e(n,r,i),null}},xl=function(e,n,r){if(!Ha(e)||og(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];n0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=vz(a,n,r))}),i},wz=["children"],bz=["children"];function v_(t,e){if(t==null)return{};var n=xz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}var w_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},b_=null,cp=null,r0=function t(e){if(e===b_&&Array.isArray(cp))return cp;var n=[];return R.Children.forEach(e,function(r){oe(r)||(nz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),cp=n,b_=e,n};function Wt(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return yr(i)}):r=[yr(e)],r0(t).forEach(function(i){var o=xn(i,"type.displayName")||xn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Zt(t,e){var n=Wt(t,e);return n&&n[0]}var x_=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!q(r)||r<=0||!q(i)||i<=0)},_z=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Sz=function(e){return e&&e.type&&Wi(e.type)&&_z.indexOf(e.type)>=0},ak=function(e){return e&&ag(e)==="object"&&"clipDot"in e},Ez=function(e,n,r,i){var o,a=(o=up==null?void 0:up[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!fe(e)&&(i&&a.includes(n)||yz.includes(n))||r&&n0.includes(n)},se=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Ha(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Ez((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},sg=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return __(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!__(o,a))return!1}return!0},__=function(e,n){if(oe(e)&&oe(n))return!0;if(!oe(e)&&!oe(n)){var r=e.props||{},i=r.children,o=v_(r,wz),a=n.props||{},s=a.children,l=v_(a,bz);return i&&s?Qo(o,l)&&sg(i,s):!i&&!s?Qo(o,l):!1}return!1},S_=function(e,n){var r=[],i={};return r0(e).forEach(function(o,a){if(Sz(o))r.push(o);else if(o){var s=yr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},Tz=function(e){var n=e&&e.type;return n&&w_[n]?w_[n]:null},Az=function(e,n){return r0(n).indexOf(e)},Cz=["children","width","height","viewBox","className","style","title","desc"];function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function Pz(t,e){if(t==null)return{};var n=kz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ug(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Pz(t,Cz),c=i||{width:n,height:r,x:0,y:0},f=ce("recharts-surface",o);return N.createElement("svg",lg({},se(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),N.createElement("title",null,s),N.createElement("desc",null,l),e)}var Iz=["children","className"];function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function Oz(t,e){if(t==null)return{};var n=Nz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var we=N.forwardRef(function(t,e){var n=t.children,r=t.className,i=Oz(t,Iz),o=ce("recharts-layer",r);return N.createElement("g",cg({className:o},se(i,!0),{ref:e}),n)}),Ui=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Rz(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Mz=Rz,$z=Mz;function Dz(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:$z(t,e,n)}var Lz=Dz,Uz="\\ud800-\\udfff",jz="\\u0300-\\u036f",Fz="\\ufe20-\\ufe2f",Bz="\\u20d0-\\u20ff",Gz=jz+Fz+Bz,Vz="\\ufe0e\\ufe0f",Hz="\\u200d",zz=RegExp("["+Hz+Uz+Gz+Vz+"]");function qz(t){return zz.test(t)}var sk=qz;function Wz(t){return t.split("")}var Kz=Wz,lk="\\ud800-\\udfff",Jz="\\u0300-\\u036f",Yz="\\ufe20-\\ufe2f",Xz="\\u20d0-\\u20ff",Qz=Jz+Yz+Xz,Zz="\\ufe0e\\ufe0f",eq="["+lk+"]",fg="["+Qz+"]",dg="\\ud83c[\\udffb-\\udfff]",tq="(?:"+fg+"|"+dg+")",uk="[^"+lk+"]",ck="(?:\\ud83c[\\udde6-\\uddff]){2}",fk="[\\ud800-\\udbff][\\udc00-\\udfff]",nq="\\u200d",dk=tq+"?",hk="["+Zz+"]?",rq="(?:"+nq+"(?:"+[uk,ck,fk].join("|")+")"+hk+dk+")*",iq=hk+dk+rq,oq="(?:"+[uk+fg+"?",fg,ck,fk,eq].join("|")+")",aq=RegExp(dg+"(?="+dg+")|"+oq+iq,"g");function sq(t){return t.match(aq)||[]}var lq=sq,uq=Kz,cq=sk,fq=lq;function dq(t){return cq(t)?fq(t):uq(t)}var hq=dq,pq=Lz,mq=sk,gq=hq,yq=ek;function vq(t){return function(e){e=yq(e);var n=mq(e)?gq(e):void 0,r=n?n[0]:e.charAt(0),i=n?pq(n,1).join(""):e.slice(1);return r[t]()+i}}var wq=vq,bq=wq,xq=bq("toUpperCase"),_q=xq;const qd=ke(_q);function Ce(t){return function(){return t}}const pk=Math.cos,nf=Math.sin,Kn=Math.sqrt,rf=Math.PI,Wd=2*rf,hg=Math.PI,pg=2*hg,_i=1e-6,Sq=pg-_i;function mk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Eq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mk;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Tq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mk:Eq(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>_i)if(!(Math.abs(f*l-u*c)>_i)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=i-s,y=l*l+u*u,w=m*m+g*g,v=Math.sqrt(y),b=Math.sqrt(h),x=o*Math.tan((hg-Math.acos((y+h-w)/(2*v*b)))/2),T=x/b,S=x/v;Math.abs(T-1)>_i&&this._append`L${e+T*c},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*m>c*g)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>_i||Math.abs(this._y1-c)>_i)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%pg+pg),h>Sq?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>_i&&this._append`A${r},${r},0,${+(h>=hg)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function i0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Tq(e)}function o0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gk(t){this._context=t}gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kd(t){return new gk(t)}function yk(t){return t[0]}function vk(t){return t[1]}function wk(t,e){var n=Ce(!0),r=null,i=Kd,o=null,a=i0(s);t=typeof t=="function"?t:t===void 0?yk:Ce(t),e=typeof e=="function"?e:e===void 0?vk:Ce(e);function s(l){var u,c=(l=o0(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ce(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ce(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ce(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Hu(t,e,n){var r=null,i=Ce(!0),o=null,a=Kd,s=null,l=i0(u);t=typeof t=="function"?t:t===void 0?yk:Ce(+t),e=typeof e=="function"?e:Ce(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vk:Ce(+n);function u(f){var h,m,g,y=(f=o0(f)).length,w,v=!1,b,x=new Array(y),T=new Array(y);for(o==null&&(s=a(b=l())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(x[g],T[g]);s.lineEnd(),s.areaEnd()}v&&(x[h]=+t(w,h,f),T[h]=+e(w,h,f),s.point(r?+r(w,h,f):x[h],n?+n(w,h,f):T[h]))}if(b)return s=null,b+""||null}function c(){return wk().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ce(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ce(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ce(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ce(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ce(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ce(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ce(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class bk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Aq(t){return new bk(t,!0)}function Cq(t){return new bk(t,!1)}const a0={draw(t,e){const n=Kn(e/rf);t.moveTo(n,0),t.arc(0,0,n,0,Wd)}},Pq={draw(t,e){const n=Kn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xk=Kn(1/3),kq=xk*2,Iq={draw(t,e){const n=Kn(e/kq),r=n*xk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Oq={draw(t,e){const n=Kn(e),r=-n/2;t.rect(r,r,n,n)}},Nq=.8908130915292852,_k=nf(rf/10)/nf(7*rf/10),Rq=nf(Wd/10)*_k,Mq=-pk(Wd/10)*_k,$q={draw(t,e){const n=Kn(e*Nq),r=Rq*n,i=Mq*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Wd*o/5,s=pk(a),l=nf(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},fp=Kn(3),Dq={draw(t,e){const n=-Kn(e/(fp*3));t.moveTo(0,n*2),t.lineTo(-fp*n,-n),t.lineTo(fp*n,-n),t.closePath()}},fn=-.5,dn=Kn(3)/2,mg=1/Kn(12),Lq=(mg/2+1)*3,Uq={draw(t,e){const n=Kn(e/Lq),r=n/2,i=n*mg,o=r,a=n*mg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(fn*r-dn*i,dn*r+fn*i),t.lineTo(fn*o-dn*a,dn*o+fn*a),t.lineTo(fn*s-dn*l,dn*s+fn*l),t.lineTo(fn*r+dn*i,fn*i-dn*r),t.lineTo(fn*o+dn*a,fn*a-dn*o),t.lineTo(fn*s+dn*l,fn*l-dn*s),t.closePath()}};function jq(t,e){let n=null,r=i0(i);t=typeof t=="function"?t:Ce(t||a0),e=typeof e=="function"?e:Ce(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ce(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ce(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function of(){}function af(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Sk(t){this._context=t}Sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:af(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:af(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fq(t){return new Sk(t)}function Ek(t){this._context=t}Ek.prototype={areaStart:of,areaEnd:of,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:af(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bq(t){return new Ek(t)}function Tk(t){this._context=t}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:af(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gq(t){return new Tk(t)}function Ak(t){this._context=t}Ak.prototype={areaStart:of,areaEnd:of,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Vq(t){return new Ak(t)}function E_(t){return t<0?-1:1}function T_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(E_(o)+E_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function A_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function sf(t){this._context=t}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dp(this,this._t0,A_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dp(this,A_(this,n=T_(this,t,e)),n);break;default:dp(this,this._t0,n=T_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ck(t){this._context=new Pk(t)}(Ck.prototype=Object.create(sf.prototype)).point=function(t,e){sf.prototype.point.call(this,e,t)};function Pk(t){this._context=t}Pk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Hq(t){return new sf(t)}function zq(t){return new Ck(t)}function kk(t){this._context=t}kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=C_(t),i=C_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function C_(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function qq(t){return new kk(t)}function Jd(t,e){this._context=t,this._t=e}Jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Wq(t){return new Jd(t,.5)}function Kq(t){return new Jd(t,0)}function Jq(t){return new Jd(t,1)}function fa(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function gg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Yq(t,e){return t[e]}function Xq(t){const e=[];return e.key=t,e}function Qq(){var t=Ce([]),e=gg,n=fa,r=Yq;function i(o){var a=Array.from(t.apply(this,arguments),Xq),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=o0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ce(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ce(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?gg:typeof o=="function"?o:Ce(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fa,i):n},i}function Zq(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}fa(t,e)}}function e6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}fa(t,e)}}function t6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var y=t[e[g]],w=y[r][1]||0,v=y[r-1][1]||0;m+=w-v}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,fa(t,e)}}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}var n6=["type","size","sizeType"];function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function P_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(n),!0).forEach(function(r){r6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r6(t,e,n){return e=i6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i6(t){var e=o6(t,"string");return _l(e)=="symbol"?e:e+""}function o6(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a6(t,e){if(t==null)return{};var n=s6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ik={symbolCircle:a0,symbolCross:Pq,symbolDiamond:Iq,symbolSquare:Oq,symbolStar:$q,symbolTriangle:Dq,symbolWye:Uq},l6=Math.PI/180,u6=function(e){var n="symbol".concat(qd(e));return Ik[n]||a0},c6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*l6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},f6=function(e,n){Ik["symbol".concat(qd(e))]=n},Yd=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=a6(e,n6),u=k_(k_({},l),{},{type:r,size:o,sizeType:s}),c=function(){var w=u6(r),v=jq().type(w).size(c6(o,s,r));return v()},f=u.className,h=u.cx,m=u.cy,g=se(u,!0);return h===+h&&m===+m&&o===+o?N.createElement("path",yg({},g,{className:ce("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};Yd.registerSymbol=f6;function da(t){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},da(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(n),!0).forEach(function(r){Sl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nk(r.key),r)}}function m6(t,e,n){return e&&p6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g6(t,e,n){return e=lf(e),y6(t,Ok()?Reflect.construct(e,n||[],lf(t).constructor):e.apply(t,n))}function y6(t,e){if(e&&(da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v6(t)}function v6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ok(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ok=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(t)}function w6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wg(t,e)}function wg(t,e){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wg(t,e)}function Sl(t,e,n){return e=Nk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nk(t){var e=b6(t,"string");return da(e)=="symbol"?e:e+""}function b6(t,e){if(da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hn=32,s0=function(t){function e(){return h6(this,e),g6(this,e,arguments)}return w6(e,t),m6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=hn/2,a=hn/6,s=hn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:hn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(hn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return N.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(hn/8,"h").concat(hn,"v").concat(hn*3/4,"h").concat(-hn,"z"),className:"recharts-legend-icon"});if(N.isValidElement(r.legendIcon)){var u=d6({},r);return delete u.legendIcon,N.cloneElement(r.legendIcon,u)}return N.createElement(Yd,{fill:l,cx:o,cy:o,size:hn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:hn,height:hn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,g){var y=m.formatter||l,w=ce(Sl(Sl({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=fe(m.value)?null:m.value;Ui(!fe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return N.createElement("li",vg({className:w,style:f,key:"legend-item-".concat(g)},xl(r.props,m,g)),N.createElement(ug,{width:a,height:a,viewBox:c,style:h},r.renderIcon(m)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(v,m,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(R.PureComponent);Sl(s0,"displayName","Legend");Sl(s0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var x6=Rd;function _6(){this.__data__=new x6,this.size=0}var S6=_6;function E6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var T6=E6;function A6(t){return this.__data__.get(t)}var C6=A6;function P6(t){return this.__data__.has(t)}var k6=P6,I6=Rd,O6=Jv,N6=Yv,R6=200;function M6(t,e){var n=this.__data__;if(n instanceof I6){var r=n.__data__;if(!O6||r.length<R6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new N6(r)}return n.set(t,e),this.size=n.size,this}var $6=M6,D6=Rd,L6=S6,U6=T6,j6=C6,F6=k6,B6=$6;function Ja(t){var e=this.__data__=new D6(t);this.size=e.size}Ja.prototype.clear=L6;Ja.prototype.delete=U6;Ja.prototype.get=j6;Ja.prototype.has=F6;Ja.prototype.set=B6;var Rk=Ja,G6="__lodash_hash_undefined__";function V6(t){return this.__data__.set(t,G6),this}var H6=V6;function z6(t){return this.__data__.has(t)}var q6=z6,W6=Yv,K6=H6,J6=q6;function uf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new W6;++e<n;)this.add(t[e])}uf.prototype.add=uf.prototype.push=K6;uf.prototype.has=J6;var Mk=uf;function Y6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $k=Y6;function X6(t,e){return t.has(e)}var Dk=X6,Q6=Mk,Z6=$k,e8=Dk,t8=1,n8=2;function r8(t,e,n,r,i,o){var a=n&t8,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,m=n&n8?new Q6:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],y=e[f];if(r)var w=a?r(y,g,f,e,t,o):r(g,y,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(m){if(!Z6(e,function(v,b){if(!e8(m,b)&&(g===v||i(g,v,n,r,o)))return m.push(b)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var Lk=r8,i8=sr,o8=i8.Uint8Array,a8=o8;function s8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var l8=s8;function u8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var l0=u8,O_=uu,N_=a8,c8=Kv,f8=Lk,d8=l8,h8=l0,p8=1,m8=2,g8="[object Boolean]",y8="[object Date]",v8="[object Error]",w8="[object Map]",b8="[object Number]",x8="[object RegExp]",_8="[object Set]",S8="[object String]",E8="[object Symbol]",T8="[object ArrayBuffer]",A8="[object DataView]",R_=O_?O_.prototype:void 0,hp=R_?R_.valueOf:void 0;function C8(t,e,n,r,i,o,a){switch(n){case A8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T8:return!(t.byteLength!=e.byteLength||!o(new N_(t),new N_(e)));case g8:case y8:case b8:return c8(+t,+e);case v8:return t.name==e.name&&t.message==e.message;case x8:case S8:return t==e+"";case w8:var s=d8;case _8:var l=r&p8;if(s||(s=h8),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=m8,a.set(t,e);var c=f8(s(t),s(e),r,i,o,a);return a.delete(t),c;case E8:if(hp)return hp.call(t)==hp.call(e)}return!1}var P8=C8;function k8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Uk=k8,I8=Uk,O8=Kt;function N8(t,e,n){var r=e(t);return O8(t)?r:I8(r,n(t))}var R8=N8;function M8(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var $8=M8;function D8(){return[]}var L8=D8,U8=$8,j8=L8,F8=Object.prototype,B8=F8.propertyIsEnumerable,M_=Object.getOwnPropertySymbols,G8=M_?function(t){return t==null?[]:(t=Object(t),U8(M_(t),function(e){return B8.call(t,e)}))}:j8,V8=G8;function H8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var z8=H8,q8=Or,W8=Nr,K8="[object Arguments]";function J8(t){return W8(t)&&q8(t)==K8}var Y8=J8,$_=Y8,X8=Nr,jk=Object.prototype,Q8=jk.hasOwnProperty,Z8=jk.propertyIsEnumerable,eW=$_(function(){return arguments}())?$_:function(t){return X8(t)&&Q8.call(t,"callee")&&!Z8.call(t,"callee")},u0=eW,cf={exports:{}};function tW(){return!1}var nW=tW;cf.exports;(function(t,e){var n=sr,r=nW,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(cf,cf.exports);var Fk=cf.exports,rW=9007199254740991,iW=/^(?:0|[1-9]\d*)$/;function oW(t,e){var n=typeof t;return e=e??rW,!!e&&(n=="number"||n!="symbol"&&iW.test(t))&&t>-1&&t%1==0&&t<e}var c0=oW,aW=9007199254740991;function sW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=aW}var f0=sW,lW=Or,uW=f0,cW=Nr,fW="[object Arguments]",dW="[object Array]",hW="[object Boolean]",pW="[object Date]",mW="[object Error]",gW="[object Function]",yW="[object Map]",vW="[object Number]",wW="[object Object]",bW="[object RegExp]",xW="[object Set]",_W="[object String]",SW="[object WeakMap]",EW="[object ArrayBuffer]",TW="[object DataView]",AW="[object Float32Array]",CW="[object Float64Array]",PW="[object Int8Array]",kW="[object Int16Array]",IW="[object Int32Array]",OW="[object Uint8Array]",NW="[object Uint8ClampedArray]",RW="[object Uint16Array]",MW="[object Uint32Array]",Oe={};Oe[AW]=Oe[CW]=Oe[PW]=Oe[kW]=Oe[IW]=Oe[OW]=Oe[NW]=Oe[RW]=Oe[MW]=!0;Oe[fW]=Oe[dW]=Oe[EW]=Oe[hW]=Oe[TW]=Oe[pW]=Oe[mW]=Oe[gW]=Oe[yW]=Oe[vW]=Oe[wW]=Oe[bW]=Oe[xW]=Oe[_W]=Oe[SW]=!1;function $W(t){return cW(t)&&uW(t.length)&&!!Oe[lW(t)]}var DW=$W;function LW(t){return function(e){return t(e)}}var Bk=LW,ff={exports:{}};ff.exports;(function(t,e){var n=KP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(ff,ff.exports);var UW=ff.exports,jW=DW,FW=Bk,D_=UW,L_=D_&&D_.isTypedArray,BW=L_?FW(L_):jW,Gk=BW,GW=z8,VW=u0,HW=Kt,zW=Fk,qW=c0,WW=Gk,KW=Object.prototype,JW=KW.hasOwnProperty;function YW(t,e){var n=HW(t),r=!n&&VW(t),i=!n&&!r&&zW(t),o=!n&&!r&&!i&&WW(t),a=n||r||i||o,s=a?GW(t.length,String):[],l=s.length;for(var u in t)(e||JW.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qW(u,l)))&&s.push(u);return s}var XW=YW,QW=Object.prototype;function ZW(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||QW;return t===n}var eK=ZW;function tK(t,e){return function(n){return t(e(n))}}var Vk=tK,nK=Vk,rK=nK(Object.keys,Object),iK=rK,oK=eK,aK=iK,sK=Object.prototype,lK=sK.hasOwnProperty;function uK(t){if(!oK(t))return aK(t);var e=[];for(var n in Object(t))lK.call(t,n)&&n!="constructor"&&e.push(n);return e}var cK=uK,fK=Wv,dK=f0;function hK(t){return t!=null&&dK(t.length)&&!fK(t)}var Xd=hK,pK=XW,mK=cK,gK=Xd;function yK(t){return gK(t)?pK(t):mK(t)}var d0=yK,vK=R8,wK=V8,bK=d0;function xK(t){return vK(t,bK,wK)}var _K=xK,U_=_K,SK=1,EK=Object.prototype,TK=EK.hasOwnProperty;function AK(t,e,n,r,i,o){var a=n&SK,s=U_(t),l=s.length,u=U_(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:TK.call(e,h)))return!1}var m=o.get(t),g=o.get(e);if(m&&g)return m==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=a;++f<l;){h=s[f];var v=t[h],b=e[h];if(r)var x=a?r(b,v,h,e,t,o):r(v,b,h,t,e,o);if(!(x===void 0?v===b||i(v,b,n,r,o):x)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var CK=AK,PK=to,kK=sr,IK=PK(kK,"DataView"),OK=IK,NK=to,RK=sr,MK=NK(RK,"Promise"),$K=MK,DK=to,LK=sr,UK=DK(LK,"Set"),Hk=UK,jK=to,FK=sr,BK=jK(FK,"WeakMap"),GK=BK,bg=OK,xg=Jv,_g=$K,Sg=Hk,Eg=GK,zk=Or,Ya=YP,j_="[object Map]",VK="[object Object]",F_="[object Promise]",B_="[object Set]",G_="[object WeakMap]",V_="[object DataView]",HK=Ya(bg),zK=Ya(xg),qK=Ya(_g),WK=Ya(Sg),KK=Ya(Eg),Si=zk;(bg&&Si(new bg(new ArrayBuffer(1)))!=V_||xg&&Si(new xg)!=j_||_g&&Si(_g.resolve())!=F_||Sg&&Si(new Sg)!=B_||Eg&&Si(new Eg)!=G_)&&(Si=function(t){var e=zk(t),n=e==VK?t.constructor:void 0,r=n?Ya(n):"";if(r)switch(r){case HK:return V_;case zK:return j_;case qK:return F_;case WK:return B_;case KK:return G_}return e});var JK=Si,pp=Rk,YK=Lk,XK=P8,QK=CK,H_=JK,z_=Kt,q_=Fk,ZK=Gk,e9=1,W_="[object Arguments]",K_="[object Array]",zu="[object Object]",t9=Object.prototype,J_=t9.hasOwnProperty;function n9(t,e,n,r,i,o){var a=z_(t),s=z_(e),l=a?K_:H_(t),u=s?K_:H_(e);l=l==W_?zu:l,u=u==W_?zu:u;var c=l==zu,f=u==zu,h=l==u;if(h&&q_(t)){if(!q_(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new pp),a||ZK(t)?YK(t,e,n,r,i,o):XK(t,e,l,n,r,i,o);if(!(n&e9)){var m=c&&J_.call(t,"__wrapped__"),g=f&&J_.call(e,"__wrapped__");if(m||g){var y=m?t.value():t,w=g?e.value():e;return o||(o=new pp),i(y,w,n,r,o)}}return h?(o||(o=new pp),QK(t,e,n,r,i,o)):!1}var r9=n9,i9=r9,Y_=Nr;function qk(t,e,n,r,i){return t===e?!0:t==null||e==null||!Y_(t)&&!Y_(e)?t!==t&&e!==e:i9(t,e,n,r,qk,i)}var h0=qk,o9=Rk,a9=h0,s9=1,l9=2;function u9(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new o9;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?a9(c,u,s9|l9,r,f):h))return!1}}return!0}var c9=u9,f9=ci;function d9(t){return t===t&&!f9(t)}var Wk=d9,h9=Wk,p9=d0;function m9(t){for(var e=p9(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,h9(i)]}return e}var g9=m9;function y9(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Kk=y9,v9=c9,w9=g9,b9=Kk;function x9(t){var e=w9(t);return e.length==1&&e[0][2]?b9(e[0][0],e[0][1]):function(n){return n===t||v9(n,t,e)}}var _9=x9;function S9(t,e){return t!=null&&e in Object(t)}var E9=S9,T9=tk,A9=u0,C9=Kt,P9=c0,k9=f0,I9=$d;function O9(t,e,n){e=T9(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=I9(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&k9(i)&&P9(a,i)&&(C9(t)||A9(t)))}var N9=O9,R9=E9,M9=N9;function $9(t,e){return t!=null&&M9(t,e,R9)}var D9=$9,L9=h0,U9=nk,j9=D9,F9=qv,B9=Wk,G9=Kk,V9=$d,H9=1,z9=2;function q9(t,e){return F9(t)&&B9(e)?G9(V9(t),e):function(n){var r=U9(n,t);return r===void 0&&r===e?j9(n,t):L9(e,r,H9|z9)}}var W9=q9;function K9(t){return t}var Xa=K9;function J9(t){return function(e){return e==null?void 0:e[t]}}var Y9=J9,X9=Zv;function Q9(t){return function(e){return X9(e,t)}}var Z9=Q9,eJ=Y9,tJ=Z9,nJ=qv,rJ=$d;function iJ(t){return nJ(t)?eJ(rJ(t)):tJ(t)}var oJ=iJ,aJ=_9,sJ=W9,lJ=Xa,uJ=Kt,cJ=oJ;function fJ(t){return typeof t=="function"?t:t==null?lJ:typeof t=="object"?uJ(t)?sJ(t[0],t[1]):aJ(t):cJ(t)}var Qa=fJ;function dJ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var hJ=dJ;function pJ(t){return t!==t}var mJ=pJ;function gJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var yJ=gJ,vJ=hJ,wJ=mJ,bJ=yJ;function xJ(t,e,n){return e===e?bJ(t,e,n):vJ(t,wJ,n)}var _J=xJ,SJ=_J;function EJ(t,e){var n=t==null?0:t.length;return!!n&&SJ(t,e,0)>-1}var TJ=EJ;function AJ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var CJ=AJ;function PJ(){}var kJ=PJ,mp=Hk,IJ=kJ,OJ=l0,NJ=1/0,RJ=mp&&1/OJ(new mp([,-0]))[1]==NJ?function(t){return new mp(t)}:IJ,MJ=RJ,$J=Mk,DJ=TJ,LJ=CJ,UJ=Dk,jJ=MJ,FJ=l0,BJ=200;function GJ(t,e,n){var r=-1,i=DJ,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=LJ;else if(o>=BJ){var u=e?null:jJ(t);if(u)return FJ(u);a=!1,i=UJ,l=new $J}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var VJ=GJ,HJ=Qa,zJ=VJ;function qJ(t,e){return t&&t.length?zJ(t,HJ(e)):[]}var WJ=qJ;const X_=ke(WJ);function Jk(t,e,n){return e===!0?X_(t,n):fe(e)?X_(t,e):t}function ha(t){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(t)}var KJ=["ref"];function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){Qd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xk(r.key),r)}}function YJ(t,e,n){return e&&Z_(t.prototype,e),n&&Z_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XJ(t,e,n){return e=df(e),QJ(t,Yk()?Reflect.construct(e,n||[],df(t).constructor):e.apply(t,n))}function QJ(t,e){if(e&&(ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJ(t)}function ZJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yk=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(t)}function e7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tg(t,e)}function Tg(t,e){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tg(t,e)}function Qd(t,e,n){return e=Xk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xk(t){var e=t7(t,"string");return ha(e)=="symbol"?e:e+""}function t7(t,e){if(ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function n7(t,e){if(t==null)return{};var n=r7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i7(t){return t.value}function o7(t,e){if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return N.createElement(t,e);e.ref;var n=n7(e,KJ);return N.createElement(s0,n)}var eS=1,Zo=function(t){function e(){var n;JJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=XJ(this,e,[].concat(i)),Qd(n,"lastBoundingBox",{width:-1,height:-1}),n}return e7(e,t),YJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eS||Math.abs(i.height-this.lastBoundingBox.height)>eS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?lr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return lr(lr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=lr(lr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return N.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},o7(o,lr(lr({},this.props),{},{payload:Jk(c,u,i7)})))}}],[{key:"getWithHeight",value:function(r,i){var o=lr(lr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&q(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);Qd(Zo,"displayName","Legend");Qd(Zo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tS=uu,a7=u0,s7=Kt,nS=tS?tS.isConcatSpreadable:void 0;function l7(t){return s7(t)||a7(t)||!!(nS&&t&&t[nS])}var u7=l7,c7=Uk,f7=u7;function Qk(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=f7),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Qk(s,e-1,n,r,i):c7(i,s):r||(i[i.length]=s)}return i}var Zk=Qk;function d7(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var h7=d7,p7=h7,m7=p7(),g7=m7,y7=g7,v7=d0;function w7(t,e){return t&&y7(t,e,v7)}var eI=w7,b7=Xd;function x7(t,e){return function(n,r){if(n==null)return n;if(!b7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var _7=x7,S7=eI,E7=_7,T7=E7(S7),p0=T7,A7=p0,C7=Xd;function P7(t,e){var n=-1,r=C7(t)?Array(t.length):[];return A7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var tI=P7;function k7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var I7=k7,rS=Va;function O7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=rS(t),a=e!==void 0,s=e===null,l=e===e,u=rS(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var N7=O7,R7=N7;function M7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=R7(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var $7=M7,gp=Qv,D7=Zv,L7=Qa,U7=tI,j7=I7,F7=Bk,B7=$7,G7=Xa,V7=Kt;function H7(t,e,n){e.length?e=gp(e,function(o){return V7(o)?function(a){return D7(a,o.length===1?o[0]:o)}:o}):e=[G7];var r=-1;e=gp(e,F7(L7));var i=U7(t,function(o,a,s){var l=gp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return j7(i,function(o,a){return B7(o,a,n)})}var z7=H7;function q7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var W7=q7,K7=W7,iS=Math.max;function J7(t,e,n){return e=iS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=iS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),K7(t,this,s)}}var Y7=J7;function X7(t){return function(){return t}}var Q7=X7,Z7=to,eY=function(){try{var t=Z7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),nI=eY,tY=Q7,oS=nI,nY=Xa,rY=oS?function(t,e){return oS(t,"toString",{configurable:!0,enumerable:!1,value:tY(e),writable:!0})}:nY,iY=rY,oY=800,aY=16,sY=Date.now;function lY(t){var e=0,n=0;return function(){var r=sY(),i=aY-(r-n);if(n=r,i>0){if(++e>=oY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var uY=lY,cY=iY,fY=uY,dY=fY(cY),hY=dY,pY=Xa,mY=Y7,gY=hY;function yY(t,e){return gY(mY(t,e,pY),t+"")}var vY=yY,wY=Kv,bY=Xd,xY=c0,_Y=ci;function SY(t,e,n){if(!_Y(n))return!1;var r=typeof e;return(r=="number"?bY(n)&&xY(e,n.length):r=="string"&&e in n)?wY(n[e],t):!1}var Zd=SY,EY=Zk,TY=z7,AY=vY,aS=Zd,CY=AY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&aS(t,e[0],e[1])?e=[]:n>2&&aS(e[0],e[1],e[2])&&(e=[e[0]]),TY(t,EY(e,1),[])}),PY=CY;const m0=ke(PY);function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function kY(t,e){return RY(t)||NY(t,e)||OY(t,e)||IY()}function IY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(t,e){if(t){if(typeof t=="string")return sS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sS(t,e)}}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function RY(t){if(Array.isArray(t))return t}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){MY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MY(t,e,n){return e=$Y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Y(t){var e=DY(t,"string");return El(e)=="symbol"?e:e+""}function DY(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LY(t){return Array.isArray(t)&&st(t[0])&&st(t[1])?t.join(" ~ "):t}var UY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,y=e.label,w=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,x=function(){if(c&&c.length){var I={padding:0,margin:0},M=(h?m0(c,h):c).map(function(L,j){if(L.type==="none")return null;var U=yp({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),B=L.formatter||f||LY,D=L.value,$=L.name,G=D,W=$;if(B&&G!=null&&W!=null){var H=B(D,$,L,j,c);if(Array.isArray(H)){var ee=kY(H,2);G=ee[0],W=ee[1]}else G=H}return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:U},st(W)?N.createElement("span",{className:"recharts-tooltip-item-name"},W):null,st(W)?N.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,N.createElement("span",{className:"recharts-tooltip-item-value"},G),N.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},T=yp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=yp({margin:0},u),E=!oe(y),A=E?y:"",P=ce("recharts-default-tooltip",m),C=ce("recharts-tooltip-label",g);E&&w&&c!==void 0&&c!==null&&(A=w(y,c));var k=b?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Ag({className:P,style:T},k),N.createElement("p",{className:C,style:S},N.isValidElement(A)?A:"".concat(A)),x())};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function qu(t,e,n){return e=jY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jY(t){var e=FY(t,"string");return Tl(e)=="symbol"?e:e+""}function FY(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ms="recharts-tooltip-wrapper",BY={visibility:"hidden"};function GY(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ce(ms,qu(qu(qu(qu({},"".concat(ms,"-right"),q(n)&&e&&q(e.x)&&n>=e.x),"".concat(ms,"-left"),q(n)&&e&&q(e.x)&&n<e.x),"".concat(ms,"-bottom"),q(r)&&e&&q(e.y)&&r>=e.y),"".concat(ms,"-top"),q(r)&&e&&q(e.y)&&r<e.y))}function uS(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&q(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,m=l[r];return h<m?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(f,l[r])}function VY(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function HY(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=uS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=uS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=VY({translateX:c,translateY:f,useTranslate3d:s})):u=BY,{cssProperties:u,cssClasses:GY({translateX:c,translateY:f,coordinate:n})}}function pa(t){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(t)}function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(n),!0).forEach(function(r){Pg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iI(r.key),r)}}function WY(t,e,n){return e&&qY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KY(t,e,n){return e=hf(e),JY(t,rI()?Reflect.construct(e,n||[],hf(t).constructor):e.apply(t,n))}function JY(t,e){if(e&&(pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YY(t)}function YY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rI=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(t)}function XY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}function Cg(t,e){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cg(t,e)}function Pg(t,e,n){return e=iI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iI(t){var e=QY(t,"string");return pa(e)=="symbol"?e:e+""}function QY(t,e){if(pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dS=1,ZY=function(t){function e(){var n;zY(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=KY(this,e,[].concat(i)),Pg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Pg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return XY(e,t),WY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>dS||Math.abs(r.height-this.state.lastBoundingBox.height)>dS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,y=i.reverseDirection,w=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,x=HY({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:v}),T=x.cssClasses,S=x.cssProperties,E=fS(fS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return N.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(P){r.wrapperNode=P}},u)}}])}(R.PureComponent),eX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fi={isSsr:eX()};function ma(t){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(t)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){g0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aI(r.key),r)}}function rX(t,e,n){return e&&nX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iX(t,e,n){return e=pf(e),oX(t,oI()?Reflect.construct(e,n||[],pf(t).constructor):e.apply(t,n))}function oX(t,e){if(e&&(ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aX(t)}function aX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oI=function(){return!!t})()}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(t)}function sX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kg(t,e)}function kg(t,e){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kg(t,e)}function g0(t,e,n){return e=aI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aI(t){var e=lX(t,"string");return ma(e)=="symbol"?e:e+""}function lX(t,e){if(ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uX(t){return t.dataKey}function cX(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(UY,e)}var Xn=function(t){function e(){return tX(this,e),iX(this,e,arguments)}return sX(e,t),rX(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,y=i.payloadUniqBy,w=i.position,v=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,T=i.wrapperStyle,S=g??[];f&&S.length&&(S=Jk(g.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,uX));var E=S.length>0;return N.createElement(ZY,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:m,position:w,reverseDirection:v,useTranslate3d:b,viewBox:x,wrapperStyle:T},cX(u,pS(pS({},this.props),{},{payload:S})))}}])}(R.PureComponent);g0(Xn,"displayName","Tooltip");g0(Xn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fX=sr,dX=function(){return fX.Date.now()},hX=dX,pX=/\s/;function mX(t){for(var e=t.length;e--&&pX.test(t.charAt(e)););return e}var gX=mX,yX=gX,vX=/^\s+/;function wX(t){return t&&t.slice(0,yX(t)+1).replace(vX,"")}var bX=wX,xX=bX,mS=ci,_X=Va,gS=NaN,SX=/^[-+]0x[0-9a-f]+$/i,EX=/^0b[01]+$/i,TX=/^0o[0-7]+$/i,AX=parseInt;function CX(t){if(typeof t=="number")return t;if(_X(t))return gS;if(mS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xX(t);var n=EX.test(t);return n||TX.test(t)?AX(t.slice(2),n?2:8):SX.test(t)?gS:+t}var sI=CX,PX=ci,vp=hX,yS=sI,kX="Expected a function",IX=Math.max,OX=Math.min;function NX(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(kX);e=yS(e)||0,PX(n)&&(c=!!n.leading,f="maxWait"in n,o=f?IX(yS(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(E){var A=r,P=i;return r=i=void 0,u=E,a=t.apply(P,A),a}function g(E){return u=E,s=setTimeout(v,e),c?m(E):a}function y(E){var A=E-l,P=E-u,C=e-A;return f?OX(C,o-P):C}function w(E){var A=E-l,P=E-u;return l===void 0||A>=e||A<0||f&&P>=o}function v(){var E=vp();if(w(E))return b(E);s=setTimeout(v,y(E))}function b(E){return s=void 0,h&&r?m(E):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:b(vp())}function S(){var E=vp(),A=w(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),a}return S.cancel=x,S.flush=T,S}var RX=NX,MX=RX,$X=ci,DX="Expected a function";function LX(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(DX);return $X(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),MX(t,e,{leading:r,maxWait:e,trailing:i})}var UX=LX;const lI=ke(UX);function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function vS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vS(Object(n),!0).forEach(function(r){jX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jX(t,e,n){return e=FX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=BX(t,"string");return Al(e)=="symbol"?e:e+""}function BX(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GX(t,e){return qX(t)||zX(t,e)||HX(t,e)||VX()}function VX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(t,e){if(t){if(typeof t=="string")return wS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wS(t,e)}}function wS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qX(t){if(Array.isArray(t))return t}var uI=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,g=t.debounce,y=g===void 0?0:g,w=t.id,v=t.className,b=t.onResize,x=t.style,T=x===void 0?{}:x,S=R.useRef(null),E=R.useRef();E.current=b,R.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=R.useState({containerWidth:i.width,containerHeight:i.height}),P=GX(A,2),C=P[0],k=P[1],O=R.useCallback(function(M,L){k(function(j){var U=Math.round(M),B=Math.round(L);return j.containerWidth===U&&j.containerHeight===B?j:{containerWidth:U,containerHeight:B}})},[]);R.useEffect(function(){var M=function($){var G,W=$[0].contentRect,H=W.width,ee=W.height;O(H,ee),(G=E.current)===null||G===void 0||G.call(E,H,ee)};y>0&&(M=lI(M,y,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),j=S.current.getBoundingClientRect(),U=j.width,B=j.height;return O(U,B),L.observe(S.current),function(){L.disconnect()}},[O,y]);var I=R.useMemo(function(){var M=C.containerWidth,L=C.containerHeight;if(M<0||L<0)return null;Ui(Oi(a)||Oi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Ui(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=Oi(a)?M:a,U=Oi(l)?L:l;n&&n>0&&(j?U=j/n:U&&(j=U*n),h&&U>h&&(U=h)),Ui(j>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,U,a,l,c,f,n);var B=!Array.isArray(m)&&yr(m.type).endsWith("Chart");return N.Children.map(m,function(D){return N.isValidElement(D)?R.cloneElement(D,Wu({width:j,height:U},B?{style:Wu({height:"100%",width:"100%",maxHeight:U,maxWidth:j},D.props.style)}:{})):D})},[n,m,l,h,f,c,C,a]);return N.createElement("div",{id:w?"".concat(w):void 0,className:ce("recharts-responsive-container",v),style:Wu(Wu({},T),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:S},I)}),eh=function(e){return null};eh.displayName="Cell";function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(r){WX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e,n){return e=KX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=JX(t,"string");return Cl(e)=="symbol"?e:e+""}function JX(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var go={widthCache:{},cacheCount:0},YX=2e3,XX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xS="recharts_measurement_span";function QX(t){var e=Ig({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Hs=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fi.isSsr)return{width:0,height:0};var r=QX(n),i=JSON.stringify({text:e,copyStyle:r});if(go.widthCache[i])return go.widthCache[i];try{var o=document.getElementById(xS);o||(o=document.createElement("span"),o.setAttribute("id",xS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Ig(Ig({},XX),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return go.widthCache[i]=l,++go.cacheCount>YX&&(go.cacheCount=0,go.widthCache={}),l}catch{return{width:0,height:0}}},ZX=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function mf(t,e){return rQ(t)||nQ(t,e)||tQ(t,e)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(t,e){if(t){if(typeof t=="string")return _S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _S(t,e)}}function _S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rQ(t){if(Array.isArray(t))return t}function iQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aQ(r.key),r)}}function oQ(t,e,n){return e&&SS(t.prototype,e),n&&SS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aQ(t){var e=sQ(t,"string");return Pl(e)=="symbol"?e:e+""}function sQ(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ES=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cQ=Object.keys(cI),jo="NaN";function fQ(t,e){return t*cI[e]}var Ku=function(){function t(e,n){iQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!lQ.test(n)&&(this.num=NaN,this.unit=""),cQ.includes(n)&&(this.num=fQ(e,n),this.unit="px")}return oQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=uQ.exec(n))!==null&&r!==void 0?r:[],o=mf(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function fI(t){if(t.includes(jo))return jo;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=ES.exec(e))!==null&&n!==void 0?n:[],i=mf(r,4),o=i[1],a=i[2],s=i[3],l=Ku.parse(o??""),u=Ku.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return jo;e=e.replace(ES,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=TS.exec(e))!==null&&f!==void 0?f:[],m=mf(h,4),g=m[1],y=m[2],w=m[3],v=Ku.parse(g??""),b=Ku.parse(w??""),x=y==="+"?v.add(b):v.subtract(b);if(x.isNaN())return jo;e=e.replace(TS,x.toString())}return e}var AS=/\(([^()]*)\)/;function dQ(t){for(var e=t;e.includes("(");){var n=AS.exec(e),r=mf(n,2),i=r[1];e=e.replace(AS,fI(i))}return e}function hQ(t){var e=t.replace(/\s+/g,"");return e=dQ(e),e=fI(e),e}function pQ(t){try{return hQ(t)}catch{return jo}}function wp(t){var e=pQ(t.slice(5,-1));return e===jo?"":e}var mQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gQ=["dx","dy","angle","className","breakAll"];function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function CS(t,e){if(t==null)return{};var n=yQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PS(t,e){return xQ(t)||bQ(t,e)||wQ(t,e)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function xQ(t){if(Array.isArray(t))return t}var dI=/[ \f\n\r\t\v\u2028\u2029]+/,hI=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];oe(n)||(r?o=n.toString().split(""):o=n.toString().split(dI));var a=o.map(function(l){return{word:l,width:Hs(l,i).width}}),s=r?0:Hs("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},_Q=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=q(a),f=s,h=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(U,B){var D=B.word,$=B.width,G=U[U.length-1];if(G&&(i==null||o||G.width+$+r<Number(i)))G.words.push(D),G.width+=$+r;else{var W={words:[D],width:$};U.push(W)}return U},[])},m=h(n),g=function(j){return j.reduce(function(U,B){return U.width>B.width?U:B})};if(!c)return m;for(var y="",w=function(j){var U=f.slice(0,j),B=hI({breakAll:u,style:l,children:U+y}).wordsWithComputedWidth,D=h(B),$=D.length>a||g(D).width>Number(i);return[$,D]},v=0,b=f.length-1,x=0,T;v<=b&&x<=f.length-1;){var S=Math.floor((v+b)/2),E=S-1,A=w(E),P=PS(A,2),C=P[0],k=P[1],O=w(S),I=PS(O,1),M=I[0];if(!C&&!M&&(v=S+1),C&&M&&(b=S-1),!C&&M){T=k;break}x++}return T||m},IS=function(e){var n=oe(e)?[]:e.toString().split(dI);return[{words:n}]},SQ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!fi.isSsr){var l,u,c=hI({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return IS(i);return _Q({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return IS(i)},OS="#808080",gf=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,m=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,w=e.fill,v=w===void 0?OS:w,b=CS(e,mQ),x=R.useMemo(function(){return SQ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),T=b.dx,S=b.dy,E=b.angle,A=b.className,P=b.breakAll,C=CS(b,gQ);if(!st(r)||!st(o))return null;var k=r+(q(T)?T:0),O=o+(q(S)?S:0),I;switch(y){case"start":I=wp("calc(".concat(u,")"));break;case"middle":I=wp("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=wp("calc(".concat(x.length-1," * -").concat(s,")"));break}var M=[];if(f){var L=x[0].width,j=b.width;M.push("scale(".concat((q(j)?j/L:1)/L,")"))}return E&&M.push("rotate(".concat(E,", ").concat(k,", ").concat(O,")")),M.length&&(C.transform=M.join(" ")),N.createElement("text",Og({},se(C,!0),{x:k,y:O,className:ce("recharts-text",A),textAnchor:m,fill:v.includes("url")?OS:v}),x.map(function(U,B){var D=U.words.join(P?"":" ");return N.createElement("tspan",{x:k,dy:B===0?I:s,key:"".concat(D,"-").concat(B)},D)}))};function ri(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y0(t){let e,n,r;t.length!==2?(e=ri,n=(s,l)=>ri(t(s),l),r=(s,l)=>t(s)-l):(e=t===ri||t===EQ?t:TQ,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function TQ(){return 0}function pI(t){return t===null?NaN:+t}function*AQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const CQ=y0(ri),cu=CQ.right;y0(pI).center;class NS extends Map{constructor(e,n=IQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(RS(this,e))}has(e){return super.has(RS(this,e))}set(e,n){return super.set(PQ(this,e),n)}delete(e){return super.delete(kQ(this,e))}}function RS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function PQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function IQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function OQ(t=ri){if(t===ri)return mI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function mI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const NQ=Math.sqrt(50),RQ=Math.sqrt(10),MQ=Math.sqrt(2);function yf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=NQ?10:o>=RQ?5:o>=MQ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?yf(t,e,n*2):[s,l,u]}function Ng(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?yf(e,t,n):yf(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Rg(t,e,n){return e=+e,t=+t,n=+n,yf(t,e,n)[2]}function Mg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Rg(e,t,n):Rg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function MS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $S(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?mI:OQ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));gI(t,e,m,g,i)}const o=t[e];let a=n,s=r;for(gs(t,n,e),i(t[r],o)>0&&gs(t,n,r);a<s;){for(gs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?gs(t,n,s):(++s,gs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function gs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $Q(t,e,n){if(t=Float64Array.from(AQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $S(t);if(e>=1)return MS(t);var r,i=(r-1)*e,o=Math.floor(i),a=MS(gI(t,o).subarray(0,o+1)),s=$S(t.subarray(o+1));return a+(s-a)*(i-o)}}function DQ(t,e,n=pI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function LQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Pn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Rr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $g=Symbol("implicit");function v0(){var t=new NS,e=[],n=[],r=$g;function i(o){let a=t.get(o);if(a===void 0){if(r!==$g)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new NS;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return v0(e,n).unknown(r)},Pn.apply(i,arguments),i}function kl(){var t=v0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,m=i<r,g=m?i:r,y=m?r:i;o=(y-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(y-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var w=LQ(h).map(function(v){return g+o*v});return n(m?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return kl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Pn.apply(f(),arguments)}function yI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yI(e())},t}function zs(){return yI(kl.apply(null,arguments).paddingInner(1))}function w0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fu(){}var Il=.7,vf=1/Il,ea="\\s*([+-]?\\d+)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UQ=/^#([0-9a-f]{3,8})$/,jQ=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),FQ=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),BQ=new RegExp(`^rgba\\(${ea},${ea},${ea},${Ol}\\)$`),GQ=new RegExp(`^rgba\\(${rr},${rr},${rr},${Ol}\\)$`),VQ=new RegExp(`^hsl\\(${Ol},${rr},${rr}\\)$`),HQ=new RegExp(`^hsla\\(${Ol},${rr},${rr},${Ol}\\)$`),DS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w0(fu,Nl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LS,formatHex:LS,formatHex8:zQ,formatHsl:qQ,formatRgb:US,toString:US});function LS(){return this.rgb().formatHex()}function zQ(){return this.rgb().formatHex8()}function qQ(){return wI(this).formatHsl()}function US(){return this.rgb().formatRgb()}function Nl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=UQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jS(e):n===3?new Vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ju(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ju(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jQ.exec(t))?new Vt(e[1],e[2],e[3],1):(e=FQ.exec(t))?new Vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BQ.exec(t))?Ju(e[1],e[2],e[3],e[4]):(e=GQ.exec(t))?Ju(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VQ.exec(t))?GS(e[1],e[2]/100,e[3]/100,1):(e=HQ.exec(t))?GS(e[1],e[2]/100,e[3]/100,e[4]):DS.hasOwnProperty(t)?jS(DS[t]):t==="transparent"?new Vt(NaN,NaN,NaN,0):null}function jS(t){return new Vt(t>>16&255,t>>8&255,t&255,1)}function Ju(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vt(t,e,n,r)}function WQ(t){return t instanceof fu||(t=Nl(t)),t?(t=t.rgb(),new Vt(t.r,t.g,t.b,t.opacity)):new Vt}function Dg(t,e,n,r){return arguments.length===1?WQ(t):new Vt(t,e,n,r??1)}function Vt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}w0(Vt,Dg,vI(fu,{brighter(t){return t=t==null?vf:Math.pow(vf,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Il:Math.pow(Il,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vt(ji(this.r),ji(this.g),ji(this.b),wf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FS,formatHex:FS,formatHex8:KQ,formatRgb:BS,toString:BS}));function FS(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}`}function KQ(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}${Ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function BS(){const t=wf(this.opacity);return`${t===1?"rgb(":"rgba("}${ji(this.r)}, ${ji(this.g)}, ${ji(this.b)}${t===1?")":`, ${t})`}`}function wf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ji(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ni(t){return t=ji(t),(t<16?"0":"")+t.toString(16)}function GS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jn(t,e,n,r)}function wI(t){if(t instanceof jn)return new jn(t.h,t.s,t.l,t.opacity);if(t instanceof fu||(t=Nl(t)),!t)return new jn;if(t instanceof jn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new jn(a,s,l,t.opacity)}function JQ(t,e,n,r){return arguments.length===1?wI(t):new jn(t,e,n,r??1)}function jn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}w0(jn,JQ,vI(fu,{brighter(t){return t=t==null?vf:Math.pow(vf,t),new jn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Il:Math.pow(Il,t),new jn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vt(bp(t>=240?t-240:t+120,i,r),bp(t,i,r),bp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new jn(VS(this.h),Yu(this.s),Yu(this.l),wf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wf(this.opacity);return`${t===1?"hsl(":"hsla("}${VS(this.h)}, ${Yu(this.s)*100}%, ${Yu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VS(t){return t=(t||0)%360,t<0?t+360:t}function Yu(t){return Math.max(0,Math.min(1,t||0))}function bp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const b0=t=>()=>t;function YQ(t,e){return function(n){return t+n*e}}function XQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function QQ(t){return(t=+t)==1?bI:function(e,n){return n-e?XQ(e,n,t):b0(isNaN(e)?n:e)}}function bI(t,e){var n=e-t;return n?YQ(t,n):b0(isNaN(t)?e:t)}const HS=function t(e){var n=QQ(e);function r(i,o){var a=n((i=Dg(i)).r,(o=Dg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=bI(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function ZQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function eZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Za(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function nZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function rZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Za(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Lg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xp=new RegExp(Lg.source,"g");function iZ(t){return function(){return t}}function oZ(t){return function(e){return t(e)+""}}function aZ(t,e){var n=Lg.lastIndex=xp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Lg.exec(t))&&(i=xp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:bf(r,i)})),n=xp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?oZ(l[0].x):iZ(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Za(t,e){var n=typeof e,r;return e==null||n==="boolean"?b0(e):(n==="number"?bf:n==="string"?(r=Nl(e))?(e=r,HS):aZ:e instanceof Nl?HS:e instanceof Date?nZ:eZ(e)?ZQ:Array.isArray(e)?tZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rZ:bf)(t,e)}function x0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function sZ(t,e){e===void 0&&(e=t,t=Za);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function lZ(t){return function(){return t}}function xf(t){return+t}var zS=[0,1];function Dt(t){return t}function Ug(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:lZ(isNaN(e)?NaN:.5)}function uZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function cZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ug(i,r),o=n(a,o)):(r=Ug(r,i),o=n(o,a)),function(s){return o(r(s))}}function fZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ug(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=cu(t,s,1,r)-1;return o[l](i[l](s))}}function du(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function th(){var t=zS,e=zS,n=Za,r,i,o,a=Dt,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Dt&&(a=uZ(t[0],t[h-1])),s=h>2?fZ:cZ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),bf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,xf),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=x0,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Dt,c()):a!==Dt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,c()}}function _0(){return th()(Dt,Dt)}function dZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _f(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ga(t){return t=_f(Math.abs(t)),t?t[1]:NaN}function hZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function pZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var mZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rl(t){if(!(e=mZ.exec(t)))throw new Error("invalid format: "+t);var e;return new S0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rl.prototype=S0.prototype;function S0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}S0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xI;function yZ(t,e){var n=_f(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(xI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+_f(t,Math.max(0,e+o-1))[0]}function qS(t,e){var n=_f(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qS(t*100,e),r:qS,s:yZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KS(t){return t}var JS=Array.prototype.map,YS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vZ(t){var e=t.grouping===void 0||t.thousands===void 0?KS:hZ(JS.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?KS:pZ(JS.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Rl(f);var h=f.fill,m=f.align,g=f.sign,y=f.symbol,w=f.zero,v=f.width,b=f.comma,x=f.precision,T=f.trim,S=f.type;S==="n"?(b=!0,S="g"):WS[S]||(x===void 0&&(x=12),T=!0,S="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",P=WS[S],C=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(O){var I=E,M=A,L,j,U;if(S==="c")M=P(O)+M,O="";else{O=+O;var B=O<0||1/O<0;if(O=isNaN(O)?l:P(Math.abs(O),x),T&&(O=gZ(O)),B&&+O==0&&g!=="+"&&(B=!1),I=(B?g==="("?g:s:g==="-"||g==="("?"":g)+I,M=(S==="s"?YS[8+xI/3]:"")+M+(B&&g==="("?")":""),C){for(L=-1,j=O.length;++L<j;)if(U=O.charCodeAt(L),48>U||U>57){M=(U===46?i+O.slice(L+1):O.slice(L))+M,O=O.slice(0,L);break}}}b&&!w&&(O=e(O,1/0));var D=I.length+O.length+M.length,$=D<v?new Array(v-D+1).join(h):"";switch(b&&w&&(O=e($+O,$.length?v-M.length:1/0),$=""),m){case"<":O=I+O+M+$;break;case"=":O=I+$+O+M;break;case"^":O=$.slice(0,D=$.length>>1)+I+O+M+$.slice(D);break;default:O=$+I+O+M;break}return o(O)}return k.toString=function(){return f+""},k}function c(f,h){var m=u((f=Rl(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(ga(h)/3)))*3,y=Math.pow(10,-g),w=YS[8+g/3];return function(v){return m(y*v)+w}}return{format:u,formatPrefix:c}}var Xu,E0,_I;wZ({thousands:",",grouping:[3],currency:["$",""]});function wZ(t){return Xu=vZ(t),E0=Xu.format,_I=Xu.formatPrefix,Xu}function bZ(t){return Math.max(0,-ga(Math.abs(t)))}function xZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ga(e)/3)))*3-ga(Math.abs(t)))}function _Z(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ga(e)-ga(t))+1}function SI(t,e,n,r){var i=Mg(t,e,n),o;switch(r=Rl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=xZ(i,a))&&(r.precision=o),_I(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=_Z(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=bZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return E0(r)}function di(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ng(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return SI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Rg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Sf(){var t=_0();return t.copy=function(){return du(t,Sf())},Pn.apply(t,arguments),di(t)}function EI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,xf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return EI(t).unknown(e)},t=arguments.length?Array.from(t,xf):[0,1],di(n)}function TI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function XS(t){return Math.log(t)}function QS(t){return Math.exp(t)}function SZ(t){return-Math.log(-t)}function EZ(t){return-Math.exp(-t)}function TZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function AZ(t){return t===10?TZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function CZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZS(t){return(e,n)=>-t(-e,n)}function T0(t){const e=t(XS,QS),n=e.domain;let r=10,i,o;function a(){return i=CZ(r),o=AZ(r),n()[0]<0?(i=ZS(i),o=ZS(o),t(SZ,EZ)):t(XS,QS),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),m=i(c),g,y;const w=s==null?10:+s;let v=[];if(!(r%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(y=h<0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;v.push(y)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;v.push(y)}v.length*2<w&&(v=Ng(u,c,w))}else v=Ng(h,m,Math.min(m-h,w)).map(o);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Rl(l)).precision==null&&(l.trim=!0),l=E0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(TI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function AI(){const t=T0(th()).domain([1,10]);return t.copy=()=>du(t,AI()).base(t.base()),Pn.apply(t,arguments),t}function eE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function A0(t){var e=1,n=t(eE(e),tE(e));return n.constant=function(r){return arguments.length?t(eE(e=+r),tE(e)):e},di(n)}function CI(){var t=A0(th());return t.copy=function(){return du(t,CI()).constant(t.constant())},Pn.apply(t,arguments)}function nE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function PZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kZ(t){return t<0?-t*t:t*t}function C0(t){var e=t(Dt,Dt),n=1;function r(){return n===1?t(Dt,Dt):n===.5?t(PZ,kZ):t(nE(n),nE(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},di(e)}function P0(){var t=C0(th());return t.copy=function(){return du(t,P0()).exponent(t.exponent())},Pn.apply(t,arguments),t}function IZ(){return P0.apply(null,arguments).exponent(.5)}function rE(t){return Math.sign(t)*t*t}function OZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function PI(){var t=_0(),e=[0,1],n=!1,r;function i(o){var a=OZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(rE(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,xf)).map(rE)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return PI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pn.apply(i,arguments),di(i)}function kI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=DQ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[cu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ri),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return kI().domain(t).range(e).unknown(r)},Pn.apply(o,arguments)}function II(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[cu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return II().domain([t,e]).range(i).unknown(o)},Pn.apply(di(a),arguments)}function OI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[cu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return OI().domain(t).range(e).unknown(n)},Pn.apply(i,arguments)}const _p=new Date,Sp=new Date;function ut(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>ut(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(_p.setTime(+o),Sp.setTime(+a),t(_p),t(Sp),Math.floor(n(_p,Sp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ef=ut(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ef.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ut(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ef);Ef.range;const pr=1e3,vn=pr*60,mr=vn*60,Er=mr*24,k0=Er*7,iE=Er*30,Ep=Er*365,Ri=ut(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pr)},(t,e)=>(e-t)/pr,t=>t.getUTCSeconds());Ri.range;const I0=ut(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pr)},(t,e)=>{t.setTime(+t+e*vn)},(t,e)=>(e-t)/vn,t=>t.getMinutes());I0.range;const O0=ut(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vn)},(t,e)=>(e-t)/vn,t=>t.getUTCMinutes());O0.range;const N0=ut(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pr-t.getMinutes()*vn)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getHours());N0.range;const R0=ut(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getUTCHours());R0.range;const hu=ut(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vn)/Er,t=>t.getDate()-1);hu.range;const nh=ut(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Er,t=>t.getUTCDate()-1);nh.range;const NI=ut(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Er,t=>Math.floor(t/Er));NI.range;function ro(t){return ut(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vn)/k0)}const rh=ro(0),Tf=ro(1),NZ=ro(2),RZ=ro(3),ya=ro(4),MZ=ro(5),$Z=ro(6);rh.range;Tf.range;NZ.range;RZ.range;ya.range;MZ.range;$Z.range;function io(t){return ut(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/k0)}const ih=io(0),Af=io(1),DZ=io(2),LZ=io(3),va=io(4),UZ=io(5),jZ=io(6);ih.range;Af.range;DZ.range;LZ.range;va.range;UZ.range;jZ.range;const M0=ut(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());M0.range;const $0=ut(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$0.range;const Tr=ut(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ut(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Tr.range;const Ar=ut(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ar.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ut(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ar.range;function RI(t,e,n,r,i,o){const a=[[Ri,1,pr],[Ri,5,5*pr],[Ri,15,15*pr],[Ri,30,30*pr],[o,1,vn],[o,5,5*vn],[o,15,15*vn],[o,30,30*vn],[i,1,mr],[i,3,3*mr],[i,6,6*mr],[i,12,12*mr],[r,1,Er],[r,2,2*Er],[n,1,k0],[e,1,iE],[e,3,3*iE],[t,1,Ep]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,m=y0(([,,w])=>w).right(a,h);if(m===a.length)return t.every(Mg(u/Ep,c/Ep,f));if(m===0)return Ef.every(Math.max(Mg(u,c,f),1));const[g,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(y)}return[s,l]}const[FZ,BZ]=RI(Ar,$0,ih,NI,R0,O0),[GZ,VZ]=RI(Tr,M0,rh,hu,N0,I0);function Tp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ap(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ys(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function HZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=vs(i),c=ws(i),f=vs(o),h=ws(o),m=vs(a),g=ws(a),y=vs(s),w=ws(s),v=vs(l),b=ws(l),x={a:B,A:D,b:$,B:G,c:null,d:cE,e:cE,f:hee,g:See,G:Tee,H:cee,I:fee,j:dee,L:MI,m:pee,M:mee,p:W,q:H,Q:hE,s:pE,S:gee,u:yee,U:vee,V:wee,w:bee,W:xee,x:null,X:null,y:_ee,Y:Eee,Z:Aee,"%":dE},T={a:ee,A:he,b:Ee,B:Fe,c:null,d:fE,e:fE,f:Iee,g:Fee,G:Gee,H:Cee,I:Pee,j:kee,L:DI,m:Oee,M:Nee,p:Nt,q:Et,Q:hE,s:pE,S:Ree,u:Mee,U:$ee,V:Dee,w:Lee,W:Uee,x:null,X:null,y:jee,Y:Bee,Z:Vee,"%":dE},S={a:k,A:O,b:I,B:M,c:L,d:lE,e:lE,f:aee,g:sE,G:aE,H:uE,I:uE,j:nee,L:oee,m:tee,M:ree,p:C,q:eee,Q:lee,s:uee,S:iee,u:JZ,U:YZ,V:XZ,w:KZ,W:QZ,x:j,X:U,y:sE,Y:aE,Z:ZZ,"%":see};x.x=E(n,x),x.X=E(r,x),x.c=E(e,x),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(K,ae){return function(le){var V=[],Me=-1,pe=0,$e=K.length,De,Ye,Q;for(le instanceof Date||(le=new Date(+le));++Me<$e;)K.charCodeAt(Me)===37&&(V.push(K.slice(pe,Me)),(Ye=oE[De=K.charAt(++Me)])!=null?De=K.charAt(++Me):Ye=De==="e"?" ":"0",(Q=ae[De])&&(De=Q(le,Ye)),V.push(De),pe=Me+1);return V.push(K.slice(pe,Me)),V.join("")}}function A(K,ae){return function(le){var V=ys(1900,void 0,1),Me=P(V,K,le+="",0),pe,$e;if(Me!=le.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(ae&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(pe=Ap(ys(V.y,0,1)),$e=pe.getUTCDay(),pe=$e>4||$e===0?Af.ceil(pe):Af(pe),pe=nh.offset(pe,(V.V-1)*7),V.y=pe.getUTCFullYear(),V.m=pe.getUTCMonth(),V.d=pe.getUTCDate()+(V.w+6)%7):(pe=Tp(ys(V.y,0,1)),$e=pe.getDay(),pe=$e>4||$e===0?Tf.ceil(pe):Tf(pe),pe=hu.offset(pe,(V.V-1)*7),V.y=pe.getFullYear(),V.m=pe.getMonth(),V.d=pe.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),$e="Z"in V?Ap(ys(V.y,0,1)).getUTCDay():Tp(ys(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-($e+5)%7:V.w+V.U*7-($e+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Ap(V)):Tp(V)}}function P(K,ae,le,V){for(var Me=0,pe=ae.length,$e=le.length,De,Ye;Me<pe;){if(V>=$e)return-1;if(De=ae.charCodeAt(Me++),De===37){if(De=ae.charAt(Me++),Ye=S[De in oE?ae.charAt(Me++):De],!Ye||(V=Ye(K,le,V))<0)return-1}else if(De!=le.charCodeAt(V++))return-1}return V}function C(K,ae,le){var V=u.exec(ae.slice(le));return V?(K.p=c.get(V[0].toLowerCase()),le+V[0].length):-1}function k(K,ae,le){var V=m.exec(ae.slice(le));return V?(K.w=g.get(V[0].toLowerCase()),le+V[0].length):-1}function O(K,ae,le){var V=f.exec(ae.slice(le));return V?(K.w=h.get(V[0].toLowerCase()),le+V[0].length):-1}function I(K,ae,le){var V=v.exec(ae.slice(le));return V?(K.m=b.get(V[0].toLowerCase()),le+V[0].length):-1}function M(K,ae,le){var V=y.exec(ae.slice(le));return V?(K.m=w.get(V[0].toLowerCase()),le+V[0].length):-1}function L(K,ae,le){return P(K,e,ae,le)}function j(K,ae,le){return P(K,n,ae,le)}function U(K,ae,le){return P(K,r,ae,le)}function B(K){return a[K.getDay()]}function D(K){return o[K.getDay()]}function $(K){return l[K.getMonth()]}function G(K){return s[K.getMonth()]}function W(K){return i[+(K.getHours()>=12)]}function H(K){return 1+~~(K.getMonth()/3)}function ee(K){return a[K.getUTCDay()]}function he(K){return o[K.getUTCDay()]}function Ee(K){return l[K.getUTCMonth()]}function Fe(K){return s[K.getUTCMonth()]}function Nt(K){return i[+(K.getUTCHours()>=12)]}function Et(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ae=E(K+="",x);return ae.toString=function(){return K},ae},parse:function(K){var ae=A(K+="",!1);return ae.toString=function(){return K},ae},utcFormat:function(K){var ae=E(K+="",T);return ae.toString=function(){return K},ae},utcParse:function(K){var ae=A(K+="",!0);return ae.toString=function(){return K},ae}}}var oE={"-":"",_:" ",0:"0"},mt=/^\s*\d+/,zZ=/^%/,qZ=/[\\^$*+?|[\]().{}]/g;function ve(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function WZ(t){return t.replace(qZ,"\\$&")}function vs(t){return new RegExp("^(?:"+t.map(WZ).join("|")+")","i")}function ws(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function KZ(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function JZ(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function YZ(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function XZ(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function QZ(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function aE(t,e,n){var r=mt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sE(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ZZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function eee(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function tee(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lE(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nee(t,e,n){var r=mt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function uE(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ree(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function iee(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oee(t,e,n){var r=mt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function aee(t,e,n){var r=mt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function see(t,e,n){var r=zZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function lee(t,e,n){var r=mt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function uee(t,e,n){var r=mt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cE(t,e){return ve(t.getDate(),e,2)}function cee(t,e){return ve(t.getHours(),e,2)}function fee(t,e){return ve(t.getHours()%12||12,e,2)}function dee(t,e){return ve(1+hu.count(Tr(t),t),e,3)}function MI(t,e){return ve(t.getMilliseconds(),e,3)}function hee(t,e){return MI(t,e)+"000"}function pee(t,e){return ve(t.getMonth()+1,e,2)}function mee(t,e){return ve(t.getMinutes(),e,2)}function gee(t,e){return ve(t.getSeconds(),e,2)}function yee(t){var e=t.getDay();return e===0?7:e}function vee(t,e){return ve(rh.count(Tr(t)-1,t),e,2)}function $I(t){var e=t.getDay();return e>=4||e===0?ya(t):ya.ceil(t)}function wee(t,e){return t=$I(t),ve(ya.count(Tr(t),t)+(Tr(t).getDay()===4),e,2)}function bee(t){return t.getDay()}function xee(t,e){return ve(Tf.count(Tr(t)-1,t),e,2)}function _ee(t,e){return ve(t.getFullYear()%100,e,2)}function See(t,e){return t=$I(t),ve(t.getFullYear()%100,e,2)}function Eee(t,e){return ve(t.getFullYear()%1e4,e,4)}function Tee(t,e){var n=t.getDay();return t=n>=4||n===0?ya(t):ya.ceil(t),ve(t.getFullYear()%1e4,e,4)}function Aee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ve(e/60|0,"0",2)+ve(e%60,"0",2)}function fE(t,e){return ve(t.getUTCDate(),e,2)}function Cee(t,e){return ve(t.getUTCHours(),e,2)}function Pee(t,e){return ve(t.getUTCHours()%12||12,e,2)}function kee(t,e){return ve(1+nh.count(Ar(t),t),e,3)}function DI(t,e){return ve(t.getUTCMilliseconds(),e,3)}function Iee(t,e){return DI(t,e)+"000"}function Oee(t,e){return ve(t.getUTCMonth()+1,e,2)}function Nee(t,e){return ve(t.getUTCMinutes(),e,2)}function Ree(t,e){return ve(t.getUTCSeconds(),e,2)}function Mee(t){var e=t.getUTCDay();return e===0?7:e}function $ee(t,e){return ve(ih.count(Ar(t)-1,t),e,2)}function LI(t){var e=t.getUTCDay();return e>=4||e===0?va(t):va.ceil(t)}function Dee(t,e){return t=LI(t),ve(va.count(Ar(t),t)+(Ar(t).getUTCDay()===4),e,2)}function Lee(t){return t.getUTCDay()}function Uee(t,e){return ve(Af.count(Ar(t)-1,t),e,2)}function jee(t,e){return ve(t.getUTCFullYear()%100,e,2)}function Fee(t,e){return t=LI(t),ve(t.getUTCFullYear()%100,e,2)}function Bee(t,e){return ve(t.getUTCFullYear()%1e4,e,4)}function Gee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?va(t):va.ceil(t),ve(t.getUTCFullYear()%1e4,e,4)}function Vee(){return"+0000"}function dE(){return"%"}function hE(t){return+t}function pE(t){return Math.floor(+t/1e3)}var yo,UI,jI;Hee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hee(t){return yo=HZ(t),UI=yo.format,yo.parse,jI=yo.utcFormat,yo.utcParse,yo}function zee(t){return new Date(t)}function qee(t){return t instanceof Date?+t:+new Date(+t)}function D0(t,e,n,r,i,o,a,s,l,u){var c=_0(),f=c.invert,h=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),b=u("%b %d"),x=u("%B"),T=u("%Y");function S(E){return(l(E)<E?m:s(E)<E?g:a(E)<E?y:o(E)<E?w:r(E)<E?i(E)<E?v:b:n(E)<E?x:T)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?h(Array.from(E,qee)):h().map(zee)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(TI(A,E)):c},c.copy=function(){return du(c,D0(t,e,n,r,i,o,a,s,l,u))},c}function Wee(){return Pn.apply(D0(GZ,VZ,Tr,M0,rh,hu,N0,I0,Ri,UI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kee(){return Pn.apply(D0(FZ,BZ,Ar,$0,ih,nh,R0,O0,Ri,jI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oh(){var t=0,e=1,n,r,i,o,a=Dt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=c(Za),u.rangeRound=c(x0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function hi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FI(){var t=di(oh()(Dt));return t.copy=function(){return hi(t,FI())},Rr.apply(t,arguments)}function BI(){var t=T0(oh()).domain([1,10]);return t.copy=function(){return hi(t,BI()).base(t.base())},Rr.apply(t,arguments)}function GI(){var t=A0(oh());return t.copy=function(){return hi(t,GI()).constant(t.constant())},Rr.apply(t,arguments)}function L0(){var t=C0(oh());return t.copy=function(){return hi(t,L0()).exponent(t.exponent())},Rr.apply(t,arguments)}function Jee(){return L0.apply(null,arguments).exponent(.5)}function VI(){var t=[],e=Dt;function n(r){if(r!=null&&!isNaN(r=+r))return e((cu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ri),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>$Q(t,o/r))},n.copy=function(){return VI(e).domain(t)},Rr.apply(n,arguments)}function ah(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Dt,c,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(w){var v,b,x;return arguments.length?([v,b,x]=w,u=sZ(y,[v,b,x]),m):[u(0),u(.5),u(1)]}}return m.range=g(Za),m.rangeRound=g(x0),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function HI(){var t=di(ah()(Dt));return t.copy=function(){return hi(t,HI())},Rr.apply(t,arguments)}function zI(){var t=T0(ah()).domain([.1,1,10]);return t.copy=function(){return hi(t,zI()).base(t.base())},Rr.apply(t,arguments)}function qI(){var t=A0(ah());return t.copy=function(){return hi(t,qI()).constant(t.constant())},Rr.apply(t,arguments)}function U0(){var t=C0(ah());return t.copy=function(){return hi(t,U0()).exponent(t.exponent())},Rr.apply(t,arguments)}function Yee(){return U0.apply(null,arguments).exponent(.5)}const mE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kl,scaleDiverging:HI,scaleDivergingLog:zI,scaleDivergingPow:U0,scaleDivergingSqrt:Yee,scaleDivergingSymlog:qI,scaleIdentity:EI,scaleImplicit:$g,scaleLinear:Sf,scaleLog:AI,scaleOrdinal:v0,scalePoint:zs,scalePow:P0,scaleQuantile:kI,scaleQuantize:II,scaleRadial:PI,scaleSequential:FI,scaleSequentialLog:BI,scaleSequentialPow:L0,scaleSequentialQuantile:VI,scaleSequentialSqrt:Jee,scaleSequentialSymlog:GI,scaleSqrt:IZ,scaleSymlog:CI,scaleThreshold:OI,scaleTime:Wee,scaleUtc:Kee,tickFormat:SI},Symbol.toStringTag,{value:"Module"}));var Xee=Va;function Qee(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Xee(a):n(a,s)))var s=a,l=o}return l}var WI=Qee;function Zee(t,e){return t>e}var ete=Zee,tte=WI,nte=ete,rte=Xa;function ite(t){return t&&t.length?tte(t,rte,nte):void 0}var ote=ite;const qr=ke(ote);function ate(t,e){return t<e}var ste=ate,lte=WI,ute=ste,cte=Xa;function fte(t){return t&&t.length?lte(t,cte,ute):void 0}var dte=fte;const sh=ke(dte);var hte=Qv,pte=Qa,mte=tI,gte=Kt;function yte(t,e){var n=gte(t)?hte:mte;return n(t,pte(e))}var vte=yte,wte=Zk,bte=vte;function xte(t,e){return wte(bte(t,e),1)}var _te=xte;const Ste=ke(_te);var Ete=h0;function Tte(t,e){return Ete(t,e)}var Ate=Tte;const Ji=ke(Ate);var es=1e9,Cte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},F0,je=!0,Tn="[DecimalError] ",Fi=Tn+"Invalid argument: ",j0=Tn+"Exponent out of range: ",ts=Math.floor,Ei=Math.pow,Pte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rn,ft=1e7,Ne=7,KI=9007199254740991,Cf=ts(KI/Ne),X={};X.absoluteValue=X.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};X.comparedTo=X.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};X.decimalPlaces=X.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ne;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(t){return vr(this,new this.constructor(t))};X.dividedToIntegerBy=X.idiv=function(t){var e=this,n=e.constructor;return Te(vr(e,new n(t),0,1),n.precision)};X.equals=X.eq=function(t){return!this.cmp(t)};X.exponent=function(){return et(this)};X.greaterThan=X.gt=function(t){return this.cmp(t)>0};X.greaterThanOrEqualTo=X.gte=function(t){return this.cmp(t)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(t){return this.cmp(t)<0};X.lessThanOrEqualTo=X.lte=function(t){return this.cmp(t)<1};X.logarithm=X.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(rn))throw Error(Tn+"NaN");if(n.s<1)throw Error(Tn+(n.s?"NaN":"-Infinity"));return n.eq(rn)?new r(0):(je=!1,e=vr(Ml(n,o),Ml(t,o),o),je=!0,Te(e,i))};X.minus=X.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XI(e,t):JI(e,(t.s=-t.s,t))};X.modulo=X.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Tn+"NaN");return n.s?(je=!1,e=vr(n,t,0,1).times(t),je=!0,n.minus(e)):Te(new r(n),i)};X.naturalExponential=X.exp=function(){return YI(this)};X.naturalLogarithm=X.ln=function(){return Ml(this)};X.negated=X.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};X.plus=X.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JI(e,t):XI(e,(t.s=-t.s,t))};X.precision=X.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fi+t);if(e=et(i)+1,r=i.d.length-1,n=r*Ne+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};X.squareRoot=X.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Tn+"NaN")}for(t=et(s),je=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Zn(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ts((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(vr(s,o,a+2)).times(.5),Zn(o.d).slice(0,a)===(e=Zn(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Te(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return je=!0,Te(r,n)};X.times=X.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%ft|0,e=s/ft|0;o[i]=(o[i]+e)%ft|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,je?Te(t,f.precision):t};X.toDecimalPlaces=X.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ar(t,0,es),e===void 0?e=r.rounding:ar(e,0,8),Te(n,t+et(n)+1,e))};X.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yi(r,!0):(ar(t,0,es),e===void 0?e=i.rounding:ar(e,0,8),r=Te(new i(r),t+1,e),n=Yi(r,!0,t+1)),n};X.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Yi(i):(ar(t,0,es),e===void 0?e=o.rounding:ar(e,0,8),r=Te(new o(i),t+et(i)+1,e),n=Yi(r.abs(),!1,t+et(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var t=this,e=t.constructor;return Te(new e(t),et(t)+1,e.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(rn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Tn+"Infinity");return s}if(s.eq(rn))return s;if(r=l.precision,t.eq(rn))return Te(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=KI){for(i=new l(rn),e=Math.ceil(r/Ne+4),je=!1;n%2&&(i=i.times(s),yE(i.d,e)),n=ts(n/2),n!==0;)s=s.times(s),yE(s.d,e);return je=!0,t.s<0?new l(rn).div(i):Te(i,r)}}else if(o<0)throw Error(Tn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,je=!1,i=t.times(Ml(s,r+u)),je=!0,i=YI(i),i.s=o,i};X.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=et(i),r=Yi(i,n<=o.toExpNeg||n>=o.toExpPos)):(ar(t,1,es),e===void 0?e=o.rounding:ar(e,0,8),i=Te(new o(i),t,e),n=et(i),r=Yi(i,t<=n||n<=o.toExpNeg,t)),r};X.toSignificantDigits=X.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ar(t,1,es),e===void 0?e=r.rounding:ar(e,0,8)),Te(new r(n),t,e)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=et(t),n=t.constructor;return Yi(t,e<=n.toExpNeg||e>=n.toExpPos)};function JI(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),je?Te(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Ne),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/ft|0,l[o]%=ft;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,je?Te(e,f):e}function ar(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Fi+t)}function Zn(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ne-r.length,n&&(o+=Fr(n)),o+=r;a=t[e],r=a+"",n=Ne-r.length,n&&(o+=Fr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var vr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%ft|0,a=o/ft|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*ft+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,m,g,y,w,v,b,x,T,S,E,A,P,C=r.constructor,k=r.s==i.s?1:-1,O=r.d,I=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Tn+"Division by zero");for(l=r.e-i.e,A=I.length,S=O.length,m=new C(k),g=m.d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--l,o==null?b=o=C.precision:a?b=o+(et(r)-et(i))+1:b=o,b<0)return new C(0);if(b=b/Ne+2|0,u=0,A==1)for(c=0,I=I[0],b++;(u<S||c)&&b--;u++)x=c*ft+(O[u]||0),g[u]=x/I|0,c=x%I|0;else{for(c=ft/(I[0]+1)|0,c>1&&(I=t(I,c),O=t(O,c),A=I.length,S=O.length),T=A,y=O.slice(0,A),w=y.length;w<A;)y[w++]=0;P=I.slice(),P.unshift(0),E=I[0],I[1]>=ft/2&&++E;do c=0,s=e(I,y,A,w),s<0?(v=y[0],A!=w&&(v=v*ft+(y[1]||0)),c=v/E|0,c>1?(c>=ft&&(c=ft-1),f=t(I,c),h=f.length,w=y.length,s=e(f,y,h,w),s==1&&(c--,n(f,A<h?P:I,h))):(c==0&&(s=c=1),f=I.slice()),h=f.length,h<w&&f.unshift(0),n(y,f,w),s==-1&&(w=y.length,s=e(I,y,A,w),s<1&&(c++,n(y,A<w?P:I,w))),w=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[w++]=O[T]||0:(y=[O[T]],w=1);while((T++<S||y[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=l,Te(m,a?o+et(m)+1:o)}}();function YI(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(et(t)>16)throw Error(j0+et(t));if(!t.s)return new c(rn);for(je=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ei(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(rn),c.precision=s;;){if(i=Te(i.times(t),s),n=n.times(++l),a=o.plus(vr(i,n,s)),Zn(a.d).slice(0,s)===Zn(o.d).slice(0,s)){for(;u--;)o=Te(o.times(o),s);return c.precision=f,e==null?(je=!0,Te(o,f)):o}o=a}}function et(t){for(var e=t.e*Ne,n=t.d[0];n>=10;n/=10)e++;return e}function Cp(t,e,n){if(e>t.LN10.sd())throw je=!0,n&&(t.precision=n),Error(Tn+"LN10 precision limit exceeded");return Te(new t(t.LN10),e)}function Fr(t){for(var e="";t--;)e+="0";return e}function Ml(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,m=t,g=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(Tn+(m.s?"NaN":"-Infinity"));if(m.eq(rn))return new y(0);if(e==null?(je=!1,u=w):u=e,m.eq(10))return e==null&&(je=!0),Cp(y,u);if(u+=h,y.precision=u,n=Zn(g),r=n.charAt(0),o=et(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Zn(m.d),r=n.charAt(0),f++;o=et(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1))}else return l=Cp(y,u+2,w).times(o+""),m=Ml(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=w,e==null?(je=!0,Te(m,w)):m;for(s=a=m=vr(m.minus(rn),m.plus(rn),u),c=Te(m.times(m),u),i=3;;){if(a=Te(a.times(c),u),l=s.plus(vr(a,new y(i),u)),Zn(l.d).slice(0,u)===Zn(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Cp(y,u+2,w).times(o+""))),s=vr(s,new y(f),u),y.precision=w,e==null?(je=!0,Te(s,w)):s;s=l,i+=2}}function gE(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ts(n/Ne),t.d=[],r=(n+1)%Ne,n<0&&(r+=Ne),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ne;r<i;)t.d.push(+e.slice(r,r+=Ne));e=e.slice(r),r=Ne-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),je&&(t.e>Cf||t.e<-Cf))throw Error(j0+n)}else t.s=0,t.e=0,t.d=[0];return t}function Te(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ne,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Ne),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Ne,i=r-Ne+a}if(n!==void 0&&(o=Ei(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ei(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=et(t),f.length=1,e=e-o-1,f[0]=Ei(10,(Ne-e%Ne)%Ne),t.e=ts(-e/Ne)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Ei(10,Ne-r),f[c]=i>0?(u/Ei(10,a-i)%Ei(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==ft&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=ft)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(je&&(t.e>Cf||t.e<-Cf))throw Error(j0+et(t));return t}function XI(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),je?Te(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/Ne),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ft-1;--l[o],l[i]+=ft}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,je?Te(e,m):e):new h(0)}function Yi(t,e,n){var r,i=et(t),o=Zn(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Fr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fr(-i-1)+o,n&&(r=n-a)>0&&(o+=Fr(r))):i>=a?(o+=Fr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Fr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Fr(r))),t.s<0?"-"+o:o}function yE(t,e){if(t.length>e)return t.length=e,!0}function QI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Fi+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return gE(a,o.toString())}else if(typeof o!="string")throw Error(Fi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Pte.test(o))gE(a,o);else throw Error(Fi+o)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QI,i.config=i.set=kte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function kte(t){if(!t||typeof t!="object")throw Error(Tn+"Object expected");var e,n,r,i=["precision",1,es,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ts(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Fi+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Fi+n+": "+r);return this}var F0=QI(Cte);rn=new F0(1);const Se=F0;function Ite(t){return Mte(t)||Rte(t)||Nte(t)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(t,e){if(t){if(typeof t=="string")return jg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jg(t,e)}}function Rte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Mte(t){if(Array.isArray(t))return jg(t)}function jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $te=function(e){return e},ZI={},eO=function(e){return e===ZI},vE=function(e){return function n(){return arguments.length===0||arguments.length===1&&eO(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Dte=function t(e,n){return e===1?n:vE(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==ZI}).length;return a>=e?n.apply(void 0,i):t(e-a,vE(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return eO(f)?l.shift():f});return n.apply(void 0,Ite(c).concat(l))}))})},lh=function(e){return Dte(e.length,e)},Fg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Lte=lh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Ute=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return $te;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Bg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tO=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function jte(t){var e;return t===0?e=1:e=Math.floor(new Se(t).abs().log(10).toNumber())+1,e}function Fte(t,e,n){for(var r=new Se(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Bte=lh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Gte=lh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Vte=lh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const uh={rangeStep:Fte,getDigitCount:jte,interpolateNumber:Bte,uninterpolateNumber:Gte,uninterpolateTruncation:Vte};function Gg(t){return qte(t)||zte(t)||nO(t)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qte(t){if(Array.isArray(t))return Vg(t)}function $l(t,e){return Jte(t)||Kte(t,e)||nO(t,e)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nO(t,e){if(t){if(typeof t=="string")return Vg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vg(t,e)}}function Vg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Jte(t){if(Array.isArray(t))return t}function rO(t){var e=$l(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function iO(t,e,n){if(t.lte(0))return new Se(0);var r=uh.getDigitCount(t.toNumber()),i=new Se(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Se(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Se(Math.ceil(l))}function Yte(t,e,n){var r=1,i=new Se(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Se(10).pow(uh.getDigitCount(t)-1),i=new Se(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Se(Math.floor(t)))}else t===0?i=new Se(Math.floor((e-1)/2)):n||(i=new Se(Math.floor(t)));var a=Math.floor((e-1)/2),s=Ute(Lte(function(l){return i.add(new Se(l-a).mul(r)).toNumber()}),Fg);return s(0,e)}function oO(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Se(0),tickMin:new Se(0),tickMax:new Se(0)};var o=iO(new Se(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Se(0):(a=new Se(t).add(e).div(2),a=a.sub(new Se(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Se(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?oO(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Se(s).mul(o)),tickMax:a.add(new Se(l).mul(o))})}function Xte(t){var e=$l(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=rO([n,r]),l=$l(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Gg(Fg(0,i-1).map(function(){return 1/0}))):[].concat(Gg(Fg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Bg(f):f}if(u===c)return Yte(u,i,o);var h=oO(u,c,a,o),m=h.step,g=h.tickMin,y=h.tickMax,w=uh.rangeStep(g,y.add(new Se(.1).mul(m)),m);return n>r?Bg(w):w}function Qte(t,e){var n=$l(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=rO([r,i]),s=$l(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=iO(new Se(u).sub(l).div(c-1),o,0),h=[].concat(Gg(uh.rangeStep(new Se(l),new Se(u).sub(new Se(.99).mul(f)),f)),[u]);return r>i?Bg(h):h}var Zte=tO(Xte),ene=tO(Qte),tne="Invariant failed";function Xi(t,e){throw new Error(tne)}var nne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wa(t){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}function rne(t,e){return sne(t)||ane(t,e)||one(t,e)||ine()}function ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function one(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ane(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sne(t){if(Array.isArray(t))return t}function lne(t,e){if(t==null)return{};var n=une(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function une(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lO(r.key),r)}}function dne(t,e,n){return e&&fne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hne(t,e,n){return e=kf(e),pne(t,aO()?Reflect.construct(e,n||[],kf(t).constructor):e.apply(t,n))}function pne(t,e){if(e&&(wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mne(t)}function mne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(t)}function gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hg(t,e)}function Hg(t,e){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hg(t,e)}function sO(t,e,n){return e=lO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lO(t){var e=yne(t,"string");return wa(e)=="symbol"?e:e+""}function yne(t,e){if(wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ns=function(t){function e(){return cne(this,e),hne(this,e,arguments)}return gne(e,t),dne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=lne(r,nne),m=se(h,!1);this.props.direction==="x"&&c.type!=="number"&&Xi();var g=l.map(function(y){var w=u(y,s),v=w.x,b=w.y,x=w.value,T=w.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var P=rne(T,2);E=P[0],A=P[1]}else E=A=T;if(o==="vertical"){var C=c.scale,k=b+i,O=k+a,I=k-a,M=C(x-E),L=C(x+A);S.push({x1:L,y1:O,x2:L,y2:I}),S.push({x1:M,y1:k,x2:L,y2:k}),S.push({x1:M,y1:O,x2:M,y2:I})}else if(o==="horizontal"){var j=f.scale,U=v+i,B=U-a,D=U+a,$=j(x-E),G=j(x+A);S.push({x1:B,y1:G,x2:D,y2:G}),S.push({x1:U,y1:$,x2:U,y2:G}),S.push({x1:B,y1:$,x2:D,y2:$})}return N.createElement(we,Pf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},m),S.map(function(W){return N.createElement("line",Pf({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return N.createElement(we,{className:"recharts-errorBars"},g)}}])}(N.Component);sO(ns,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sO(ns,"displayName","ErrorBar");function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function bE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(n),!0).forEach(function(r){vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e,n){return e=wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=bne(t,"string");return Dl(e)=="symbol"?e:e+""}function bne(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uO=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Zt(n,Zo);if(!a)return null;var s=Zo.defaultProps,l=s!==void 0?yi(yi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return c.concat(g.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,m=h!==void 0?yi(yi({},h),f.props):{},g=m.dataKey,y=m.name,w=m.legendType,v=m.hide;return{inactive:v,dataKey:g,type:l.iconType||w||"square",color:B0(f),value:y||g,payload:m}}),yi(yi(yi({},l),Zo.getWithHeight(a,i)),{},{payload:u,item:a})};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function xE(t){return Ene(t)||Sne(t)||_ne(t)||xne()}function xne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ne(t,e){if(t){if(typeof t=="string")return zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(t,e)}}function Sne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ene(t){if(Array.isArray(t))return zg(t)}function zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ta(t,e,n){return e=Tne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Ane(t,"string");return Ll(e)=="symbol"?e:e+""}function Ane(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lt(t,e,n){return oe(t)||oe(e)?n:st(e)?xn(t,e,n):fe(e)?e(t):n}function qs(t,e,n,r){var i=Ste(t,function(s){return lt(s,e)});if(n==="number"){var o=i.filter(function(s){return q(s)||parseFloat(s)});return o.length?[sh(o),qr(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!oe(s)}):i;return a.map(function(s){return st(s)||s instanceof Date?s:""})}var Cne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Fn(f-c)!==Fn(h-f)){var g=[];if(Fn(h-f)===Fn(l[1]-l[0])){m=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{m=c;var w=h+l[1]-l[0];g[0]=Math.min(f,(w+f)/2),g[1]=Math.max(f,(w+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var b=Math.min(c,h),x=Math.max(c,h);if(e>(b+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},B0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?We(We({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Pne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,m=f.length;h<m;h++){var g=c[f[h]],y=g.items,w=g.cateAxisId,v=y.filter(function(A){return yr(A.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,x=b!==void 0?We(We({},b),v[0].props):v[0].props,T=x.barSize,S=x[w];a[S]||(a[S]=[]);var E=oe(T)?n:T;a[S].push({item:v[0],stackList:v.slice(1),barSize:oe(E)?void 0:Ki(E,r,0)})}}return a},kne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ki(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,g=a.reduce(function(T,S){return T+S.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var y=(i-g)/2>>0,w={offset:y-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:w.offset+w.size+u,size:h?m:S.barSize}},A=[].concat(xE(T),[E]);return w=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){A.push({item:P,position:w})}),A},f)}else{var v=Ki(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var b=(i-2*v-(l-1)*u)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;c=a.reduce(function(T,S,E){var A=[].concat(xE(T),[{item:S.item,position:{offset:v+(b+u)*E+(b-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},f)}return c},Ine=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=uO({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,m=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&m!=="center"&&q(e[m]))return We(We({},e),{},ta({},m,e[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&g!=="middle"&&q(e[g]))return We(We({},e),{},ta({},g,e[g]+(h||0)))}return e},One=function(e,n,r){return oe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},cO=function(e,n,r,i,o){var a=n.props.children,s=Wt(a,ns).filter(function(u){return One(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=lt(c,r);if(oe(f))return u;var h=Array.isArray(f)?[sh(f),qr(f)]:[f,f],m=l.reduce(function(g,y){var w=lt(c,y,0),v=h[0]-Math.abs(Array.isArray(w)?w[0]:w),b=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Nne=function(e,n,r,i,o){var a=n.map(function(s){return cO(e,s,r,o,i)}).filter(function(s){return!oe(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},fO=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&cO(e,l,u,i)||qs(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},dO=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Mi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Fn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Ka(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Pp=new WeakMap,Qu=function(e,n){if(typeof n!="function")return e;Pp.has(e)||Pp.set(e,new WeakMap);var r=Pp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Rne=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:kl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Sf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:zs(),realScaleType:"point"}:o==="category"?{scale:kl(),realScaleType:"band"}:{scale:Sf(),realScaleType:"linear"};if(Wi(i)){var l="scale".concat(qd(i));return{scale:(mE[l]||zs)(),realScaleType:mE[l]?l:"point"}}return fe(i)?{scale:i}:{scale:zs(),realScaleType:"point"}},SE=1e-4,Mne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-SE,a=Math.max(i[0],i[1])+SE,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},$ne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Dne=function(e,n){if(!n||n.length!==2||!q(n[0])||!q(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!q(e[0])||e[0]<r)&&(o[0]=r),(!q(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Lne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Ka(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Une=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Ka(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},jne={sign:Lne,expand:Zq,none:fa,silhouette:e6,wiggle:t6,positive:Une},Fne=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=jne[r],a=Qq().keys(i).value(function(s,l){return+lt(s,l,0)}).order(gg).offset(o);return a(e)},Bne=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?We(We({},h.type.defaultProps),h.props):h.props,y=g.stackId,w=g.hide;if(w)return f;var v=g[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(st(y)){var x=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[y]=x}else b.stackGroups[no("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return We(We({},f),{},ta({},v,b))},l),c={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,w){var v=m.stackGroups[w];return We(We({},y),{},ta({},w,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:Fne(e,v.items,o)}))},g)}return We(We({},f),{},ta({},h,m))},c)},Gne=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Zte(u,o,s);return e.domain([sh(c),qr(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=ene(f,o,s);return{niceTicks:h}}return null};function ba(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!oe(i[e.dataKey])){var s=ef(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=lt(i,oe(a)?e.dataKey:a);return oe(l)?null:e.scale(l)}var EE=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=lt(a,n.dataKey,n.domain[s]);return oe(l)?null:n.scale(l)-o/2+i},Vne=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Hne=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?We(We({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(st(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},zne=function(e){return e.reduce(function(n,r){return[sh(r.concat([n[0]]).filter(q)),qr(r.concat([n[1]]).filter(q))]},[1/0,-1/0])},hO=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=zne(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qg=function(e,n,r){if(fe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(q(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(TE.test(e[0])){var o=+TE.exec(e[0])[1];i[0]=n[0]-o}else fe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(q(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(AE.test(e[1])){var a=+AE.exec(e[1])[1];i[1]=n[1]+a}else fe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},If=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=m0(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},CE=function(e,n,r){return!e||!e.length||Ji(e,xn(r,"type.defaultProps.domain"))?n:e},pO=function(e,n){var r=e.type.defaultProps?We(We({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return We(We({},se(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:B0(e),value:lt(n,i),type:l,payload:n,chartType:u,hide:c})};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function PE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e,n){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Kne(t,"string");return Ul(e)=="symbol"?e:e+""}function Kne(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Of=Math.PI/180,Jne=function(e){return e*180/Math.PI},xt=function(e,n,r,i){return{x:e+Math.cos(-Of*i)*r,y:n+Math.sin(-Of*i)*r}},Yne=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Xne=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Yne({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Jne(u),angleInRadian:u}},Qne=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Zne=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},IE=function(e,n){var r=e.x,i=e.y,o=Xne({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Qne(n),f=c.startAngle,h=c.endAngle,m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?kE(kE({},n),{},{radius:a,angle:Zne(m,n)}):null};function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}var ere=["offset"];function tre(t){return ore(t)||ire(t)||rre(t)||nre()}function nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rre(t,e){if(t){if(typeof t=="string")return Wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wg(t,e)}}function ire(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ore(t){if(Array.isArray(t))return Wg(t)}function Wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function are(t,e){if(t==null)return{};var n=sre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=cre(t,"string");return jl(e)=="symbol"?e:e+""}function cre(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}var fre=function(e){var n=e.value,r=e.formatter,i=oe(e.children)?n:e.children;return fe(r)?r(i):i},dre=function(e,n){var r=Fn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},hre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,w=(f+h)/2,v=dre(m,g),b=v>=0?1:-1,x,T;i==="insideStart"?(x=m+b*a,T=y):i==="insideEnd"?(x=g-b*a,T=!y):i==="end"&&(x=g+b*a,T=y),T=v<=0?T:!T;var S=xt(u,c,w,x),E=xt(u,c,w,x+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),P=oe(e.id)?no("recharts-radial-line-"):e.id;return N.createElement("text",Fl({},r,{dominantBaseline:"central",className:ce("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:P,d:A})),N.createElement("textPath",{xlinkHref:"#".concat(P)},n))},pre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var m=xt(a,s,u+r,h),g=m.x,y=m.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,v=xt(a,s,w,h),b=v.x,x=v.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},mre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,w=y*i,v=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return rt(rt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return rt(rt({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return rt(rt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return rt(rt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?rt({x:s+w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideRight"?rt({x:s+u-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},A):o==="insideTop"?rt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},A):o==="insideBottom"?rt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},A):o==="insideTopLeft"?rt({x:s+w,y:l+h,textAnchor:b,verticalAnchor:g},A):o==="insideTopRight"?rt({x:s+u-w,y:l+h,textAnchor:v,verticalAnchor:g},A):o==="insideBottomLeft"?rt({x:s+w,y:l+c-h,textAnchor:b,verticalAnchor:m},A):o==="insideBottomRight"?rt({x:s+u-w,y:l+c-h,textAnchor:v,verticalAnchor:m},A):Ha(o)&&(q(o.x)||Oi(o.x))&&(q(o.y)||Oi(o.y))?rt({x:s+Ki(o.x,u),y:l+Ki(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):rt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},gre=function(e){return"cx"in e&&q(e.cx)};function kt(t){var e=t.offset,n=e===void 0?5:e,r=are(t,ere),i=rt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||oe(s)&&oe(l)&&!R.isValidElement(u)&&!fe(u))return null;if(R.isValidElement(u))return R.cloneElement(u,i);var m;if(fe(u)){if(m=R.createElement(u,i),R.isValidElement(m))return m}else m=fre(i);var g=gre(o),y=se(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return hre(i,m,y);var w=g?pre(i):mre(i);return N.createElement(gf,Fl({className:ce("recharts-label",f)},y,w,{breakAll:h}),m)}kt.displayName="Label";var mO=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,m=e.top,g=e.left,y=e.width,w=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(q(y)&&q(w)){if(q(f)&&q(h))return{x:f,y:h,width:y,height:w};if(q(m)&&q(g))return{x:m,y:g,width:y,height:w}}return q(f)&&q(h)?{x:f,y:h,width:0,height:0}:q(n)&&q(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},yre=function(e,n){return e?e===!0?N.createElement(kt,{key:"label-implicit",viewBox:n}):st(e)?N.createElement(kt,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===kt?R.cloneElement(e,{key:"label-implicit",viewBox:n}):N.createElement(kt,{key:"label-implicit",content:e,viewBox:n}):fe(e)?N.createElement(kt,{key:"label-implicit",content:e,viewBox:n}):Ha(e)?N.createElement(kt,Fl({viewBox:n},e,{key:"label-implicit"})):null:null},vre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=mO(e),a=Wt(i,kt).map(function(l,u){return R.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=yre(e.label,n||o);return[s].concat(tre(a))};kt.parseViewBox=mO;kt.renderCallByParent=vre;function wre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var bre=wre;const xre=ke(bre);function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}var _re=["valueAccessor"],Sre=["data","dataKey","clockWise","id","textBreakAll"];function Ere(t){return Pre(t)||Cre(t)||Are(t)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return Kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kg(t,e)}}function Cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pre(t){if(Array.isArray(t))return Kg(t)}function Kg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(n),!0).forEach(function(r){kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kre(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Ore(t,"string");return Bl(e)=="symbol"?e:e+""}function Ore(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ME(t,e){if(t==null)return{};var n=Nre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rre=function(e){return Array.isArray(e.value)?xre(e.value):e.value};function ir(t){var e=t.valueAccessor,n=e===void 0?Rre:e,r=ME(t,_re),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=ME(r,Sre);return!i||!i.length?null:N.createElement(we,{className:"recharts-label-list"},i.map(function(c,f){var h=oe(o)?n(c,f):lt(c&&c.payload,o),m=oe(s)?{}:{id:"".concat(s,"-").concat(f)};return N.createElement(kt,Nf({},se(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:kt.parseViewBox(oe(a)?c:RE(RE({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}ir.displayName="LabelList";function Mre(t,e){return t?t===!0?N.createElement(ir,{key:"labelList-implicit",data:e}):N.isValidElement(t)||fe(t)?N.createElement(ir,{key:"labelList-implicit",data:e,content:t}):Ha(t)?N.createElement(ir,Nf({data:e},t,{key:"labelList-implicit"})):null:null}function $re(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Wt(r,ir).map(function(a,s){return R.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Mre(t.label,e);return[o].concat(Ere(i))}ir.renderCallByParent=$re;function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return e=Lre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=Ure(t,"string");return Gl(e)=="symbol"?e:e+""}function Ure(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jre=function(e,n){var r=Fn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Zu=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Of,h=u?o:o+a*f,m=xt(n,r,c,h),g=xt(n,r,i,h),y=u?o-a*f:o,w=xt(n,r,c*Math.cos(f*Of),y);return{center:m,circleTangency:g,lineTangency:w,theta:f}},gO=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=jre(a,s),u=a+l,c=xt(n,r,o,a),f=xt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=xt(n,r,i,a),g=xt(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Fre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Fn(c-u),h=Zu({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,y=h.theta,w=Zu({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),v=w.circleTangency,b=w.lineTangency,x=w.theta,T=l?Math.abs(u-c):Math.abs(u-c)-y-x;if(T<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):gO({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=Zu({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,P=E.lineTangency,C=E.theta,k=Zu({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=k.circleTangency,I=k.lineTangency,M=k.theta,L=l?Math.abs(u-c):Math.abs(u-c)-C-M;if(L<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Bre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yO=function(e){var n=DE(DE({},Bre),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var m=ce("recharts-sector",h),g=a-o,y=Ki(s,g,0,!0),w;return y>0&&Math.abs(c-f)<360?w=Fre({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=gO({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),N.createElement("path",Jg({},se(n,!0),{className:m,d:w,role:"img"}))};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return e=Vre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=Hre(t,"string");return Vl(e)=="symbol"?e:e+""}function Hre(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jE={curveBasisClosed:Bq,curveBasisOpen:Gq,curveBasis:Fq,curveBumpX:Aq,curveBumpY:Cq,curveLinearClosed:Vq,curveLinear:Kd,curveMonotoneX:Hq,curveMonotoneY:zq,curveNatural:qq,curveStep:Wq,curveStepAfter:Jq,curveStepBefore:Kq},ec=function(e){return e.x===+e.x&&e.y===+e.y},bs=function(e){return e.x},xs=function(e){return e.y},zre=function(e,n){if(fe(e))return e;var r="curve".concat(qd(e));return(r==="curveMonotone"||r==="curveBump")&&n?jE["".concat(r).concat(n==="vertical"?"Y":"X")]:jE[r]||Kd},qre=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=zre(r,s),f=u?o.filter(function(y){return ec(y)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(y){return ec(y)}):a,g=f.map(function(y,w){return UE(UE({},y),{},{base:m[w]})});return s==="vertical"?h=Hu().y(xs).x1(bs).x0(function(y){return y.base.x}):h=Hu().x(bs).y1(xs).y0(function(y){return y.base.y}),h.defined(ec).curve(c),h(g)}return s==="vertical"&&q(a)?h=Hu().y(xs).x1(bs).x0(a):q(a)?h=Hu().x(bs).y1(xs).y0(a):h=wk().x(bs).y(xs),h.defined(ec).curve(c),h(f)},Bi=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?qre(e):i;return R.createElement("path",Yg({},se(e,!1),tf(e),{className:ce("recharts-curve",n),d:a,ref:o}))},vO={exports:{}},Wre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kre=Wre,Jre=Kre;function wO(){}function bO(){}bO.resetWarningCache=wO;var Yre=function(){function t(r,i,o,a,s,l){if(l!==Jre){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bO,resetWarningCache:wO};return n.PropTypes=n,n};vO.exports=Yre();var Xre=vO.exports;const be=ke(Xre),{getOwnPropertyNames:Qre,getOwnPropertySymbols:Zre}=Object,{hasOwnProperty:eie}=Object.prototype;function kp(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function tc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function tie(t){return t!=null?t[Symbol.toStringTag]:void 0}function FE(t){return Qre(t).concat(Zre(t))}const nie=Object.hasOwn||((t,e)=>eie.call(t,e));function oo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const rie="__v",iie="__o",oie="_owner",{getOwnPropertyDescriptor:BE,keys:GE}=Object;function aie(t,e){return t.byteLength===e.byteLength&&Rf(new Uint8Array(t),new Uint8Array(e))}function sie(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function lie(t,e){return t.byteLength===e.byteLength&&Rf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function uie(t,e){return oo(t.getTime(),e.getTime())}function cie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function fie(t,e){return t===e}function VE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const die=oo;function hie(t,e,n){const r=GE(t);let i=r.length;if(GE(e).length!==i)return!1;for(;i-- >0;)if(!xO(t,e,n,r[i]))return!1;return!0}function _s(t,e,n){const r=FE(t);let i=r.length;if(FE(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!xO(t,e,n,o)||(a=BE(t,o),s=BE(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function pie(t,e){return oo(t.valueOf(),e.valueOf())}function mie(t,e){return t.source===e.source&&t.flags===e.flags}function HE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Rf(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function gie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xO(t,e,n,r){return(r===oie||r===iie||r===rie)&&(t.$$typeof||e.$$typeof)?!0:nie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const yie="[object ArrayBuffer]",vie="[object Arguments]",wie="[object Boolean]",bie="[object DataView]",xie="[object Date]",_ie="[object Error]",Sie="[object Map]",Eie="[object Number]",Tie="[object Object]",Aie="[object RegExp]",Cie="[object Set]",Pie="[object String]",kie={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Iie="[object URL]",Oie=Object.prototype.toString;function Nie({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(w,v,b){if(w===v)return!0;if(w==null||v==null)return!1;const x=typeof w;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?s(w,v,b):x==="function"?o(w,v,b):!1;const T=w.constructor;if(T!==v.constructor)return!1;if(T===Object)return l(w,v,b);if(Array.isArray(w))return e(w,v,b);if(T===Date)return r(w,v,b);if(T===RegExp)return c(w,v,b);if(T===Map)return a(w,v,b);if(T===Set)return f(w,v,b);const S=Oie.call(w);if(S===xie)return r(w,v,b);if(S===Aie)return c(w,v,b);if(S===Sie)return a(w,v,b);if(S===Cie)return f(w,v,b);if(S===Tie)return typeof w.then!="function"&&typeof v.then!="function"&&l(w,v,b);if(S===Iie)return m(w,v,b);if(S===_ie)return i(w,v,b);if(S===vie)return l(w,v,b);if(kie[S])return h(w,v,b);if(S===yie)return t(w,v,b);if(S===bie)return n(w,v,b);if(S===wie||S===Eie||S===Pie)return u(w,v,b);if(g){let E=g[S];if(!E){const A=tie(w);A&&(E=g[A])}if(E)return E(w,v,b)}return!1}}function Rie({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:aie,areArraysEqual:n?_s:sie,areDataViewsEqual:lie,areDatesEqual:uie,areErrorsEqual:cie,areFunctionsEqual:fie,areMapsEqual:n?kp(VE,_s):VE,areNumbersEqual:die,areObjectsEqual:n?_s:hie,arePrimitiveWrappersEqual:pie,areRegExpsEqual:mie,areSetsEqual:n?kp(HE,_s):HE,areTypedArraysEqual:n?kp(Rf,_s):Rf,areUrlsEqual:gie,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=tc(r.areArraysEqual),o=tc(r.areMapsEqual),a=tc(r.areObjectsEqual),s=tc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Mie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function $ie({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const Die=pi();pi({strict:!0});pi({circular:!0});pi({circular:!0,strict:!0});pi({createInternalComparator:()=>oo});pi({strict:!0,createInternalComparator:()=>oo});pi({circular:!0,createInternalComparator:()=>oo});pi({circular:!0,createInternalComparator:()=>oo,strict:!0});function pi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Rie(t),a=Nie(o),s=n?n(a):Mie(a);return $ie({circular:e,comparator:a,createState:r,equals:s,strict:i})}function Lie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Lie(i)};requestAnimationFrame(r)}function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function Uie(t){return Gie(t)||Bie(t)||Fie(t)||jie()}function jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fie(t,e){if(t){if(typeof t=="string")return qE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(t,e)}}function qE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gie(t){if(Array.isArray(t))return t}function Vie(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Uie(a),l=s[0],u=s.slice(1);if(typeof l=="number"){zE(i.bind(null,u),l);return}i(l),zE(i.bind(null,u));return}Xg(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){_O(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _O(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=zie(t,"string");return Hl(e)==="symbol"?e:String(e)}function zie(t,e){if(Hl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qie=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Wie=function(e){return e},Kie=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ws=function(e,n){return Object.keys(n).reduce(function(r,i){return KE(KE({},r),{},_O({},i,e(i,n[i])))},{})},JE=function(e,n,r){return e.map(function(i){return"".concat(Kie(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Jie(t,e){return Qie(t)||Xie(t,e)||SO(t,e)||Yie()}function Yie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qie(t){if(Array.isArray(t))return t}function Zie(t){return noe(t)||toe(t)||SO(t)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SO(t,e){if(t){if(typeof t=="string")return Qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qg(t,e)}}function toe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function noe(t){if(Array.isArray(t))return Qg(t)}function Qg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mf=1e-4,EO=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},TO=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},YE=function(e,n){return function(r){var i=EO(e,n);return TO(i,r)}},roe=function(e,n){return function(r){var i=EO(e,n),o=[].concat(Zie(i.map(function(a,s){return a*s}).slice(1)),[0]);return TO(o,r)}},XE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=Jie(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=YE(i,a),h=YE(o,s),m=roe(i,a),g=function(v){return v>1?1:v<0?0:v},y=function(v){for(var b=v>1?1:v,x=b,T=0;T<8;++T){var S=f(x)-b,E=m(x);if(Math.abs(S-b)<Mf||E<Mf)return h(x);x=g(x-S/E)}return h(x)};return y.isStepper=!1,y},ioe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var m=-(c-f)*r,g=h*o,y=h+(m-g)*s/1e3,w=h*s/1e3+c;return Math.abs(w-f)<Mf&&Math.abs(y)<Mf?[f,0]:[w,y]};return l.isStepper=!0,l.dt=s,l},ooe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XE(i);case"spring":return ioe();default:if(i.split("(")[0]==="cubic-bezier")return XE(i)}return typeof i=="function"?i:null};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function QE(t){return loe(t)||soe(t)||AO(t)||aoe()}function aoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function loe(t){if(Array.isArray(t))return ey(t)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zg(t,e,n){return e=uoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uoe(t){var e=coe(t,"string");return zl(e)==="symbol"?e:String(e)}function coe(t,e){if(zl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function foe(t,e){return poe(t)||hoe(t,e)||AO(t,e)||doe()}function doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AO(t,e){if(t){if(typeof t=="string")return ey(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(t,e)}}function ey(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function poe(t){if(Array.isArray(t))return t}var $f=function(e,n,r){return e+(n-e)*r},ty=function(e){var n=e.from,r=e.to;return n!==r},moe=function t(e,n,r){var i=Ws(function(o,a){if(ty(a)){var s=e(a.from,a.to,a.velocity),l=foe(s,2),u=l[0],c=l[1];return wt(wt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Ws(function(o,a){return ty(a)?wt(wt({},a),{},{velocity:$f(a.velocity,i[o].velocity,r),from:$f(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const goe=function(t,e,n,r,i){var o=qie(t,e),a=o.reduce(function(w,v){return wt(wt({},w),{},Zg({},v,[t[v],e[v]]))},{}),s=o.reduce(function(w,v){return wt(wt({},w),{},Zg({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Ws(function(v,b){return b.from},s)},m=function(){return!Object.values(s).filter(ty).length},g=function(v){u||(u=v);var b=v-u,x=b/n.dt;s=moe(n,s,x),i(wt(wt(wt({},t),e),h())),u=v,m()||(l=requestAnimationFrame(f))},y=function(v){c||(c=v);var b=(v-c)/r,x=Ws(function(S,E){return $f.apply(void 0,QE(E).concat([n(b)]))},a);if(i(wt(wt(wt({},t),e),x)),b<1)l=requestAnimationFrame(f);else{var T=Ws(function(S,E){return $f.apply(void 0,QE(E).concat([n(1)]))},a);i(wt(wt(wt({},t),e),T))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}var yoe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function voe(t,e){if(t==null)return{};var n=woe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function woe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ip(t){return Soe(t)||_oe(t)||xoe(t)||boe()}function boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xoe(t,e){if(t){if(typeof t=="string")return ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ny(t,e)}}function _oe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Soe(t){if(Array.isArray(t))return ny(t)}function ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){Is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Is(t,e,n){return e=CO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Toe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CO(r.key),r)}}function Aoe(t,e,n){return e&&Toe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CO(t){var e=Coe(t,"string");return xa(e)==="symbol"?e:String(e)}function Coe(t,e){if(xa(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ry(t,e)}function ry(t,e){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ry(t,e)}function koe(t){var e=Ioe();return function(){var r=Df(t),i;if(e){var o=Df(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return iy(this,i)}}function iy(t,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oy(t)}function oy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ioe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Df(t){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(t)}var qn=function(t){Poe(n,t);var e=koe(n);function n(r,i){var o;Eoe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(oy(o)),o.changeStyle=o.changeStyle.bind(oy(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),iy(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},iy(o);o.state={style:l?Is({},l,u):u}}else o.state={style:{}};return o}return Aoe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var m={style:l?Is({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(Die(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&h){var w={style:l?Is({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(w)}this.runAnimation(In(In({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=goe(a,s,ooe(u),l,this.changeStyle),g=function(){o.stopJSAnimation=m()};this.manager.start([h,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,m=function(y,w,v){if(v===0)return y;var b=w.duration,x=w.easing,T=x===void 0?"ease":x,S=w.style,E=w.properties,A=w.onAnimationEnd,P=v>0?a[v-1]:w,C=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Ip(y),[o.runJSAnimation.bind(o,{from:P.style,to:S,duration:b,easing:T}),b]);var k=JE(C,b,T),O=In(In(In({},P.style),S),{},{transition:k});return[].concat(Ip(y),[O,b,A]).filter(Wie)};return this.manager.start([l].concat(Ip(a.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Vie());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Is({},s,l):l,w=JE(Object.keys(y),a,u);g.start([c,o,In(In({},y),{},{transition:w}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=voe(i,yoe),u=R.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(m){var g=m.props,y=g.style,w=y===void 0?{}:y,v=g.className,b=R.cloneElement(m,In(In({},l),{},{style:In(In({},w),c),className:v}));return b};return u===1?f(R.Children.only(o)):N.createElement("div",null,R.Children.map(o,function(h){return f(h)}))}}]),n}(R.PureComponent);qn.displayName="Animate";qn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qn.propTypes={from:be.oneOfType([be.object,be.string]),to:be.oneOfType([be.object,be.string]),attributeName:be.string,duration:be.number,begin:be.number,easing:be.oneOfType([be.string,be.func]),steps:be.arrayOf(be.shape({duration:be.number.isRequired,style:be.object.isRequired,easing:be.oneOfType([be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),be.func]),properties:be.arrayOf("string"),onAnimationEnd:be.func})),children:be.oneOfType([be.node,be.func]),isActive:be.bool,canBegin:be.bool,onAnimationEnd:be.func,shouldReAnimate:be.bool,onAnimationStart:be.func,onAnimationReStart:be.func};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}function Ooe(t,e){return $oe(t)||Moe(t,e)||Roe(t,e)||Noe()}function Noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Roe(t,e){if(t){if(typeof t=="string")return tT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(t,e)}}function tT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Moe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $oe(t){if(Array.isArray(t))return t}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){Doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e,n){return e=Loe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Loe(t){var e=Uoe(t,"string");return ql(e)=="symbol"?e:e+""}function Uoe(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iT=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},joe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Foe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G0=function(e){var n=rT(rT({},Foe),e),r=R.useRef(),i=R.useState(-1),o=Ooe(i,2),a=o[0],s=o[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,m=n.className,g=n.animationEasing,y=n.animationDuration,w=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var x=ce("recharts-rectangle",m);return b?N.createElement(qn,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:b},function(T){var S=T.width,E=T.height,A=T.x,P=T.y;return N.createElement(qn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:v,easing:g},N.createElement("path",Lf({},se(n,!0),{className:x,d:iT(A,P,S,E,h),ref:r})))}):N.createElement("path",Lf({},se(n,!0),{className:x,d:iT(l,u,c,f,h)}))};function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}var ch=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ce("recharts-dot",o);return n===+n&&r===+r&&i===+i?R.createElement("circle",ay({},se(e,!1),tf(e),{className:a,cx:n,cy:r,r:i})):null};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var Boe=["x","y","top","left","width","height","className"];function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Goe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(n),!0).forEach(function(r){Voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Voe(t,e,n){return e=Hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hoe(t){var e=zoe(t,"string");return Wl(e)=="symbol"?e:e+""}function zoe(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qoe(t,e){if(t==null)return{};var n=Woe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Woe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Koe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Joe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,m=h===void 0?0:h,g=e.className,y=qoe(e,Boe),w=Goe({x:r,y:o,top:s,left:u,width:f,height:m},y);return!q(r)||!q(o)||!q(f)||!q(m)||!q(s)||!q(u)?null:N.createElement("path",sy({},se(w,!0),{className:ce("recharts-cross",g),d:Koe(r,o,f,m,s,u)}))},Yoe=Vk,Xoe=Yoe(Object.getPrototypeOf,Object),Qoe=Xoe,Zoe=Or,eae=Qoe,tae=Nr,nae="[object Object]",rae=Function.prototype,iae=Object.prototype,PO=rae.toString,oae=iae.hasOwnProperty,aae=PO.call(Object);function sae(t){if(!tae(t)||Zoe(t)!=nae)return!1;var e=eae(t);if(e===null)return!0;var n=oae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&PO.call(n)==aae}var lae=sae;const uae=ke(lae);var cae=Or,fae=Nr,dae="[object Boolean]";function hae(t){return t===!0||t===!1||fae(t)&&cae(t)==dae}var pae=hae;const mae=ke(pae);function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}function gae(t,e){return bae(t)||wae(t,e)||vae(t,e)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(t,e){if(t){if(typeof t=="string")return aT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aT(t,e)}}function aT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bae(t){if(Array.isArray(t))return t}function sT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(n),!0).forEach(function(r){xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xae(t,e,n){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=Sae(t,"string");return Kl(e)=="symbol"?e:e+""}function Sae(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uT=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Eae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tae=function(e){var n=lT(lT({},Eae),e),r=R.useRef(),i=R.useState(-1),o=gae(i,2),a=o[0],s=o[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,y=n.animationDuration,w=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var b=ce("recharts-trapezoid",m);return v?N.createElement(qn,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:v},function(x){var T=x.upperWidth,S=x.lowerWidth,E=x.height,A=x.x,P=x.y;return N.createElement(qn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:g},N.createElement("path",Uf({},se(n,!0),{className:b,d:uT(A,P,T,S,E),ref:r})))}):N.createElement("g",null,N.createElement("path",Uf({},se(n,!0),{className:b,d:uT(l,u,c,f,h)})))},Aae=["option","shapeType","propTransformer","activeClassName","isActive"];function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function Cae(t,e){if(t==null)return{};var n=Pae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cT(Object(n),!0).forEach(function(r){kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kae(t,e,n){return e=Iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Oae(t,"string");return Jl(e)=="symbol"?e:e+""}function Oae(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nae(t,e){return jf(jf({},e),t)}function Rae(t,e){return t==="symbols"}function fT(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return N.createElement(G0,n);case"trapezoid":return N.createElement(Tae,n);case"sector":return N.createElement(yO,n);case"symbols":if(Rae(e))return N.createElement(Yd,n);break;default:return null}}function Mae(t){return R.isValidElement(t)?t.props:t}function ly(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Nae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Cae(t,Aae),u;if(R.isValidElement(e))u=R.cloneElement(e,jf(jf({},l),Mae(e)));else if(fe(e))u=e(l);else if(uae(e)&&!mae(e)){var c=i(e,l);u=N.createElement(fT,{shapeType:n,elementProps:c})}else{var f=l;u=N.createElement(fT,{shapeType:n,elementProps:f})}return s?N.createElement(we,{className:a},u):u}function fh(t,e){return e!=null&&"trapezoids"in t.props}function dh(t,e){return e!=null&&"sectors"in t.props}function Yl(t,e){return e!=null&&"points"in t.props}function $ae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Dae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Lae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Uae(t,e){var n;return fh(t,e)?n=$ae:dh(t,e)?n=Dae:Yl(t,e)&&(n=Lae),n}function jae(t,e){var n;return fh(t,e)?n="trapezoids":dh(t,e)?n="sectors":Yl(t,e)&&(n="points"),n}function Fae(t,e){if(fh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(dh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Yl(t,e)?e.payload:{}}function Bae(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=jae(n,e),o=Fae(n,e),a=r.filter(function(l,u){var c=Ji(o,l),f=n.props[i].filter(function(g){var y=Uae(n,e);return y(g,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var Gae=Math.ceil,Vae=Math.max;function Hae(t,e,n,r){for(var i=-1,o=Vae(Gae((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var zae=Hae,qae=sI,dT=1/0,Wae=17976931348623157e292;function Kae(t){if(!t)return t===0?t:0;if(t=qae(t),t===dT||t===-dT){var e=t<0?-1:1;return e*Wae}return t===t?t:0}var Jae=Kae,Yae=zae,Xae=Zd,Op=Jae;function Qae(t){return function(e,n,r){return r&&typeof r!="number"&&Xae(e,n,r)&&(n=r=void 0),e=Op(e),n===void 0?(n=e,e=0):n=Op(n),r=r===void 0?e<n?1:-1:Op(r),Yae(e,n,r,t)}}var Zae=Qae,ese=Zae,tse=ese(),nse=tse;const Ff=ke(nse);function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function hT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hT(Object(n),!0).forEach(function(r){kO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kO(t,e,n){return e=rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return Xl(e)=="symbol"?e:e+""}function ise(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ose=["Webkit","Moz","O","ms"],ase=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ose.reduce(function(o,a){return pT(pT({},o),{},kO({},a+r,n))},{});return i[e]=n,i};function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(this,arguments)}function mT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(n),!0).forEach(function(r){Xt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OO(r.key),r)}}function lse(t,e,n){return e&&gT(t.prototype,e),n&&gT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function use(t,e,n){return e=Gf(e),cse(t,IO()?Reflect.construct(e,n||[],Gf(t).constructor):e.apply(t,n))}function cse(t,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fse(t)}function fse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IO=function(){return!!t})()}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gf(t)}function dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uy(t,e)}function uy(t,e){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uy(t,e)}function Xt(t,e,n){return e=OO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OO(t){var e=hse(t,"string");return _a(e)=="symbol"?e:e+""}function hse(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=zs().domain(Ff(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},yT=function(e){return e.changedTouches&&!!e.changedTouches.length},Sa=function(t){function e(n){var r;return sse(this,e),r=use(this,e,[n]),Xt(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Xt(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Xt(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Xt(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Xt(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Xt(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Xt(r,"handleSlideDragStart",function(i){var o=yT(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return dse(e,t),lse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,f),g=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=lt(o[r],s,r);return fe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-s,u+c-f-a):y<0&&(y=Math.max(y,u-a,u-s));var w=this.getIndex({startX:a+y,endX:s+y});(w.startIndex!==h||w.endIndex!==m)&&g&&g(w),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=yT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,m=c.travellerWidth,g=c.onChange,y=c.gap,w=c.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),v[a]=u+b;var x=this.getIndex(v),T=x.startIndex,S=x.endIndex,E=function(){var P=w.length-1;return a==="startX"&&(s>l?T%y===0:S%y===0)||s<l&&S===P||a==="endX"&&(s>l?S%y===0:T%y===0)||s>l&&S===P};this.setState(Xt(Xt({},a,u+b),"brushMoveStartX",r.pageX),function(){g&&E()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Xt({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return N.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=R.Children.only(u);return f?N.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,y=l.startIndex,w=l.endIndex,v=Math.max(r,this.props.x),b=Np(Np({},se(this.props,!1)),{},{x:v,y:u,width:c,height:f}),x=m||"Min value: ".concat((o=g[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[w])===null||a===void 0?void 0:a.name);return N.createElement(we,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return N.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,m=5,g={pointerEvents:"none",fill:u};return N.createElement(we,{className:"recharts-brush-texts"},N.createElement(gf,Bf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+s/2},g),this.getTextOfTick(i)),N.createElement(gf,Bf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,y=h.isTextActive,w=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!q(s)||!q(l)||!q(u)||!q(c)||u<=0||c<=0)return null;var x=ce("recharts-brush",o),T=N.Children.count(a)===1,S=ase("userSelect","none");return N.createElement(we,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(y||w||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return N.createElement(N.Fragment,null,N.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),N.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),N.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return N.isValidElement(r)?o=N.cloneElement(r,i):fe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Np({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?pse({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(R.PureComponent);Xt(Sa,"displayName","Brush");Xt(Sa,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mse=p0;function gse(t,e){var n;return mse(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var yse=gse,vse=$k,wse=Qa,bse=yse,xse=Kt,_se=Zd;function Sse(t,e,n){var r=xse(t)?vse:bse;return n&&_se(t,e,n)&&(e=void 0),r(t,wse(e))}var Ese=Sse;const Tse=ke(Ese);var or=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},vT=nI;function Ase(t,e,n){e=="__proto__"&&vT?vT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Cse=Ase,Pse=Cse,kse=eI,Ise=Qa;function Ose(t,e){var n={};return e=Ise(e),kse(t,function(r,i,o){Pse(n,i,e(r,i,o))}),n}var Nse=Ose;const Rse=ke(Nse);function Mse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var $se=Mse,Dse=p0;function Lse(t,e){var n=!0;return Dse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Use=Lse,jse=$se,Fse=Use,Bse=Qa,Gse=Kt,Vse=Zd;function Hse(t,e,n){var r=Gse(t)?jse:Fse;return n&&Vse(t,e,n)&&(e=void 0),r(t,Bse(e))}var zse=Hse;const qse=ke(zse);var Wse=["x","y"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){Kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kse(t,e,n){return e=Jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Yse(t,"string");return Ql(e)=="symbol"?e:e+""}function Yse(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xse(t,e){if(t==null)return{};var n=Qse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zse(t,e){var n=t.x,r=t.y,i=Xse(t,Wse),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ss(Ss(Ss(Ss(Ss({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function bT(t){return N.createElement(ly,cy({shapeType:"rectangle",propTransformer:Zse,activeClassName:"recharts-active-bar"},t))}var ele=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=q(r)||fz(r);return o?e(r,i):(o||Xi(),n)}},tle=["value","background"],NO;function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}function nle(t,e){if(t==null)return{};var n=rle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){Wr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ile(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MO(r.key),r)}}function ole(t,e,n){return e&&_T(t.prototype,e),n&&_T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ale(t,e,n){return e=Hf(e),sle(t,RO()?Reflect.construct(e,n||[],Hf(t).constructor):e.apply(t,n))}function sle(t,e){if(e&&(Ea(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lle(t)}function lle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(t)}function ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fy(t,e)}function fy(t,e){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fy(t,e)}function Wr(t,e,n){return e=MO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MO(t){var e=cle(t,"string");return Ea(e)=="symbol"?e:e+""}function cle(t,e){if(Ea(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ea(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ao=function(t){function e(){var n;ile(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ale(this,e,[].concat(i)),Wr(n,"state",{isAnimationFinished:!1}),Wr(n,"id",no("recharts-bar-")),Wr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Wr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ule(e,t),ole(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=se(this.props,!1);return r&&r.map(function(f,h){var m=h===l,g=m?u:a,y=Xe(Xe(Xe({},c),f),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return N.createElement(we,Vf({className:"recharts-bar-rectangle"},xl(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),N.createElement(bT,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return N.createElement(qn,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,y=o.map(function(w,v){var b=h&&h[v];if(b){var x=Je(b.x,w.x),T=Je(b.y,w.y),S=Je(b.width,w.width),E=Je(b.height,w.height);return Xe(Xe({},w),{},{x:x(g),y:T(g),width:S(g),height:E(g)})}if(a==="horizontal"){var A=Je(0,w.height),P=A(g);return Xe(Xe({},w),{},{y:w.y+w.height-P,height:P})}var C=Je(0,w.width),k=C(g);return Xe(Xe({},w),{},{width:k})});return N.createElement(we,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ji(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=se(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=nle(u,tle);if(!f)return null;var m=Xe(Xe(Xe(Xe(Xe({},h),{},{fill:"#eee"},f),l),xl(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return N.createElement(bT,Vf({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Wt(c,ns);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(w,v){var b=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:b,errorVal:lt(w,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return N.createElement(we,g,f.map(function(y){return N.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,m=r.isAnimationActive,g=r.background,y=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,v=ce("recharts-bar",a),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,T=b||x,S=oe(y)?this.id:y;return N.createElement(we,{className:v},b||x?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(S)},N.createElement("rect",{x:b?u:u-f/2,y:x?c:c-h/2,width:b?f:f*2,height:x?h:h*2}))):null,N.createElement(we,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!m||w)&&ir.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);NO=ao;Wr(ao,"displayName","Bar");Wr(ao,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wr(ao,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,m=$ne(r,n);if(!m)return null;var g=e.layout,y=n.type.defaultProps,w=y!==void 0?Xe(Xe({},y),n.props):n.props,v=w.dataKey,b=w.children,x=w.minPointSize,T=g==="horizontal"?a:o,S=u?T.scale.domain():null,E=Vne({numericAxis:T}),A=Wt(b,eh),P=f.map(function(C,k){var O,I,M,L,j,U;u?O=Dne(u[c+k],S):(O=lt(C,v),Array.isArray(O)||(O=[E,O]));var B=ele(x,NO.defaultProps.minPointSize)(O[1],k);if(g==="horizontal"){var D,$=[a.scale(O[0]),a.scale(O[1])],G=$[0],W=$[1];I=EE({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:C,index:k}),M=(D=W??G)!==null&&D!==void 0?D:void 0,L=m.size;var H=G-W;if(j=Number.isNaN(H)?0:H,U={x:I,y:a.y,width:L,height:a.height},Math.abs(B)>0&&Math.abs(j)<Math.abs(B)){var ee=Fn(j||B)*(Math.abs(B)-Math.abs(j));M-=ee,j+=ee}}else{var he=[o.scale(O[0]),o.scale(O[1])],Ee=he[0],Fe=he[1];if(I=Ee,M=EE({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:C,index:k}),L=Fe-Ee,j=m.size,U={x:o.x,y:M,width:o.width,height:j},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var Nt=Fn(L||B)*(Math.abs(B)-Math.abs(L));L+=Nt}}return Xe(Xe(Xe({},C),{},{x:I,y:M,width:L,height:j,value:u?O:O[1],payload:C,background:U},A&&A[k]&&A[k].props),{},{tooltipPayload:[pO(n,C)],tooltipPosition:{x:I+L/2,y:M+j/2}})});return Xe({data:P,layout:g},h)});function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ST(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$O(r.key),r)}}function dle(t,e,n){return e&&ST(t.prototype,e),n&&ST(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){hh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hh(t,e,n){return e=$O(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $O(t){var e=hle(t,"string");return Zl(e)=="symbol"?e:e+""}function hle(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DO=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Zt(u,ao);return c.reduce(function(m,g){var y=n[g],w=y.orientation,v=y.domain,b=y.padding,x=b===void 0?{}:b,T=y.mirror,S=y.reversed,E="".concat(w).concat(T?"Mirror":""),A,P,C,k,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var I=v[1]-v[0],M=1/0,L=y.categoricalDomain.sort(mz);if(L.forEach(function(he,Ee){Ee>0&&(M=Math.min((he||0)-(L[Ee-1]||0),M))}),Number.isFinite(M)){var j=M/I,U=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=j*U/2),y.padding==="no-gap"){var B=Ki(e.barCategoryGap,j*U),D=j*U/2;A=D-B-(D-B)/U*B}}}i==="xAxis"?P=[r.left+(x.left||0)+(A||0),r.left+r.width-(x.right||0)-(A||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(A||0),r.top+r.height-(x.bottom||0)-(A||0)]:P=y.range,S&&(P=[P[1],P[0]]);var $=Rne(y,o,h),G=$.scale,W=$.realScaleType;G.domain(v).range(P),Mne(G);var H=Gne(G,Dn(Dn({},y),{},{realScaleType:W}));i==="xAxis"?(O=w==="top"&&!T||w==="bottom"&&T,C=r.left,k=f[E]-O*y.height):i==="yAxis"&&(O=w==="left"&&!T||w==="right"&&T,C=f[E]-O*y.width,k=r.top);var ee=Dn(Dn(Dn({},y),H),{},{realScaleType:W,x:C,y:k,scale:G,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ee.bandSize=If(ee,H),!y.hide&&i==="xAxis"?f[E]+=(O?-1:1)*ee.height:y.hide||(f[E]+=(O?-1:1)*ee.width),Dn(Dn({},m),{},hh({},g,ee))},{})},LO=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},ple=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return LO({x:n,y:r},{x:i,y:o})},UO=function(){function t(e){fle(this,t),this.scale=e}return dle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();hh(UO,"EPS",1e-4);var V0=function(e){var n=Object.keys(e).reduce(function(r,i){return Dn(Dn({},r),{},hh({},i,UO.create(e[i])))},{});return Dn(Dn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Rse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return qse(i,function(o,a){return n[a].isInRange(o)})}})};function mle(t){return(t%180+180)%180}var gle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=mle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},yle=yH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jO=R.createContext(void 0),FO=R.createContext(void 0),BO=R.createContext(void 0),vle=R.createContext({}),GO=R.createContext(void 0),VO=R.createContext(0),HO=R.createContext(0),TT=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=yle(o);return N.createElement(jO.Provider,{value:r},N.createElement(FO.Provider,{value:i},N.createElement(vle.Provider,{value:o},N.createElement(BO.Provider,{value:c},N.createElement(GO.Provider,{value:a},N.createElement(VO.Provider,{value:u},N.createElement(HO.Provider,{value:l},s)))))))},wle=function(){return R.useContext(GO)},zO=function(e){var n=R.useContext(jO);n==null&&Xi();var r=n[e];return r==null&&Xi(),r},qO=function(e){var n=R.useContext(FO);n==null&&Xi();var r=n[e];return r==null&&Xi(),r},ble=function(){var e=R.useContext(BO);return e},WO=function(){return R.useContext(HO)},KO=function(){return R.useContext(VO)};function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}function xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YO(r.key),r)}}function Sle(t,e,n){return e&&_le(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ele(t,e,n){return e=zf(e),Tle(t,JO()?Reflect.construct(e,n||[],zf(t).constructor):e.apply(t,n))}function Tle(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ale(t)}function Ale(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JO=function(){return!!t})()}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zf(t)}function Cle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dy(t,e)}function dy(t,e){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(t,e)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){H0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H0(t,e,n){return e=YO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YO(t){var e=Ple(t,"string");return Ta(e)=="symbol"?e:e+""}function Ple(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kle(t,e){return Rle(t)||Nle(t,e)||Ole(t,e)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ole(t,e){if(t){if(typeof t=="string")return PT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PT(t,e)}}function PT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rle(t){if(Array.isArray(t))return t}function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(this,arguments)}var Mle=function(e,n){var r;return N.isValidElement(e)?r=N.cloneElement(e,n):fe(e)?r=e(n):r=N.createElement("line",hy({},n,{className:"recharts-reference-line-line"})),r},$le=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,m=o.height;if(r){var g=u.y,y=e.y.apply(g,{position:a});if(or(u,"discard")&&!e.y.isInRange(y))return null;var w=[{x:c+h,y},{x:c,y}];return l==="left"?w.reverse():w}if(n){var v=u.x,b=e.x.apply(v,{position:a});if(or(u,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:f+m},{x:b,y:f}];return s==="top"?x.reverse():x}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return or(u,"discard")&&Tse(S,function(E){return!e.isInRange(E)})?null:S}return null};function Dle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=wle(),c=zO(i),f=qO(o),h=ble();if(!u||!h)return null;Ui(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=V0({x:c.scale,y:f.scale}),g=st(e),y=st(n),w=r&&r.length===2,v=$le(m,g,y,w,h,t.position,c.orientation,f.orientation,t);if(!v)return null;var b=kle(v,2),x=b[0],T=x.x,S=x.y,E=b[1],A=E.x,P=E.y,C=or(t,"hidden")?"url(#".concat(u,")"):void 0,k=CT(CT({clipPath:C},se(t,!0)),{},{x1:T,y1:S,x2:A,y2:P});return N.createElement(we,{className:ce("recharts-reference-line",s)},Mle(a,k),kt.renderCallByParent(t,ple({x1:T,y1:S,x2:A,y2:P})))}var ph=function(t){function e(){return xle(this,e),Ele(this,e,arguments)}return Cle(e,t),Sle(e,[{key:"render",value:function(){return N.createElement(Dle,this.props)}}])}(N.Component);H0(ph,"displayName","ReferenceLine");H0(ph,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ule(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QO(r.key),r)}}function jle(t,e,n){return e&&Ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fle(t,e,n){return e=qf(e),Ble(t,XO()?Reflect.construct(e,n||[],qf(t).constructor):e.apply(t,n))}function Ble(t,e){if(e&&(Aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gle(t)}function Gle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qf(t)}function Vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&my(t,e)}function my(t,e){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},my(t,e)}function mh(t,e,n){return e=QO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QO(t){var e=Hle(t,"string");return Aa(e)=="symbol"?e:e+""}function Hle(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zle=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=V0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return or(e,"discard")&&!a.isInRange(s)?null:s},gh=function(t){function e(){return Lle(this,e),Fle(this,e,arguments)}return Vle(e,t),jle(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=st(i),c=st(o);if(Ui(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=zle(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,y=g.shape,w=g.className,v=or(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=IT(IT({clipPath:v},se(this.props,!0)),{},{cx:h,cy:m});return N.createElement(we,{className:ce("recharts-reference-dot",w)},e.renderDot(y,b),kt.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(N.Component);mh(gh,"displayName","ReferenceDot");mh(gh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mh(gh,"renderDot",function(t,e){var n;return N.isValidElement(t)?n=N.cloneElement(t,e):fe(t)?n=t(e):n=N.createElement(ch,py({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eN(r.key),r)}}function Kle(t,e,n){return e&&Wle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jle(t,e,n){return e=Wf(e),Yle(t,ZO()?Reflect.construct(e,n||[],Wf(t).constructor):e.apply(t,n))}function Yle(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xle(t)}function Xle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!t})()}function Wf(t){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wf(t)}function Qle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yy(t,e)}function yy(t,e){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yy(t,e)}function yh(t,e,n){return e=eN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eN(t){var e=Zle(t,"string");return Ca(e)=="symbol"?e:e+""}function Zle(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=V0({x:c.scale,y:f.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return or(o,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:LO(m,g)},vh=function(t){function e(){return qle(this,e),Jle(this,e,arguments)}return Qle(e,t),Kle(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ui(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=st(i),h=st(o),m=st(a),g=st(s),y=this.props.shape;if(!f&&!h&&!m&&!g&&!y)return null;var w=eue(f,h,m,g,this.props);if(!w&&!y)return null;var v=or(this.props,"hidden")?"url(#".concat(c,")"):void 0;return N.createElement(we,{className:ce("recharts-reference-area",l)},e.renderRect(y,NT(NT({clipPath:v},se(this.props,!0)),w)),kt.renderCallByParent(this.props,w))}}])}(N.Component);yh(vh,"displayName","ReferenceArea");yh(vh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yh(vh,"renderRect",function(t,e){var n;return N.isValidElement(t)?n=N.cloneElement(t,e):fe(t)?n=t(e):n=N.createElement(G0,gy({},e,{className:"recharts-reference-area-rect"})),n});function tN(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return gle(r,n)}function nue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Kf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function rue(t,e){return tN(t,e+1)}function iue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:tN(r,u)};var y=l,w,v=function(){return w===void 0&&(w=n(g,y)),w},b=g.coordinate,x=l===0||Kf(t,b,v,c,s);x||(l=0,c=a,u+=1),x&&(c=b+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e,n){return e=aue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return eu(e)=="symbol"?e:e+""}function sue(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var m=o[h],g,y=function(){return g===void 0&&(g=n(m,h)),g};if(h===a-1){var w=t*(m.coordinate+t*y()/2-l);o[h]=m=Ct(Ct({},m),{},{tickCoord:w>0?m.coordinate-w*t:m.coordinate})}else o[h]=m=Ct(Ct({},m),{},{tickCoord:m.coordinate});var v=Kf(t,m.tickCoord,y,s,l);v&&(l=m.tickCoord-t*(y()/2+i),o[h]=Ct(Ct({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function uue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=Ct(Ct({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var m=Kf(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),a[s-1]=Ct(Ct({},c),{},{isShow:!0}))}for(var g=o?s-1:s,y=function(b){var x=a[b],T,S=function(){return T===void 0&&(T=n(x,b)),T};if(b===0){var E=t*(x.coordinate-t*S()/2-l);a[b]=x=Ct(Ct({},x),{},{tickCoord:E<0?x.coordinate-E*t:x.coordinate})}else a[b]=x=Ct(Ct({},x),{},{tickCoord:x.coordinate});var A=Kf(t,x.tickCoord,S,l,u);A&&(l=x.tickCoord+t*(S()/2+i),a[b]=Ct(Ct({},x),{},{isShow:!0}))},w=0;w<g;w++)y(w);return a}function cue(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(q(l)||fi.isSsr)return rue(i,typeof l=="number"&&q(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?Hs(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(x,T){var S=fe(u)?u(x.value,T):x.value;return m==="width"?tue(Hs(S,{fontSize:e,letterSpacing:n}),g,f):Hs(S,{fontSize:e,letterSpacing:n})[m]},w=i.length>=2?Fn(i[1].coordinate-i[0].coordinate):1,v=nue(o,w,m);return l==="equidistantPreserveStart"?iue(w,v,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=uue(w,v,y,i,a,l==="preserveStartEnd"):h=lue(w,v,y,i,a),h.filter(function(b){return b.isShow}))}var fue=["viewBox"],due=["viewBox"],hue=["ticks"];function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fo.apply(this,arguments)}function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rp(t,e){if(t==null)return{};var n=pue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rN(r.key),r)}}function gue(t,e,n){return e&&$T(t.prototype,e),n&&$T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yue(t,e,n){return e=Jf(e),vue(t,nN()?Reflect.construct(e,n||[],Jf(t).constructor):e.apply(t,n))}function vue(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nN=function(){return!!t})()}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jf(t)}function bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vy(t,e)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(t,e)}function z0(t,e,n){return e=rN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rN(t){var e=xue(t,"string");return Pa(e)=="symbol"?e:e+""}function xue(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wh=function(t){function e(n){var r;return mue(this,e),r=yue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return bue(e,t),gue(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Rp(r,fue),s=this.props,l=s.viewBox,u=Rp(s,due);return!Qo(o,l)||!Qo(a,u)||!Qo(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,m,g,y,w,v,b,x=f?-1:1,T=r.tickSize||c,S=q(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,w=a+ +!f*l,y=w-x*T,b=y-x*h,v=S;break;case"left":y=w=r.coordinate,g=o+ +!f*s,m=g-x*T,v=m-x*h,b=S;break;case"right":y=w=r.coordinate,g=o+ +f*s,m=g+x*T,v=m+x*h,b=S;break;default:m=g=r.coordinate,w=a+ +f*l,y=w+x*T,b=y+x*h,v=S;break}return{line:{x1:m,y1:y,x2:g,y2:w},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=nt(nt(nt({},se(this.props,!1)),se(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=nt(nt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=nt(nt({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return N.createElement("line",Fo({},f,{className:ce("recharts-cartesian-axis-line",xn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,m=cue(nt(nt({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=se(this.props,!1),v=se(c,!1),b=nt(nt({},w),{},{fill:"none"},se(l,!1)),x=m.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,P=E.tick,C=nt(nt(nt(nt({textAnchor:g,verticalAnchor:y},w),{},{stroke:"none",fill:u},v),P),{},{index:S,payload:T,visibleTicksCount:m.length,tickFormatter:f});return N.createElement(we,Fo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},xl(a.props,T,S)),l&&N.createElement("line",Fo({},b,A,{className:ce("recharts-cartesian-axis-tick-line",xn(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(fe(f)?f(T.value,S):T.value).concat(h||"")))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,m=Rp(f,hue),g=h;return fe(l)&&(g=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!g||!g.length?null:N.createElement(we,{className:ce("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=ce(i.className,"recharts-cartesian-axis-tick-value");return N.isValidElement(r)?a=N.cloneElement(r,nt(nt({},i),{},{className:s})):fe(r)?a=r(nt(nt({},i),{},{className:s})):a=N.createElement(gf,Fo({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(R.Component);z0(wh,"displayName","CartesianAxis");z0(wh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _ue=["type","layout","connectNulls","ref"],Sue=["key"];function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function DT(t,e){if(t==null)return{};var n=Eue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(this,arguments)}function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(n),!0).forEach(function(r){Ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vo(t){return Pue(t)||Cue(t)||Aue(t)||Tue()}function Tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(t,e){if(t){if(typeof t=="string")return wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(t,e)}}function Cue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pue(t){if(Array.isArray(t))return wy(t)}function wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oN(r.key),r)}}function Iue(t,e,n){return e&&UT(t.prototype,e),n&&UT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oue(t,e,n){return e=Yf(e),Nue(t,iN()?Reflect.construct(e,n||[],Yf(t).constructor):e.apply(t,n))}function Nue(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rue(t)}function Rue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iN=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yf(t)}function Mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}function by(t,e){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},by(t,e)}function Ln(t,e,n){return e=oN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oN(t){var e=$ue(t,"string");return ka(e)=="symbol"?e:e+""}function $ue(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bh=function(t){function e(){var n;kue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Oue(this,e,[].concat(i)),Ln(n,"state",{isAnimationFinished:!0,totalLength:0}),Ln(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Ln(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(v,b){return v+b});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,h=s-a,m=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>f){m=[].concat(vo(l.slice(0,g)),[f-y]);break}var w=m.length%2===0?[0,h]:[h];return[].concat(vo(e.repeat(l,c)),vo(m),w).map(function(v){return"".concat(v,"px")}).join(", ")}),Ln(n,"id",no("recharts-line-")),Ln(n,"pathRef",function(a){n.mainCurve=a}),Ln(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ln(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Mue(e,t),Iue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Wt(c,ns);if(!f)return null;var h=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:lt(y.payload,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return N.createElement(we,m,f.map(function(g){return N.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=se(this.props,!1),h=se(l,!0),m=u.map(function(y,w){var v=Yt(Yt(Yt({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return N.createElement(we,Ks({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=DT(s,_ue),h=Yt(Yt(Yt({},se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return N.createElement(Bi,Ks({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,m=a.animationId,g=a.animateNewValues,y=a.width,w=a.height,v=this.state,b=v.prevPoints,x=v.totalLength;return N.createElement(qn,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(b){var E=b.length/s.length,A=s.map(function(I,M){var L=Math.floor(M*E);if(b[L]){var j=b[L],U=Je(j.x,I.x),B=Je(j.y,I.y);return Yt(Yt({},I),{},{x:U(S),y:B(S)})}if(g){var D=Je(y*2,I.x),$=Je(w/2,I.y);return Yt(Yt({},I),{},{x:D(S),y:$(S)})}return Yt(Yt({},I),{},{x:I.x,y:I.y})});return o.renderCurveStatically(A,r,i)}var P=Je(0,x),C=P(S),k;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});k=o.getStrokeDasharray(C,x,O)}else k=o.generateSimpleStrokeDasharray(x,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Ji(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,m=i.width,g=i.height,y=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,x=ce("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=oe(w)?this.id:w,P=(r=se(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=P.r,k=C===void 0?3:C,O=P.strokeWidth,I=O===void 0?2:O,M=ak(a)?a:{},L=M.clipDot,j=L===void 0?!0:L,U=k*2+I;return N.createElement(we,{className:x},T||S?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(A)},N.createElement("rect",{x:T?h:h-m/2,y:S?f:f-g/2,width:T?m:m*2,height:S?g:g*2})),!j&&N.createElement("clipPath",{id:"clipPath-dots-".concat(A)},N.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:g+U}))):null,!b&&this.renderCurve(E,A),this.renderErrorBar(E,A),(b||a)&&this.renderDots(E,j,A),(!y||v)&&ir.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(vo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(vo(a),vo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(N.isValidElement(r))o=N.cloneElement(r,i);else if(fe(r))o=r(i);else{var a=i.key,s=DT(i,Sue),l=ce("recharts-line-dot",typeof r!="boolean"?r.className:"");o=N.createElement(ch,Ks({key:a},s,{className:l}))}return o}}])}(R.PureComponent);Ln(bh,"displayName","Line");Ln(bh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ln(bh,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,m){var g=lt(h,a);return c==="horizontal"?{x:ba({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:oe(g)?null:r.scale(g),value:g,payload:h}:{x:oe(g)?null:n.scale(g),y:ba({axis:r,ticks:o,bandSize:s,entry:h,index:m}),value:g,payload:h}});return Yt({points:f,layout:c},u)});var Due=["layout","type","stroke","connectNulls","isRange","ref"],Lue=["key"],aN;function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function sN(t,e){if(t==null)return{};var n=Uue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$i.apply(this,arguments)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uN(r.key),r)}}function Fue(t,e,n){return e&&FT(t.prototype,e),n&&FT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bue(t,e,n){return e=Xf(e),Gue(t,lN()?Reflect.construct(e,n||[],Xf(t).constructor):e.apply(t,n))}function Gue(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vue(t)}function Vue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lN=function(){return!!t})()}function Xf(t){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xf(t)}function Hue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xy(t,e)}function xy(t,e){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xy(t,e)}function er(t,e,n){return e=uN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uN(t){var e=zue(t,"string");return Ia(e)=="symbol"?e:e+""}function zue(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mr=function(t){function e(){var n;jue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Bue(this,e,[].concat(i)),er(n,"state",{isAnimationFinished:!0}),er(n,"id",no("recharts-area-")),er(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),fe(a)&&a()}),er(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),fe(a)&&a()}),n}return Hue(e,t),Fue(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=se(this.props,!1),m=se(u,!0),g=c.map(function(w,v){var b=Dr(Dr(Dr({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:c});return e.renderDotItem(u,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return N.createElement(we,$i({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),f=qr(a.map(function(h){return h.y||0}));return q(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(qr(o.map(function(h){return h.y||0})),f)),q(f)?N.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),f=qr(a.map(function(h){return h.x||0}));return q(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(qr(o.map(function(h){return h.x||0})),f)),q(f)?N.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var m=sN(s,Due);return N.createElement(we,{clipPath:o?"url(#clipPath-".concat(a,")"):null},N.createElement(Bi,$i({},se(m,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&N.createElement(Bi,$i({},se(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&N.createElement(Bi,$i({},se(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,m=a.animationId,g=this.state,y=g.prevPoints,w=g.prevBaseLine;return N.createElement(qn,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(y){var x=y.length/s.length,T=s.map(function(P,C){var k=Math.floor(C*x);if(y[k]){var O=y[k],I=Je(O.x,P.x),M=Je(O.y,P.y);return Dr(Dr({},P),{},{x:I(b),y:M(b)})}return P}),S;if(q(l)&&typeof l=="number"){var E=Je(w,l);S=E(b)}else if(oe(l)||Ka(l)){var A=Je(w,0);S=A(b)}else S=l.map(function(P,C){var k=Math.floor(C*x);if(w[k]){var O=w[k],I=Je(O.x,P.x),M=Je(O.y,P.y);return Dr(Dr({},P),{},{x:I(b),y:M(b)})}return P});return o.renderAreaStatically(T,S,r,i)}return N.createElement(we,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),N.createElement(we,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!Ji(c,a)||!Ji(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,m=i.width,g=i.height,y=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,x=ce("recharts-area",l),T=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,E=T||S,A=oe(w)?this.id:w,P=(r=se(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=P.r,k=C===void 0?3:C,O=P.strokeWidth,I=O===void 0?2:O,M=ak(a)?a:{},L=M.clipDot,j=L===void 0?!0:L,U=k*2+I;return N.createElement(we,{className:x},T||S?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(A)},N.createElement("rect",{x:T?c:c-m/2,y:S?u:u-g/2,width:T?m:m*2,height:S?g:g*2})),!j&&N.createElement("clipPath",{id:"clipPath-dots-".concat(A)},N.createElement("rect",{x:c-U/2,y:u-U/2,width:m+U,height:g+U}))):null,b?null:this.renderArea(E,A),(a||b)&&this.renderDots(E,j,A),(!y||v)&&ir.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);aN=Mr;er(Mr,"displayName","Area");er(Mr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});er(Mr,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(q(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});er(Mr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,m=e.layout,g=u&&u.length,y=aN.getBaseValue(e,n,r,i),w=m==="horizontal",v=!1,b=f.map(function(T,S){var E;g?E=u[c+S]:(E=lt(T,l),Array.isArray(E)?v=!0:E=[y,E]);var A=E[1]==null||g&&lt(T,l)==null;return w?{x:ba({axis:r,ticks:o,bandSize:s,entry:T,index:S}),y:A?null:i.scale(E[1]),value:E,payload:T}:{x:A?null:r.scale(E[1]),y:ba({axis:i,ticks:a,bandSize:s,entry:T,index:S}),value:E,payload:T}}),x;return g||v?x=b.map(function(T){var S=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:S!=null&&T.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:T.y}}):x=w?i.scale(y):r.scale(y),Dr({points:b,baseLine:x,layout:m,isRange:v},h)});er(Mr,"renderDotItem",function(t,e){var n;if(N.isValidElement(t))n=N.cloneElement(t,e);else if(fe(t))n=t(e);else{var r=ce("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=sN(e,Lue);n=N.createElement(ch,$i({},o,{key:i,className:r}))}return n});function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dN(r.key),r)}}function Kue(t,e,n){return e&&Wue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jue(t,e,n){return e=Qf(e),Yue(t,cN()?Reflect.construct(e,n||[],Qf(t).constructor):e.apply(t,n))}function Yue(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xue(t)}function Xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cN=function(){return!!t})()}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qf(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_y(t,e)}function _y(t,e){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_y(t,e)}function fN(t,e,n){return e=dN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dN(t){var e=Zue(t,"string");return Oa(e)=="symbol"?e:e+""}function Zue(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xh=function(t){function e(){return que(this,e),Jue(this,e,arguments)}return Que(e,t),Kue(e,[{key:"render",value:function(){return null}}])}(R.Component);fN(xh,"displayName","ZAxis");fN(xh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var ece=["option","isActive"];function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Js.apply(this,arguments)}function tce(t,e){if(t==null)return{};var n=nce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rce(t){var e=t.option,n=t.isActive,r=tce(t,ece);return typeof e=="string"?R.createElement(ly,Js({option:R.createElement(Yd,Js({type:e},r)),isActive:n,shapeType:"symbols"},r)):R.createElement(ly,Js({option:e,isActive:n,shapeType:"symbols"},r))}function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(this,arguments)}function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(r){Kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pN(r.key),r)}}function oce(t,e,n){return e&&GT(t.prototype,e),n&&GT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ace(t,e,n){return e=Zf(e),sce(t,hN()?Reflect.construct(e,n||[],Zf(t).constructor):e.apply(t,n))}function sce(t,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lce(t)}function lce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hN=function(){return!!t})()}function Zf(t){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zf(t)}function uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sy(t,e)}function Kr(t,e,n){return e=pN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pN(t){var e=cce(t,"string");return Na(e)=="symbol"?e:e+""}function cce(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _h=function(t){function e(){var n;ice(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ace(this,e,[].concat(i)),Kr(n,"state",{isAnimationFinished:!1}),Kr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Kr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Kr(n,"id",no("recharts-scatter-")),n}return uce(e,t),oce(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,u=se(this.props,!1);return r.map(function(c,f){var h=l===f,m=h?s:a,g=pn(pn({},u),c);return N.createElement(we,Ys({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(f)},xl(i.props,c,f),{role:"img"}),N.createElement(rce,Ys({option:m,isActive:h,key:"symbol-".concat(f)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return N.createElement(qn,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,g=o.map(function(y,w){var v=f&&f[w];if(v){var b=Je(v.cx,y.cx),x=Je(v.cy,y.cy),T=Je(v.size,y.size);return pn(pn({},y),{},{cx:b(m),cy:x(m),size:T(m)})}var S=Je(0,y.size);return pn(pn({},y),{},{size:S(m)})});return N.createElement(we,null,r.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Ji(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,u=Wt(l,ns);return u?u.map(function(c,f){var h=c.props,m=h.direction,g=h.dataKey;return N.cloneElement(c,{key:"".concat(m,"-").concat(g,"-").concat(o[f]),data:o,xAxis:a,yAxis:s,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(w,v){return{x:w.cx,y:w.cy,value:m==="x"?+w.node.x:+w.node.y,errorVal:lt(w,v)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,l=se(this.props,!1),u=se(o,!1),c,f;if(a==="joint")c=i.map(function(x){return{x:x.cx,y:x.cy}});else if(a==="fitting"){var h=pz(i),m=h.xmin,g=h.xmax,y=h.a,w=h.b,v=function(T){return y*T+w};c=[{x:m,y:v(m)},{x:g,y:v(g)}]}var b=pn(pn(pn({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:c});return N.isValidElement(o)?f=N.cloneElement(o,b):fe(o)?f=o(b):f=N.createElement(Bi,Ys({},b,{type:s})),N.createElement(we,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,l=r.xAxis,u=r.yAxis,c=r.left,f=r.top,h=r.width,m=r.height,g=r.id,y=r.isAnimationActive;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,v=ce("recharts-scatter",s),b=l&&l.allowDataOverflow,x=u&&u.allowDataOverflow,T=b||x,S=oe(g)?this.id:g;return N.createElement(we,{className:v,clipPath:T?"url(#clipPath-".concat(S,")"):null},b||x?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(S)},N.createElement("rect",{x:b?c:c-h/2,y:x?f:f-m/2,width:b?h:h*2,height:x?m:m*2}))):null,a&&this.renderLine(),this.renderErrorBar(),N.createElement(we,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!y||w)&&ir.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(R.PureComponent);Kr(_h,"displayName","Scatter");Kr(_h,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Kr(_h,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,c=Wt(i.props.children,eh),f=oe(e.dataKey)?i.props.dataKey:e.dataKey,h=oe(n.dataKey)?i.props.dataKey:n.dataKey,m=r&&r.dataKey,g=r?r.range:xh.defaultProps.range,y=g&&g[0],w=e.scale.bandwidth?e.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0,b=o.map(function(x,T){var S=lt(x,f),E=lt(x,h),A=!oe(m)&&lt(x,m)||"-",P=[{name:oe(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:S,payload:x,dataKey:f,type:u},{name:oe(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:x,dataKey:h,type:u}];A!=="-"&&P.push({name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:x,dataKey:m,type:u});var C=ba({axis:e,ticks:a,bandSize:w,entry:x,index:T,dataKey:f}),k=ba({axis:n,ticks:s,bandSize:v,entry:x,index:T,dataKey:h}),O=A!=="-"?r.scale(A):y,I=Math.sqrt(Math.max(O,0)/Math.PI);return pn(pn({},x),{},{cx:C,cy:k,x:C-I,y:k-I,xAxis:e,yAxis:n,zAxis:r,width:2*I,height:2*I,size:O,node:{x:S,y:E,z:A},tooltipPayload:P,tooltipPosition:{x:C,y:k},payload:x},c&&c[T]&&c[T].props)});return pn({points:b},l)});function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yN(r.key),r)}}function hce(t,e,n){return e&&dce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pce(t,e,n){return e=ed(e),mce(t,mN()?Reflect.construct(e,n||[],ed(t).constructor):e.apply(t,n))}function mce(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gce(t)}function gce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mN=function(){return!!t})()}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ed(t)}function yce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ey(t,e)}function gN(t,e,n){return e=yN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yN(t){var e=vce(t,"string");return Ra(e)=="symbol"?e:e+""}function vce(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function wce(t){var e=t.xAxisId,n=WO(),r=KO(),i=zO(e);return i==null?null:R.createElement(wh,Ty({},i,{className:ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Mi(a,!0)}}))}var pu=function(t){function e(){return fce(this,e),pce(this,e,arguments)}return yce(e,t),hce(e,[{key:"render",value:function(){return R.createElement(wce,this.props)}}])}(R.Component);gN(pu,"displayName","XAxis");gN(pu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bN(r.key),r)}}function _ce(t,e,n){return e&&xce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sce(t,e,n){return e=td(e),Ece(t,vN()?Reflect.construct(e,n||[],td(t).constructor):e.apply(t,n))}function Ece(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tce(t)}function Tce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vN=function(){return!!t})()}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},td(t)}function Ace(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ay(t,e)}function Ay(t,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ay(t,e)}function wN(t,e,n){return e=bN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bN(t){var e=Cce(t,"string");return Ma(e)=="symbol"?e:e+""}function Cce(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}var Pce=function(e){var n=e.yAxisId,r=WO(),i=KO(),o=qO(n);return o==null?null:R.createElement(wh,Cy({},o,{className:ce("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Mi(s,!0)}}))},Sh=function(t){function e(){return bce(this,e),Sce(this,e,arguments)}return Ace(e,t),_ce(e,[{key:"render",value:function(){return R.createElement(Pce,this.props)}}])}(R.Component);wN(Sh,"displayName","YAxis");wN(Sh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VT(t){return Nce(t)||Oce(t)||Ice(t)||kce()}function kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ice(t,e){if(t){if(typeof t=="string")return Py(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Py(t,e)}}function Oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nce(t){if(Array.isArray(t))return Py(t)}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ky=function(e,n,r,i,o){var a=Wt(e,ph),s=Wt(e,gh),l=[].concat(VT(a),VT(s)),u=Wt(e,vh),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,w){if(w.props[c]===r&&or(w.props,"extendDomain")&&q(w.props[f])){var v=w.props[f];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(y,w){if(w.props[c]===r&&or(w.props,"extendDomain")&&q(w.props[m])&&q(w.props[g])){var v=w.props[m],b=w.props[g];return[Math.min(y[0],v,b),Math.max(y[1],v,b)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,w){return q(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},h)),h},xN={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],v=arguments.length,b,x;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,m),!0;case 6:return w.fn.call(w.context,c,f,h,m,g),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];w.fn.apply(w.context,b)}else{var T=w.length,S;for(x=0;x<T;x++)switch(w[x].once&&this.removeListener(u,w[x].fn,void 0,!0),v){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,c);break;case 3:w[x].fn.call(w[x].context,c,f);break;case 4:w[x].fn.call(w[x].context,c,f,h);break;default:if(!b)for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];w[x].fn.apply(w[x].context,b)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var y=0,w=[],v=g.length;y<v;y++)(g[y].fn!==c||h&&!g[y].once||f&&g[y].context!==f)&&w.push(g[y]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(xN);var Rce=xN.exports;const Mce=ke(Rce);var Mp=new Mce,$p="recharts.syncMouseEvents";function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function $ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_N(r.key),r)}}function Lce(t,e,n){return e&&Dce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dp(t,e,n){return e=_N(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _N(t){var e=Uce(t,"string");return tu(e)=="symbol"?e:e+""}function Uce(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jce=function(){function t(){$ce(this,t),Dp(this,"activeIndex",0),Dp(this,"coordinateList",[]),Dp(this,"layout","horizontal")}return Lce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Fce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&q(r)&&q(i))return!0}return!1}function Bce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function SN(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=xt(e,n,r,i),s=xt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Gce(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=xt(s,l,u,f),m=xt(s,l,c,f);r=h.x,i=h.y,o=m.x,a=m.y}else return SN(e);return[{x:r,y:i},{x:o,y:a}]}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function HT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HT(Object(n),!0).forEach(function(r){Vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vce(t,e,n){return e=Hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=zce(t,"string");return nu(e)=="symbol"?e:e+""}function zce(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qce(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,y=Bi;if(h==="ScatterChart")g=a,y=Joe;else if(h==="BarChart")g=Bce(f,a,l,c),y=G0;else if(f==="radial"){var w=SN(a),v=w.cx,b=w.cy,x=w.radius,T=w.startAngle,S=w.endAngle;g={cx:v,cy:b,startAngle:T,endAngle:S,innerRadius:x,outerRadius:x},y=yO}else g={points:Gce(f,a,l)},y=Bi;var E=nc(nc(nc(nc({stroke:"#ccc",pointerEvents:"none"},l),g),se(m,!1)),{},{payload:s,payloadIndex:u,className:ce("recharts-tooltip-cursor",m.className)});return R.isValidElement(m)?R.cloneElement(m,E):R.createElement(y,E)}var Wce=["item"],Kce=["children","className","width","height","style","compact","title","desc"];function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bo.apply(this,arguments)}function zT(t,e){return Xce(t)||Yce(t,e)||TN(t,e)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xce(t){if(Array.isArray(t))return t}function qT(t,e){if(t==null)return{};var n=Qce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function efe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AN(r.key),r)}}function tfe(t,e,n){return e&&efe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nfe(t,e,n){return e=nd(e),rfe(t,EN()?Reflect.construct(e,n||[],nd(t).constructor):e.apply(t,n))}function rfe(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ife(t)}function ife(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EN=function(){return!!t})()}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nd(t)}function ofe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iy(t,e)}function Da(t){return lfe(t)||sfe(t)||TN(t)||afe()}function afe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TN(t,e){if(t){if(typeof t=="string")return Oy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(t,e)}}function sfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lfe(t){if(Array.isArray(t))return Oy(t)}function Oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function te(t,e,n){return e=AN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AN(t){var e=ufe(t,"string");return $a(e)=="symbol"?e:e+""}function ufe(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cfe={xAxis:["bottom","top"],yAxis:["left","right"]},ffe={width:"100%",height:"100%"},CN={x:0,y:0};function rc(t){return t}var dfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},hfe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return F(F(F({},i),xt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return F(F(F({},i),xt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return CN},Eh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Da(s),Da(u)):s},[]);return a.length>0?a:e&&e.length&&q(i)&&q(o)?e.slice(i,o+1):[]};function PN(t){return t==="number"?[0,"auto"]:void 0}var Ny=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Eh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;h=ef(m,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Da(l),[pO(u,h)]):l},[])},KT=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=dfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Cne(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=Ny(e,n,c,f),m=hfe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},pfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,m=dO(c,o);return r.reduce(function(g,y){var w,v=y.type.defaultProps!==void 0?F(F({},y.type.defaultProps),y.props):y.props,b=v.type,x=v.dataKey,T=v.allowDataOverflow,S=v.allowDuplicatedCategory,E=v.scale,A=v.ticks,P=v.includeHidden,C=v[a];if(g[C])return g;var k=Eh(e.data,{graphicalItems:i.filter(function(H){var ee,he=a in H.props?H.props[a]:(ee=H.type.defaultProps)===null||ee===void 0?void 0:ee[a];return he===C}),dataStartIndex:l,dataEndIndex:u}),O=k.length,I,M,L;Fce(v.domain,T,b)&&(I=qg(v.domain,null,T),m&&(b==="number"||E!=="auto")&&(L=qs(k,x,"category")));var j=PN(b);if(!I||I.length===0){var U,B=(U=v.domain)!==null&&U!==void 0?U:j;if(x){if(I=qs(k,x,b),b==="category"&&m){var D=hz(I);S&&D?(M=I,I=Ff(0,O)):S||(I=CE(B,I,y).reduce(function(H,ee){return H.indexOf(ee)>=0?H:[].concat(Da(H),[ee])},[]))}else if(b==="category")S?I=I.filter(function(H){return H!==""&&!oe(H)}):I=CE(B,I,y).reduce(function(H,ee){return H.indexOf(ee)>=0||ee===""||oe(ee)?H:[].concat(Da(H),[ee])},[]);else if(b==="number"){var $=Nne(k,i.filter(function(H){var ee,he,Ee=a in H.props?H.props[a]:(ee=H.type.defaultProps)===null||ee===void 0?void 0:ee[a],Fe="hide"in H.props?H.props.hide:(he=H.type.defaultProps)===null||he===void 0?void 0:he.hide;return Ee===C&&(P||!Fe)}),x,o,c);$&&(I=$)}m&&(b==="number"||E!=="auto")&&(L=qs(k,x,"category"))}else m?I=Ff(0,O):s&&s[C]&&s[C].hasStack&&b==="number"?I=h==="expand"?[0,1]:hO(s[C].stackGroups,l,u):I=fO(k,i.filter(function(H){var ee=a in H.props?H.props[a]:H.type.defaultProps[a],he="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return ee===C&&(P||!he)}),b,c,!0);if(b==="number")I=ky(f,I,C,o,A),B&&(I=qg(B,I,T));else if(b==="category"&&B){var G=B,W=I.every(function(H){return G.indexOf(H)>=0});W&&(I=G)}}return F(F({},g),{},te({},C,F(F({},v),{},{axisType:o,domain:I,categoricalDomain:L,duplicateDomain:M,originalDomain:(w=v.domain)!==null&&w!==void 0?w:j,isCategorical:m,layout:c})))},{})},mfe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Eh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=dO(c,o),y=-1;return r.reduce(function(w,v){var b=v.type.defaultProps!==void 0?F(F({},v.type.defaultProps),v.props):v.props,x=b[a],T=PN("number");if(!w[x]){y++;var S;return g?S=Ff(0,m):s&&s[x]&&s[x].hasStack?(S=hO(s[x].stackGroups,l,u),S=ky(f,S,x,o)):(S=qg(T,fO(h,r.filter(function(E){var A,P,C=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],k="hide"in E.props?E.props.hide:(P=E.type.defaultProps)===null||P===void 0?void 0:P.hide;return C===x&&!k}),"number",c),i.defaultProps.allowDataOverflow),S=ky(f,S,x,o)),F(F({},w),{},te({},x,F(F({axisType:o},i.defaultProps),{},{hide:!0,orientation:xn(cfe,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:T,isCategorical:g,layout:c})))}return w},{})},gfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Wt(c,o),m={};return h&&h.length?m=pfe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=mfe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},yfe=function(e){var n=So(e),r=Mi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:m0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:If(n,r)}},JT=function(e){var n=e.children,r=e.defaultShowTooltip,i=Zt(n,Sa),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},vfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=yr(n&&n.type);return r&&r.indexOf("Bar")>=0})},YT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wfe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},m=Zt(f,Sa),g=Zt(f,Zo),y=Object.keys(l).reduce(function(S,E){var A=l[E],P=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},te({},P,S[P]+A.width)):S},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(S,E){var A=a[E],P=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},te({},P,xn(S,"".concat(P))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=F(F({},w),y),b=v.bottom;m&&(v.bottom+=m.props.height||Sa.defaultProps.height),g&&n&&(v=Ine(v,i,r,n));var x=u-v.left-v.right,T=c-v.top-v.bottom;return F(F({brushBottom:b},v),{},{width:Math.max(x,0),height:Math.max(T,0)})},bfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},kN=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(v,b){var x=b.graphicalItems,T=b.stackGroups,S=b.offset,E=b.updateId,A=b.dataStartIndex,P=b.dataEndIndex,C=v.barSize,k=v.layout,O=v.barGap,I=v.barCategoryGap,M=v.maxBarSize,L=YT(k),j=L.numericAxisName,U=L.cateAxisName,B=vfe(x),D=[];return x.forEach(function($,G){var W=Eh(v.data,{graphicalItems:[$],dataStartIndex:A,dataEndIndex:P}),H=$.type.defaultProps!==void 0?F(F({},$.type.defaultProps),$.props):$.props,ee=H.dataKey,he=H.maxBarSize,Ee=H["".concat(j,"Id")],Fe=H["".concat(U,"Id")],Nt={},Et=l.reduce(function(Rt,cn){var so=b["".concat(cn.axisType,"Map")],mu=H["".concat(cn.axisType,"Id")];so&&so[mu]||cn.axisType==="zAxis"||Xi();var rs=so[mu];return F(F({},Rt),{},te(te({},cn.axisType,rs),"".concat(cn.axisType,"Ticks"),Mi(rs)))},Nt),K=Et[U],ae=Et["".concat(U,"Ticks")],le=T&&T[Ee]&&T[Ee].hasStack&&Hne($,T[Ee].stackGroups),V=yr($.type).indexOf("Bar")>=0,Me=If(K,ae),pe=[],$e=B&&Pne({barSize:C,stackGroups:T,totalSize:bfe(Et,U)});if(V){var De,Ye,Q=oe(he)?M:he,Le=(De=(Ye=If(K,ae,!0))!==null&&Ye!==void 0?Ye:Q)!==null&&De!==void 0?De:0;pe=kne({barGap:O,barCategoryGap:I,bandSize:Le!==Me?Le:Me,sizeList:$e[Fe],maxBarSize:Q}),Le!==Me&&(pe=pe.map(function(Rt){return F(F({},Rt),{},{position:F(F({},Rt.position),{},{offset:Rt.position.offset-Le/2})})}))}var tt=$&&$.type&&$.type.getComposedData;tt&&D.push({props:F(F({},tt(F(F({},Et),{},{displayedData:W,props:v,dataKey:ee,item:$,bandSize:Me,barPosition:pe,offset:S,stackedData:le,layout:k,dataStartIndex:A,dataEndIndex:P}))),{},te(te(te({key:$.key||"item-".concat(G)},j,Et[j]),U,Et[U]),"animationId",E)),childIndex:Az($,v.children),item:$})}),D},m=function(v,b){var x=v.props,T=v.dataStartIndex,S=v.dataEndIndex,E=v.updateId;if(!x_({props:x}))return null;var A=x.children,P=x.layout,C=x.stackOffset,k=x.data,O=x.reverseStackOrder,I=YT(P),M=I.numericAxisName,L=I.cateAxisName,j=Wt(A,r),U=Bne(k,j,"".concat(M,"Id"),"".concat(L,"Id"),C,O),B=l.reduce(function(H,ee){var he="".concat(ee.axisType,"Map");return F(F({},H),{},te({},he,gfe(x,F(F({},ee),{},{graphicalItems:j,stackGroups:ee.axisType===M&&U,dataStartIndex:T,dataEndIndex:S}))))},{}),D=wfe(F(F({},B),{},{props:x,graphicalItems:j}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(H){B[H]=c(x,B[H],D,H.replace("Map",""),n)});var $=B["".concat(L,"Map")],G=yfe($),W=h(x,F(F({},B),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:j,stackGroups:U,offset:D}));return F(F({formattedGraphicalItems:W,graphicalItems:j,offset:D,stackGroups:U},G),B)},g=function(w){function v(b){var x,T,S;return Zce(this,v),S=nfe(this,v,[b]),te(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),te(S,"accessibilityManager",new jce),te(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,P=A.dataStartIndex,C=A.dataEndIndex,k=A.updateId;S.setState(F({legendBBox:E},m({props:S.props,dataStartIndex:P,dataEndIndex:C,updateId:k},F(F({},S.state),{},{legendBBox:E}))))}}),te(S,"handleReceiveSyncEvent",function(E,A,P){if(S.props.syncId===E){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),te(S,"handleBrushChange",function(E){var A=E.startIndex,P=E.endIndex;if(A!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return F({dataStartIndex:A,dataEndIndex:P},m({props:S.props,dataStartIndex:A,dataEndIndex:P,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),te(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var P=F(F({},A),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var C=S.props.onMouseEnter;fe(C)&&C(P,E)}}),te(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),P=A?F(F({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var C=S.props.onMouseMove;fe(C)&&C(P,E)}),te(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),te(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),te(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),te(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var P=S.props.onMouseLeave;fe(P)&&P(A,E)}),te(S,"handleOuterEvent",function(E){var A=Tz(E),P=xn(S.props,"".concat(A));if(A&&fe(P)){var C,k;/.*touch.*/i.test(A)?k=S.getMouseInfo(E.changedTouches[0]):k=S.getMouseInfo(E),P((C=k)!==null&&C!==void 0?C:{},E)}}),te(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var P=F(F({},A),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var C=S.props.onClick;fe(C)&&C(P,E)}}),te(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(fe(A)){var P=S.getMouseInfo(E);A(P,E)}}),te(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(fe(A)){var P=S.getMouseInfo(E);A(P,E)}}),te(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),te(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),te(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),te(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(fe(A)){var P=S.getMouseInfo(E);A(P,E)}}),te(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(fe(A)){var P=S.getMouseInfo(E);A(P,E)}}),te(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Mp.emit($p,S.props.syncId,E,S.eventEmitterSymbol)}),te(S,"applySyncEvent",function(E){var A=S.props,P=A.layout,C=A.syncMethod,k=S.state.updateId,O=E.dataStartIndex,I=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(F({dataStartIndex:O,dataEndIndex:I},m({props:S.props,dataStartIndex:O,dataEndIndex:I,updateId:k},S.state)));else if(E.activeTooltipIndex!==void 0){var M=E.chartX,L=E.chartY,j=E.activeTooltipIndex,U=S.state,B=U.offset,D=U.tooltipTicks;if(!B)return;if(typeof C=="function")j=C(D,E);else if(C==="value"){j=-1;for(var $=0;$<D.length;$++)if(D[$].value===E.activeLabel){j=$;break}}var G=F(F({},B),{},{x:B.left,y:B.top}),W=Math.min(M,G.x+G.width),H=Math.min(L,G.y+G.height),ee=D[j]&&D[j].value,he=Ny(S.state,S.props.data,j),Ee=D[j]?{x:P==="horizontal"?D[j].coordinate:W,y:P==="horizontal"?H:D[j].coordinate}:CN;S.setState(F(F({},E),{},{activeLabel:ee,activeCoordinate:Ee,activePayload:he,activeTooltipIndex:j}))}else S.setState(E)}),te(S,"renderCursor",function(E){var A,P=S.state,C=P.isTooltipActive,k=P.activeCoordinate,O=P.activePayload,I=P.offset,M=P.activeTooltipIndex,L=P.tooltipAxisBandSize,j=S.getTooltipEventType(),U=(A=E.props.active)!==null&&A!==void 0?A:C,B=S.props.layout,D=E.key||"_recharts-cursor";return N.createElement(qce,{key:D,activeCoordinate:k,activePayload:O,activeTooltipIndex:M,chartName:n,element:E,isActive:U,layout:B,offset:I,tooltipAxisBandSize:L,tooltipEventType:j})}),te(S,"renderPolarAxis",function(E,A,P){var C=xn(E,"type.axisType"),k=xn(S.state,"".concat(C,"Map")),O=E.type.defaultProps,I=O!==void 0?F(F({},O),E.props):E.props,M=k&&k[I["".concat(C,"Id")]];return R.cloneElement(E,F(F({},M),{},{className:ce(C,M.className),key:E.key||"".concat(A,"-").concat(P),ticks:Mi(M,!0)}))}),te(S,"renderPolarGrid",function(E){var A=E.props,P=A.radialLines,C=A.polarAngles,k=A.polarRadius,O=S.state,I=O.radiusAxisMap,M=O.angleAxisMap,L=So(I),j=So(M),U=j.cx,B=j.cy,D=j.innerRadius,$=j.outerRadius;return R.cloneElement(E,{polarAngles:Array.isArray(C)?C:Mi(j,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(k)?k:Mi(L,!0).map(function(G){return G.coordinate}),cx:U,cy:B,innerRadius:D,outerRadius:$,key:E.key||"polar-grid",radialLines:P})}),te(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,P=A.children,C=A.width,k=A.height,O=S.props.margin||{},I=C-(O.left||0)-(O.right||0),M=uO({children:P,formattedGraphicalItems:E,legendWidth:I,legendContent:u});if(!M)return null;var L=M.item,j=qT(M,Wce);return R.cloneElement(L,F(F({},j),{},{chartWidth:C,chartHeight:k,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),te(S,"renderTooltip",function(){var E,A=S.props,P=A.children,C=A.accessibilityLayer,k=Zt(P,Xn);if(!k)return null;var O=S.state,I=O.isTooltipActive,M=O.activeCoordinate,L=O.activePayload,j=O.activeLabel,U=O.offset,B=(E=k.props.active)!==null&&E!==void 0?E:I;return R.cloneElement(k,{viewBox:F(F({},U),{},{x:U.left,y:U.top}),active:B,label:j,payload:B?L:[],coordinate:M,accessibilityLayer:C})}),te(S,"renderBrush",function(E){var A=S.props,P=A.margin,C=A.data,k=S.state,O=k.offset,I=k.dataStartIndex,M=k.dataEndIndex,L=k.updateId;return R.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Qu(S.handleBrushChange,E.props.onChange),data:C,x:q(E.props.x)?E.props.x:O.left,y:q(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(P.bottom||0),width:q(E.props.width)?E.props.width:O.width,startIndex:I,endIndex:M,updateId:"brush-".concat(L)})}),te(S,"renderReferenceElement",function(E,A,P){if(!E)return null;var C=S,k=C.clipPathId,O=S.state,I=O.xAxisMap,M=O.yAxisMap,L=O.offset,j=E.type.defaultProps||{},U=E.props,B=U.xAxisId,D=B===void 0?j.xAxisId:B,$=U.yAxisId,G=$===void 0?j.yAxisId:$;return R.cloneElement(E,{key:E.key||"".concat(A,"-").concat(P),xAxis:I[D],yAxis:M[G],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:k})}),te(S,"renderActivePoints",function(E){var A=E.item,P=E.activePoint,C=E.basePoint,k=E.childIndex,O=E.isRange,I=[],M=A.props.key,L=A.item.type.defaultProps!==void 0?F(F({},A.item.type.defaultProps),A.item.props):A.item.props,j=L.activeDot,U=L.dataKey,B=F(F({index:k,dataKey:U,cx:P.x,cy:P.y,r:4,fill:B0(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},se(j,!1)),tf(j));return I.push(v.renderActiveDot(j,B,"".concat(M,"-activePoint-").concat(k))),C?I.push(v.renderActiveDot(j,F(F({},B),{},{cx:C.x,cy:C.y}),"".concat(M,"-basePoint-").concat(k))):O&&I.push(null),I}),te(S,"renderGraphicChild",function(E,A,P){var C=S.filterFormatItem(E,A,P);if(!C)return null;var k=S.getTooltipEventType(),O=S.state,I=O.isTooltipActive,M=O.tooltipAxis,L=O.activeTooltipIndex,j=O.activeLabel,U=S.props.children,B=Zt(U,Xn),D=C.props,$=D.points,G=D.isRange,W=D.baseLine,H=C.item.type.defaultProps!==void 0?F(F({},C.item.type.defaultProps),C.item.props):C.item.props,ee=H.activeDot,he=H.hide,Ee=H.activeBar,Fe=H.activeShape,Nt=!!(!he&&I&&B&&(ee||Ee||Fe)),Et={};k!=="axis"&&B&&B.props.trigger==="click"?Et={onClick:Qu(S.handleItemMouseEnter,E.props.onClick)}:k!=="axis"&&(Et={onMouseLeave:Qu(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Qu(S.handleItemMouseEnter,E.props.onMouseEnter)});var K=R.cloneElement(E,F(F({},C.props),Et));function ae(cn){return typeof M.dataKey=="function"?M.dataKey(cn.payload):null}if(Nt)if(L>=0){var le,V;if(M.dataKey&&!M.allowDuplicatedCategory){var Me=typeof M.dataKey=="function"?ae:"payload.".concat(M.dataKey.toString());le=ef($,Me,j),V=G&&W&&ef(W,Me,j)}else le=$==null?void 0:$[L],V=G&&W&&W[L];if(Fe||Ee){var pe=E.props.activeIndex!==void 0?E.props.activeIndex:L;return[R.cloneElement(E,F(F(F({},C.props),Et),{},{activeIndex:pe})),null,null]}if(!oe(le))return[K].concat(Da(S.renderActivePoints({item:C,activePoint:le,basePoint:V,childIndex:L,isRange:G})))}else{var $e,De=($e=S.getItemByXY(S.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:K},Ye=De.graphicalItem,Q=Ye.item,Le=Q===void 0?E:Q,tt=Ye.childIndex,Rt=F(F(F({},C.props),Et),{},{activeIndex:tt});return[R.cloneElement(Le,Rt),null,null]}return G?[K,null,null]:[K,null]}),te(S,"renderCustomized",function(E,A,P){return R.cloneElement(E,F(F({key:"recharts-customized-".concat(P)},S.props),S.state))}),te(S,"renderMap",{CartesianGrid:{handler:rc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:rc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:rc},YAxis:{handler:rc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:no("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=lI(S.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return ofe(v,w),tfe(v,[{key:"componentDidMount",value:function(){var x,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,T=x.children,S=x.data,E=x.height,A=x.layout,P=Zt(T,Xn);if(P){var C=P.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,O=Ny(this.state,S,C,k),I=this.state.tooltipTicks[C].coordinate,M=(this.state.offset.top+E)/2,L=A==="horizontal",j=L?{x:I,y:M}:{y:I,x:M},U=this.state.formattedGraphicalItems.find(function(D){var $=D.item;return $.type.name==="Scatter"});U&&(j=F(F({},j),U.props.points[C].tooltipPosition),O=U.props.points[C].tooltipPayload);var B={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:k,activePayload:O,activeCoordinate:j};this.setState(B),this.renderCursor(P),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(x){sg([Zt(x.children,Xn)],[Zt(this.props.children,Xn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Zt(this.props.children,Xn);if(x&&typeof x.props.shared=="boolean"){var T=x.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=ZX(S),A={chartX:Math.round(x.pageX-E.left),chartY:Math.round(x.pageY-E.top)},P=S.width/T.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,P);if(!C)return null;var k=this.state,O=k.xAxisMap,I=k.yAxisMap,M=this.getTooltipEventType(),L=KT(this.state,this.props.data,this.props.layout,C);if(M!=="axis"&&O&&I){var j=So(O).scale,U=So(I).scale,B=j&&j.invert?j.invert(A.chartX):null,D=U&&U.invert?U.invert(A.chartY):null;return F(F({},A),{},{xValue:B,yValue:D},L)}return L?F(F({},A),L):null}},{key:"inRange",value:function(x,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=x/S,P=T/S;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,k=A>=C.left&&A<=C.left+C.width&&P>=C.top&&P<=C.top+C.height;return k?{x:A,y:P}:null}var O=this.state,I=O.angleAxisMap,M=O.radiusAxisMap;if(I&&M){var L=So(I);return IE({x:A,y:P},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,T=this.getTooltipEventType(),S=Zt(x,Xn),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=tf(this.props,this.handleOuterEvent);return F(F({},A),E)}},{key:"addListener",value:function(){Mp.on($p,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Mp.removeListener($p,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,T,S){for(var E=this.state.formattedGraphicalItems,A=0,P=E.length;A<P;A++){var C=E[A];if(C.item===x||C.props.key===x.key||T===yr(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,P=T.width;return N.createElement("defs",null,N.createElement("clipPath",{id:x},N.createElement("rect",{x:S,y:E,height:A,width:P})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(T,S){var E=zT(S,2),A=E[0],P=E[1];return F(F({},T),{},te({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(T,S){var E=zT(S,2),A=E[0],P=E[1];return F(F({},T),{},te({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[x])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(x){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[x])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(x){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,P=S.length;A<P;A++){var C=S[A],k=C.props,O=C.item,I=O.type.defaultProps!==void 0?F(F({},O.type.defaultProps),O.props):O.props,M=yr(O.type);if(M==="Bar"){var L=(k.data||[]).find(function(D){return joe(x,D)});if(L)return{graphicalItem:C,payload:L}}else if(M==="RadialBar"){var j=(k.data||[]).find(function(D){return IE(x,D)});if(j)return{graphicalItem:C,payload:j}}else if(fh(C,E)||dh(C,E)||Yl(C,E)){var U=Bae({graphicalItem:C,activeTooltipItem:E,itemData:I.data}),B=I.activeIndex===void 0?U:I.activeIndex;return{graphicalItem:F(F({},C),{},{childIndex:B}),payload:Yl(C,E)?I.data[U]:C.props.data[U]}}}return null}},{key:"render",value:function(){var x=this;if(!x_(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,P=T.height,C=T.style,k=T.compact,O=T.title,I=T.desc,M=qT(T,Kce),L=se(M,!1);if(k)return N.createElement(TT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement(ug,Bo({},L,{width:A,height:P,title:O,desc:I}),this.renderClipPath(),S_(S,this.renderMap)));if(this.props.accessibilityLayer){var j,U;L.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,L.role=(U=this.props.role)!==null&&U!==void 0?U:"application",L.onKeyDown=function(D){x.accessibilityManager.keyboardEvent(D)},L.onFocus=function(){x.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return N.createElement(TT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement("div",Bo({className:ce("recharts-wrapper",E),style:F({position:"relative",cursor:"default",width:A,height:P},C)},B,{ref:function($){x.container=$}}),N.createElement(ug,Bo({},L,{width:A,height:P,title:O,desc:I,style:ffe}),this.renderClipPath(),S_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);te(g,"displayName",n),te(g,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),te(g,"getDerivedStateFromProps",function(w,v){var b=w.dataKey,x=w.data,T=w.children,S=w.width,E=w.height,A=w.layout,P=w.stackOffset,C=w.margin,k=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var I=JT(w);return F(F(F({},I),{},{updateId:0},m(F(F({props:w},I),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:P,prevMargin:C,prevChildren:T})}if(b!==v.prevDataKey||x!==v.prevData||S!==v.prevWidth||E!==v.prevHeight||A!==v.prevLayout||P!==v.prevStackOffset||!Qo(C,v.prevMargin)){var M=JT(w),L={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},j=F(F({},KT(v,x,A)),{},{updateId:v.updateId+1}),U=F(F(F({},M),L),j);return F(F(F({},U),m(F({props:w},U),v)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:P,prevMargin:C,prevChildren:T})}if(!sg(T,v.prevChildren)){var B,D,$,G,W=Zt(T,Sa),H=W&&(B=(D=W.props)===null||D===void 0?void 0:D.startIndex)!==null&&B!==void 0?B:k,ee=W&&($=(G=W.props)===null||G===void 0?void 0:G.endIndex)!==null&&$!==void 0?$:O,he=H!==k||ee!==O,Ee=!oe(x),Fe=Ee&&!he?v.updateId:v.updateId+1;return F(F({updateId:Fe},m(F(F({props:w},v),{},{updateId:Fe,dataStartIndex:H,dataEndIndex:ee}),v)),{},{prevChildren:T,dataStartIndex:H,dataEndIndex:ee})}return null}),te(g,"renderActiveDot",function(w,v,b){var x;return R.isValidElement(w)?x=R.cloneElement(w,v):fe(w)?x=w(v):x=N.createElement(ch,v),N.createElement(we,{className:"recharts-active-dot",key:b},x)});var y=R.forwardRef(function(v,b){return N.createElement(g,Bo({},v,{ref:b}))});return y.displayName=g.displayName,y},xfe=kN({chartName:"AreaChart",GraphicalChild:Mr,axisComponents:[{axisType:"xAxis",AxisComp:pu},{axisType:"yAxis",AxisComp:Sh}],formatAxisMap:DO}),_fe=kN({chartName:"ComposedChart",GraphicalChild:[bh,Mr,ao,_h],axisComponents:[{axisType:"xAxis",AxisComp:pu},{axisType:"yAxis",AxisComp:Sh},{axisType:"zAxis",AxisComp:xh}],formatAxisMap:DO});const Sfe=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,o]=R.useState(!1),[a,s]=R.useState(!1),[l,u]=R.useState(null),[c,f]=R.useState(null),[h,m]=R.useState(0),[g,y]=R.useState(2e3),[w,v]=R.useState(0),[b,x]=R.useState(!0),[T,S]=R.useState(""),E=async()=>{try{const I=await HC(),M=new Date().toISOString().split("T")[0],L=I.filter($=>$.date===M);L.sort(($,G)=>G.timestamp.localeCompare($.timestamp)),e(L),m(L.reduce(($,G)=>$+G.calories,0));const j=await WC();y(j);const U=await KC();U!=null&&U.name&&S(U.name);const D=(await zC()).slice(0,7).reverse().map($=>({cal:$.totalCalories}));for(;D.length<7;)D.unshift({cal:0});r(D)}catch(I){console.error("Failed to load dashboard data",I)}finally{x(!1)}};R.useEffect(()=>{E();const I=()=>E();return window.addEventListener("food-entry-updated",I),()=>window.removeEventListener("food-entry-updated",I)},[]),R.useEffect(()=>{if(b)return;const I=Math.min(h/g*100,100),M=setTimeout(()=>{v(I)},100);return()=>clearTimeout(M)},[h,g,b]);const A=async I=>{await qC(I),await E()},P=I=>{u(null),f(I),o(!0)},C=async I=>{await Mv(I),y(I),s(!1)},k=()=>{if(h>g)return{background:"#ef4444",boxShadow:"0 0 12px rgba(239, 68, 68, 0.4)"};const I=h/g*100;if(I<=0)return{background:"#10b981"};const L=80/I*100;return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${L}%, #f97316 ${L}%, #f97316 100%)`,boxShadow:I>=80?"0 0 12px rgba(249, 115, 22, 0.4)":"0 0 12px rgba(16, 185, 129, 0.4)"}},O=I=>{if(I.isManual)return I.imageUrl?_.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-amber-50 dark:bg-amber-950/20 text-amber-600 dark:text-amber-400 text-[10px] font-bold tracking-wide",children:[_.jsx(S$,{size:10}),"EDITED"]}):_.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 text-[10px] font-bold tracking-wide",children:[_.jsx(ua,{size:10}),"MANUAL"]});const M=Math.round(I.confidence*100),L=M>80?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-600 dark:text-emerald-400":M>50?"bg-orange-50 dark:bg-orange-950/20 text-orange-600 dark:text-orange-400":"bg-rose-50 dark:bg-rose-950/20 text-rose-600 dark:text-rose-400";return _.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[10px] font-bold tracking-wide ${L}`,children:[_.jsx(Ko,{size:10}),M,"% AI"]})};return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[_.jsxs("header",{className:"flex justify-between items-end",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),_.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:["Hello ",T||"there",", ",_.jsx("br",{}),"Let's Eat Well."]})]}),_.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-950/30 rounded-full flex items-center justify-center text-royal-600 dark:text-royal-400 shadow-sm border border-white dark:border-white/5",children:_.jsx(nb,{size:20})})]}),_.jsxs("div",{className:`relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl transition-all duration-500 ${h>g?"bg-red-500 shadow-red-200 dark:shadow-red-900/40":"bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40"}`,children:[_.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),_.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-white/70 text-xs font-bold uppercase tracking-widest mb-1",children:"Calories Consumed"}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-5xl font-bold tracking-tighter",children:b?"...":h}),_.jsx("span",{className:"text-lg text-white/60 font-medium",children:"kcal"})]})]}),_.jsx("div",{className:"text-right",children:_.jsxs("div",{className:"flex items-center justify-end gap-2 text-white/80 mb-1",children:[_.jsxs("span",{className:"text-xs font-semibold",children:["Goal: ",g]}),_.jsx("button",{onClick:()=>s(!0),className:"p-1.5 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm",children:_.jsx(pC,{size:10})})]})})]}),_.jsx("div",{className:"w-full bg-black/20 rounded-full h-4 mb-3 overflow-hidden backdrop-blur-sm",children:_.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out will-change-[width]",style:{width:`${w}%`,...k()}})}),_.jsx("div",{className:"flex justify-end",children:h>g?_.jsxs("div",{className:"flex items-center gap-1.5 bg-white/20 backdrop-blur-md px-3 py-1 rounded-full animate-pulse",children:[_.jsx(u$,{size:14,className:"text-white",fill:"white"}),_.jsxs("span",{className:"font-bold text-xs text-white",children:[Math.abs(g-h).toLocaleString()," kcal over limit"]})]}):_.jsxs("p",{className:"text-xs font-medium text-white/80",children:[Math.max(g-h,0).toLocaleString()," kcal remaining"]})})]})]}),_.jsxs(Im,{className:"flex items-center justify-between p-4 overflow-hidden relative",children:[_.jsxs("div",{className:"z-10",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(Bs,{size:14,className:"text-royal-600 dark:text-royal-400"}),_.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Weekly Trend"})]}),_.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Consistent Tracking"})]}),_.jsx("div",{className:"absolute right-0 bottom-0 top-0 w-32 opacity-50 dark:opacity-30",children:_.jsx(uI,{width:"100%",height:"100%",children:_.jsxs(xfe,{data:n,children:[_.jsx("defs",{children:_.jsxs("linearGradient",{id:"colorCal",x1:"0",y1:"0",x2:"0",y2:"1",children:[_.jsx("stop",{offset:"5%",stopColor:"#7c3aed",stopOpacity:.3}),_.jsx("stop",{offset:"95%",stopColor:"#7c3aed",stopOpacity:0})]})}),_.jsx(Mr,{type:"monotone",dataKey:"cal",stroke:"#7c3aed",strokeWidth:3,fillOpacity:1,fill:"url(#colorCal)"})]})})})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[_.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"Recent Meals"}),_.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[t.length," items"]})]}),b?_.jsx("div",{className:"space-y-4",children:[1,2].map(I=>_.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[32px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},I))}):t.length===0?_.jsxs("div",{className:"text-center py-16 bg-white dark:bg-[#1a1c26] rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[_.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300 dark:text-gray-700",children:_.jsx(nb,{size:24})}),_.jsx("p",{className:"text-gray-400 dark:text-gray-500 font-medium mb-1",children:"No meals tracked today."}),_.jsx("p",{className:"text-xs text-gray-300 dark:text-gray-700",children:"Tap the + button to add one."})]}):_.jsx("div",{className:"space-y-4",children:t.map(I=>_.jsxs(Im,{className:"flex gap-4 items-center p-4 group",onClick:()=>u(I),children:[_.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-2xl overflow-hidden flex-shrink-0 shadow-inner",children:I.imageUrl?_.jsx("img",{src:I.imageUrl,alt:I.food_item,className:"w-full h-full object-cover"}):_.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-700",children:_.jsx(ua,{size:20})})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"flex items-center gap-2 mb-1",children:_.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 truncate text-base",children:I.food_item})}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500",children:I.time}),O(I)]})]}),_.jsxs("div",{className:"text-right pl-2",children:[_.jsx("span",{className:"block font-extrabold text-gray-900 dark:text-gray-50 text-lg",children:I.calories}),_.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase",children:"kcal"})]})]},I.id))})]}),_.jsx("button",{onClick:()=>{f(null),o(!0)},className:"fixed bottom-28 right-6 w-16 h-16 bg-royal-600 text-white rounded-[24px] shadow-[0_12px_24px_-6px_rgba(124,58,237,0.5)] flex items-center justify-center hover:scale-105 hover:bg-royal-700 active:scale-95 transition-all z-40",children:_.jsx(T$,{size:32,strokeWidth:2.5})}),i&&_.jsx(qP,{editEntry:c,onClose:()=>{o(!1),f(null)},onSuccess:()=>{o(!1),f(null),E()}}),a&&_.jsx(M3,{currentGoal:g,onClose:()=>s(!1),onSave:C}),l&&_.jsx(WP,{entry:l,onClose:()=>u(null),onDelete:A,onEdit:P})]})},Efe=({summary:t,onClose:e})=>{const n=new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl border border-white/50 animate-in slide-in-from-bottom duration-300",children:[_.jsxs("div",{className:"relative bg-royal-50 p-8 pb-10",children:[_.jsx("div",{className:"absolute top-6 right-6",children:_.jsx("button",{onClick:e,className:"p-2 bg-white text-gray-900 rounded-full shadow-sm hover:bg-gray-100 transition-colors",children:_.jsx(ca,{size:20})})}),_.jsxs("div",{className:"flex items-center gap-2 text-royal-600 mb-3",children:[_.jsx(wd,{size:20}),_.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Daily Report"})]}),_.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 leading-tight",children:n})]}),_.jsxs("div",{className:"p-8 -mt-6 bg-white rounded-t-[32px] relative shadow-[-10px_-10px_30px_rgba(0,0,0,0.02)]",children:[_.jsxs("div",{className:"bg-white rounded-[32px] p-6 border border-gray-100 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.05)] mb-8 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1 block",children:"Total Consumed"}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-5xl font-extrabold text-gray-900 tracking-tighter",children:t.totalCalories}),_.jsx("span",{className:"text-gray-400 font-bold text-lg",children:"kcal"})]})]}),_.jsx("div",{className:"w-14 h-14 rounded-2xl bg-royal-50 flex items-center justify-center text-royal-600",children:_.jsx(Cv,{size:28})})]}),_.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[_.jsx(Vc,{size:16})," Macro Breakdown"]}),_.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[_.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-emerald-50 hover:border-emerald-100 transition-colors",children:_.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[_.jsx("div",{className:"w-1.5 h-10 bg-emerald-400 rounded-full"}),_.jsxs("div",{children:[_.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalProtein,"g"]}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Protein"})]})]})}),_.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-blue-50 hover:border-blue-100 transition-colors",children:_.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[_.jsx("div",{className:"w-1.5 h-10 bg-blue-400 rounded-full"}),_.jsxs("div",{children:[_.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalCarbs,"g"]}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Carbs"})]})]})}),_.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-orange-50 hover:border-orange-100 transition-colors",children:_.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[_.jsx("div",{className:"w-1.5 h-10 bg-orange-400 rounded-full"}),_.jsxs("div",{children:[_.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalFat,"g"]}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Fat"})]})]})})]}),_.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center text-xs font-bold text-gray-400 uppercase tracking-wider",children:[_.jsxs("span",{children:[t.entries.length," meals tracked"]}),_.jsxs("span",{className:"flex items-center gap-1.5 text-royal-600",children:[_.jsx(Bs,{size:14}),"See History Tab"]})]})]})]})})},Tfe=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(2e3),[i,o]=R.useState(!0),[a,s]=R.useState("week"),[l,u]=R.useState(null),[c,f]=R.useState(null),[h,m]=R.useState(!1),[g,y]=R.useState(null),[w,v]=R.useState({}),b=document.documentElement.classList.contains("dark"),x=async()=>{o(!0);try{const[C,k]=await Promise.all([zC(),WC()]);e(C),r(k);const O=new Date().toISOString().split("T")[0],I={};C.forEach(M=>{I[M.date]=M.date===O}),v(I)}catch(C){console.error("Failed to load history data",C)}finally{o(!1)}};R.useEffect(()=>{x();const C=()=>x();return window.addEventListener("food-entry-updated",C),()=>window.removeEventListener("food-entry-updated",C)},[]);const T=C=>{v(k=>({...k,[C]:!k[C]}))},S=async C=>{await qC(C),await x()},E=C=>{u(null),y(C),m(!0)},A=a==="week"?7:30,P=[...t].slice(0,A).reverse().map(C=>({name:a==="week"?new Date(C.date).toLocaleDateString("en-US",{weekday:"short"}):new Date(C.date).toLocaleDateString("en-US",{day:"numeric",month:"short"}),calories:C.totalCalories,goal:n,fullData:C}));return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[_.jsxs("header",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Performance"}),_.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Analytics"})]}),_.jsxs("div",{className:"flex p-1 bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm",children:[_.jsx("button",{onClick:()=>s("week"),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${a==="week"?"bg-royal-600 text-white":"text-gray-400 dark:text-gray-500"}`,children:"Week"}),_.jsx("button",{onClick:()=>s("month"),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${a==="month"?"bg-royal-600 text-white":"text-gray-400 dark:text-gray-500"}`,children:"Month"})]})]}),_.jsx(Im,{className:"h-80 pt-8 pb-2 px-2",children:i?_.jsx("div",{className:"w-full h-full flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-royal-600"})}):_.jsx(uI,{width:"100%",height:"100%",children:_.jsxs(_fe,{data:P,children:[_.jsx(pu,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:b?"#64748b":"#9ca3af",fontWeight:600},dy:10,interval:a==="month"?4:0}),_.jsx(Xn,{cursor:{fill:b?"rgba(255,255,255,0.03)":"#f3f4f6",radius:8},contentStyle:{borderRadius:"16px",border:"none",backgroundColor:b?"#1e293b":"#1f2937",color:"#fff",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),_.jsx(ph,{y:n,stroke:"#ef4444",strokeDasharray:"3 3",label:{position:"right",value:"Goal",fill:"#ef4444",fontSize:10,fontWeight:700}}),_.jsx(ao,{dataKey:"calories",radius:[8,8,8,8],onClick:C=>{C&&C.fullData?f(C.fullData):C&&C.payload&&C.payload.fullData&&f(C.payload.fullData)},className:"cursor-pointer",children:P.map((C,k)=>_.jsx(eh,{fill:C.calories>n?"#ef4444":"#7c3aed",className:"hover:opacity-80 transition-opacity cursor-pointer"},`cell-${k}`))})]})})}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[_.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"History Log"}),_.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[_.jsx(p$,{size:10}),"ALL TIME"]})]}),_.jsx("div",{className:"space-y-6",children:i?_.jsx("div",{className:"space-y-4",children:[1,2].map(C=>_.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[24px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},C))}):_.jsxs(_.Fragment,{children:[t.map(C=>_.jsxs("div",{className:"animate-in slide-in-from-bottom-2 fade-in duration-500",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3 px-2 cursor-pointer group",onClick:()=>T(C.date),children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 group-hover:text-royal-600 dark:group-hover:text-royal-400 transition-colors",children:[_.jsx(wd,{size:14}),_.jsx("span",{className:"text-sm font-semibold",children:new Date(C.date).toLocaleDateString(void 0,{dateStyle:"medium"})}),w[C.date]?_.jsx(d$,{size:14}):_.jsx(gc,{size:14})]}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("span",{className:`text-sm font-bold bg-white dark:bg-white/5 px-2 py-1 rounded-lg border transition-colors ${C.totalCalories>n?"text-red-600 border-red-100 dark:border-red-900/30":"text-emerald-600 border-emerald-100 dark:border-emerald-900/30"}`,children:[C.totalCalories," kcal"]})})]}),w[C.date]&&_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[24px] shadow-diffused dark:shadow-diffused-dark border border-gray-100 dark:border-white/5 overflow-hidden divide-y divide-gray-50 dark:divide-white/5 animate-in slide-in-from-top-2 duration-300",children:[C.entries.map(k=>_.jsxs("div",{onClick:()=>u(k),className:"p-4 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-white/5 transition-colors cursor-pointer active:scale-[0.99]",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-50 dark:bg-white/5 overflow-hidden shadow-sm",children:k.imageUrl?_.jsx("img",{src:k.imageUrl,className:"w-full h-full object-cover"}):_.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-white/10 text-gray-300 dark:text-gray-700",children:_.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-700"})})}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-50 font-bold",children:k.food_item}),_.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium",children:k.time})]})]}),_.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-400 font-bold",children:k.calories})]},k.id)),C.entries.length===0&&_.jsx("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:"No details available (Summarized)"})]})]},C.date)),t.length===0&&_.jsx("div",{className:"text-center py-12",children:_.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No history available yet."})})]})})]}),l&&_.jsx(WP,{entry:l,onClose:()=>u(null),onDelete:S,onEdit:E}),c&&_.jsx(Efe,{summary:c,onClose:()=>f(null)}),h&&_.jsx(qP,{editEntry:g,onClose:()=>{m(!1),y(null)},onSuccess:()=>{m(!1),y(null),x()}})]})},Afe=()=>{const[t,e]=R.useState(!0),[n,r]=R.useState(""),[i,o]=R.useState(""),[a,s]=R.useState(null),[l,u]=R.useState(!1),[c,f]=R.useState(null),h=async m=>{m.preventDefault(),s(null),f(null),u(!0);try{t?await jC(n,i):(await uL(n,i),t||(f("Account created successfully!"),e(!0)))}catch(g){console.error(g),s(g.message||"Authentication failed")}finally{u(!1)}};return _.jsxs("div",{className:"min-h-screen bg-royal-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[_.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[500px] h-[500px] bg-royal-200/40 rounded-full blur-[100px]"}),_.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-80 h-80 bg-pink-200/40 rounded-full blur-[80px]"})]}),_.jsxs("div",{className:"w-full max-w-sm z-10",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("div",{className:"w-20 h-20 bg-white rounded-[24px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-royal-200 rotate-3 transition-transform hover:rotate-0 duration-500",children:_.jsx(wC,{size:36,className:"text-royal-600 fill-royal-600"})}),_.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-2",children:"SnapCal AI"}),_.jsx("p",{className:"text-gray-500 font-medium",children:"Track your vibe, not just calories."})]}),_.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white p-8 rounded-[40px] shadow-[0_20px_40px_-12px_rgba(0,0,0,0.05)]",children:[_.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-[20px] mb-8",children:[_.jsx("button",{onClick:()=>{e(!0),s(null),f(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"bg-white text-royal-700 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Sign In"}),_.jsx("button",{onClick:()=>{e(!1),s(null),f(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"text-gray-400 hover:text-gray-600":"bg-white text-royal-700 shadow-sm"}`,children:"Sign Up"})]}),_.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a&&_.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl flex items-center gap-3 text-red-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[_.jsx(uC,{size:18}),a]}),c&&_.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-center gap-3 text-emerald-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[_.jsx(f$,{size:18}),c]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Email"}),_.jsx("input",{type:"email",required:!0,value:n,onChange:m=>r(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"hello@snapcal.ai"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Password"}),_.jsx("input",{type:"password",required:!0,value:i,onChange:m=>o(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"",minLength:6})]})]}),_.jsxs(nn,{className:"w-full mt-4 flex justify-between items-center group py-5",isLoading:l,children:[_.jsx("span",{children:t?"Sign In":"Create Account"}),!l&&_.jsx(cC,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),_.jsx("p",{className:"text-center text-gray-400 text-xs mt-8 font-medium",children:t?"New here? Create an account above.":"Welcome back. Sign in above."})]})]})},Cfe=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,o]=R.useState(""),[a,s]=R.useState(!1),[l,u]=R.useState(!1),[c,f]=R.useState(null),[h,m]=R.useState(document.documentElement.classList.contains("dark")),[g,y]=R.useState(!1),[w,v]=R.useState(!1),[b,x]=R.useState(!1),[T,S]=R.useState("checking"),[E,A]=R.useState(!1);R.useEffect(()=>{C(),S("ok")},[]);const P=()=>{const $=!h;m($),$?(document.documentElement.classList.add("dark"),localStorage.setItem("snapcal-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("snapcal-theme","light"))},C=async()=>{const $=await KC();$&&(e($.name),r($.height.toString()),o($.weight.toString()))},k=()=>{const $=parseFloat(n),G=parseFloat(i);return!$||!G?null:G/($/100*($/100))},O=$=>$<18.5?{label:"Underweight",color:"text-blue-300"}:$<25?{label:"Healthy",color:"text-emerald-300"}:$<30?{label:"Overweight",color:"text-orange-300"}:{label:"Obese",color:"text-red-300"},I=$=>{const H=(10*parseFloat(i)+6.25*parseFloat(n)-5*25+5)*1.2;return $<18.5?Math.round(H+400):$>25?Math.round(H-400):Math.round(H)},M=async()=>{if(!(!t||!n||!i)){s(!0);try{await JC({name:t,height:parseFloat(n),weight:parseFloat(i)}),u(!0),setTimeout(()=>u(!1),2e3);const $=k();if($){const G=I($);f(G)}}catch($){console.error($)}finally{s(!1)}}},L=async()=>{c&&(await Mv(c),alert(`Daily goal updated to ${c} kcal!`))},j=async()=>{if(confirm("Are you sure you want to sign out?")){y(!0);try{await cL()}catch($){console.error($)}finally{y(!1)}}},U=k(),B=U?O(U):null,D=U?I(U):null;return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-10",children:[_.jsxs("header",{children:[_.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"My Profile"}),_.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Personal Details"})]}),Ab,Ab,UC,_.jsx("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center text-royal-600 dark:text-royal-400",children:h?_.jsx(_$,{size:20}):_.jsx(C$,{size:20})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Dark Mode"}),_.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Optimize for low light"})]})]}),_.jsx("button",{onClick:P,className:`w-14 h-8 rounded-full transition-all duration-300 relative ${h?"bg-royal-600":"bg-gray-200 dark:bg-gray-800"}`,children:_.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-sm transition-transform duration-300 ${h?"translate-x-6":""}`})})]})}),_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"text",value:t,onChange:$=>e($.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:n,onChange:$=>r($.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(gC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:i,onChange:$=>o($.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(vC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),_.jsx(nn,{className:"w-full py-5 text-lg shadow-lg shadow-royal-200 dark:shadow-royal-900/40",onClick:M,isLoading:a,children:l?_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx(fC,{size:20})," Saved"]}):"Save Profile"})]}),U&&B&&D&&_.jsxs("div",{className:"relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40 animate-in slide-in-from-bottom-4 duration-500",children:[_.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),_.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(Cv,{size:16,className:"text-royal-200"}),_.jsx("span",{className:"text-royal-200 text-xs font-bold uppercase tracking-widest",children:"Body Insight"})]}),_.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight",children:["BMI: ",U.toFixed(1)]})]}),_.jsx("div",{className:`px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/10 text-sm font-bold ${B.color}`,children:B.label})]}),_.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-[24px] p-5 border border-white/5",children:[_.jsx("p",{className:"text-white/70 text-xs font-medium mb-3",children:"Based on your profile, we recommend a daily calorie limit of:"}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-4xl font-extrabold tracking-tighter",children:D}),_.jsx("span",{className:"text-lg font-bold text-white/60",children:"kcal"})]}),_.jsx("button",{onClick:L,className:"w-10 h-10 bg-white text-royal-600 rounded-full flex items-center justify-center hover:scale-110 active:scale-95 transition-all shadow-lg",children:_.jsx(cC,{size:20,strokeWidth:3})})]})]})]})]}),_.jsx("div",{className:"pt-4",children:_.jsx("button",{onClick:j,disabled:g,className:"w-full flex items-center justify-center gap-3 py-5 rounded-[24px] border border-red-200 dark:border-red-900/30 text-red-500 dark:text-red-400 font-bold hover:bg-red-50 dark:hover:bg-red-950/20 active:scale-95 transition-all shadow-sm",children:g?_.jsx(mC,{size:20,className:"animate-spin"}):_.jsxs(_.Fragment,{children:[_.jsx(b$,{size:20}),_.jsx("span",{children:"Sign Out"})]})})}),_.jsx("div",{className:"text-center pt-4 pb-2",children:_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-bold border transition-colors bg-amber-50 dark:bg-amber-950/20 text-amber-700 dark:text-amber-400 border-amber-100 dark:border-amber-900/30",children:[_.jsx(h$,{size:12}),_.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"}),"Local Storage Mode"]})})]})},Pfe=({onComplete:t})=>{const[e,n]=R.useState(0),[r,i]=R.useState(""),[o,a]=R.useState(""),[s,l]=R.useState(""),[u,c]=R.useState(!1),f=5,h=()=>{const S=parseFloat(o),E=parseFloat(s);return!S||!E?null:E/(S/100*(S/100))},m=S=>{const P=(10*parseFloat(s)+6.25*parseFloat(o)-5*25+5)*1.2;return S<18.5?Math.round(P+400):S>25?Math.round(P-400):Math.round(P)},g=()=>{e<f-1&&n(e+1)},y=()=>{e>0&&n(e-1)},w=async()=>{await pL(),t()},v=async()=>{c(!0);try{if(r&&o&&s){await JC({name:r,height:parseFloat(o),weight:parseFloat(s)});const S=h();if(S){const E=m(S);await Mv(E)}}await YC(),t()}catch(S){console.error("Failed to save onboarding data:",S),alert("Failed to save your profile. Please try again.")}finally{c(!1)}},b=r&&o&&s,x=h(),T=x?m(x):null;return _.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface via-royal-50/30 to-royal-100/40 dark:from-surface-dark dark:via-royal-950/20 dark:to-black flex items-center justify-center p-4 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-royal-200/20 dark:bg-royal-800/10 rounded-full blur-3xl animate-pulse"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-200/20 dark:bg-purple-900/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),_.jsxs("button",{onClick:w,className:"absolute top-6 right-6 z-50 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-sm font-medium flex items-center gap-1",children:["Skip ",_.jsx(ca,{size:16})]}),_.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[_.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Array.from({length:f}).map((S,E)=>_.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${E===e?"w-12 bg-royal-600 dark:bg-royal-500":E<e?"w-8 bg-royal-400 dark:bg-royal-600":"w-8 bg-gray-200 dark:bg-gray-700"}`},E))}),_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[40px] shadow-diffused-lg dark:shadow-diffused-dark p-8 md:p-12 min-h-[500px] flex flex-col",children:[e===0&&_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("div",{className:"relative mb-8",children:[_.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-royal-500 to-purple-600 rounded-[32px] flex items-center justify-center shadow-xl shadow-royal-200 dark:shadow-royal-900/40 animate-in zoom-in duration-700",children:_.jsx(Ko,{size:48,className:"text-white",strokeWidth:2})}),_.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-bounce"})]}),_.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"Welcome to SnapCal AI"}),_.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your AI-Powered Nutrition Companion"}),_.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 max-w-md leading-relaxed",children:"Track calories effortlessly with the power of artificial intelligence. Just snap a photo of your meal and let AI do the rest."}),_.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-6 w-full max-w-md",children:[_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"w-14 h-14 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center",children:_.jsx(Fs,{size:28,className:"text-royal-600 dark:text-royal-400"})}),_.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Snap"})]}),_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"w-14 h-14 bg-purple-50 dark:bg-purple-950/30 rounded-2xl flex items-center justify-center",children:_.jsx(wC,{size:28,className:"text-purple-600 dark:text-purple-400"})}),_.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Analyze"})]}),_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-950/30 rounded-2xl flex items-center justify-center",children:_.jsx(Bs,{size:28,className:"text-emerald-600 dark:text-emerald-400"})}),_.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Track"})]})]})]}),e===1&&_.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[_.jsxs("div",{className:"mb-8 text-center",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[_.jsx(Fs,{size:16,className:"text-royal-600 dark:text-royal-400"}),_.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"How It Works"})]}),_.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Instant Nutrition Insights"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Our AI analyzes your food photos to provide accurate calorie counts and nutritional breakdowns in seconds."})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[_.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:_.jsx(Fs,{size:24,className:"text-royal-600 dark:text-royal-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"1. Capture Your Meal"}),_.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Take a photo of any dish, snack, or beverage"})]})]}),_.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[_.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:_.jsx(Ko,{size:24,className:"text-purple-600 dark:text-purple-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"2. AI Recognition"}),_.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced AI identifies ingredients and portions instantly"})]})]}),_.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[_.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:_.jsx(Bs,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"3. Get Detailed Breakdown"}),_.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Calories, protein, carbs, and fatsall automatically calculated"})]})]})]})]}),e===2&&_.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[_.jsxs("div",{className:"mb-8 text-center",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 dark:bg-purple-950/30 rounded-full mb-4",children:[_.jsx(tb,{size:16,className:"text-purple-600 dark:text-purple-400"}),_.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wider",children:"Personalization"})]}),_.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Why Your Profile Matters"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Share a few details to unlock truly personalized nutrition recommendations tailored just for you."})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30",children:[_.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:_.jsx(P$,{size:24,className:"text-royal-600 dark:text-royal-400"})}),_.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Accurate Goals"}),_.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Get a science-backed daily calorie target based on your unique body metrics and health objectives."})]}),_.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 rounded-[28px] border border-emerald-100 dark:border-emerald-900/30",children:[_.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:_.jsx(Bs,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),_.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Smart Insights"}),_.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Receive personalized BMI analysis and recommendations to help you reach your ideal weight."})]}),_.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/20 dark:to-amber-950/20 rounded-[28px] border border-orange-100 dark:border-orange-900/30",children:[_.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:_.jsx(Ko,{size:24,className:"text-orange-600 dark:text-orange-400"})}),_.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Better Tracking"}),_.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"See how your intake compares to your goals and adjust your habits for optimal results."})]}),_.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-950/20 dark:to-rose-950/20 rounded-[28px] border border-pink-100 dark:border-pink-900/30",children:[_.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:_.jsx(tb,{size:24,className:"text-pink-600 dark:text-pink-400"})}),_.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Long-term Success"}),_.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Build sustainable habits with data-driven feedback tailored to your wellness journey."})]})]})]}),e===3&&_.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[_.jsxs("div",{className:"mb-6 text-center",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[_.jsx(ua,{size:16,className:"text-royal-600 dark:text-royal-400"}),_.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Your Details"})]}),_.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Set Up Your Profile"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Just a few quick details to personalize your experience"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"text",value:r,onChange:S=>i(S.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:o,onChange:S=>a(S.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(gC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:s,onChange:S=>l(S.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(vC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),x&&_.jsxs("div",{className:"p-5 bg-gradient-to-r from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[24px] border border-royal-100 dark:border-royal-900/30 animate-in slide-in-from-bottom-2",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"text-xs font-bold text-royal-700 dark:text-royal-300 uppercase tracking-wider",children:"Your BMI"}),_.jsx("span",{className:"text-2xl font-extrabold text-royal-900 dark:text-royal-100",children:x.toFixed(1)})]}),T&&_.jsxs("p",{className:"text-xs text-royal-600 dark:text-royal-400",children:["Recommended daily goal: ",_.jsxs("span",{className:"font-bold",children:[T," kcal"]})]})]})]})]}),e===4&&_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-500",children:[_.jsxs("div",{className:"relative mb-8",children:[_.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-2xl shadow-emerald-200 dark:shadow-emerald-900/40 animate-in zoom-in duration-700",children:_.jsx(fC,{size:56,className:"text-white",strokeWidth:3})}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full animate-ping opacity-20"})]}),_.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"You're All Set!"}),_.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your personalized nutrition journey begins now"}),r&&T&&_.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30 max-w-md w-full",children:[_.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Welcome, ",_.jsx("span",{className:"font-bold text-royal-600 dark:text-royal-400",children:r}),"!"]}),_.jsxs("div",{className:"flex items-baseline gap-2 justify-center",children:[_.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500 font-medium",children:"Daily Goal:"}),_.jsx("span",{className:"text-3xl font-extrabold text-royal-900 dark:text-royal-100",children:T}),_.jsx("span",{className:"text-sm font-bold text-gray-500 dark:text-gray-500",children:"kcal"})]})]}),_.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-6 max-w-md leading-relaxed",children:"Start snapping photos of your meals to track your nutrition effortlessly. We'll help you stay on track!"})]}),_.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-100 dark:border-white/5",children:[_.jsxs("button",{onClick:y,disabled:e===0,className:`flex items-center gap-2 px-5 py-3 rounded-[16px] font-bold text-sm transition-all ${e===0?"opacity-0 pointer-events-none":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[_.jsx(dC,{size:20}),"Back"]}),e===f-1?_.jsxs(nn,{onClick:v,isLoading:u,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Start Tracking",_.jsx(gc,{size:20,className:"ml-1"})]}):e===3?_.jsxs(nn,{onClick:g,disabled:!b,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Continue",_.jsx(gc,{size:20,className:"ml-1"})]}):_.jsxs(nn,{onClick:g,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Next",_.jsx(gc,{size:20,className:"ml-1"})]})]})]})]})]})};function kfe(){const[t,e]=R.useState(ct.DASHBOARD),[n,r]=R.useState(null),[i,o]=R.useState(!0),[a,s]=R.useState(!1),[l,u]=R.useState(!0);R.useEffect(()=>{An().then(h=>{r(h),o(!1),h&&Cb().catch(m=>console.error("Cleanup failed:",m))});const f=fL(h=>{r(h),o(!1),h&&Cb().catch(m=>console.error("Cleanup failed:",m))});return()=>f()},[]),R.useEffect(()=>{(async()=>{if(n){u(!0);const h=await hL();s(!h),u(!1)}else s(!1),u(!1)})()},[n]);const c=()=>{s(!1),e(ct.DASHBOARD)};return i||l?_.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:_.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):n?a?_.jsx(Pfe,{onComplete:c}):_.jsxs(k$,{currentView:t,onNavigate:e,children:[t===ct.DASHBOARD&&_.jsx(Sfe,{}),t===ct.HISTORY&&_.jsx(Tfe,{}),t===ct.PROFILE&&_.jsx(Cfe,{})]}):_.jsx(Afe,{})}const IN=document.getElementById("root");if(!IN)throw new Error("Could not find root element to mount to");const Ife=Lp.createRoot(IN);Ife.render(_.jsx(N.StrictMode,{children:_.jsx(kfe,{})}));
