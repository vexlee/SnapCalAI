(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s1={exports:{}},lf={},l1={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=Symbol.for("react.element"),zN=Symbol.for("react.portal"),qN=Symbol.for("react.fragment"),WN=Symbol.for("react.strict_mode"),KN=Symbol.for("react.profiler"),JN=Symbol.for("react.provider"),YN=Symbol.for("react.context"),XN=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),ZN=Symbol.for("react.memo"),eR=Symbol.for("react.lazy"),tw=Symbol.iterator;function tR(t){return t===null||typeof t!="object"?null:(t=tw&&t[tw]||t["@@iterator"],typeof t=="function"?t:null)}var u1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c1=Object.assign,d1={};function Ba(t,e,n){this.props=t,this.context=e,this.refs=d1,this.updater=n||u1}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f1(){}f1.prototype=Ba.prototype;function Fy(t,e,n){this.props=t,this.context=e,this.refs=d1,this.updater=n||u1}var By=Fy.prototype=new f1;By.constructor=Fy;c1(By,Ba.prototype);By.isPureReactComponent=!0;var nw=Array.isArray,h1=Object.prototype.hasOwnProperty,Gy={current:null},p1={key:!0,ref:!0,__self:!0,__source:!0};function m1(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)h1.call(e,r)&&!p1.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:su,type:t,key:o,ref:a,props:i,_owner:Gy.current}}function nR(t,e){return{$$typeof:su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===su}function rR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rw=/\/+/g;function Nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rR(""+t.key):e.toString(36)}function lc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case su:case zN:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Nh(a,0):r,nw(i)?(n="",t!=null&&(n=t.replace(rw,"$&/")+"/"),lc(i,e,n,"",function(u){return u})):i!=null&&(Vy(i)&&(i=nR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",nw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Nh(o,s);a+=lc(o,e,n,l,i)}else if(l=tR(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Nh(o,s++),a+=lc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xu(t,e,n){if(t==null)return t;var r=[],i=0;return lc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},uc={transition:null},oR={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:uc,ReactCurrentOwner:Gy};function g1(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:xu,forEach:function(t,e,n){xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xu(t,function(){e++}),e},toArray:function(t){return xu(t,function(e){return e})||[]},only:function(t){if(!Vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Ba;he.Fragment=qN;he.Profiler=KN;he.PureComponent=Fy;he.StrictMode=WN;he.Suspense=QN;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oR;he.act=g1;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=c1({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Gy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)h1.call(e,l)&&!p1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:su,type:t.type,key:i,ref:o,props:r,_owner:a}};he.createContext=function(t){return t={$$typeof:YN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JN,_context:t},t.Consumer=t};he.createElement=m1;he.createFactory=function(t){var e=m1.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:XN,render:t}};he.isValidElement=Vy;he.lazy=function(t){return{$$typeof:eR,_payload:{_status:-1,_result:t},_init:iR}};he.memo=function(t,e){return{$$typeof:ZN,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=uc.transition;uc.transition={};try{t()}finally{uc.transition=e}};he.unstable_act=g1;he.useCallback=function(t,e){return Gt.current.useCallback(t,e)};he.useContext=function(t){return Gt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Gt.current.useEffect(t,e)};he.useId=function(){return Gt.current.useId()};he.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Gt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};he.useRef=function(t){return Gt.current.useRef(t)};he.useState=function(t){return Gt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Gt.current.useTransition()};he.version="18.3.1";l1.exports=he;var R=l1.exports;const N=Ie(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=R,sR=Symbol.for("react.element"),lR=Symbol.for("react.fragment"),uR=Object.prototype.hasOwnProperty,cR=aR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dR={key:!0,ref:!0,__self:!0,__source:!0};function y1(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)uR.call(e,r)&&!dR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sR,type:t,key:o,ref:a,props:i,_owner:cR.current}}lf.Fragment=lR;lf.jsx=y1;lf.jsxs=y1;s1.exports=lf;var _=s1.exports,Hp={},v1={exports:{}},cn={},w1={exports:{}},b1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var B=$.length;$.push(U);e:for(;0<B;){var q=B-1>>>1,z=$[q];if(0<i(z,U))$[q]=U,$[B]=z,B=q;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],B=$.pop();if(B!==U){$[0]=B;e:for(var q=0,z=$.length,ee=z>>>1;q<ee;){var K=2*(q+1)-1,me=$[K],Oe=K+1,rt=$[Oe];if(0>i(me,B))Oe<z&&0>i(rt,me)?($[q]=rt,$[Oe]=B,q=Oe):($[q]=me,$[K]=B,q=K);else if(Oe<z&&0>i(rt,B))$[q]=rt,$[Oe]=B,q=Oe;else break e}}return U}function i($,U){var B=$.sortIndex-U.sortIndex;return B!==0?B:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function T($){if(y=!1,x($),!g)if(n(l)!==null)g=!0,L(S);else{var U=n(u);U!==null&&G(T,U.startTime-$)}}function S($,U){g=!1,y&&(y=!1,v(k),k=-1),m=!0;var B=h;try{for(x(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!O());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var z=q(d.expirationTime<=U);U=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),x(U)}else r(l);d=n(l)}if(d!==null)var ee=!0;else{var K=n(u);K!==null&&G(T,K.startTime-U),ee=!1}return ee}finally{d=null,h=B,m=!1}}var E=!1,A=null,k=-1,C=5,P=-1;function O(){return!(t.unstable_now()-P<C)}function I(){if(A!==null){var $=t.unstable_now();P=$;var U=!0;try{U=A(!0,$)}finally{U?M():(E=!1,A=null)}}else E=!1}var M;if(typeof b=="function")M=function(){b(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,j=D.port2;D.port1.onmessage=I,M=function(){j.postMessage(null)}}else M=function(){w(I,0)};function L($){A=$,E||(E=!0,M())}function G($,U){k=w(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,L(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var B=h;h=U;try{return $()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=h;h=$;try{return U()}finally{h=B}},t.unstable_scheduleCallback=function($,U,B){var q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=B+z,$={id:c++,callback:U,priorityLevel:$,startTime:B,expirationTime:z,sortIndex:-1},B>q?($.sortIndex=B,e(u,$),n(l)===null&&$===n(u)&&(y?(v(k),k=-1):y=!0,G(T,B-q))):($.sortIndex=z,e(l,$),g||m||(g=!0,L(S))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var U=h;return function(){var B=h;h=U;try{return $.apply(this,arguments)}finally{h=B}}}})(b1);w1.exports=b1;var fR=w1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR=R,un=fR;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x1=new Set,tl={};function to(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(tl[t]=e,t=0;t<e.length;t++)x1.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=Object.prototype.hasOwnProperty,pR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iw={},ow={};function mR(t){return zp.call(ow,t)?!0:zp.call(iw,t)?!1:pR.test(t)?ow[t]=!0:(iw[t]=!0,!1)}function gR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yR(t,e,n,r){if(e===null||typeof e>"u"||gR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hy=/[\-:]([a-z])/g;function zy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hy,zy);At[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hy,zy);At[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hy,zy);At[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qy(t,e,n,r){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yR(e,n,i,r)&&(n=null),r||i===null?mR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=hR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),Co=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),_1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),Ky=Symbol.for("react.forward_ref"),Wp=Symbol.for("react.suspense"),Kp=Symbol.for("react.suspense_list"),Jy=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),E1=Symbol.for("react.offscreen"),aw=Symbol.iterator;function ls(t){return t===null||typeof t!="object"?null:(t=aw&&t[aw]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Rh;function ks(t){if(Rh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rh=e&&e[1]||""}return`
`+Rh+t}var Mh=!1;function $h(t,e){if(!t||Mh)return"";Mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Mh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ks(t):""}function vR(t){switch(t.tag){case 5:return ks(t.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 2:case 15:return t=$h(t.type,!1),t;case 11:return t=$h(t.type.render,!1),t;case 1:return t=$h(t.type,!0),t;default:return""}}function Jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case Co:return"Portal";case qp:return"Profiler";case Wy:return"StrictMode";case Wp:return"Suspense";case Kp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S1:return(t.displayName||"Context")+".Consumer";case _1:return(t._context.displayName||"Context")+".Provider";case Ky:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jy:return e=t.displayName||null,e!==null?e:Jp(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return Jp(t(e))}catch{}}return null}function wR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jp(e);case 8:return e===Wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bR(t){var e=T1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Su(t){t._valueTracker||(t._valueTracker=bR(t))}function A1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=T1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yp(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C1(t,e){e=e.checked,e!=null&&qy(t,"checked",e,!1)}function Xp(t,e){C1(t,e);var n=ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qp(t,e.type,ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qp(t,e,n){(e!=="number"||Sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ps=Array.isArray;function zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Ps(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ai(n)}}function k1(t,e){var n=ai(e.value),r=ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function em(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eu,I1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xR=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(t){xR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$s[e]=$s[t]})});function O1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$s.hasOwnProperty(t)&&$s[t]?(""+e).trim():e+"px"}function N1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=O1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _R=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tm(t,e){if(e){if(_R[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rm=null;function Yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var im=null,qo=null,Wo=null;function dw(t){if(t=cu(t)){if(typeof im!="function")throw Error(H(280));var e=t.stateNode;e&&(e=hf(e),im(t.stateNode,t.type,e))}}function R1(t){qo?Wo?Wo.push(t):Wo=[t]:qo=t}function M1(){if(qo){var t=qo,e=Wo;if(Wo=qo=null,dw(t),e)for(t=0;t<e.length;t++)dw(e[t])}}function $1(t,e){return t(e)}function D1(){}var Dh=!1;function L1(t,e,n){if(Dh)return t(e,n);Dh=!0;try{return $1(t,e,n)}finally{Dh=!1,(qo!==null||Wo!==null)&&(D1(),M1())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var r=hf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var om=!1;if(xr)try{var us={};Object.defineProperty(us,"passive",{get:function(){om=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{om=!1}function SR(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ds=!1,Ec=null,Tc=!1,am=null,ER={onError:function(t){Ds=!0,Ec=t}};function TR(t,e,n,r,i,o,a,s,l){Ds=!1,Ec=null,SR.apply(ER,arguments)}function AR(t,e,n,r,i,o,a,s,l){if(TR.apply(this,arguments),Ds){if(Ds){var u=Ec;Ds=!1,Ec=null}else throw Error(H(198));Tc||(Tc=!0,am=u)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fw(t){if(no(t)!==t)throw Error(H(188))}function CR(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return fw(i),t;if(o===r)return fw(i),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function U1(t){return t=CR(t),t!==null?F1(t):null}function F1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F1(t);if(e!==null)return e;t=t.sibling}return null}var B1=un.unstable_scheduleCallback,hw=un.unstable_cancelCallback,kR=un.unstable_shouldYield,PR=un.unstable_requestPaint,Je=un.unstable_now,IR=un.unstable_getCurrentPriorityLevel,Xy=un.unstable_ImmediatePriority,G1=un.unstable_UserBlockingPriority,Ac=un.unstable_NormalPriority,OR=un.unstable_LowPriority,V1=un.unstable_IdlePriority,uf=null,rr=null;function NR(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(uf,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:$R,RR=Math.log,MR=Math.LN2;function $R(t){return t>>>=0,t===0?32:31-(RR(t)/MR|0)|0}var Tu=64,Au=4194304;function Is(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Is(s):(o&=a,o!==0&&(r=Is(o)))}else a=n&~i,a!==0?r=Is(a):o!==0&&(r=Is(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function DR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Vn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=DR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function sm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H1(){var t=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),t}function Lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function jR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Qy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function z1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q1,Zy,W1,K1,J1,lm=!1,Cu=[],Xr=null,Qr=null,Zr=null,il=new Map,ol=new Map,Vr=[],UR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pw(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function cs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=cu(e),e!==null&&Zy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FR(t,e,n,r,i){switch(e){case"focusin":return Xr=cs(Xr,t,e,n,r,i),!0;case"dragenter":return Qr=cs(Qr,t,e,n,r,i),!0;case"mouseover":return Zr=cs(Zr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return il.set(o,cs(il.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ol.set(o,cs(ol.get(o)||null,t,e,n,r,i)),!0}return!1}function Y1(t){var e=Pi(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=j1(n),e!==null){t.blockedOn=e,J1(t.priority,function(){W1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=um(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rm=r,n.target.dispatchEvent(r),rm=null}else return e=cu(n),e!==null&&Zy(e),t.blockedOn=n,!1;e.shift()}return!0}function mw(t,e,n){cc(t)&&n.delete(e)}function BR(){lm=!1,Xr!==null&&cc(Xr)&&(Xr=null),Qr!==null&&cc(Qr)&&(Qr=null),Zr!==null&&cc(Zr)&&(Zr=null),il.forEach(mw),ol.forEach(mw)}function ds(t,e){t.blockedOn===e&&(t.blockedOn=null,lm||(lm=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,BR)))}function al(t){function e(i){return ds(i,t)}if(0<Cu.length){ds(Cu[0],t);for(var n=1;n<Cu.length;n++){var r=Cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&ds(Xr,t),Qr!==null&&ds(Qr,t),Zr!==null&&ds(Zr,t),il.forEach(e),ol.forEach(e),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)Y1(n),n.blockedOn===null&&Vr.shift()}var Ko=Pr.ReactCurrentBatchConfig,kc=!0;function GR(t,e,n,r){var i=_e,o=Ko.transition;Ko.transition=null;try{_e=1,ev(t,e,n,r)}finally{_e=i,Ko.transition=o}}function VR(t,e,n,r){var i=_e,o=Ko.transition;Ko.transition=null;try{_e=4,ev(t,e,n,r)}finally{_e=i,Ko.transition=o}}function ev(t,e,n,r){if(kc){var i=um(t,e,n,r);if(i===null)Wh(t,e,r,Pc,n),pw(t,r);else if(FR(i,t,e,n,r))r.stopPropagation();else if(pw(t,r),e&4&&-1<UR.indexOf(t)){for(;i!==null;){var o=cu(i);if(o!==null&&q1(o),o=um(t,e,n,r),o===null&&Wh(t,e,r,Pc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Wh(t,e,r,null,n)}}var Pc=null;function um(t,e,n,r){if(Pc=null,t=Yy(r),t=Pi(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=j1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pc=t,null}function X1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IR()){case Xy:return 1;case G1:return 4;case Ac:case OR:return 16;case V1:return 536870912;default:return 16}default:return 16}}var qr=null,tv=null,dc=null;function Q1(){if(dc)return dc;var t,e=tv,n=e.length,r,i="value"in qr?qr.value:qr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return dc=i.slice(t,1<r?1-r:void 0)}function fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ku(){return!0}function gw(){return!1}function dn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ku:gw,this.isPropagationStopped=gw,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),e}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=dn(Ga),uu=ze({},Ga,{view:0,detail:0}),HR=dn(uu),jh,Uh,fs,cf=ze({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fs&&(fs&&t.type==="mousemove"?(jh=t.screenX-fs.screenX,Uh=t.screenY-fs.screenY):Uh=jh=0,fs=t),jh)},movementY:function(t){return"movementY"in t?t.movementY:Uh}}),yw=dn(cf),zR=ze({},cf,{dataTransfer:0}),qR=dn(zR),WR=ze({},uu,{relatedTarget:0}),Fh=dn(WR),KR=ze({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),JR=dn(KR),YR=ze({},Ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XR=dn(YR),QR=ze({},Ga,{data:0}),vw=dn(QR),ZR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tM[t])?!!e[t]:!1}function rv(){return nM}var rM=ze({},uu,{key:function(t){if(t.key){var e=ZR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rv,charCode:function(t){return t.type==="keypress"?fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iM=dn(rM),oM=ze({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ww=dn(oM),aM=ze({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rv}),sM=dn(aM),lM=ze({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),uM=dn(lM),cM=ze({},cf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dM=dn(cM),fM=[9,13,27,32],iv=xr&&"CompositionEvent"in window,Ls=null;xr&&"documentMode"in document&&(Ls=document.documentMode);var hM=xr&&"TextEvent"in window&&!Ls,Z1=xr&&(!iv||Ls&&8<Ls&&11>=Ls),bw=" ",xw=!1;function eA(t,e){switch(t){case"keyup":return fM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Po=!1;function pM(t,e){switch(t){case"compositionend":return tA(e);case"keypress":return e.which!==32?null:(xw=!0,bw);case"textInput":return t=e.data,t===bw&&xw?null:t;default:return null}}function mM(t,e){if(Po)return t==="compositionend"||!iv&&eA(t,e)?(t=Q1(),dc=tv=qr=null,Po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z1&&e.locale!=="ko"?null:e.data;default:return null}}var gM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gM[t.type]:e==="textarea"}function nA(t,e,n,r){R1(r),e=Ic(e,"onChange"),0<e.length&&(n=new nv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var js=null,sl=null;function yM(t){hA(t,0)}function df(t){var e=No(t);if(A1(e))return t}function vM(t,e){if(t==="change")return e}var rA=!1;if(xr){var Bh;if(xr){var Gh="oninput"in document;if(!Gh){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),Gh=typeof Sw.oninput=="function"}Bh=Gh}else Bh=!1;rA=Bh&&(!document.documentMode||9<document.documentMode)}function Ew(){js&&(js.detachEvent("onpropertychange",iA),sl=js=null)}function iA(t){if(t.propertyName==="value"&&df(sl)){var e=[];nA(e,sl,t,Yy(t)),L1(yM,e)}}function wM(t,e,n){t==="focusin"?(Ew(),js=e,sl=n,js.attachEvent("onpropertychange",iA)):t==="focusout"&&Ew()}function bM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return df(sl)}function xM(t,e){if(t==="click")return df(e)}function _M(t,e){if(t==="input"||t==="change")return df(e)}function SM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:SM;function ll(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zp.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function Tw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Aw(t,e){var n=Tw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tw(n)}}function oA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aA(){for(var t=window,e=Sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sc(t.document)}return e}function ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EM(t){var e=aA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oA(n.ownerDocument.documentElement,n)){if(r!==null&&ov(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Aw(n,o);var a=Aw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TM=xr&&"documentMode"in document&&11>=document.documentMode,Io=null,cm=null,Us=null,dm=!1;function Cw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dm||Io==null||Io!==Sc(r)||(r=Io,"selectionStart"in r&&ov(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Us&&ll(Us,r)||(Us=r,r=Ic(cm,"onSelect"),0<r.length&&(e=new nv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Io)))}function Pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oo={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},Vh={},sA={};xr&&(sA=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function ff(t){if(Vh[t])return Vh[t];if(!Oo[t])return t;var e=Oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sA)return Vh[t]=e[n];return t}var lA=ff("animationend"),uA=ff("animationiteration"),cA=ff("animationstart"),dA=ff("transitionend"),fA=new Map,kw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){fA.set(t,e),to(e,[t])}for(var Hh=0;Hh<kw.length;Hh++){var zh=kw[Hh],AM=zh.toLowerCase(),CM=zh[0].toUpperCase()+zh.slice(1);li(AM,"on"+CM)}li(lA,"onAnimationEnd");li(uA,"onAnimationIteration");li(cA,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(dA,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function Pw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AR(r,e,void 0,t),t.currentTarget=null}function hA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Pw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Pw(i,s,u),o=l}}}if(Tc)throw t=am,Tc=!1,am=null,t}function Ne(t,e){var n=e[gm];n===void 0&&(n=e[gm]=new Set);var r=t+"__bubble";n.has(r)||(pA(e,t,2,!1),n.add(r))}function qh(t,e,n){var r=0;e&&(r|=4),pA(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[Iu]){t[Iu]=!0,x1.forEach(function(n){n!=="selectionchange"&&(kM.has(n)||qh(n,!1,t),qh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,qh("selectionchange",!1,e))}}function pA(t,e,n,r){switch(X1(e)){case 1:var i=GR;break;case 4:i=VR;break;default:i=ev}n=i.bind(null,e,n,t),i=void 0,!om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Pi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}L1(function(){var u=o,c=Yy(n),d=[];e:{var h=fA.get(t);if(h!==void 0){var m=nv,g=t;switch(t){case"keypress":if(fc(n)===0)break e;case"keydown":case"keyup":m=iM;break;case"focusin":g="focus",m=Fh;break;case"focusout":g="blur",m=Fh;break;case"beforeblur":case"afterblur":m=Fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sM;break;case lA:case uA:case cA:m=JR;break;case dA:m=uM;break;case"scroll":m=HR;break;case"wheel":m=dM;break;case"copy":case"cut":case"paste":m=XR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ww}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,x;b!==null;){x=b;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,v!==null&&(T=rl(b,v),T!=null&&y.push(cl(b,T,x)))),w)break;b=b.return}0<y.length&&(h=new m(h,g,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==rm&&(g=n.relatedTarget||n.fromElement)&&(Pi(g)||g[_r]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Pi(g):null,g!==null&&(w=no(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=yw,T="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=ww,T="onPointerLeave",v="onPointerEnter",b="pointer"),w=m==null?h:No(m),x=g==null?h:No(g),h=new y(T,b+"leave",m,n,c),h.target=w,h.relatedTarget=x,T=null,Pi(c)===u&&(y=new y(v,b+"enter",g,n,c),y.target=x,y.relatedTarget=w,T=y),w=T,m&&g)t:{for(y=m,v=g,b=0,x=y;x;x=fo(x))b++;for(x=0,T=v;T;T=fo(T))x++;for(;0<b-x;)y=fo(y),b--;for(;0<x-b;)v=fo(v),x--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=fo(y),v=fo(v)}y=null}else y=null;m!==null&&Iw(d,h,m,y,!1),g!==null&&w!==null&&Iw(d,w,g,y,!0)}}e:{if(h=u?No(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=vM;else if(_w(h))if(rA)S=_M;else{S=bM;var E=wM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=xM);if(S&&(S=S(t,u))){nA(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Qp(h,"number",h.value)}switch(E=u?No(u):window,t){case"focusin":(_w(E)||E.contentEditable==="true")&&(Io=E,cm=u,Us=null);break;case"focusout":Us=cm=Io=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,Cw(d,n,c);break;case"selectionchange":if(TM)break;case"keydown":case"keyup":Cw(d,n,c)}var A;if(iv)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Po?eA(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Z1&&n.locale!=="ko"&&(Po||k!=="onCompositionStart"?k==="onCompositionEnd"&&Po&&(A=Q1()):(qr=c,tv="value"in qr?qr.value:qr.textContent,Po=!0)),E=Ic(u,k),0<E.length&&(k=new vw(k,t,null,n,c),d.push({event:k,listeners:E}),A?k.data=A:(A=tA(n),A!==null&&(k.data=A)))),(A=hM?pM(t,n):mM(t,n))&&(u=Ic(u,"onBeforeInput"),0<u.length&&(c=new vw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}hA(d,e)})}function cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ic(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=rl(t,n),o!=null&&r.unshift(cl(t,o,i)),o=rl(t,e),o!=null&&r.push(cl(t,o,i))),t=t.return}return r}function fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=rl(n,o),l!=null&&a.unshift(cl(n,l,s))):i||(l=rl(n,o),l!=null&&a.push(cl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var PM=/\r\n?/g,IM=/\u0000|\uFFFD/g;function Ow(t){return(typeof t=="string"?t:""+t).replace(PM,`
`).replace(IM,"")}function Ou(t,e,n){if(e=Ow(e),Ow(t)!==e&&n)throw Error(H(425))}function Oc(){}var fm=null,hm=null;function pm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mm=typeof setTimeout=="function"?setTimeout:void 0,OM=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,NM=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(t){return Nw.resolve(null).then(t).catch(RM)}:mm;function RM(t){setTimeout(function(){throw t})}function Kh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);al(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Va=Math.random().toString(36).slice(2),er="__reactFiber$"+Va,dl="__reactProps$"+Va,_r="__reactContainer$"+Va,gm="__reactEvents$"+Va,MM="__reactListeners$"+Va,$M="__reactHandles$"+Va;function Pi(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rw(t);t!==null;){if(n=t[er])return n;t=Rw(t)}return e}t=n,n=t.parentNode}return null}function cu(t){return t=t[er]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function No(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function hf(t){return t[dl]||null}var ym=[],Ro=-1;function ui(t){return{current:t}}function $e(t){0>Ro||(t.current=ym[Ro],ym[Ro]=null,Ro--)}function Pe(t,e){Ro++,ym[Ro]=t.current,t.current=e}var si={},Mt=ui(si),Wt=ui(!1),Hi=si;function aa(t,e){var n=t.type.contextTypes;if(!n)return si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function Nc(){$e(Wt),$e(Mt)}function Mw(t,e,n){if(Mt.current!==si)throw Error(H(168));Pe(Mt,e),Pe(Wt,n)}function mA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,wR(t)||"Unknown",i));return ze({},n,r)}function Rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,Hi=Mt.current,Pe(Mt,t),Pe(Wt,Wt.current),!0}function $w(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=mA(t,e,Hi),r.__reactInternalMemoizedMergedChildContext=t,$e(Wt),$e(Mt),Pe(Mt,t)):$e(Wt),Pe(Wt,n)}var hr=null,pf=!1,Jh=!1;function gA(t){hr===null?hr=[t]:hr.push(t)}function DM(t){pf=!0,gA(t)}function ci(){if(!Jh&&hr!==null){Jh=!0;var t=0,e=_e;try{var n=hr;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,pf=!1}catch(i){throw hr!==null&&(hr=hr.slice(t+1)),B1(Xy,ci),i}finally{_e=e,Jh=!1}}return null}var Mo=[],$o=0,Mc=null,$c=0,yn=[],vn=0,zi=null,pr=1,mr="";function bi(t,e){Mo[$o++]=$c,Mo[$o++]=Mc,Mc=t,$c=e}function yA(t,e,n){yn[vn++]=pr,yn[vn++]=mr,yn[vn++]=zi,zi=t;var r=pr;t=mr;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var o=32-Vn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,pr=1<<32-Vn(e)+i|n<<i|r,mr=o+t}else pr=1<<o|n<<i|r,mr=t}function av(t){t.return!==null&&(bi(t,1),yA(t,1,0))}function sv(t){for(;t===Mc;)Mc=Mo[--$o],Mo[$o]=null,$c=Mo[--$o],Mo[$o]=null;for(;t===zi;)zi=yn[--vn],yn[vn]=null,mr=yn[--vn],yn[vn]=null,pr=yn[--vn],yn[vn]=null}var ln=null,sn=null,Fe=!1,Fn=null;function vA(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,sn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,sn=null,!0):!1;default:return!1}}function vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wm(t){if(Fe){var e=sn;if(e){var n=e;if(!Dw(t,e)){if(vm(t))throw Error(H(418));e=ei(n.nextSibling);var r=ln;e&&Dw(t,e)?vA(r,n):(t.flags=t.flags&-4097|2,Fe=!1,ln=t)}}else{if(vm(t))throw Error(H(418));t.flags=t.flags&-4097|2,Fe=!1,ln=t}}}function Lw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Nu(t){if(t!==ln)return!1;if(!Fe)return Lw(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pm(t.type,t.memoizedProps)),e&&(e=sn)){if(vm(t))throw wA(),Error(H(418));for(;e;)vA(t,e),e=ei(e.nextSibling)}if(Lw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=ln?ei(t.stateNode.nextSibling):null;return!0}function wA(){for(var t=sn;t;)t=ei(t.nextSibling)}function sa(){sn=ln=null,Fe=!1}function lv(t){Fn===null?Fn=[t]:Fn.push(t)}var LM=Pr.ReactCurrentBatchConfig;function hs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Ru(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jw(t){var e=t._init;return e(t._payload)}function bA(t){function e(v,b){if(t){var x=v.deletions;x===null?(v.deletions=[b],v.flags|=16):x.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=ii(v,b),v.index=0,v.sibling=null,v}function o(v,b,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<b?(v.flags|=2,b):x):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,b,x,T){return b===null||b.tag!==6?(b=np(x,v.mode,T),b.return=v,b):(b=i(b,x),b.return=v,b)}function l(v,b,x,T){var S=x.type;return S===ko?c(v,b,x.props.children,T,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ur&&jw(S)===b.type)?(T=i(b,x.props),T.ref=hs(v,b,x),T.return=v,T):(T=wc(x.type,x.key,x.props,null,v.mode,T),T.ref=hs(v,b,x),T.return=v,T)}function u(v,b,x,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=rp(x,v.mode,T),b.return=v,b):(b=i(b,x.children||[]),b.return=v,b)}function c(v,b,x,T,S){return b===null||b.tag!==7?(b=Ui(x,v.mode,T,S),b.return=v,b):(b=i(b,x),b.return=v,b)}function d(v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=np(""+b,v.mode,x),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _u:return x=wc(b.type,b.key,b.props,null,v.mode,x),x.ref=hs(v,null,b),x.return=v,x;case Co:return b=rp(b,v.mode,x),b.return=v,b;case Ur:var T=b._init;return d(v,T(b._payload),x)}if(Ps(b)||ls(b))return b=Ui(b,v.mode,x,null),b.return=v,b;Ru(v,b)}return null}function h(v,b,x,T){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:s(v,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _u:return x.key===S?l(v,b,x,T):null;case Co:return x.key===S?u(v,b,x,T):null;case Ur:return S=x._init,h(v,b,S(x._payload),T)}if(Ps(x)||ls(x))return S!==null?null:c(v,b,x,T,null);Ru(v,x)}return null}function m(v,b,x,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(x)||null,s(b,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _u:return v=v.get(T.key===null?x:T.key)||null,l(b,v,T,S);case Co:return v=v.get(T.key===null?x:T.key)||null,u(b,v,T,S);case Ur:var E=T._init;return m(v,b,x,E(T._payload),S)}if(Ps(T)||ls(T))return v=v.get(x)||null,c(b,v,T,S,null);Ru(b,T)}return null}function g(v,b,x,T){for(var S=null,E=null,A=b,k=b=0,C=null;A!==null&&k<x.length;k++){A.index>k?(C=A,A=null):C=A.sibling;var P=h(v,A,x[k],T);if(P===null){A===null&&(A=C);break}t&&A&&P.alternate===null&&e(v,A),b=o(P,b,k),E===null?S=P:E.sibling=P,E=P,A=C}if(k===x.length)return n(v,A),Fe&&bi(v,k),S;if(A===null){for(;k<x.length;k++)A=d(v,x[k],T),A!==null&&(b=o(A,b,k),E===null?S=A:E.sibling=A,E=A);return Fe&&bi(v,k),S}for(A=r(v,A);k<x.length;k++)C=m(A,v,k,x[k],T),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?k:C.key),b=o(C,b,k),E===null?S=C:E.sibling=C,E=C);return t&&A.forEach(function(O){return e(v,O)}),Fe&&bi(v,k),S}function y(v,b,x,T){var S=ls(x);if(typeof S!="function")throw Error(H(150));if(x=S.call(x),x==null)throw Error(H(151));for(var E=S=null,A=b,k=b=0,C=null,P=x.next();A!==null&&!P.done;k++,P=x.next()){A.index>k?(C=A,A=null):C=A.sibling;var O=h(v,A,P.value,T);if(O===null){A===null&&(A=C);break}t&&A&&O.alternate===null&&e(v,A),b=o(O,b,k),E===null?S=O:E.sibling=O,E=O,A=C}if(P.done)return n(v,A),Fe&&bi(v,k),S;if(A===null){for(;!P.done;k++,P=x.next())P=d(v,P.value,T),P!==null&&(b=o(P,b,k),E===null?S=P:E.sibling=P,E=P);return Fe&&bi(v,k),S}for(A=r(v,A);!P.done;k++,P=x.next())P=m(A,v,k,P.value,T),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?k:P.key),b=o(P,b,k),E===null?S=P:E.sibling=P,E=P);return t&&A.forEach(function(I){return e(v,I)}),Fe&&bi(v,k),S}function w(v,b,x,T){if(typeof x=="object"&&x!==null&&x.type===ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _u:e:{for(var S=x.key,E=b;E!==null;){if(E.key===S){if(S=x.type,S===ko){if(E.tag===7){n(v,E.sibling),b=i(E,x.props.children),b.return=v,v=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ur&&jw(S)===E.type){n(v,E.sibling),b=i(E,x.props),b.ref=hs(v,E,x),b.return=v,v=b;break e}n(v,E);break}else e(v,E);E=E.sibling}x.type===ko?(b=Ui(x.props.children,v.mode,T,x.key),b.return=v,v=b):(T=wc(x.type,x.key,x.props,null,v.mode,T),T.ref=hs(v,b,x),T.return=v,v=T)}return a(v);case Co:e:{for(E=x.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(v,b.sibling),b=i(b,x.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=rp(x,v.mode,T),b.return=v,v=b}return a(v);case Ur:return E=x._init,w(v,b,E(x._payload),T)}if(Ps(x))return g(v,b,x,T);if(ls(x))return y(v,b,x,T);Ru(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,x),b.return=v,v=b):(n(v,b),b=np(x,v.mode,T),b.return=v,v=b),a(v)):n(v,b)}return w}var la=bA(!0),xA=bA(!1),Dc=ui(null),Lc=null,Do=null,uv=null;function cv(){uv=Do=Lc=null}function dv(t){var e=Dc.current;$e(Dc),t._currentValue=e}function bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jo(t,e){Lc=t,uv=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(uv!==t)if(t={context:t,memoizedValue:e,next:null},Do===null){if(Lc===null)throw Error(H(308));Do=t,Lc.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var Ii=null;function fv(t){Ii===null?Ii=[t]:Ii.push(t)}function _A(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function hv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sr(t,n)}return i=r.interleaved,i===null?(e.next=e,fv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sr(t,n)}function hc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qy(t,n)}}function Uw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jc(t,e,n,r){var i=t.updateQueue;Fr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=ze({},d,h);break e;case 2:Fr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Wi|=a,t.lanes=a,t.memoizedState=d}}function Fw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var du={},ir=ui(du),fl=ui(du),hl=ui(du);function Oi(t){if(t===du)throw Error(H(174));return t}function pv(t,e){switch(Pe(hl,e),Pe(fl,t),Pe(ir,du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:em(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=em(e,t)}$e(ir),Pe(ir,e)}function ua(){$e(ir),$e(fl),$e(hl)}function EA(t){Oi(hl.current);var e=Oi(ir.current),n=em(e,t.type);e!==n&&(Pe(fl,t),Pe(ir,n))}function mv(t){fl.current===t&&($e(ir),$e(fl))}var Ve=ui(0);function Uc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yh=[];function gv(){for(var t=0;t<Yh.length;t++)Yh[t]._workInProgressVersionPrimary=null;Yh.length=0}var pc=Pr.ReactCurrentDispatcher,Xh=Pr.ReactCurrentBatchConfig,qi=0,He=null,lt=null,mt=null,Fc=!1,Fs=!1,pl=0,jM=0;function kt(){throw Error(H(321))}function yv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function vv(t,e,n,r,i,o){if(qi=o,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pc.current=t===null||t.memoizedState===null?GM:VM,t=n(r,i),Fs){o=0;do{if(Fs=!1,pl=0,25<=o)throw Error(H(301));o+=1,mt=lt=null,e.updateQueue=null,pc.current=HM,t=n(r,i)}while(Fs)}if(pc.current=Bc,e=lt!==null&&lt.next!==null,qi=0,mt=lt=He=null,Fc=!1,e)throw Error(H(300));return t}function wv(){var t=pl!==0;return pl=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?He.memoizedState=mt=t:mt=mt.next=t,mt}function Tn(){if(lt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=mt===null?He.memoizedState:mt.next;if(e!==null)mt=e,lt=t;else{if(t===null)throw Error(H(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?He.memoizedState=mt=t:mt=mt.next=t}return mt}function ml(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((qi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,He.lanes|=c,Wi|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Wn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,He.lanes|=o,Wi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Wn(o,e.memoizedState)||(zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function TA(){}function AA(t,e){var n=He,r=Tn(),i=e(),o=!Wn(r.memoizedState,i);if(o&&(r.memoizedState=i,zt=!0),r=r.queue,bv(PA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,gl(9,kA.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(H(349));qi&30||CA(n,e,i)}return i}function CA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kA(t,e,n,r){e.value=n,e.getSnapshot=r,IA(e)&&OA(t)}function PA(t,e,n){return n(function(){IA(e)&&OA(t)})}function IA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function OA(t){var e=Sr(t,1);e!==null&&Hn(e,t,1,-1)}function Bw(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},e.queue=t,t=t.dispatch=BM.bind(null,He,t),[e.memoizedState,t]}function gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NA(){return Tn().memoizedState}function mc(t,e,n,r){var i=Qn();He.flags|=t,i.memoizedState=gl(1|e,n,void 0,r===void 0?null:r)}function mf(t,e,n,r){var i=Tn();r=r===void 0?null:r;var o=void 0;if(lt!==null){var a=lt.memoizedState;if(o=a.destroy,r!==null&&yv(r,a.deps)){i.memoizedState=gl(e,n,o,r);return}}He.flags|=t,i.memoizedState=gl(1|e,n,o,r)}function Gw(t,e){return mc(8390656,8,t,e)}function bv(t,e){return mf(2048,8,t,e)}function RA(t,e){return mf(4,2,t,e)}function MA(t,e){return mf(4,4,t,e)}function $A(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DA(t,e,n){return n=n!=null?n.concat([t]):null,mf(4,4,$A.bind(null,e,t),n)}function xv(){}function LA(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jA(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UA(t,e,n){return qi&21?(Wn(n,e)||(n=H1(),He.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function UM(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Xh.transition;Xh.transition={};try{t(!1),e()}finally{_e=n,Xh.transition=r}}function FA(){return Tn().memoizedState}function FM(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BA(t))GA(e,n);else if(n=_A(t,e,n,r),n!==null){var i=Ft();Hn(n,t,r,i),VA(n,e,r)}}function BM(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BA(t))GA(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Wn(s,a)){var l=e.interleaved;l===null?(i.next=i,fv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_A(t,e,i,r),n!==null&&(i=Ft(),Hn(n,t,r,i),VA(n,e,r))}}function BA(t){var e=t.alternate;return t===He||e!==null&&e===He}function GA(t,e){Fs=Fc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qy(t,n)}}var Bc={readContext:En,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},GM={readContext:En,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:Gw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mc(4194308,4,$A.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return mc(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FM.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:Bw,useDebugValue:xv,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=Bw(!1),e=t[0];return t=UM.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=Qn();if(Fe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),gt===null)throw Error(H(349));qi&30||CA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Gw(PA.bind(null,r,o,t),[t]),r.flags|=2048,gl(9,kA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Qn(),e=gt.identifierPrefix;if(Fe){var n=mr,r=pr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VM={readContext:En,useCallback:LA,useContext:En,useEffect:bv,useImperativeHandle:DA,useInsertionEffect:RA,useLayoutEffect:MA,useMemo:jA,useReducer:Qh,useRef:NA,useState:function(){return Qh(ml)},useDebugValue:xv,useDeferredValue:function(t){var e=Tn();return UA(e,lt.memoizedState,t)},useTransition:function(){var t=Qh(ml)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:TA,useSyncExternalStore:AA,useId:FA,unstable_isNewReconciler:!1},HM={readContext:En,useCallback:LA,useContext:En,useEffect:bv,useImperativeHandle:DA,useInsertionEffect:RA,useLayoutEffect:MA,useMemo:jA,useReducer:Zh,useRef:NA,useState:function(){return Zh(ml)},useDebugValue:xv,useDeferredValue:function(t){var e=Tn();return lt===null?e.memoizedState=t:UA(e,lt.memoizedState,t)},useTransition:function(){var t=Zh(ml)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:TA,useSyncExternalStore:AA,useId:FA,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gf={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=ri(t),o=vr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ti(t,o,i),e!==null&&(Hn(e,t,i,r),hc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=ri(t),o=vr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ti(t,o,i),e!==null&&(Hn(e,t,i,r),hc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=ri(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(Hn(e,t,r,n),hc(e,t,r))}};function Vw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(i,o):!0}function HA(t,e,n){var r=!1,i=si,o=e.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=Kt(e)?Hi:Mt.current,r=e.contextTypes,o=(r=r!=null)?aa(t,i):si),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Hw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gf.enqueueReplaceState(e,e.state,null)}function _m(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=Kt(e)?Hi:Mt.current,i.context=aa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gf.enqueueReplaceState(i,i.state,null),jc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ca(t,e){try{var n="",r=e;do n+=vR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ep(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zM=typeof WeakMap=="function"?WeakMap:Map;function zA(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vc||(Vc=!0,Rm=r),Sm(t,e)},n}function qA(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Sm(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=o2.bind(null,t,e,n),e.then(t,t))}function qw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ww(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var qM=Pr.ReactCurrentOwner,zt=!1;function Lt(t,e,n,r){e.child=t===null?xA(e,null,n,r):la(e,t.child,n,r)}function Kw(t,e,n,r,i){n=n.render;var o=e.ref;return Jo(e,i),r=vv(t,e,n,r,o,i),n=wv(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Fe&&n&&av(e),e.flags|=1,Lt(t,e,r,i),e.child)}function Jw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Pv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,WA(t,e,o,r,i)):(t=wc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(a,r)&&t.ref===e.ref)return Er(t,e,i)}return e.flags|=1,t=ii(o,r),t.ref=e.ref,t.return=e,e.child=t}function WA(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ll(o,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Er(t,e,i)}return Em(t,e,n,r,i)}function KA(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(jo,tn),tn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(jo,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(jo,tn),tn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pe(jo,tn),tn|=r;return Lt(t,e,i,n),e.child}function JA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Em(t,e,n,r,i){var o=Kt(n)?Hi:Mt.current;return o=aa(e,o),Jo(e,i),n=vv(t,e,n,r,o,i),r=wv(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Fe&&r&&av(e),e.flags|=1,Lt(t,e,n,i),e.child)}function Yw(t,e,n,r,i){if(Kt(n)){var o=!0;Rc(e)}else o=!1;if(Jo(e,i),e.stateNode===null)gc(t,e),HA(e,n,r),_m(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=Kt(n)?Hi:Mt.current,u=aa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Hw(e,a,r,u),Fr=!1;var h=e.memoizedState;a.state=h,jc(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Wt.current||Fr?(typeof c=="function"&&(xm(e,n,c,r),l=e.memoizedState),(s=Fr||Vw(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,SA(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Mn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=En(l):(l=Kt(n)?Hi:Mt.current,l=aa(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Hw(e,a,r,l),Fr=!1,h=e.memoizedState,a.state=h,jc(e,r,a,i);var g=e.memoizedState;s!==d||h!==g||Wt.current||Fr?(typeof m=="function"&&(xm(e,n,m,r),g=e.memoizedState),(u=Fr||Vw(e,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Tm(t,e,n,r,o,i)}function Tm(t,e,n,r,i,o){JA(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&$w(e,n,!1),Er(t,e,o);r=e.stateNode,qM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=la(e,t.child,null,o),e.child=la(e,null,s,o)):Lt(t,e,s,o),e.memoizedState=r.state,i&&$w(e,n,!0),e.child}function YA(t){var e=t.stateNode;e.pendingContext?Mw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mw(t,e.context,!1),pv(t,e.containerInfo)}function Xw(t,e,n,r,i){return sa(),lv(i),e.flags|=256,Lt(t,e,n,r),e.child}var Am={dehydrated:null,treeContext:null,retryLane:0};function Cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function XA(t,e,n){var r=e.pendingProps,i=Ve.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Ve,i&1),t===null)return wm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=wf(a,r,0,null),t=Ui(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Cm(n),e.memoizedState=Am,t):_v(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return WM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ii(s,o):(o=Ui(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Cm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Am,r}return o=t.child,t=o.sibling,r=ii(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _v(t,e){return e=wf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mu(t,e,n,r){return r!==null&&lv(r),la(e,t.child,null,n),t=_v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=ep(Error(H(422))),Mu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=wf({mode:"visible",children:r.children},i,0,null),o=Ui(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&la(e,t.child,null,a),e.child.memoizedState=Cm(a),e.memoizedState=Am,o);if(!(e.mode&1))return Mu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(H(419)),r=ep(o,r,void 0),Mu(t,e,a,r)}if(s=(a&t.childLanes)!==0,zt||s){if(r=gt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Sr(t,i),Hn(r,t,i,-1))}return kv(),r=ep(Error(H(421))),Mu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sn=ei(i.nextSibling),ln=e,Fe=!0,Fn=null,t!==null&&(yn[vn++]=pr,yn[vn++]=mr,yn[vn++]=zi,pr=t.id,mr=t.overflow,zi=e),e=_v(e,r.children),e.flags|=4096,e)}function Qw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bm(t.return,e,n)}function tp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QA(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Lt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qw(t,n,e);else if(t.tag===19)Qw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Uc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tp(e,!0,n,null,o);break;case"together":tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KM(t,e,n){switch(e.tag){case 3:YA(e),sa();break;case 5:EA(e);break;case 1:Kt(e.type)&&Rc(e);break;case 4:pv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Dc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?XA(t,e,n):(Pe(Ve,Ve.current&1),t=Er(t,e,n),t!==null?t.sibling:null);Pe(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,KA(t,e,n)}return Er(t,e,n)}var ZA,km,eC,tC;ZA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};eC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oi(ir.current);var o=null;switch(n){case"input":i=Yp(t,i),r=Yp(t,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=Zp(t,i),r=Zp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Oc)}tm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};tC=function(t,e,n,r){n!==r&&(e.flags|=4)};function ps(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JM(t,e,n){var r=e.pendingProps;switch(sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Kt(e.type)&&Nc(),Pt(e),null;case 3:return r=e.stateNode,ua(),$e(Wt),$e(Mt),gv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(Dm(Fn),Fn=null))),km(t,e),Pt(e),null;case 5:mv(e);var i=Oi(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)eC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Pt(e),null}if(t=Oi(ir.current),Nu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[er]=e,r[dl]=o,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Os.length;i++)Ne(Os[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":sw(r,o),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",r);break;case"textarea":uw(r,o),Ne("invalid",r)}tm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ou(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ou(r.textContent,s,t),i=["children",""+s]):tl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Su(r),lw(r,o,!0);break;case"textarea":Su(r),cw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Oc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[er]=e,t[dl]=r,ZA(t,e,!1,!1),e.stateNode=t;e:{switch(a=nm(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Os.length;i++)Ne(Os[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":sw(t,r),i=Yp(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":uw(t,r),i=Zp(t,r),Ne("invalid",t);break;default:i=r}tm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?N1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&I1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nl(t,l):typeof l=="number"&&nl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ne("scroll",t):l!=null&&qy(t,o,l,a))}switch(n){case"input":Su(t),lw(t,r,!1);break;case"textarea":Su(t),cw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ai(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zo(t,!!r.multiple,o,!1):r.defaultValue!=null&&zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Oc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)tC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Oi(hl.current),Oi(ir.current),Nu(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(o=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ou(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return Pt(e),null;case 13:if($e(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&sn!==null&&e.mode&1&&!(e.flags&128))wA(),sa(),e.flags|=98560,o=!1;else if(o=Nu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[er]=e}else sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),o=!1}else Fn!==null&&(Dm(Fn),Fn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?ut===0&&(ut=3):kv())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return ua(),km(t,e),t===null&&ul(e.stateNode.containerInfo),Pt(e),null;case 10:return dv(e.type._context),Pt(e),null;case 17:return Kt(e.type)&&Nc(),Pt(e),null;case 19:if($e(Ve),o=e.memoizedState,o===null)return Pt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ps(o,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Uc(t),a!==null){for(e.flags|=128,ps(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Ve,Ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&Je()>da&&(e.flags|=128,r=!0,ps(o,!1),e.lanes=4194304)}else{if(!r)if(t=Uc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ps(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Fe)return Pt(e),null}else 2*Je()-o.renderingStartTime>da&&n!==1073741824&&(e.flags|=128,r=!0,ps(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,n=Ve.current,Pe(Ve,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function YM(t,e){switch(sv(e),e.tag){case 1:return Kt(e.type)&&Nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ua(),$e(Wt),$e(Mt),gv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mv(e),null;case 13:if($e(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ve),null;case 4:return ua(),null;case 10:return dv(e.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var $u=!1,Ot=!1,XM=typeof WeakSet=="function"?WeakSet:Set,X=null;function Lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Pm(t,e,n){try{n()}catch(r){We(t,e,r)}}var Zw=!1;function QM(t,e){if(fm=kc,t=aA(),ov(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hm={focusedElem:t,selectionRange:n},kc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Mn(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(T){We(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return g=Zw,Zw=!1,g}function Bs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Pm(e,n,o)}i=i.next}while(i!==r)}}function yf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Im(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nC(t){var e=t.alternate;e!==null&&(t.alternate=null,nC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[dl],delete e[gm],delete e[MM],delete e[$M])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rC(t){return t.tag===5||t.tag===3||t.tag===4}function eb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Oc));else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}function Nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nm(t,e,n),t=t.sibling;t!==null;)Nm(t,e,n),t=t.sibling}var St=null,Dn=!1;function Lr(t,e,n){for(n=n.child;n!==null;)iC(t,e,n),n=n.sibling}function iC(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(uf,n)}catch{}switch(n.tag){case 5:Ot||Lo(n,e);case 6:var r=St,i=Dn;St=null,Lr(t,e,n),St=r,Dn=i,St!==null&&(Dn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Dn?(t=St,n=n.stateNode,t.nodeType===8?Kh(t.parentNode,n):t.nodeType===1&&Kh(t,n),al(t)):Kh(St,n.stateNode));break;case 4:r=St,i=Dn,St=n.stateNode.containerInfo,Dn=!0,Lr(t,e,n),St=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Pm(n,e,a),i=i.next}while(i!==r)}Lr(t,e,n);break;case 1:if(!Ot&&(Lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){We(n,e,s)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Lr(t,e,n),Ot=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function tb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XM),e.forEach(function(r){var i=s2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:St=s.stateNode,Dn=!1;break e;case 3:St=s.stateNode.containerInfo,Dn=!0;break e;case 4:St=s.stateNode.containerInfo,Dn=!0;break e}s=s.return}if(St===null)throw Error(H(160));iC(o,a,i),St=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){We(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oC(e,t),e=e.sibling}function oC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),Xn(t),r&4){try{Bs(3,t,t.return),yf(3,t)}catch(y){We(t,t.return,y)}try{Bs(5,t,t.return)}catch(y){We(t,t.return,y)}}break;case 1:On(e,t),Xn(t),r&512&&n!==null&&Lo(n,n.return);break;case 5:if(On(e,t),Xn(t),r&512&&n!==null&&Lo(n,n.return),t.flags&32){var i=t.stateNode;try{nl(i,"")}catch(y){We(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&C1(i,o),nm(s,a);var u=nm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?N1(i,d):c==="dangerouslySetInnerHTML"?I1(i,d):c==="children"?nl(i,d):qy(i,c,d,u)}switch(s){case"input":Xp(i,o);break;case"textarea":k1(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?zo(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?zo(i,!!o.multiple,o.defaultValue,!0):zo(i,!!o.multiple,o.multiple?[]:"",!1))}i[dl]=o}catch(y){We(t,t.return,y)}}break;case 6:if(On(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){We(t,t.return,y)}}break;case 3:if(On(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(y){We(t,t.return,y)}break;case 4:On(e,t),Xn(t);break;case 13:On(e,t),Xn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=Je())),r&4&&tb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||c,On(e,t),Ot=u):On(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(X=t,c=t.child;c!==null;){for(d=X=c;X!==null;){switch(h=X,m=h.child,h.tag){case 0:case 11:case 14:case 15:Bs(4,h,h.return);break;case 1:Lo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){We(r,n,y)}}break;case 5:Lo(h,h.return);break;case 22:if(h.memoizedState!==null){rb(d);continue}}m!==null?(m.return=h,X=m):rb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=O1("display",a))}catch(y){We(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){We(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:On(e,t),Xn(t),r&4&&tb(t);break;case 21:break;default:On(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rC(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nl(i,""),r.flags&=-33);var o=eb(t);Nm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=eb(t);Om(t,s,a);break;default:throw Error(H(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZM(t,e,n){X=t,aC(t)}function aC(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||$u;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ot;s=$u;var u=Ot;if($u=a,(Ot=l)&&!u)for(X=i;X!==null;)a=X,l=a.child,a.tag===22&&a.memoizedState!==null?ib(i):l!==null?(l.return=a,X=l):ib(i);for(;o!==null;)X=o,aC(o),o=o.sibling;X=i,$u=s,Ot=u}nb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,X=o):nb(t)}}function nb(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||yf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Fw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&al(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ot||e.flags&512&&Im(e)}catch(h){We(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function rb(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function ib(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yf(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var o=e.return;try{Im(e)}catch(l){We(e,o,l)}break;case 5:var a=e.return;try{Im(e)}catch(l){We(e,a,l)}}}catch(l){We(e,e.return,l)}if(e===t){X=null;break}var s=e.sibling;if(s!==null){s.return=e.return,X=s;break}X=e.return}}var e2=Math.ceil,Gc=Pr.ReactCurrentDispatcher,Sv=Pr.ReactCurrentOwner,xn=Pr.ReactCurrentBatchConfig,ge=0,gt=null,et=null,Tt=0,tn=0,jo=ui(0),ut=0,yl=null,Wi=0,vf=0,Ev=0,Gs=null,Ht=null,Tv=0,da=1/0,dr=null,Vc=!1,Rm=null,ni=null,Du=!1,Wr=null,Hc=0,Vs=0,Mm=null,yc=-1,vc=0;function Ft(){return ge&6?Je():yc!==-1?yc:yc=Je()}function ri(t){return t.mode&1?ge&2&&Tt!==0?Tt&-Tt:LM.transition!==null?(vc===0&&(vc=H1()),vc):(t=_e,t!==0||(t=window.event,t=t===void 0?16:X1(t.type)),t):1}function Hn(t,e,n,r){if(50<Vs)throw Vs=0,Mm=null,Error(H(185));lu(t,n,r),(!(ge&2)||t!==gt)&&(t===gt&&(!(ge&2)&&(vf|=n),ut===4&&Hr(t,Tt)),Jt(t,r),n===1&&ge===0&&!(e.mode&1)&&(da=Je()+500,pf&&ci()))}function Jt(t,e){var n=t.callbackNode;LR(t,e);var r=Cc(t,t===gt?Tt:0);if(r===0)n!==null&&hw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hw(n),e===1)t.tag===0?DM(ob.bind(null,t)):gA(ob.bind(null,t)),NM(function(){!(ge&6)&&ci()}),n=null;else{switch(z1(r)){case 1:n=Xy;break;case 4:n=G1;break;case 16:n=Ac;break;case 536870912:n=V1;break;default:n=Ac}n=pC(n,sC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sC(t,e){if(yc=-1,vc=0,ge&6)throw Error(H(327));var n=t.callbackNode;if(Yo()&&t.callbackNode!==n)return null;var r=Cc(t,t===gt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zc(t,r);else{e=r;var i=ge;ge|=2;var o=uC();(gt!==t||Tt!==e)&&(dr=null,da=Je()+500,ji(t,e));do try{r2();break}catch(s){lC(t,s)}while(!0);cv(),Gc.current=o,ge=i,et!==null?e=0:(gt=null,Tt=0,e=ut)}if(e!==0){if(e===2&&(i=sm(t),i!==0&&(r=i,e=$m(t,i))),e===1)throw n=yl,ji(t,0),Hr(t,r),Jt(t,Je()),n;if(e===6)Hr(t,r);else{if(i=t.current.alternate,!(r&30)&&!t2(i)&&(e=zc(t,r),e===2&&(o=sm(t),o!==0&&(r=o,e=$m(t,o))),e===1))throw n=yl,ji(t,0),Hr(t,r),Jt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:xi(t,Ht,dr);break;case 3:if(Hr(t,r),(r&130023424)===r&&(e=Tv+500-Je(),10<e)){if(Cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mm(xi.bind(null,t,Ht,dr),e);break}xi(t,Ht,dr);break;case 4:if(Hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Vn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e2(r/1960))-r,10<r){t.timeoutHandle=mm(xi.bind(null,t,Ht,dr),r);break}xi(t,Ht,dr);break;case 5:xi(t,Ht,dr);break;default:throw Error(H(329))}}}return Jt(t,Je()),t.callbackNode===n?sC.bind(null,t):null}function $m(t,e){var n=Gs;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=zc(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&Dm(e)),t}function Dm(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function t2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~Ev,e&=~vf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function ob(t){if(ge&6)throw Error(H(327));Yo();var e=Cc(t,0);if(!(e&1))return Jt(t,Je()),null;var n=zc(t,e);if(t.tag!==0&&n===2){var r=sm(t);r!==0&&(e=r,n=$m(t,r))}if(n===1)throw n=yl,ji(t,0),Hr(t,e),Jt(t,Je()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,Ht,dr),Jt(t,Je()),null}function Av(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(da=Je()+500,pf&&ci())}}function Ki(t){Wr!==null&&Wr.tag===0&&!(ge&6)&&Yo();var e=ge;ge|=1;var n=xn.transition,r=_e;try{if(xn.transition=null,_e=1,t)return t()}finally{_e=r,xn.transition=n,ge=e,!(ge&6)&&ci()}}function Cv(){tn=jo.current,$e(jo)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OM(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(sv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nc();break;case 3:ua(),$e(Wt),$e(Mt),gv();break;case 5:mv(r);break;case 4:ua();break;case 13:$e(Ve);break;case 19:$e(Ve);break;case 10:dv(r.type._context);break;case 22:case 23:Cv()}n=n.return}if(gt=t,et=t=ii(t.current,null),Tt=tn=e,ut=0,yl=null,Ev=vf=Wi=0,Ht=Gs=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ii=null}return t}function lC(t,e){do{var n=et;try{if(cv(),pc.current=Bc,Fc){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fc=!1}if(qi=0,mt=lt=He=null,Fs=!1,pl=0,Sv.current=null,n===null||n.return===null){ut=1,yl=e,et=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Tt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=qw(a);if(m!==null){m.flags&=-257,Ww(m,a,s,o,e),m.mode&1&&zw(o,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){zw(o,u,e),kv();break e}l=Error(H(426))}}else if(Fe&&s.mode&1){var w=qw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ww(w,a,s,o,e),lv(ca(l,s));break e}}o=l=ca(l,s),ut!==4&&(ut=2),Gs===null?Gs=[o]:Gs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=zA(o,l,e);Uw(o,v);break e;case 1:s=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ni===null||!ni.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=qA(o,s,e);Uw(o,T);break e}}o=o.return}while(o!==null)}dC(n)}catch(S){e=S,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function uC(){var t=Gc.current;return Gc.current=Bc,t===null?Bc:t}function kv(){(ut===0||ut===3||ut===2)&&(ut=4),gt===null||!(Wi&268435455)&&!(vf&268435455)||Hr(gt,Tt)}function zc(t,e){var n=ge;ge|=2;var r=uC();(gt!==t||Tt!==e)&&(dr=null,ji(t,e));do try{n2();break}catch(i){lC(t,i)}while(!0);if(cv(),ge=n,Gc.current=r,et!==null)throw Error(H(261));return gt=null,Tt=0,ut}function n2(){for(;et!==null;)cC(et)}function r2(){for(;et!==null&&!kR();)cC(et)}function cC(t){var e=hC(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?dC(t):et=e,Sv.current=null}function dC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YM(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,et=null;return}}else if(n=JM(n,e,tn),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);ut===0&&(ut=5)}function xi(t,e,n){var r=_e,i=xn.transition;try{xn.transition=null,_e=1,i2(t,e,n,r)}finally{xn.transition=i,_e=r}return null}function i2(t,e,n,r){do Yo();while(Wr!==null);if(ge&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jR(t,o),t===gt&&(et=gt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,pC(Ac,function(){return Yo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var a=_e;_e=1;var s=ge;ge|=4,Sv.current=null,QM(t,n),oC(n,t),EM(hm),kc=!!fm,hm=fm=null,t.current=n,ZM(n),PR(),ge=s,_e=a,xn.transition=o}else t.current=n;if(Du&&(Du=!1,Wr=t,Hc=i),o=t.pendingLanes,o===0&&(ni=null),NR(n.stateNode),Jt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vc)throw Vc=!1,t=Rm,Rm=null,t;return Hc&1&&t.tag!==0&&Yo(),o=t.pendingLanes,o&1?t===Mm?Vs++:(Vs=0,Mm=t):Vs=0,ci(),null}function Yo(){if(Wr!==null){var t=z1(Hc),e=xn.transition,n=_e;try{if(xn.transition=null,_e=16>t?16:t,Wr===null)var r=!1;else{if(t=Wr,Wr=null,Hc=0,ge&6)throw Error(H(331));var i=ge;for(ge|=4,X=t.current;X!==null;){var o=X,a=o.child;if(X.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:Bs(8,c,o)}var d=c.child;if(d!==null)d.return=c,X=d;else for(;X!==null;){c=X;var h=c.sibling,m=c.return;if(nC(c),c===u){X=null;break}if(h!==null){h.return=m,X=h;break}X=m}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}X=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,X=a;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bs(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,X=v;break e}X=o.return}}var b=t.current;for(X=b;X!==null;){a=X;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,X=x;else e:for(a=b;X!==null;){if(s=X,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:yf(9,s)}}catch(S){We(s,s.return,S)}if(s===a){X=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,X=T;break e}X=s.return}}if(ge=i,ci(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(uf,t)}catch{}r=!0}return r}finally{_e=n,xn.transition=e}}return!1}function ab(t,e,n){e=ca(n,e),e=zA(t,e,1),t=ti(t,e,1),e=Ft(),t!==null&&(lu(t,1,e),Jt(t,e))}function We(t,e,n){if(t.tag===3)ab(t,t,n);else for(;e!==null;){if(e.tag===3){ab(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=ca(n,t),t=qA(e,t,1),e=ti(e,t,1),t=Ft(),e!==null&&(lu(e,1,t),Jt(e,t));break}}e=e.return}}function o2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(Tt&n)===n&&(ut===4||ut===3&&(Tt&130023424)===Tt&&500>Je()-Tv?ji(t,0):Ev|=n),Jt(t,e)}function fC(t,e){e===0&&(t.mode&1?(e=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):e=1);var n=Ft();t=Sr(t,e),t!==null&&(lu(t,e,n),Jt(t,n))}function a2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fC(t,n)}function s2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),fC(t,n)}var hC;hC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,KM(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Fe&&e.flags&1048576&&yA(e,$c,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gc(t,e),t=e.pendingProps;var i=aa(e,Mt.current);Jo(e,n),i=vv(null,e,r,t,i,n);var o=wv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(o=!0,Rc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hv(e),i.updater=gf,e.stateNode=i,i._reactInternals=e,_m(e,r,t,n),e=Tm(null,e,r,!0,o,n)):(e.tag=0,Fe&&o&&av(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=u2(r),t=Mn(r,t),i){case 0:e=Em(null,e,r,t,n);break e;case 1:e=Yw(null,e,r,t,n);break e;case 11:e=Kw(null,e,r,t,n);break e;case 14:e=Jw(null,e,r,Mn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Em(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Yw(t,e,r,i,n);case 3:e:{if(YA(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,i=o.element,SA(t,e),jc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ca(Error(H(423)),e),e=Xw(t,e,r,n,i);break e}else if(r!==i){i=ca(Error(H(424)),e),e=Xw(t,e,r,n,i);break e}else for(sn=ei(e.stateNode.containerInfo.firstChild),ln=e,Fe=!0,Fn=null,n=xA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),r===i){e=Er(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return EA(e),t===null&&wm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,pm(r,i)?a=null:o!==null&&pm(r,o)&&(e.flags|=32),JA(t,e),Lt(t,e,a,n),e.child;case 6:return t===null&&wm(e),null;case 13:return XA(t,e,n);case 4:return pv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=la(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Kw(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Pe(Dc,r._currentValue),r._currentValue=a,o!==null)if(Wn(o.value,a)){if(o.children===i.children&&!Wt.current){e=Er(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),bm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jo(e,n),i=En(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),Jw(t,e,r,i,n);case 15:return WA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),gc(t,e),e.tag=1,Kt(r)?(t=!0,Rc(e)):t=!1,Jo(e,n),HA(e,r,i),_m(e,r,i,n),Tm(null,e,r,!0,t,n);case 19:return QA(t,e,n);case 22:return KA(t,e,n)}throw Error(H(156,e.tag))};function pC(t,e){return B1(t,e)}function l2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new l2(t,e,n,r)}function Pv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u2(t){if(typeof t=="function")return Pv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ky)return 11;if(t===Jy)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Pv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ko:return Ui(n.children,i,o,e);case Wy:a=8,i|=8;break;case qp:return t=wn(12,n,e,i|2),t.elementType=qp,t.lanes=o,t;case Wp:return t=wn(13,n,e,i),t.elementType=Wp,t.lanes=o,t;case Kp:return t=wn(19,n,e,i),t.elementType=Kp,t.lanes=o,t;case E1:return wf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _1:a=10;break e;case S1:a=9;break e;case Ky:a=11;break e;case Jy:a=14;break e;case Ur:a=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=wn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ui(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function wf(t,e,n,r){return t=wn(22,t,r,e),t.elementType=E1,t.lanes=n,t.stateNode={isHidden:!1},t}function np(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function rp(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lh(0),this.expirationTimes=Lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iv(t,e,n,r,i,o,a,s,l){return t=new c2(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=wn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hv(o),t}function d2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mC(t){if(!t)return si;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Kt(n))return mA(t,n,e)}return e}function gC(t,e,n,r,i,o,a,s,l){return t=Iv(n,r,!0,t,i,o,a,s,l),t.context=mC(null),n=t.current,r=Ft(),i=ri(n),o=vr(r,i),o.callback=e??null,ti(n,o,i),t.current.lanes=i,lu(t,i,r),Jt(t,r),t}function bf(t,e,n,r){var i=e.current,o=Ft(),a=ri(i);return n=mC(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,a),t!==null&&(Hn(t,i,a,o),hc(t,i,a)),a}function qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ov(t,e){sb(t,e),(t=t.alternate)&&sb(t,e)}function f2(){return null}var yC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nv(t){this._internalRoot=t}xf.prototype.render=Nv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));bf(t,e,null,null)};xf.prototype.unmount=Nv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){bf(null,t,null,null)}),e[_r]=null}};function xf(t){this._internalRoot=t}xf.prototype.unstable_scheduleHydration=function(t){if(t){var e=K1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vr.length&&e!==0&&e<Vr[n].priority;n++);Vr.splice(n,0,t),n===0&&Y1(t)}};function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lb(){}function h2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=qc(a);o.call(u)}}var a=gC(e,r,t,0,null,!1,!1,"",lb);return t._reactRootContainer=a,t[_r]=a.current,ul(t.nodeType===8?t.parentNode:t),Ki(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=qc(l);s.call(u)}}var l=Iv(t,0,!1,null,null,!1,!1,"",lb);return t._reactRootContainer=l,t[_r]=l.current,ul(t.nodeType===8?t.parentNode:t),Ki(function(){bf(e,l,n,r)}),l}function Sf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=qc(a);s.call(l)}}bf(e,a,t,i)}else a=h2(n,e,t,i,r);return qc(a)}q1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Is(e.pendingLanes);n!==0&&(Qy(e,n|1),Jt(e,Je()),!(ge&6)&&(da=Je()+500,ci()))}break;case 13:Ki(function(){var r=Sr(t,1);if(r!==null){var i=Ft();Hn(r,t,1,i)}}),Ov(t,1)}};Zy=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Ft();Hn(e,t,134217728,n)}Ov(t,134217728)}};W1=function(t){if(t.tag===13){var e=ri(t),n=Sr(t,e);if(n!==null){var r=Ft();Hn(n,t,e,r)}Ov(t,e)}};K1=function(){return _e};J1=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};im=function(t,e,n){switch(e){case"input":if(Xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hf(r);if(!i)throw Error(H(90));A1(r),Xp(r,i)}}}break;case"textarea":k1(t,n);break;case"select":e=n.value,e!=null&&zo(t,!!n.multiple,e,!1)}};$1=Av;D1=Ki;var p2={usingClientEntryPoint:!1,Events:[cu,No,hf,R1,M1,Av]},ms={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m2={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=U1(t),t===null?null:t.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||f2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{uf=Lu.inject(m2),rr=Lu}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p2;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(e))throw Error(H(200));return d2(t,e,null,n)};cn.createRoot=function(t,e){if(!Rv(t))throw Error(H(299));var n=!1,r="",i=yC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Iv(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,ul(t.nodeType===8?t.parentNode:t),new Nv(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=U1(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return Ki(t)};cn.hydrate=function(t,e,n){if(!_f(e))throw Error(H(200));return Sf(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Rv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=yC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=gC(e,null,t,1,n??null,i,!1,o,a),t[_r]=e.current,ul(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xf(e)};cn.render=function(t,e,n){if(!_f(e))throw Error(H(200));return Sf(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!_f(t))throw Error(H(40));return t._reactRootContainer?(Ki(function(){Sf(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};cn.unstable_batchedUpdates=Av;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_f(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Sf(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function vC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vC)}catch(t){console.error(t)}}vC(),v1.exports=cn;var g2=v1.exports,ub=g2;Hp.createRoot=ub.createRoot,Hp.hydrateRoot=ub.hydrateRoot;var ht=(t=>(t.DASHBOARD="DASHBOARD",t.HISTORY="HISTORY",t.PROFILE="PROFILE",t.ONBOARDING="ONBOARDING",t))(ht||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(t,e)=>{const n=R.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>R.createElement("svg",{ref:c,...y2,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${v2(t)}`,s].join(" "),...u},[...e.map(([d,h])=>R.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=oe("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=oe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=oe("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=oe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=oe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=oe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=oe("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=oe("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=oe("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=oe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=oe("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=oe("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=oe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=oe("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=oe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function IC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=IC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function de(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=IC(t))&&(r&&(r+=" "),r+=e);return r}const B2=({children:t,currentView:e,onNavigate:n})=>_.jsxs("div",{className:"min-h-screen bg-surface dark:bg-surface-dark flex flex-col max-w-md mx-auto relative shadow-2xl shadow-gray-200 dark:shadow-black/50 overflow-hidden border-x border-gray-100/50 dark:border-white/5 transition-colors duration-300",children:[_.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-10",children:t}),_.jsx("div",{className:"absolute bottom-8 left-6 right-6 z-50",children:_.jsxs("nav",{className:"bg-white dark:bg-[#1a1c26] rounded-[32px] p-2 shadow-diffused-lg dark:shadow-diffused-dark border border-white dark:border-white/5 flex justify-between items-center",children:[_.jsxs("button",{onClick:()=>n(ht.DASHBOARD),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===ht.DASHBOARD?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[_.jsx(C2,{size:22,strokeWidth:e===ht.DASHBOARD?2.5:2}),e===ht.DASHBOARD&&_.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Today"})]}),_.jsxs("button",{onClick:()=>n(ht.HISTORY),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===ht.HISTORY?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[_.jsx(b2,{size:22,strokeWidth:e===ht.HISTORY?2.5:2}),e===ht.HISTORY&&_.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Report"})]}),_.jsxs("button",{onClick:()=>n(ht.PROFILE),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===ht.PROFILE?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[_.jsx(fa,{size:22,strokeWidth:e===ht.PROFILE?2.5:2}),e===ht.PROFILE&&_.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Profile"})]})]})})]}),jm=({children:t,className:e,onClick:n})=>_.jsx("div",{onClick:n,className:de("bg-white dark:bg-[#1a1c26] rounded-[32px] p-5 shadow-diffused dark:shadow-diffused-dark border border-white/60 dark:border-white/5",n&&"cursor-pointer active:scale-[0.98] transition-all hover:shadow-diffused-lg dark:hover:shadow-diffused-dark hover:-translate-y-0.5",e),children:t});function Tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function G2(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const V2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class $v extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class H2 extends $v{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hb extends $v{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pb extends $v{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Um;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Um||(Um={}));class z2{constructor(e,{headers:n={},customFetch:r,region:i=Um.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=V2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return G2(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:m}=r;m||(m=this.region);const g=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let w=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(w=a.signal,c.addEventListener("abort",()=>a.abort())):w=a.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:w}).catch(S=>{throw new H2(S)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new hb(v);if(!v.ok)throw new pb(v);let x=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return x==="application/json"?T=yield v.json():x==="application/octet-stream"||x==="application/pdf"?T=yield v.blob():x==="text/event-stream"?T=v:x==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof pb||s instanceof hb?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var q2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},W2=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var m;const v=await o.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=v:s=JSON.parse(v))}const y=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var g;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&y===""?(u=204,c="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new q2(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,d,h;const g=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${g}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},K2=class extends W2{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const mb=new RegExp("[,()]");var _o=class extends K2{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&mb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&mb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},J2=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new _o({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new _o({method:i,url:o,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&s.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);s.searchParams.set("columns",c.join(","))}}return new _o({method:a,url:s,headers:l,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new _o({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new _o({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Y2=class OC{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new J2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new OC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=r&&Object.values(n).some(c);d?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{l.searchParams.append(m,g)})):(s="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new _o({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class X2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Q2="2.90.1",Z2=`realtime-js/${Q2}`,NC="1.0.0",e$="2.0.0",gb=NC,Fm=1e4,t$=1e3,n$=100;var Br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Br||(Br={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var Ln;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ln||(Ln={}));var Bm;(function(t){t.websocket="websocket"})(Bm||(Bm={}));var Ci;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ci||(Ci={}));class r${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,s.length),g.setUint8(y++,a.length),g.setUint8(y++,u.length),g.setUint8(y++,d.length),g.setUint8(y++,n),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(s,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(d,v=>g.setUint8(y++,v.charCodeAt(0)));var w=new Uint8Array(m.byteLength+r.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(r),m.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class RC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ce||(Ce={}));const yb=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=i$(a,t,e,i),o),{}):{}},i$=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?MC(o,a):Gm(a)},MC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return l$(e,n)}switch(t){case Ce.bool:return o$(e);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return a$(e);case Ce.json:case Ce.jsonb:return s$(e);case Ce.timestamp:return u$(e);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Gm(e);default:return Gm(e)}},Gm=t=>t,o$=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a$=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},s$=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},l$=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>MC(e,s))}return t},u$=t=>typeof t=="string"?t.replace(" ","T"):t,$C=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ip{constructor(e,n,r={},i=Fm){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vb||(vb={}));class qs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qs.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=qs.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qs.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(w=>w.presence_ref),m=d.map(w=>w.presence_ref),g=c.filter(w=>m.indexOf(w.presence_ref)<0),y=d.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(s[u]=g),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wb||(wb={}));var Ws;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ws||(Ws={}));var fr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(fr||(fr={}));class Uo{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ip(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new RC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new qs(this),this.broadcastEndpointURL=$C(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ws.PRESENCE]&&this.bindings[Ws.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(fr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(fr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(fr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let b=0;b<w;b++){const x=y[b],{filter:{event:T,schema:S,table:E,filter:A}}=x,k=m&&m[b];if(k&&k.event===T&&Uo.isFilterValueEqual(k.schema,S)&&Uo.isFilterValueEqual(k.table,E)&&Uo.isFilterValueEqual(k.filter,A))v.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(fr.SUBSCRIBED);return}}).receive("error",m=>{this.state=st.errored,e==null||e(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===st.joined&&e===Ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ip(this,Ln.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ip(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>n$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Ln;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,y,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(y=m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var g,y,w,v,b,x,T,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,A=(g=m.filter)===null||g===void 0?void 0:g.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))&&(!(!((v=m.filter)===null||v===void 0)&&v.table)||m.filter.table===((b=n.data)===null||b===void 0?void 0:b.table))}else{const E=(T=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:w,commit_timestamp:v,type:b,errors:x}=g;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:v,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}m.callback(h,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Uo.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ln.close,{},e)}_onError(e){this._on(Ln.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=yb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=yb(e.columns,e.old_record)),n}}const op=()=>{},ju={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},c$=[1e3,2e3,5e3,1e4],d$=1e4,f$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h${constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fm,this.transport=null,this.heartbeatIntervalMs=ju.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=op,this.ref=0,this.reconnectTimer=null,this.vsn=gb,this.logger=op,this.conn=null,this.sendBuffer=[],this.serializer=new r$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Bm.websocket}`,this.httpEndpoint=$C(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=X2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return Ci.Connecting;case Br.open:return Ci.Open;case Br.closing:return Ci.Closing;default:return Ci.Closed}}isConnected(){return this.connectionState()===Ci.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Uo(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(t$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ju.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Br.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Br.open||this.conn.readyState===Br.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ln.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([f$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:Z2};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ln.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new RC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ju.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Fm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ju.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:op,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:gb,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>c$[g-1]||d$,this.vsn){case NC:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(g,y)=>y(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,y)=>y(JSON.parse(g));break;case e$:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var vl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function p$(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function m$(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function g$(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=p$(t.baseUrl,r,i),l=await m$(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,g=m==null?void 0:m.error;throw new vl((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Uu(t){return t.join("")}var y$=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Uu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`}),!0}catch(e){if(e instanceof vl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof vl&&n.status===409)return;throw n}}};function ho(t){return t.join("")}var v$=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof vl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof vl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},w$=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=g$({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new y$(this.client,e),this.tableOps=new v$(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Af=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var b$=class extends Af{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vm=class extends Af{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Dv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x$=()=>Response,Hm=t=>{if(Array.isArray(t))return t.map(n=>Hm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Hm(r)}),e},_$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},S$=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function E$(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T$(t){var e=E$(t,"string");return wl(e)=="symbol"?e:e+""}function A$(t,e,n){return(e=T$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(n),!0).forEach(function(r){A$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const ap=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},C$=async(t,e,n)=>{t instanceof await x$()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new b$(ap(r),i,o))}).catch(r=>{e(new Vm(ap(r),r))}):e(new Vm(ap(t),t))},k$=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(_$(r)?(i.headers=ie({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),ie(ie({},i),n))};async function fu(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,k$(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>C$(l,s,r))})}async function bl(t,e,n,r){return fu(t,"GET",e,n,r)}async function $n(t,e,n,r,i){return fu(t,"POST",e,r,i,n)}async function zm(t,e,n,r,i){return fu(t,"PUT",e,r,i,n)}async function P$(t,e,n,r){return fu(t,"HEAD",e,ie(ie({},n),{},{noResolveJson:!0}),r)}async function Lv(t,e,n,r,i){return fu(t,"DELETE",e,r,i,n)}var I$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ge(e))return{data:null,error:e};throw e}}};let DC;DC=Symbol.toStringTag;var O$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[DC]="BlobDownloadBuilder",this.promise=null}asStream(){return new I$(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ge(e))return{data:null,error:e};throw e}}};const N$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var R$=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=ie(ie({},xb),r);let s=ie(ie({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=ie(ie({},s),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),d=await(t=="PUT"?zm:$n)(i.fetch,`${i.url}/object/${c}`,o,ie({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=ie({upsert:xb.upsert},r),c=ie(ie({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:o,fullPath:(await zm(i.fetch,s.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=ie({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await $n(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new Af("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await $n(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await $n(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await $n(r.fetch,`${r.url}/object/sign/${i}`,ie({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await $n(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>ie(ie({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>bl(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new O$(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Hm(await bl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await P$(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ge(r)&&r instanceof Vm){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await Lv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=ie(ie(ie({},N$),e),{},{prefix:t||""});return{data:await $n(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=ie({},t);return{data:await $n(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const LC="2.90.1",jC={"X-Client-Info":`storage-js/${LC}`};var M$=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ie(ie({},jC),e),this.fetch=Dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await bl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await bl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await $n(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await zm(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await $n(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Lv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},$$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ie(ie({},jC),e),this.fetch=Dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await $n(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await bl(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Lv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!S$(t))throw new Af("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new w$({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const jv={"X-Client-Info":`storage-js/${LC}`,"Content-Type":"application/json"};var UC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function rn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var sp=class extends UC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},D$=class extends UC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Uv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),L$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_b=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),j$=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new sp(_b(o),r,a))}).catch(()=>{const o=r+"";e(new sp(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new sp(i.statusText||`HTTP ${r} error`,r,o))}}else e(new D$(_b(t),t))},U$=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(L$(r)?(i.headers=ie({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,ie(ie({},i),n)):i};async function F$(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,U$(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>j$(l,s,r))})}async function on(t,e,n,r,i){return F$(t,"POST",e,r,i,n)}var B$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ie(ie({},jv),e),this.fetch=Uv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await on(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await on(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}}},G$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ie(ie({},jv),e),this.fetch=Uv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await on(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await on(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await on(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}},V$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ie(ie({},jv),e),this.fetch=Uv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await on(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}},H$=class extends V${constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new z$(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},z$=class extends B${constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ie(ie({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ie(ie({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new q$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},q$=class extends G${constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ie(ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ie(ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ie(ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ie(ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ie(ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},W$=class extends M${constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new R$(this.url,this.headers,t,this.fetch)}get vectors(){return new H$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $$(this.url+"/iceberg",this.headers,this.fetch)}};const FC="2.90.1",So=30*1e3,qm=3,lp=qm*So,K$="http://localhost:9999",J$="supabase.auth.token",Y$={"X-Client-Info":`gotrue-js/${FC}`},Wm="X-Supabase-Api-Version",BC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q$=10*60*1e3;class xl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Z$ extends xl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function eD(t){return te(t)&&t.name==="AuthApiError"}class ki extends xl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ir extends xl{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Qt extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tD(t){return te(t)&&t.name==="AuthSessionMissingError"}class po extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fu extends Ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bu extends Ir{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nD(t){return te(t)&&t.name==="AuthImplicitGrantRedirectError"}class Sb extends Ir{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rD extends Ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Km extends Ir{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function up(t){return te(t)&&t.name==="AuthRetryableFetchError"}class Eb extends Ir{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jm extends Ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tb=` 	
\r=`.split(""),iD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tb.length;e+=1)t[Tb[e].charCodeAt(0)]=-2;for(let e=0;e<Kc.length;e+=1)t[Kc[e].charCodeAt(0)]=e;return t})();function Ab(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Kc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Kc[r]),e.queuedBits-=6}}function GC(t,e,n){const r=iD[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cb(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{sD(a,r,n)};for(let a=0;a<t.length;a+=1)GC(t.charCodeAt(a),i,o);return e.join("")}function oD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function aD(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}oD(r,e)}}function sD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Qo(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)GC(t.charCodeAt(i),n,r);return new Uint8Array(e)}function lD(t){const e=[];return aD(t,n=>e.push(n)),new Uint8Array(e)}function Ni(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Ab(i,n,r)),Ab(null,n,r),e.join("")}function uD(t){return Math.round(Date.now()/1e3)+t}function cD(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},VC=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function dD(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const HC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Eo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},vi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(t,e)=>{await t.removeItem(e)};class Cf{constructor(){this.promise=new Cf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cf.promiseConstructor=Promise;function cp(t){const e=t.split(".");if(e.length!==3)throw new Jm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!X$.test(e[r]))throw new Jm("JWT not in base64url format");return{header:JSON.parse(Cb(e[0])),payload:JSON.parse(Cb(e[1])),signature:Qo(e[2]),raw:{header:e[0],payload:e[1]}}}async function hD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pD(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function mD(t){return("0"+t.toString(16)).substr(-2)}function gD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,mD).join("")}async function yD(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function vD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await yD(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mo(t,e,n=!1){const r=gD();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Eo(t,`${e}-code-verifier`,i);const o=await vD(r);return[o,r===o?"plain":"s256"]}const wD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bD(t){const e=t.headers.get(Wm);if(!e||!e.match(wD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _D(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function go(t){if(!SD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ED(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function kb(t){return JSON.parse(JSON.stringify(t))}const _i=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TD=[502,503,504];async function Pb(t){var e;if(!fD(t))throw new Km(_i(t),0);if(TD.includes(t.status))throw new Km(_i(t),t.status);let n;try{n=await t.json()}catch(o){throw new ki(_i(o),o)}let r;const i=bD(t);if(i&&i.getTime()>=BC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Eb(_i(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Eb(_i(n),t.status,n.weak_password.reasons);throw new Z$(_i(n),t.status||500,r)}const AD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function re(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Wm]||(o[Wm]=BC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await CD(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function CD(t,e,n,r,i,o){const a=AD(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Km(_i(l),0)}if(s.ok||await Pb(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Pb(l)}}function Rn(t){var e;let n=null;ID(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=uD(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ib(t){const e=Rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kD(t){return{data:t,error:null}}function PD(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=Tf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Ob(t){return t}function ID(t){return t.access_token&&t.refresh_token&&t.expires_in}const fp=["global","local","others"];class OD{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=HC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=fp[0]){if(fp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fp.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Tf(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:PD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ob});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){go(e);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){go(e);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:zr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){go(e);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:zr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){go(e.userId);try{const{data:n,error:r}=await re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteFactor(e){go(e.userId),go(e.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ob});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(te(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}}function Nb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const yo={debug:!!(globalThis&&VC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ND extends zC{}async function RD(t,e,n){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ND(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function MD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function $D(t){return parseInt(t,16)}function DD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function LD(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=qC(t.address),g=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${m}

${y}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}v+=b}return`${w}
${v}`}class Ze extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Jc extends Ze{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function jD({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ze({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(WC(a)){if(o.rp.id!==a)return new Ze({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function UD({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ze({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(WC(r)){if(n.rpId!==r)return new Ze({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class FD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const BD=new FD;function GD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Tf(t,["challenge","user","excludeCredentials"]),o=Qo(e).buffer,a=Object.assign(Object.assign({},n),{id:Qo(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Qo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function VD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Tf(t,["challenge","allowCredentials"]),i=Qo(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Qo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function HD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ni(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ni(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ni(new Uint8Array(i.authenticatorData)),clientDataJSON:Ni(new Uint8Array(i.clientDataJSON)),signature:Ni(new Uint8Array(i.signature)),userHandle:i.userHandle?Ni(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function WC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rb(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function qD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Jc("Browser returned unexpected credential type",e)}:{data:null,error:new Jc("Empty credential response",e)}}catch(e){return{data:null,error:jD({error:e,options:t})}}}async function WD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Jc("Browser returned unexpected credential type",e)}:{data:null,error:new Jc("Empty credential response",e)}}catch(e){return{data:null,error:UD({error:e,options:t})}}}const KD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},JD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Yc(s,a):r[o]=Yc(a)}else r[o]=a}return r}function YD(t,e){return Yc(KD,t,e||{})}function XD(t,e){return Yc(JD,t,e||{})}class QD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??BD.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=YD(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await qD({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=XD(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await WD(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return te(a)?{data:null,error:a}:{data:null,error:new ki("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new xl("rpId is required for WebAuthn authentication")};try{if(!Rb())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return te(a)?{data:null,error:a}:{data:null,error:new ki("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new xl("rpId is required for WebAuthn registration")};try{if(!Rb())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return te(a)?{data:null,error:a}:{data:null,error:new ki("Unexpected error in register",a)}}}}MD();const ZD={url:K$,storageKey:J$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mb(t,e,n){return await n()}const vo={};class _l{get jwks(){var e,n;return(n=(e=vo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=vo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},ZD),e);if(this.storageKey=o.storageKey,this.instanceID=(n=_l.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,_l.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&xt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new OD({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=HC(o.fetch),this.lock=o.lock||Mb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=RD:this.lock=Mb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:VC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Nb(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${FC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(xt()&&(n=dD(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),nD(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return te(n)?this._returnResult({error:n}):this._returnResult({error:new ki("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Rn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await mo(this.storage,this.storageKey)),o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Rn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rn})}else throw new Fu("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ib})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ib})}else throw new Fu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new po;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:y,wallet:w,statement:v,options:b}=e;let x;if(xt())if(typeof w=="object")x=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")x=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=qC(S[0]);let A=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const C=await x.request({method:"eth_chainId"});A=$D(C)}const k={domain:T.host,address:E,statement:v,uri:T.href,version:"1",chainId:A,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=LD(k),g=await x.request({method:"personal_sign",params:[DD(m),E]})}try{const{data:y,error:w}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Rn});if(w)throw w;if(!y||!y.session||!y.user){const v=new po;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(te(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,m;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:w,wallet:v,statement:b,options:x}=e;let T;if(xt())if(typeof v=="object")T=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const S=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)g=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(c=x==null?void 0:x.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:w,error:v}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ni(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Rn});if(v)throw v;if(!w||!w.session||!w.user){const b=new po;return this._returnResult({data:{user:null,session:null},error:b})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(te(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await vi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new rD;const{data:o,error:a}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new po;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new po;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await mo(this.storage,this.storageKey));const{error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Fu("You must provide either an email or phone number.")}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Rn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await mo(this.storage,this.storageKey));const u=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:kD});return!((o=u.data)===null||o===void 0)&&o.url&&xt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),te(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Qt;const{error:i}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Fu("You must provide either an email or phone number and a type")}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<lp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await vi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=dp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ED(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:zr})})}catch(n){if(te(n))return tD(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Qt;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await mo(this.storage,this.storageKey));const{data:u,error:c}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:zr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await wt(this.storage,`${this.storageKey}-code-verifier`),te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=cp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Qt;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!xt())throw new Bu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sb("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Bu("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=So&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const g=h-d;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,c);const{data:y,error:w}=await this._getUser(o);if(w)throw w;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await vi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(eD(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=cD(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await mo(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return xt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(te(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rn}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new po}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await wt(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pD(async i=>(i>0&&await hD(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&up(o)&&Date.now()+a-r<So})}catch(r){if(this._debug(n,"error",r),te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await vi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Eo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:dp()}else if(i&&!i.user&&!i.user){const a=await vi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await wt(this.storage,this.storageKey+"-user"),await Eo(this.storage,this.storageKey,i)):i.user=dp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${lp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),up(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cf;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Qt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),te(o)){const a={data:null,error:o};return up(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Eo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=kb(i);await Eo(this.storage,this.storageKey,o)}else{const i=kb(n);await Eo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),So);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/So);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${So}ms, refresh threshold is ${qm} ticks`),i<=qm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await mo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await re(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?HD(e.webauthn.credential_response):zD(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:GD(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:VD(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=cp(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Qt});const a=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&xt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Qt});const a=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&xt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qt})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+Q$>i)return r;const{data:o,error:a}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=cp(r);n!=null&&n.allowExpired||xD(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=_D(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,lD(`${s}.${l}`)))throw new Jm("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}}_l.nextInstanceID={};const eL=_l,tL="2.90.1";let Ns="";typeof Deno<"u"?Ns="deno":typeof document<"u"?Ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ns="react-native":Ns="node";const nL={"X-Client-Info":`supabase-js-${Ns}/${tL}`},rL={headers:nL},iL={schema:"public"},oL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aL={};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function sL(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lL(t){var e=sL(t,"string");return Sl(e)=="symbol"?e:e+""}function uL(t,e,n){return(e=lL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(n),!0).forEach(function(r){uL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const cL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dL=()=>Headers,fL=(t,e,n)=>{const r=cL(n),i=dL();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,qe(qe({},a),{},{headers:u}))}};function hL(t){return t.endsWith("/")?t:t+"/"}function pL(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:qe(qe({},l),i),auth:qe(qe({},u),o),realtime:qe(qe({},c),a),storage:{},global:qe(qe(qe({},d),s),{},{headers:qe(qe({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function mL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gL=class extends eL{constructor(t){super(t)}},yL=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=mL(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:iL,realtime:aL,auth:qe(qe({},oL),{},{storageKey:a}),global:rL},l=pL(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=fL(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Y2(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new W$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new z2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gL({url:this.authUrl.href,headers:qe(qe({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new h$(this.realtimeUrl.href,qe(qe({},t),{},{params:qe(qe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vL=(t,e,n)=>new yL(t,e,n);function wL(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}wL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fv="https://vsqytdzbxxhketbvcoif.supabase.co",KC=`sb_publishable_m-b7gwiZtZu4k0eaXHPoTg_mM_qFuvG
`;console.log("Supabase URL Detected:","Yes",`(Length: ${Fv.length})`);console.log("Supabase Key Detected:","Yes",`(Length: ${KC.length})`);const pa=Fv.startsWith("http"),JC="snapcal_mode_preference",Ym=()=>pa?localStorage.getItem(JC)==="local"?"local":"cloud":"local",bL=t=>{localStorage.setItem(JC,t),window.location.reload()},Te=pa&&Ym()==="cloud";pa?Te||console.log("Supabase configured but user prefers Local Storage."):console.log("Supabase is not configured. Using Mock Auth & Local Storage.");const tt=vL(pa?Fv:"https://placeholder.supabase.co",pa?KC:"placeholder"),kf="snapcal_mock_session",Xc="snapcal_auth_change",xL=t=>new Promise(e=>setTimeout(e,t)),YC=async(t,e)=>{var n,r;if(Te){const{data:i,error:o}=await tt.auth.signInWithPassword({email:t,password:e});if(o)throw new Error(o.message);return{user:{id:((n=i.user)==null?void 0:n.id)||"",email:(r=i.user)==null?void 0:r.email}}}else{await xL(600);const i={id:btoa(t.toLowerCase()),email:t};return localStorage.setItem(kf,JSON.stringify(i)),window.dispatchEvent(new Event(Xc)),{user:i}}},_L=async(t,e)=>{var n,r;if(Te){const{data:i,error:o}=await tt.auth.signUp({email:t,password:e});if(o)throw new Error(o.message);return{user:{id:((n=i.user)==null?void 0:n.id)||"",email:(r=i.user)==null?void 0:r.email}}}else return YC(t,e)},SL=async()=>{if(Te){const{error:t}=await tt.auth.signOut();if(t)throw t}else localStorage.removeItem(kf),window.dispatchEvent(new Event(Xc))},kn=async()=>{if(Te){const{data:t}=await tt.auth.getUser();return t.user?{id:t.user.id,email:t.user.email}:null}else{const t=localStorage.getItem(kf);return t?JSON.parse(t):null}},EL=t=>{if(Te){const{data:e}=tt.auth.onAuthStateChange((n,r)=>{r!=null&&r.user?t({id:r.user.id,email:r.user.email}):t(null)});return()=>e.subscription.unsubscribe()}else{const e=()=>{const n=localStorage.getItem(kf);t(n?JSON.parse(n):null)};return window.addEventListener(Xc,e),window.addEventListener("storage",e),()=>{window.removeEventListener(Xc,e),window.removeEventListener("storage",e)}}},Bv="snapcal_data_v1",El="snapcal_settings_v1",Xm="snapcal_profile_v1",Gv="snapcal_summaries_v1",Ji=()=>{try{const t=localStorage.getItem(Bv);return t?JSON.parse(t):[]}catch{return[]}},Vv=t=>{try{localStorage.setItem(Bv,JSON.stringify(t))}catch(e){throw e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"||String(e).toLowerCase().includes("quota")?new Error("Browser Storage Full: Your local history (with photos) has reached the browser's 5MB limit. Please delete some old entries in the History tab or connect to Supabase for unlimited cloud storage."):e}},XC=()=>{try{const t=localStorage.getItem(Gv);return t?JSON.parse(t):[]}catch{return[]}},TL=t=>{try{localStorage.setItem(Gv,JSON.stringify(t))}catch{throw new Error("Browser Storage Full: Cannot even save simple summaries. Please clear your browser data.")}},QC=t=>({id:t.id,user_id:t.user_id,timestamp:t.timestamp,date:t.date,time:t.time,food_item:t.food_item,calories:t.calories,protein:t.protein||0,carbs:t.carbs||0,fat:t.fat||0,confidence:t.confidence,imageUrl:t.image_url,isManual:t.is_manual,ingredients:t.ingredients||[],originalAiResponse:t.original_ai_response}),Pf=(t,e)=>{console.error(`Supabase ${e} Error:`,t);const n=(t==null?void 0:t.message)||String(t)||"",r=n.toLowerCase();throw r.includes("quota")||r.includes("limit")||r.includes("tier")?new Error("Cloud Quota Reached: Your Supabase storage limit has been exceeded. Try deleting old entries."):r.includes("relation")||r.includes("column")||r.includes("does not exist")?new Error("Database Setup Required: It looks like the 'food_entries' table is missing in Supabase. Please check the Profile tab for the setup SQL script."):r.includes("policy")||r.includes("permission")||r.includes("row-level security")?new Error("Permission Denied: Supabase RLS policies are blocking this save. Ensure authenticated users have 'INSERT' and 'UPDATE' access."):new Error(`Cloud Save Failed: ${n}`)},ZC=async t=>{const e=await kn();if(!e)throw new Error("User must be logged in to save.");if(!Te){const r=Ji(),i=r.findIndex(a=>a.id===t.id),o={...t,user_id:e.id};i>=0?r[i]=o:r.push(o),Vv(r);return}const{error:n}=await tt.from("food_entries").upsert({id:t.id,user_id:e.id,timestamp:t.timestamp,date:t.date,time:t.time,food_item:t.food_item,calories:t.calories,protein:t.protein,carbs:t.carbs,fat:t.fat,confidence:t.confidence,is_manual:t.isManual,image_url:t.imageUrl,ingredients:t.ingredients,original_ai_response:t.originalAiResponse});n&&Pf(n,"Save Entry")},ek=async()=>{const t=await kn();if(!t)return[];if(!Te)return Ji().filter(r=>r.user_id===t.id).sort((r,i)=>i.timestamp.localeCompare(r.timestamp));const{data:e,error:n}=await tt.from("food_entries").select("*").eq("user_id",t.id).order("timestamp",{ascending:!1});return n?(console.error("Supabase Fetch Error:",n),n.message.includes("relation")?[]:[]):e?e.map(QC):[]},tk=async()=>{const t=await kn();if(!t)return[];const e=await ek(),n={};e.forEach(o=>{n[o.date]||(n[o.date]=[]),n[o.date].push(o)});let r=[];if(!Te)r=XC().filter(o=>o.user_id===t.id);else try{const{data:o,error:a}=await tt.from("daily_summaries").select("*").eq("user_id",t.id);!a&&o&&(r=o)}catch{console.warn("Summary fetch failed, likely missing table")}const i={};return r.forEach(o=>{i[o.date]={date:o.date,totalCalories:o.total_calories,totalProtein:o.total_protein,totalCarbs:o.total_carbs,totalFat:o.total_fat,entries:[]}}),Object.keys(n).forEach(o=>{const a=n[o];i[o]={date:o,totalCalories:a.reduce((s,l)=>s+l.calories,0),totalProtein:a.reduce((s,l)=>s+(l.protein||0),0),totalCarbs:a.reduce((s,l)=>s+(l.carbs||0),0),totalFat:a.reduce((s,l)=>s+(l.fat||0),0),entries:a}}),Object.values(i).sort((o,a)=>new Date(a.date).getTime()-new Date(o.date).getTime())},Db=async()=>{const t=await kn();if(!t)return;const e=new Date;e.setDate(e.getDate()-7);const n=e.toISOString().split("T")[0];let r=[];if(!Te)r=Ji().filter(o=>o.user_id===t.id&&o.date<n);else try{const{data:o}=await tt.from("food_entries").select("*").eq("user_id",t.id).lt("date",n);o&&(r=o.map(QC))}catch{return}if(r.length===0)return;const i={};r.forEach(o=>{i[o.date]||(i[o.date]=[]),i[o.date].push(o)});for(const o of Object.keys(i)){const a=i[o],s={id:`${t.id}_${o}`,user_id:t.id,date:o,total_calories:a.reduce((l,u)=>l+u.calories,0),total_protein:a.reduce((l,u)=>l+(u.protein||0),0),total_carbs:a.reduce((l,u)=>l+(u.carbs||0),0),total_fat:a.reduce((l,u)=>l+(u.fat||0),0)};if(Te)await tt.from("daily_summaries").upsert(s),await tt.from("food_entries").delete().eq("user_id",t.id).eq("date",o);else{const l=XC(),u=l.findIndex(d=>d.user_id===t.id&&d.date===o);u>=0?l[u]=s:l.push(s),TL(l);const c=Ji().filter(d=>!(d.user_id===t.id&&d.date===o));Vv(c)}}},nk=async t=>{const e=await kn();if(!e)throw new Error("Not logged in");if(!Te){const r=Ji().filter(i=>!(i.id===t&&i.user_id===e.id));Vv(r);return}const{error:n}=await tt.from("food_entries").delete().eq("id",t).eq("user_id",e.id);n&&Pf(n,"Delete Entry")},rk=async()=>{const t=await kn();if(!t)return 2e3;if(!Te){const r=localStorage.getItem(El);return(r?JSON.parse(r):{})[t.id]||2e3}const{data:e,error:n}=await tt.from("user_settings").select("daily_goal").eq("user_id",t.id).single();return n||!e?2e3:e.daily_goal},If=async t=>{const e=await kn();if(!e)throw new Error("Not logged in");if(!Te){const r=localStorage.getItem(El),i=r?JSON.parse(r):{};i[e.id]=t,localStorage.setItem(El,JSON.stringify(i));return}const{error:n}=await tt.from("user_settings").upsert({user_id:e.id,daily_goal:t},{onConflict:"user_id"});n&&Pf(n,"Save Daily Goal")},ik=async()=>{const t=await kn();if(!t)return null;if(!Te){const r=localStorage.getItem(Xm);return(r?JSON.parse(r):{})[t.id]||null}const{data:e,error:n}=await tt.from("user_profiles").select("name, height, weight").eq("user_id",t.id).single();return n||!e?null:e},ok=async t=>{const e=await kn();if(!e)throw new Error("Not logged in");if(!Te){const r=localStorage.getItem(Xm),i=r?JSON.parse(r):{};i[e.id]=t,localStorage.setItem(Xm,JSON.stringify(i));return}const{error:n}=await tt.from("user_profiles").upsert({user_id:e.id,name:t.name,height:t.height,weight:t.weight},{onConflict:"user_id"});n&&Pf(n,"Save Profile")},AL=()=>Ji().length>0,CL=async()=>{if(!Te)throw new Error("Must be in Cloud Mode to sync");const t=await kn();if(!t)throw new Error("Must be logged in to sync");const e=Ji();if(e.length>0){const r=e.map(o=>({id:o.id,user_id:t.id,timestamp:o.timestamp,date:o.date,time:o.time,food_item:o.food_item,calories:o.calories,protein:o.protein,carbs:o.carbs,fat:o.fat,confidence:o.confidence,is_manual:o.isManual,image_url:o.imageUrl,ingredients:o.ingredients,original_ai_response:o.originalAiResponse})),i=5;for(let o=0;o<r.length;o+=i){const a=r.slice(o,o+i),{error:s}=await tt.from("food_entries").upsert(a);if(s)throw console.error("Chunk upload failed",s),new Error(`Sync failed at item ${o+1}: `+s.message)}}const n=localStorage.getItem(El);if(n){const r=JSON.parse(n),i=Object.keys(r)[0];i&&r[i]&&await If(r[i])}localStorage.removeItem(Bv),localStorage.removeItem(Gv),localStorage.removeItem(El)},kL=async()=>{if(!Te)return{ok:!0};if(!await kn())return{ok:!0};const{error:e}=await tt.from("food_entries").select("id").limit(1);return e?e.message.includes("relation")||e.code==="42P01"?{ok:!1,missingTables:!0,error:"Tables missing"}:{ok:!1,error:e.message}:{ok:!0}},Qc="snapcal_onboarding_v1",PL=async t=>{if(!t||!t.id)return!1;const e=localStorage.getItem(Qc),n=e?JSON.parse(e):{};if(n[t.id]===!0)return!0;if(!Te)return!1;try{const{data:r,error:i}=await tt.from("user_settings").select("has_completed_onboarding").eq("user_id",t.id).maybeSingle(),o=(r==null?void 0:r.has_completed_onboarding)||!1;return o&&(n[t.id]=!0,localStorage.setItem(Qc,JSON.stringify(n))),o}catch{return!1}},ak=async t=>{if(!t||!t.id)return;const e=localStorage.getItem(Qc),n=e?JSON.parse(e):{};if(n[t.id]=!0,localStorage.setItem(Qc,JSON.stringify(n)),Te)try{const{error:r}=await tt.from("user_settings").upsert({user_id:t.id,has_completed_onboarding:!0},{onConflict:"user_id"});r&&console.error("Cloud mark onboarding error:",r)}catch(r){console.error("Cloud mark onboarding exception:",r)}},IL=async t=>{await ak(t)},jt=({className:t,variant:e="primary",isLoading:n,children:r,...i})=>{const o="inline-flex items-center justify-center px-6 py-4 rounded-[24px] font-semibold transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none text-sm tracking-wide",a={primary:"bg-royal-600 text-white hover:bg-royal-700 shadow-[0_10px_20px_-10px_rgba(124,58,237,0.5)]",secondary:"bg-royal-50 text-royal-700 hover:bg-royal-100",ghost:"bg-transparent text-gray-500 hover:text-royal-600 hover:bg-royal-50"};return _.jsx("button",{className:de(o,a[e],t),disabled:n||i.disabled,...i,children:n?_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r})};var OL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NL,RL;function ML(){return{geminiUrl:NL,vertexUrl:RL}}function $L(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=ML();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Or{}function Y(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function DL(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Qm(t,i,o,0,a)}}function Qm(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Qm(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&Qm(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hv(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LL(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function jL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],FL(a)),e}function UL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],BL(a)),e}function FL(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>GL(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function BL(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>VL(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function GL(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],JL(n)),e}function VL(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],YL(n)),e}function HL(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function zL(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function qL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],WL(a)),e}function WL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function sk(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],KL(a)),e}function KL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function JL(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Hv(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function YL(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Hv(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lb;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Lb||(Lb={}));var jb;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(jb||(jb={}));var Ub;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ub||(Ub={}));var ye;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ye||(ye={}));var Fb;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Fb||(Fb={}));var Bb;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Bb||(Bb={}));var Gb;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Gb||(Gb={}));var Vb;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Vb||(Vb={}));var Hb;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Hb||(Hb={}));var zb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zb||(zb={}));var qb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(qb||(qb={}));var Wb;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Wb||(Wb={}));var Kb;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Kb||(Kb={}));var Jb;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Jb||(Jb={}));var Yb;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Yb||(Yb={}));var Xb;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Xb||(Xb={}));var Qb;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Qb||(Qb={}));var Zb;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Zb||(Zb={}));var ex;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ex||(ex={}));var tx;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(tx||(tx={}));var nx;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(nx||(nx={}));var Zc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Zc||(Zc={}));var rx;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rx||(rx={}));var ix;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ix||(ix={}));var ox;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ox||(ox={}));var Zm;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zm||(Zm={}));var ax;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ax||(ax={}));var sx;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(sx||(sx={}));var lx;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(lx||(lx={}));var ux;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ux||(ux={}));var cx;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cx||(cx={}));var dx;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(dx||(dx={}));var fx;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(fx||(fx={}));var hx;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hx||(hx={}));var px;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(px||(px={}));var mx;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mx||(mx={}));var gx;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gx||(gx={}));var yx;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(yx||(yx={}));var vx;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(vx||(vx={}));var wx;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(wx||(wx={}));var bx;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(bx||(bx={}));var xx;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xx||(xx={}));var _x;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(_x||(_x={}));var Sx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Sx||(Sx={}));var Ex;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Ex||(Ex={}));var Tx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Tx||(Tx={}));var Ax;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ax||(Ax={}));var Cx;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Cx||(Cx={}));var kx;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kx||(kx={}));var Px;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Px||(Px={}));var Ix;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Ix||(Ix={}));var Ox;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ox||(Ox={}));var Nx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Nx||(Nx={}));var Rx;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Rx||(Rx={}));var Fo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Fo||(Fo={}));class eg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class gs{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,g]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(g!==null||g!==void 0)&&d.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(d))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Mx{}class $x{}class XL{}class QL{}class ZL{}class ej{}class Dx{}class Lx{}class jx{}class tj{}class ed{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ed;let i;const o=e;return n?i=UL(o):i=jL(o),Object.assign(r,i),r}}class Ux{}class Fx{}class Bx{}class Gx{}class nj{}class rj{}class ij{}class zv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new zv,o=qL(e);return Object.assign(r,o),r}}class oj{}class aj{}class sj{}class Vx{}class lj{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class uj{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class qv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new qv,o=sk(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function lk(t,e){const n=ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function uk(t){return Array.isArray(t)?t.map(e=>td(e)):[td(t)]}function td(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ck(t){const e=td(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dk(t){const e=td(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Hx(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Hx(e)):[Hx(t)]}function tg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zx(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function qx(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rt(t){if(t==null)throw new Error("ContentUnion is required");return tg(t)?t:{role:"user",parts:fk(t)}}function Wv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rt(n)):[Rt(e)]}function _n(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zx(t)||qx(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rt(t)]}const e=[],n=[],r=tg(t[0]);for(const i of t){const o=tg(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(zx(i)||qx(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:fk(n)}),e}function cj(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ye).includes(n[0].toUpperCase())?n[0].toUpperCase():ye.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ye).includes(r.toUpperCase())?r.toUpperCase():ye.TYPE_UNSPECIFIED})}}function Zo(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&cj(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ye).includes(s.toUpperCase())?s.toUpperCase():ye.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Zo(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Zo(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Zo(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function Kv(t){return Zo(t)}function Jv(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Yv(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ha(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Zo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Zo(e.response));return t}function za(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function dj(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Nr(t,e){if(typeof e!="string")throw new Error("name must be a string");return dj(t,e,"cachedContents")}function hk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function di(t){return Hv(t)}function fj(t){return t!=null&&typeof t=="object"&&"name"in t}function hj(t){return t!=null&&typeof t=="object"&&"video"in t}function pj(t){return t!=null&&typeof t=="object"&&"uri"in t}function pk(t){var e;let n;if(fj(t)&&(n=t.name),!(pj(t)&&(n=t.uri,n===void 0))&&!(hj(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function mk(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function gk(t){for(const e of["models","tunedModels","publisherModels"])if(mj(t,e))return t[e];return[]}function mj(t,e){return t!==null&&typeof t=="object"&&e in t}function gj(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function yj(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=gj(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function yk(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function vj(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function vk(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function qa(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function wk(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wj(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Zj(a))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function bj(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function xj(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function xc(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],wk(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],wj(vk(u))),e}function ng(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],wk(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],_j(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],bj(vk(h)));const m=f(t,["completionStats"]);return m!=null&&p(e,["completionStats"],m),e}function _j(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Sj(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Qj(t,a))),p(n,["requests","requests"],o)}return n}function Ej(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Tj(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Aj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],qa(t,r)),n}function Cj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],qa(t,r)),n}function kj(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Pj(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function Pj(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function bk(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>aU(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Ij(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Oj(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],xj(vj(i))),n}function Wx(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Sj(t,yk(t,i)));const o=f(e,["config"]);return o!=null&&Ij(o,n),n}function Nj(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],Ej(yk(t,i)));const o=f(e,["config"]);return o!=null&&Oj(o,n),n}function Rj(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Mj(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Bj(t,i));const o=f(e,["config"]);return o!=null&&Rj(o,n),n}function $j(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],qa(t,r)),n}function Dj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],qa(t,r)),n}function Lj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function jj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function Uj(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=Wv(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],Fj(i,n)),DL(n,{"requests[].*":"requests[].request.*"})),n}function Fj(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Bj(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],Uj(t,i)),n}function Gj(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Vj(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hj(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zj(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],bk(Rt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const g=f(e,["frequencyPenalty"]);g!=null&&p(r,["frequencyPenalty"],g);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const w=f(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],Kv(v));const b=f(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=f(e,["safetySettings"]);if(n!==void 0&&x!=null){let M=x;Array.isArray(M)&&(M=M.map(D=>sU(D))),p(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=za(T);Array.isArray(M)&&(M=M.map(D=>uU(Ha(D)))),p(n,["tools"],M)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],lU(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Nr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const k=f(e,["mediaResolution"]);k!=null&&p(r,["mediaResolution"],k);const C=f(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],Jv(C)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&p(r,["thinkingConfig"],P);const O=f(e,["imageConfig"]);O!=null&&p(r,["imageConfig"],Xj(O));const I=f(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function qj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>kj(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function Wj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],qa(t,r)),n}function Kj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],qa(t,r)),n}function Jj(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Yj(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Xj(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Qj(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let s=_n(i);Array.isArray(s)&&(s=s.map(l=>bk(l))),p(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&p(n,["request","generationConfig"],zj(t,a,f(n,["request"],{}))),n}function Zj(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],qj(n));const r=f(t,["error"]);return r!=null&&p(e,["error"],r),e}function eU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function tU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function nU(t){const e={},n=f(t,["config"]);return n!=null&&eU(n,e),e}function rU(t){const e={},n=f(t,["config"]);return n!=null&&tU(n,e),e}function iU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>xc(a))),p(e,["batchJobs"],o)}return e}function oU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ng(a))),p(e,["batchJobs"],o)}return e}function aU(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Gj(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Vj(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Tj(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function sU(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function lU(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],Hj(r)),e}function uU(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],Jj(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],Yj(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Tr||(Tr={}));class ro{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cU extends Or{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ro(Tr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Wx(this.apiClient,e),r=n._url,i=Y("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const m=d.request;m.systemInstruction=h,d.request=m}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Nj(this.apiClient,e);return s=Y("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ng(c))}else{const u=Wx(this.apiClient,e);return s=Y("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>xc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mj(this.apiClient,e);return o=Y("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>xc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Kj(this.apiClient,e);return s=Y("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ng(c))}else{const u=Wj(this.apiClient,e);return s=Y("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>xc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Cj(this.apiClient,e);a=Y("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Aj(this.apiClient,e);a=Y("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=rU(e);return s=Y("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=oU(c),h=new Vx;return Object.assign(h,d),h})}else{const u=nU(e);return s=Y("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=iU(c),h=new Vx;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Dj(this.apiClient,e);return s=Y("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>jj(c))}else{const u=$j(this.apiClient,e);return s=Y("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Lj(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dU(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Kx(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>MU(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function fU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=_n(a);Array.isArray(c)&&(c=c.map(d=>Kx(d))),p(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],Kx(Rt(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>DU(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],$U(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function hU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=_n(a);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],Rt(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>LU(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function pU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],lk(t,r));const i=f(e,["config"]);return i!=null&&fU(i,n),n}function mU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],lk(t,r));const i=f(e,["config"]);return i!=null&&hU(i,n),n}function gU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Nr(t,r)),n}function yU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Nr(t,r)),n}function vU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function wU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function bU(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xU(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _U(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function SU(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function EU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Nr(t,r)),n}function TU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Nr(t,r)),n}function AU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function CU(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function kU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function PU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function IU(t){const e={},n=f(t,["config"]);return n!=null&&kU(n,e),e}function OU(t){const e={},n=f(t,["config"]);return n!=null&&PU(n,e),e}function NU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function RU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function MU(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],bU(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],xU(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],dU(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function $U(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],_U(r)),e}function DU(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],AU(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],CU(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function LU(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>SU(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function jU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function UU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function FU(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Nr(t,r));const i=f(e,["config"]);return i!=null&&jU(i,n),n}function BU(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Nr(t,r));const i=f(e,["config"]);return i!=null&&UU(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GU extends Or{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ro(Tr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=mU(this.apiClient,e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=pU(this.apiClient,e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=TU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=EU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=wU(c),h=new Bx;return Object.assign(h,d),h})}else{const u=gU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=vU(c),h=new Bx;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=BU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=FU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=OU(e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=RU(c),h=new Gx;return Object.assign(h,d),h})}else{const u=IU(e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=NU(c),h=new Gx;return Object.assign(h,d),h})}}}function nd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(t){return this instanceof ae?(this.v=t,this):new ae(t)}function zn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(g){return Promise.resolve(g).then(m,d)}}function s(m,g){r[m]&&(i[m]=function(y){return new Promise(function(w,v){o.push([m,y,w,v])>1||l(m,y)})},g&&(i[m]=g(i[m])))}function l(m,g){try{u(r[m](g))}catch(y){h(o[0][3],y)}}function u(m){m.value instanceof ae?Promise.resolve(m.value.v).then(c,d):h(o[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function h(m,g){m(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function qn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Jx=="function"?Jx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VU(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:xk(n)}function xk(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function HU(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Yx(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!xk(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class zU{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new qU(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qU{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),HU(o)}async sendMessage(e){var n;await this.sendPromise;const r=Rt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Rt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Yx(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return zn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var d=!0,h=qn(e),m;m=yield ae(h.next()),i=m.done,!i;d=!0){s=m.value,d=!1;const g=s;if(VU(g)){const y=(u=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;y!==void 0&&c.push(y)}yield yield ae(g)}}catch(g){o={error:g}}finally{try{!d&&!i&&(a=h.return)&&(yield ae(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Yx(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Of extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Of.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WU(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function KU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function JU(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],pk(n)),e}function YU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function XU(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],pk(n)),e}function QU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function ZU(t){const e={},n=f(t,["config"]);return n!=null&&QU(n,e),e}function eF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tF extends Or{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ro(Tr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ZU(e);return o=Y("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=eF(l),c=new oj;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=WU(e);return o=Y("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=KU(l),c=new aj;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=XU(e);return o=Y("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=JU(e);return o=Y("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=YU(l),c=new sj;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _c(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function nF(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vF(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function rF(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function iF(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oF(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function aF(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=f(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const g=f(t,["responseModalities"]);g!=null&&p(e,["responseModalities"],g);const y=f(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const w=f(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const v=f(t,["seed"]);v!=null&&p(e,["seed"],v);const b=f(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],b);const x=f(t,["stopSequences"]);x!=null&&p(e,["stopSequences"],x);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sF(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function lF(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function uF(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],Yv(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=f(t,["systemInstruction"]);e!==void 0&&g!=null&&p(e,["setup","systemInstruction"],nF(Rt(g)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=za(y);Array.isArray(E)&&(E=E.map(A=>bF(Ha(A)))),p(e,["setup","tools"],E)}const w=f(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],wF(w));const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const x=f(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&p(e,["setup","realtimeInputConfig"],x);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function cF(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],aF(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],Yv(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=f(t,["systemInstruction"]);e!==void 0&&g!=null&&p(e,["setup","systemInstruction"],Rt(g));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let A=za(y);Array.isArray(A)&&(A=A.map(k=>xF(Ha(k)))),p(e,["setup","tools"],A)}const w=f(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],w);const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const x=f(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&p(e,["setup","realtimeInputConfig"],x);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);e!==void 0&&S!=null&&p(e,["setup","proactivity"],S);const E=f(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&p(e,["setup","explicitVadSignal"],E),n}function dF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],uF(i,n)),n}function fF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],cF(i,n)),n}function hF(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function pF(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function mF(t){const e={},n=f(t,["media"]);if(n!=null){let u=uk(n);Array.isArray(u)&&(u=u.map(c=>_c(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],_c(dk(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],_c(ck(o)));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function gF(t){const e={},n=f(t,["media"]);if(n!=null){let u=uk(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],dk(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],ck(o));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function yF(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],_F(a));const s=f(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);l!=null&&p(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);return u!=null&&p(e,["voiceActivityDetectionSignal"],u),e}function vF(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],rF(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],iF(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],_c(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function wF(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bF(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],sF(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],lF(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function xF(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>oF(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function _F(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["promptTokensDetails"],m)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["cacheTokensDetails"],m)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["responseTokensDetails"],m)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["toolUsePromptTokensDetails"],m)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SF(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function EF(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],TF(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function TF(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function AF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let o=_n(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function CF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function kF(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&p(e,["statistics"],PF(r)),e}function PF(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Nf(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jB(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function IF(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function OF(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function NF(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],Rt(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Tk(s))),p(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],SB(o)),n}function RF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=_n(i);Array.isArray(a)&&(a=a.map(s=>Nf(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&OF(o),n}function MF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=_n(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&NF(o,n),n}function $F(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function DF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function LF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function jF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function UF(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function FF(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function BF(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=f(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const g=f(t,["outputMimeType"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","mimeType"],g);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const w=f(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const v=f(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const b=f(t,["editMode"]);e!==void 0&&b!=null&&p(e,["parameters","editMode"],b);const x=f(t,["baseSteps"]);return e!==void 0&&x!=null&&p(e,["parameters","editConfig","baseSteps"],x),n}function GF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>HB(l))),p(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&BF(a,n),n}function VF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Rf(o))),p(e,["generatedImages"],i)}return e}function HF(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function zF(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function qF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let s=Wv(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&HF(o,n);const a=f(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],ve(t,a)),n}function WF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=Wv(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&zF(o,n),n}function KF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function JF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>kF(a))),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function YF(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function XF(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function QF(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZF(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eB(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function tB(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Nf(Rt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const g=f(e,["frequencyPenalty"]);g!=null&&p(r,["frequencyPenalty"],g);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const w=f(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],Kv(v));const b=f(e,["responseJsonSchema"]);if(b!=null&&p(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=f(e,["safetySettings"]);if(n!==void 0&&x!=null){let M=x;Array.isArray(M)&&(M=M.map(D=>zB(D))),p(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=za(T);Array.isArray(M)&&(M=M.map(D=>QB(Ha(D)))),p(n,["tools"],M)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],XB(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Nr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const k=f(e,["mediaResolution"]);k!=null&&p(r,["mediaResolution"],k);const C=f(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],Jv(C)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&p(r,["thinkingConfig"],P);const O=f(e,["imageConfig"]);O!=null&&p(r,["imageConfig"],kB(O));const I=f(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function nB(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Rt(i));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const g=f(e,["frequencyPenalty"]);g!=null&&p(r,["frequencyPenalty"],g);const y=f(e,["seed"]);y!=null&&p(r,["seed"],y);const w=f(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],Kv(v));const b=f(e,["responseJsonSchema"]);b!=null&&p(r,["responseJsonSchema"],b);const x=f(e,["routingConfig"]);x!=null&&p(r,["routingConfig"],x);const T=f(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let L=S;Array.isArray(L)&&(L=L.map(G=>G)),p(n,["safetySettings"],L)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let L=za(E);Array.isArray(L)&&(L=L.map(G=>Tk(Ha(G)))),p(n,["tools"],L)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const k=f(e,["labels"]);n!==void 0&&k!=null&&p(n,["labels"],k);const C=f(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Nr(t,C));const P=f(e,["responseModalities"]);P!=null&&p(r,["responseModalities"],P);const O=f(e,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const I=f(e,["speechConfig"]);I!=null&&p(r,["speechConfig"],Jv(I));const M=f(e,["audioTimestamp"]);M!=null&&p(r,["audioTimestamp"],M);const D=f(e,["thinkingConfig"]);D!=null&&p(r,["thinkingConfig"],D);const j=f(e,["imageConfig"]);if(j!=null&&p(r,["imageConfig"],PB(j)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Xx(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=_n(i);Array.isArray(a)&&(a=a.map(s=>Nf(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],tB(t,o,n)),n}function Qx(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=_n(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],nB(t,o,n)),n}function Zx(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EF(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function e_(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function rB(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=f(t,["imageSize"]);if(e!==void 0&&m!=null&&p(e,["parameters","sampleImageSize"],m),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function iB(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=f(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const g=f(t,["outputMimeType"]);e!==void 0&&g!=null&&p(e,["parameters","outputOptions","mimeType"],g);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const w=f(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const v=f(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&p(e,["parameters","sampleImageSize"],b);const x=f(t,["enhancePrompt"]);return e!==void 0&&x!=null&&p(e,["parameters","enhancePrompt"],x),n}function oB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&rB(o,n),n}function aB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&iB(o,n),n}function sB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>wB(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Sk(i)),e}function lB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Rf(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Ek(i)),e}function uB(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Mf(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>d4(m))),p(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function cB(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&p(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=f(t,["enhancePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m);const g=f(t,["generateAudio"]);e!==void 0&&g!=null&&p(e,["parameters","generateAudio"],g);const y=f(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],Jn(y));const w=f(t,["referenceImages"]);if(e!==void 0&&w!=null){let x=w;Array.isArray(x)&&(x=x.map(T=>f4(T))),p(e,["instances[0]","referenceImages"],x)}const v=f(t,["mask"]);e!==void 0&&v!=null&&p(e,["instances[0]","mask"],c4(v));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&p(e,["parameters","compressionQuality"],b),n}function dB(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],mB(a)),e}function fB(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],gB(a)),e}function hB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Mf(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],Ak(a));const s=f(e,["source"]);s!=null&&yB(s,n);const l=f(e,["config"]);return l!=null&&uB(l,n),n}function pB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Jn(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],Ck(a));const s=f(e,["source"]);s!=null&&vB(s,n);const l=f(e,["config"]);return l!=null&&cB(l,n),n}function mB(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>xB(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function gB(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>_B(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function yB(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Mf(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],Ak(o)),n}function vB(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Jn(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],Ck(o)),n}function wB(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],IB(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],Sk(i)),e}function Rf(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],_k(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&p(e,["safetyAttributes"],Ek(i));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function bB(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],_k(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function xB(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],l4(n)),e}function _B(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],u4(n)),e}function SB(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=f(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const g=f(t,["responseModalities"]);g!=null&&p(e,["responseModalities"],g);const y=f(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const w=f(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const v=f(t,["seed"]);v!=null&&p(e,["seed"],v);const b=f(t,["speechConfig"]);b!=null&&p(e,["speechConfig"],b);const x=f(t,["stopSequences"]);x!=null&&p(e,["stopSequences"],x);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function EB(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function TB(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function AB(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function CB(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function kB(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function PB(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=f(t,["personGeneration"]);i!=null&&p(e,["personGeneration"],i);const o=f(t,["outputMimeType"]);o!=null&&p(e,["imageOutputOptions","mimeType"],o);const a=f(t,["outputCompressionQuality"]);return a!=null&&p(e,["imageOutputOptions","compressionQuality"],a),e}function IB(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],di(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function _k(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Mf(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],di(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Jn(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function OB(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],mk(t,s)),r}function NB(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],mk(t,s)),r}function RB(t,e){const n={},r=f(e,["config"]);return r!=null&&OB(t,r,n),n}function MB(t,e){const n={},r=f(e,["config"]);return r!=null&&NB(t,r,n),n}function $B(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=gk(i);Array.isArray(o)&&(o=o.map(a=>rg(a))),p(e,["models"],o)}return e}function DB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=gk(i);Array.isArray(o)&&(o=o.map(a=>ig(a))),p(e,["models"],o)}return e}function LB(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function rg(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const a=f(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],ZB(a));const s=f(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&p(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&p(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&p(e,["topP"],h);const m=f(t,["topK"]);m!=null&&p(e,["topK"],m);const g=f(t,["thinking"]);return g!=null&&p(e,["thinking"],g),e}function ig(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>YF(h))),p(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&p(e,["labels"],s);const l=f(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],e4(l));const u=f(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["checkpoints"],d)}return e}function jB(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],XF(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],QF(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],SF(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function UB(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],Jn(n)),e}function FB(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const m=f(t,["labels"]);return e!==void 0&&m!=null&&p(e,["labels"],m),n}function BB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["source"]);i!=null&&VB(i,n);const o=f(e,["config"]);return o!=null&&FB(o,n),n}function GB(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Rf(i))),p(e,["generatedImages"],r)}return e}function VB(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Jn(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>UB(s))),p(e,["instances[0]","productImages"],a)}return n}function HB(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Jn(n));const r=f(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],LB(o));const a=f(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],IF(a));const s=f(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function Sk(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Ek(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function zB(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function qB(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],Jn(n)),e}function WB(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function KB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["source"]);i!=null&&YB(i,n);const o=f(e,["config"]);return o!=null&&WB(o,n),n}function JB(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bB(i))),p(e,["generatedMasks"],r)}return e}function YB(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Jn(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],qB(o)),n}function XB(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],ZF(r)),e}function QB(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],AB(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],CB(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Tk(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>eB(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function ZB(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function e4(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function t4(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function n4(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function r4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","name"],ve(t,r));const i=f(e,["config"]);return i!=null&&t4(i,n),n}function i4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&n4(i,n),n}function o4(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const m=f(t,["mode"]);return e!==void 0&&m!=null&&p(e,["parameters","mode"],m),n}function a4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["image"]);i!=null&&p(n,["instances[0]","image"],Jn(i));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&o4(a,n),n}function s4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Rf(o))),p(e,["generatedImages"],i)}return e}function l4(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],di(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function u4(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function c4(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],Jn(n));const r=f(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function d4(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Mf(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function f4(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Jn(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Ak(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function Ck(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h4(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function p4(t){const e={},n=f(t,["config"]);return n!=null&&h4(n,e),e}function m4(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function g4(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&m4(r,e),e}function y4(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function v4(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function w4(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],x4(a)),e}function b4(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&v4(i,e),e}function x4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function _4(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function S4(t){const e={},n=f(t,["config"]);return n!=null&&_4(n,e),e}function E4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function kk(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function T4(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&kk(r,e),e}function A4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C4="Content-Type",k4="X-Server-Timeout",P4="User-Agent",og="x-goog-api-client",I4="1.35.0",O4=`google-genai-sdk/${I4}`,N4="v1beta1",R4="v1beta";class M4{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:N4,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:R4,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&$4(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await t_(i),new eg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await t_(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return zn(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield ae(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const g=JSON.parse(d);if("error"in g){const y=JSON.parse(JSON.stringify(g.error)),w=y.status,v=y.code,b=`got status: ${w}. ${JSON.stringify(g)}`;if(v>=400&&v<600)throw new Of({message:b,status:v})}}catch(g){if(g.name==="ApiError")throw g}a+=d;let h=-1,m=0;for(;;){h=-1,m=0;for(const w of l){const v=a.indexOf(w);v!==-1&&(h===-1||v<h)&&(h=v,m=w.length)}if(h===-1)break;const g=a.substring(0,h);a=a.substring(h+m);const y=g.trim();if(y.startsWith(s)){const w=y.substring(s.length).trim();try{const v=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ae(new eg(v))}catch(v){throw new Error(`exception parsing stream chunk ${w}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=O4+" "+this.clientOptions.userAgentExtra;return e[P4]=n,e[og]=n,e[C4]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(k4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=Y("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&kk(r,d);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function t_(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Of({message:i,status:n}):new Error(i)}}function $4(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D4="mcp_used/unknown";let L4=!1;function Pk(t){for(const e of t)if(j4(e)||typeof e=="object"&&"inputSchema"in e)return!0;return L4}function Ik(t){var e;const n=(e=t[og])!==null&&e!==void 0?e:"";t[og]=(n+` ${D4}`).trimStart()}function j4(t){return t!==null&&typeof t=="object"&&t instanceof Xv}function U4(t){return zn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield ae(n.listTools({cursor:i}));for(const s of a.tools)yield yield ae(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class Xv{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Xv(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,qn(U4(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),yj(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function F4(t,e,n){const r=new uj;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class B4{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=H4(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(x=>{u=x}),d=e.callbacks,h=function(){u({})},m=this.apiClient,g={onopen:h,onmessage:x=>{F4(m,d.onmessage,x)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(x){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(x){}},y=this.webSocketFactory.create(l,V4(a),g);y.connect(),await c;const b={setup:{model:ve(this.apiClient,e.model)}};return y.send(JSON.stringify(b)),new G4(y,this.apiClient)}}class G4{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=pF(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=hF(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Fo.PLAY)}pause(){this.sendPlaybackControl(Fo.PAUSE)}stop(){this.sendPlaybackControl(Fo.STOP)}resetContext(){this.sendPlaybackControl(Fo.RESET_CONTEXT)}close(){this.conn.close()}}function V4(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function H4(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z4="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function q4(t,e,n){const r=new lj;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=yF(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class W4{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new B4(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&Pk(e.config.tools)&&Ik(d);const h=X4(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const C=this.apiClient.getApiKey();let P="BidiGenerateContent",O="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${P}?${O}=${C}`}let m=()=>{};const g=new Promise(C=>{m=C}),y=e.callbacks,w=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),m({})},v=this.apiClient,b={onopen:w,onmessage:C=>{q4(v,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},x=this.webSocketFactory.create(c,Y4(h),b);x.connect(),await g;let T=ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const C=this.apiClient.getProject(),P=this.apiClient.getLocation();T=`projects/${C}/locations/${P}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Zc.AUDIO]}:e.config.responseModalities=[Zc.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const C of E)if(this.isCallableTool(C)){const P=C;A.push(await P.tool())}else A.push(C);A.length>0&&(e.config.tools=A);const k={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=fF(this.apiClient,k):S=dF(this.apiClient,k),delete S.config,x.send(JSON.stringify(S)),new J4(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const K4={turnComplete:!0};class J4{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=_n(n.turns),e.isVertexAI()||(r=r.map(i=>Nf(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(z4)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},K4),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:gF(e)}:n={realtimeInput:mF(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Y4(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function X4(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n_=10;function r_(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ea(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ea(t){return"callTool"in t&&typeof t.callTool=="function"}function Q4(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ea(i)))!==null&&r!==void 0?r:!1}function i_(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ea(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function o_(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z4 extends Or{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Q4(n)||r_(n.config))return await this.generateContentInternal(l);const u=i_(n);if(u.length>0){const y=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,d;const h=_n(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:n_;let g=0;for(;g<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,w=[];for(const v of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(ea(v)){const x=await v.callTool(c.functionCalls);w.push(...x)}g++,d={role:"user",parts:w},l.contents=_n(l.contents),l.contents.push(y),l.contents.push(d),o_(l.config)&&(h.push(y),h.push(d))}return o_(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),r_(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=i_(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new ro(Tr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>ea(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&Pk(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Ik(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ea(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:n_;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return zn(this,arguments,function*(){for(var h,m,g,y,w,v;s<o;){a&&(s++,a=!1);const S=yield ae(u.processParamsMaybeAddMcpUsage(d)),E=yield ae(u.generateContentStreamInternal(S)),A=[],k=[];try{for(var b=!0,x=(m=void 0,qn(E)),T;T=yield ae(x.next()),h=T.done,!h;b=!0){y=T.value,b=!1;const C=y;if(yield yield ae(C),C.candidates&&(!((w=C.candidates[0])===null||w===void 0)&&w.content)){k.push(C.candidates[0].content);for(const P of(v=C.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(s<o&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(P.functionCall.name)){const O=yield ae(c.get(P.functionCall.name).callTool([P.functionCall]));A.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(C){m={error:C}}finally{try{!b&&!h&&(g=x.return)&&(yield ae(g.call(x)))}finally{if(m)throw m.error}}if(A.length>0){a=!0;const C=new gs;C.candidates=[{content:{role:"user",parts:A}}],yield yield ae(C);const P=[];P.push(...k),P.push({role:"user",parts:A});const O=_n(d.contents).concat(P);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Qx(this.apiClient,e);return s=Y("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=e_(c),h=new gs;return Object.assign(h,d),h})}else{const u=Xx(this.apiClient,e);return s=Y("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Zx(c),h=new gs;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Qx(this.apiClient,e);return s=Y("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return zn(this,arguments,function*(){var h,m,g,y;try{for(var w=!0,v=qn(d),b;b=yield ae(v.next()),h=b.done,!h;w=!0){y=b.value,w=!1;const x=y,T=e_(yield ae(x.json()));T.sdkHttpResponse={headers:x.headers};const S=new gs;Object.assign(S,T),yield yield ae(S)}}catch(x){m={error:x}}finally{try{!w&&!h&&(g=v.return)&&(yield ae(g.call(v)))}finally{if(m)throw m.error}}})})}else{const u=Xx(this.apiClient,e);return s=Y("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return zn(this,arguments,function*(){var h,m,g,y;try{for(var w=!0,v=qn(d),b;b=yield ae(v.next()),h=b.done,!h;w=!0){y=b.value,w=!1;const x=y,T=Zx(yield ae(x.json()));T.sdkHttpResponse={headers:x.headers};const S=new gs;Object.assign(S,T),yield yield ae(S)}}catch(x){m={error:x}}finally{try{!w&&!h&&(g=v.return)&&(yield ae(g.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=WF(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=JF(c),h=new Mx;return Object.assign(h,d),h})}else{const u=qF(this.apiClient,e);return s=Y("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=KF(c),h=new Mx;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=aB(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=lB(c),h=new $x;return Object.assign(h,d),h})}else{const u=oB(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=sB(c),h=new $x;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=GF(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=VF(l),c=new XL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=a4(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=s4(l),c=new QL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=BB(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=GB(l),c=new ZL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=KB(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=JB(l),c=new ej;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=TB(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ig(c))}else{const u=EB(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>rg(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=MB(this.apiClient,e);return s=Y("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=DB(c),h=new Dx;return Object.assign(h,d),h})}else{const u=RB(this.apiClient,e);return s=Y("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=$B(c),h=new Dx;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=i4(this.apiClient,e);return s=Y("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ig(c))}else{const u=r4(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>rg(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jF(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=FF(c),h=new Lx;return Object.assign(h,d),h})}else{const u=LF(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=UF(c),h=new Lx;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=MF(this.apiClient,e);return s=Y("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=DF(c),h=new jx;return Object.assign(h,d),h})}else{const u=RF(this.apiClient,e);return s=Y("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=$F(c),h=new jx;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=AF(this.apiClient,e);return o=Y("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=CF(l),c=new tj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=pB(this.apiClient,e);return s=Y("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=fB(c),h=new ed;return Object.assign(h,d),h})}else{const u=hB(this.apiClient,e);return s=Y("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=dB(c),h=new ed;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e5 extends Or{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zL(e);return s=Y("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=HL(e);return s=Y("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=LL(e);return o=Y("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t5(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function n5(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>d5(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function r5(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],c5(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function i5(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],r5(t,r,n)),n}function o5(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function a5(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function s5(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function l5(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function u5(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],Yv(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=f(t,["systemInstruction"]);e!==void 0&&g!=null&&p(e,["setup","systemInstruction"],n5(Rt(g)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let E=za(y);Array.isArray(E)&&(E=E.map(A=>h5(Ha(A)))),p(e,["setup","tools"],E)}const w=f(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],f5(w));const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","outputAudioTranscription"],b);const x=f(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&p(e,["setup","realtimeInputConfig"],x);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function c5(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],u5(i,n)),n}function d5(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],o5(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],a5(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],t5(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function f5(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function h5(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],s5(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],l5(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p5(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function m5(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=p5(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class g5 extends Or{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=i5(this.apiClient,e);o=Y("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=m5(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y5(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function v5(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&y5(r,e),e}function w5(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function b5(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function x5(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&b5(r,e),e}function _5(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S5 extends Or{constructor(e){super(),this.apiClient=e,this.list=async n=>new ro(Tr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=w5(e);return o=Y("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=v5(e);i=Y("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=x5(e);return o=Y("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=_5(l),c=new nj;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E5 extends Or{constructor(e,n=new S5(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ro(Tr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=p4(e);return o=Y("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=y4(e);return o=Y("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=g4(e);i=Y("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=S4(e);return o=Y("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=E4(l),c=new rj;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=T4(e);return o=Y("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=A4(l),c=new ij;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=b4(e);return o=Y("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=w4(l),c=new zv;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ok=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Ok=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const T5=()=>Ok();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ag(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const sg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An extends Error{}class Bt extends An{constructor(e,n,r,i){super(`${Bt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new $f({message:r,cause:sg(n)});const o=n;return e===400?new Rk(e,o,r,i):e===401?new Mk(e,o,r,i):e===403?new $k(e,o,r,i):e===404?new Dk(e,o,r,i):e===409?new Lk(e,o,r,i):e===422?new jk(e,o,r,i):e===429?new Uk(e,o,r,i):e>=500?new Fk(e,o,r,i):new Bt(e,o,r,i)}}class lg extends Bt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class $f extends Bt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Nk extends $f{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Rk extends Bt{}class Mk extends Bt{}class $k extends Bt{}class Dk extends Bt{}class Lk extends Bt{}class jk extends Bt{}class Uk extends Bt{}class Fk extends Bt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A5=/^[a-z][a-z0-9+.-]*:/i,C5=t=>A5.test(t);let ug=t=>(ug=Array.isArray,ug(t));const k5=ug;let P5=k5;const a_=P5;function I5(t){if(!t)return!0;for(const e in t)return!1;return!0}function O5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const N5=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new An(`${t} must be an integer`);if(e<0)throw new An(`${t} must be a positive integer`);return e},R5=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M5=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const To="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $5(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const D5=()=>{var t,e,n,r,i;const o=$5();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":l_(Deno.build.os),"X-Stainless-Arch":s_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":l_((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":s_((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=L5();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function L5(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const s_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",l_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Gu;const j5=()=>Gu??(Gu=D5());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U5(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Bk(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function F5(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Bk({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Gk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function B5(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G5=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vk=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hp(t,e,n){return Vk(),new File(t,e??"unknown_file",n)}function V5(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const H5=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hk=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",z5=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Hk(t),q5=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function W5(t,e,n){if(Vk(),t=await t,z5(t))return t instanceof File?t:hp([await t.arrayBuffer()],t.name);if(q5(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hp(await cg(i),e,n)}const r=await cg(t);if(e||(e=V5(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return hp(r,e,n)}async function cg(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(Hk(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(H5(t))try{for(var s=!0,l=qn(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;a.push(...await cg(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${K5(t)}`)}return a}function K5(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zk{constructor(e){this._client=e}}zk._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qk(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const u_=Object.freeze(Object.create(null)),J5=(t=qk)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,d,h)=>{var m,g,y;/[?#]/.test(d)&&(i=!0);const w=r[h];let v=(i?encodeURIComponent:t)(""+w);return h!==r.length&&(w==null||typeof w=="object"&&w.toString===((y=Object.getPrototypeOf((g=Object.getPrototypeOf((m=w.hasOwnProperty)!==null&&m!==void 0?m:u_))!==null&&g!==void 0?g:u_))===null||y===void 0?void 0:y.toString))&&(v=w+"",o.push({start:c.length+d.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":v)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,m)=>{const g=" ".repeat(m.start-c),y="^".repeat(m.length);return c=m.start+m.length,h+g+y},"");throw new An(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},Vu=J5(qk);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wk extends zk{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=nd(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new An("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new An("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Vu`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Vu`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Vu`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=nd(o,["api_version"]);return this._client.get(Vu`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Wk._key=Object.freeze(["interactions"]);class Kk extends Wk{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y5(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Hu;function Qv(t){let e;return(Hu??(e=new globalThis.TextEncoder,Hu=e.encode.bind(e)))(t)}let zu;function c_(t){let e;return(zu??(e=new globalThis.TextDecoder,zu=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Df{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Qv(e):e;this.buffer=Y5([this.buffer,n]);const r=[];let i;for(;(i=X5(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(c_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=c_(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Df.NEWLINE_CHARS=new Set([`
`,"\r"]);Df.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function X5(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Q5(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rd={off:0,error:200,warn:300,info:400,debug:500},d_=(t,e,n)=>{if(t){if(O5(rd,t))return t;Dt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(rd))}`)}};function Rs(){}function qu(t,e,n){return!e||rd[t]>rd[n]?Rs:e[t].bind(e)}const Z5={error:Rs,warn:Rs,info:Rs,debug:Rs};let f_=new WeakMap;function Dt(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Z5;const i=f_.get(n);if(i&&i[0]===r)return i[1];const o={error:qu("error",n,r),warn:qu("warn",n,r),info:qu("info",n,r),debug:qu("debug",n,r)};return f_.set(n,[r,o]),o}const Si=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bo{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Dt(r):console;function a(){return zn(this,arguments,function*(){var l,u,c,d;if(i)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,g=qn(e3(e,n)),y;y=yield ae(g.next()),l=y.done,!l;m=!0){d=y.value,m=!1;const w=d;if(!h)if(w.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield ae(JSON.parse(w.data))}catch(v){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),v}}}catch(w){u={error:w}}finally{try{!m&&!l&&(c=g.return)&&(yield ae(c.call(g)))}finally{if(u)throw u.error}}h=!0}catch(w){if(ag(w))return yield ae(void 0);throw w}finally{h||n.abort()}})}return new Bo(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return zn(this,arguments,function*(){var l,u,c,d;const h=new Df,m=Gk(e);try{for(var g=!0,y=qn(m),w;w=yield ae(y.next()),l=w.done,!l;g=!0){d=w.value,g=!1;const v=d;for(const b of h.decode(v))yield yield ae(b)}}catch(v){u={error:v}}finally{try{!g&&!l&&(c=y.return)&&(yield ae(c.call(y)))}finally{if(u)throw u.error}}for(const v of h.flush())yield yield ae(v)})}function a(){return zn(this,arguments,function*(){var l,u,c,d;if(i)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,g=qn(o()),y;y=yield ae(g.next()),l=y.done,!l;m=!0){d=y.value,m=!1;const w=d;h||w&&(yield yield ae(JSON.parse(w)))}}catch(w){u={error:w}}finally{try{!m&&!l&&(c=g.return)&&(yield ae(c.call(g)))}finally{if(u)throw u.error}}h=!0}catch(w){if(ag(w))return yield ae(void 0);throw w}finally{h||n.abort()}})}return new Bo(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Bo(()=>i(e),this.controller,this.client),new Bo(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Bk({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Qv(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function e3(t,e){return zn(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new An("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new An("Attempted to iterate over a response with no body");const s=new n3,l=new Df,u=Gk(t.body);try{for(var c=!0,d=qn(t3(u)),h;h=yield ae(d.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const g of l.decode(m)){const y=s.decode(g);y&&(yield yield ae(y))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=d.return)&&(yield ae(o.call(d)))}finally{if(i)throw i.error}}for(const m of l.flush()){const g=s.decode(m);g&&(yield yield ae(g))}})}function t3(t){return zn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=qn(t),u;u=yield ae(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?Qv(c):c;let h=new Uint8Array(a.length+d.length);h.set(a),h.set(d,a.length),a=h;let m;for(;(m=Q5(a))!==-1;)yield yield ae(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield ae(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield ae(a))})}class n3{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=r3(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function r3(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function i3(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return Dt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Bo.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Dt(t).debug(`[${r}] response parsed`,Si({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zv extends Promise{constructor(e,n,r=i3){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Zv(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jk=Symbol("brand.privateNullableHeaders");function*o3(t){if(!t)return;if(Jk in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():a_(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=a_(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const ys=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of o3(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[Jk]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pp=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=OL)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yk;class Lf{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=pp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=pp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=nd(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:Lf.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const g="warn";this.logLevel=g,this.logLevel=(a=(o=d_(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:d_(pp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:g,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:U5(),this.encoder=G5,this._options=m,this.apiKey=c,this.apiVersion=d,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=ys([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ys([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ys([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new An(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${To}`}defaultIdempotencyKey(){return`stainless-node-retry-${T5()}`}makeStatusError(e,n,r,i){return Bt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=C5(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return I5(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Zv(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,g=Date.now();if(Dt(this).debug(`[${h}] sending request`,Si({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new lg;const y=new AbortController,w=await this.fetchWithTimeout(c,u,d,y).catch(sg),v=Date.now();if(w instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new lg;const T=ag(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return Dt(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${x}`),Dt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${x})`,Si({retryOfRequestLogID:r,url:c,durationMs:v-g,message:w.message})),this.retryRequest(s,n,r??h);throw Dt(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,Si({retryOfRequestLogID:r,url:c,durationMs:v-g,message:w.message})),T?new Nk:new $f({cause:w})}const b=`[${h}${m}] ${u.method} ${c} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${v-g}ms`;if(!w.ok){const x=await this.shouldRetry(w);if(n&&x){const C=`retrying, ${n} attempts remaining`;return await B5(w.body),Dt(this).info(`${b} - ${C}`),Dt(this).debug(`[${h}] response error (${C})`,Si({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:v-g})),this.retryRequest(s,n,r??h,w.headers)}const T=x?"error; no more retries left":"error; not retryable";Dt(this).info(`${b} - ${T}`);const S=await w.text().catch(C=>sg(C).message),E=R5(S),A=E?void 0:S;throw Dt(this).debug(`[${h}] response error (${T})`,Si({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:A,durationMs:Date.now()-g})),this.makeStatusError(w.status,E,A,w.headers)}return Dt(this).info(b),Dt(this).debug(`[${h}] response start`,Si({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:v-g})),{response:w,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:g}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=nd(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(d.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await M5(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=a,d=this.buildURL(l,u,c);"timeout"in a&&N5("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),g=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:g},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=ys([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),j5()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=ys([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:F5(e)}:this.encoder({body:e,headers:r})}}Lf.DEFAULT_TIMEOUT=6e4;class yt extends Lf{constructor(){super(...arguments),this.interactions=new Kk(this)}}Yk=yt;yt.GeminiNextGenAPIClient=Yk;yt.GeminiNextGenAPIClientError=An;yt.APIError=Bt;yt.APIConnectionError=$f;yt.APIConnectionTimeoutError=Nk;yt.APIUserAbortError=lg;yt.NotFoundError=Dk;yt.ConflictError=Lk;yt.RateLimitError=Uk;yt.BadRequestError=Rk;yt.AuthenticationError=Mk;yt.InternalServerError=Fk;yt.PermissionDeniedError=$k;yt.UnprocessableEntityError=jk;yt.toFile=W5;yt.Interactions=Kk;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function s3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function l3(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function u3(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function c3(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function d3(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=f(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec"],h_(m))}else if(i==="PREFERENCE_TUNING"){const m=f(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec"],h_(m))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=f(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=f(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=f(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=f(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=f(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(c==="PREFERENCE_TUNING"){const m=f(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function f3(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&S3(o);const a=f(t,["config"]);return a!=null&&c3(a,n),n}function h3(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&E3(o,n,e);const a=f(t,["config"]);return a!=null&&d3(a,n,e),n}function p3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function m3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function g3(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function y3(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function v3(t,e){const n={},r=f(t,["config"]);return r!=null&&g3(r,n),n}function w3(t,e){const n={},r=f(t,["config"]);return r!=null&&y3(r,n),n}function b3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Xk(s))),p(n,["tuningJobs"],a)}return n}function x3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>dg(s))),p(n,["tuningJobs"],a)}return n}function _3(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function S3(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function E3(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Xk(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],hk(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],_3(h)),n}function dg(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],hk(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=f(t,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const g=f(t,["preTunedModel"]);g!=null&&p(n,["preTunedModel"],g);const y=f(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const w=f(t,["preferenceOptimizationSpec"]);w!=null&&p(n,["preferenceOptimizationSpec"],w);const v=f(t,["tuningDataStats"]);v!=null&&p(n,["tuningDataStats"],v);const b=f(t,["encryptionSpec"]);b!=null&&p(n,["encryptionSpec"],b);const x=f(t,["partnerModelTuningSpec"]);x!=null&&p(n,["partnerModelTuningSpec"],x);const T=f(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&p(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&p(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const k=f(t,["pipelineJob"]);k!=null&&p(n,["pipelineJob"],k);const C=f(t,["serviceAccount"]);C!=null&&p(n,["serviceAccount"],C);const P=f(t,["tunedModelDisplayName"]);P!=null&&p(n,["tunedModelDisplayName"],P);const O=f(t,["veoTuningSpec"]);return O!=null&&p(n,["veoTuningSpec"],O),n}function T3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["done"]);a!=null&&p(n,["done"],a);const s=f(t,["error"]);return s!=null&&p(n,["error"],s),n}function h_(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A3 extends Or{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ro(Tr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Zm.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=m3(e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>dg(c))}else{const u=p3(e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Xk(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=w3(e);return s=Y("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=x3(c),h=new Ux;return Object.assign(h,d),h})}else{const u=v3(e);return s=Y("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=b3(c),h=new Ux;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=s3(e);return s=Y("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=u3(c),h=new Fx;return Object.assign(h,d),h})}else{const u=a3(e);return s=Y("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=l3(c),h=new Fx;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=h3(e,e);return o=Y("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>dg(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=f3(e);return o=Y("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>T3(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const k3=1024*1024*8,P3=3,I3=1e3,O3=2,id="x-goog-upload-status";async function N3(t,e,n){var r;const i=await Qk(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[id])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function R3(t,e,n){var r;const i=await Qk(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[id])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=sk(o),s=new qv;return Object.assign(s,a),s}async function Qk(t,e,n){var r,i;let o=0,a=0,s=new eg(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(k3,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=I3;for(;d<P3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[id]));)d++,await $3(h),h=h*O3;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[id])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function M3(t){return{size:t.size,type:t.type}}function $3(t){return new Promise(e=>setTimeout(e,t))}class D3{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await N3(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await R3(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await M3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L3{create(e,n,r){return new j3(e,n,r)}}class j3{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p_="x-goog-api-key";class U3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(p_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(p_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F3="gl-node/";class B3{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new yt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=$L(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new U3(this.apiKey);this.apiClient=new M4({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:F3+"web",uploader:new D3,downloader:new C3}),this.models=new Z4(this.apiClient),this.live=new W4(this.apiClient,i,new L3),this.batches=new cU(this.apiClient),this.chats=new zU(this.models,this.apiClient),this.caches=new GU(this.apiClient),this.files=new tF(this.apiClient),this.operations=new e5(this.apiClient),this.authTokens=new g5(this.apiClient),this.tunings=new A3(this.apiClient),this.fileSearchStores=new E5(this.apiClient)}}const G3=()=>"AIzaSyC5TCY2K34mgkcS_QmefmRHf-vP7p1SLaE",Zk=()=>{const t=G3();return console.log("Gemini Key Detected:","Yes",`(Length: ${t.length})`),new B3({apiKey:t})},eP=`
You are an expert AI nutritionist and mathematical calculator. 

SCENARIO 1: IMAGE/TEXT ESTIMATION
- Analyze food descriptions or images.
- Provide a detailed "receipt" breakdown of every ingredient.
- Estimate weights in grams (g) and calculate nutrition.

SCENARIO 2: STRICT RECALCULATION (User provided weights)
- If a list of ingredients with specific weights (grams) is provided, you MUST act as a precise calculator.
- IGNORE your previous estimations.
- Use the provided weights as the ABSOLUTE GROUND TRUTH.
- Calculate calories and macros strictly based on these weights.
- Return the recalculated totals.
`,tP=t=>{const e=(t==null?void 0:t.message)||String(t)||"",n=e.toLowerCase();return e.includes("429")||n.includes("quota")||n.includes("limit")||n.includes("exhausted")?"AI Limit Reached: You've sent too many requests. Please wait about 60 seconds for the quota to reset.":n.includes("api key")?"Configuration Error: Invalid API key. Please check your settings.":n.includes("network")||n.includes("fetch")?"Connection Error: Please check your internet connection and try again.":e||"An unexpected AI error occurred."};async function e0(t,e=2,n=2e3){try{return await t()}catch(r){const i=(r==null?void 0:r.message)||"";if((i.includes("429")||i.toLowerCase().includes("quota"))&&e>0)return console.warn(`Gemini Quota hit. Retrying in ${n}ms... (${e} retries left)`),await new Promise(a=>setTimeout(a,n)),e0(t,e-1,n*2);throw r}}const V3=async t=>{try{return await e0(async()=>{const n=await Zk().models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:"Analyze this image. Breakdown into ingredients, weights in grams, calories, and total nutrition."}]},config:{systemInstruction:eP,responseMimeType:"application/json",responseSchema:{type:ye.OBJECT,properties:{item:{type:ye.STRING},calories:{type:ye.INTEGER},protein:{type:ye.INTEGER},carbs:{type:ye.INTEGER},fat:{type:ye.INTEGER},confidence:{type:ye.NUMBER},ingredients:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{name:{type:ye.STRING},grams:{type:ye.INTEGER},calories:{type:ye.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(n.text||"{}")})}catch(e){throw console.error("Gemini Analysis Error:",e),new Error(tP(e))}},m_=async(t,e)=>{try{return await e0(async()=>{let n="";e&&e.length>0?n=`USER MANUAL WEIGHT CORRECTION:
        The following ingredients have been updated with exact weights. 
        Perform a mathematical calculation for the nutrition of each item based strictly on these grams:
        
        ${e.map(a=>`- ${a.name}: ${a.grams}g`).join(`
`)}
        
        CRITICAL: 
        1. Calculate calories/macros from scratch for each item.
        2. Sum the totals.
        3. Do not adjust the weights provided.
        4. Return the new AnalysisResult.`:n=`Estimate nutrition for: "${t}".`;const i=await Zk().models.generateContent({model:"gemini-3-flash-preview",contents:[{parts:[{text:n}]}],config:{systemInstruction:eP,responseMimeType:"application/json",responseSchema:{type:ye.OBJECT,properties:{item:{type:ye.STRING},calories:{type:ye.INTEGER},protein:{type:ye.INTEGER},carbs:{type:ye.INTEGER},fat:{type:ye.INTEGER},confidence:{type:ye.NUMBER},ingredients:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{name:{type:ye.STRING},grams:{type:ye.INTEGER},calories:{type:ye.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(i.text||"{}")})}catch(n){throw console.error("Gemini Text Analysis Error:",n),new Error(tP(n))}};let Wu;const H3=new Uint8Array(16);function z3(){if(!Wu&&(Wu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wu(H3)}const bt=[];for(let t=0;t<256;++t)bt.push((t+256).toString(16).slice(1));function q3(t,e=0){return bt[t[e+0]]+bt[t[e+1]]+bt[t[e+2]]+bt[t[e+3]]+"-"+bt[t[e+4]]+bt[t[e+5]]+"-"+bt[t[e+6]]+bt[t[e+7]]+"-"+bt[t[e+8]]+bt[t[e+9]]+"-"+bt[t[e+10]]+bt[t[e+11]]+bt[t[e+12]]+bt[t[e+13]]+bt[t[e+14]]+bt[t[e+15]]}const W3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g_={randomUUID:W3};function K3(t,e,n){if(g_.randomUUID&&!t)return g_.randomUUID();t=t||{};const r=t.random||(t.rng||z3)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,q3(r)}const J3=(t,e=800)=>new Promise((n,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=o=>{var s;const a=new Image;a.src=(s=o.target)==null?void 0:s.result,a.onload=()=>{const l=document.createElement("canvas");let u=a.width,c=a.height;u>e&&(c=e/u*c,u=e),l.width=u,l.height=c;const d=l.getContext("2d");d==null||d.drawImage(a,0,0,u,c),n(l.toDataURL("image/jpeg",.7))},a.onerror=l=>r(l)},i.onerror=o=>r(o)}),nP=({onClose:t,onSuccess:e,editEntry:n})=>{const[r,i]=R.useState("scan"),[o,a]=R.useState(n?"details":"upload"),[s,l]=R.useState((n==null?void 0:n.imageUrl)||null),[u,c]=R.useState(!1),[d,h]=R.useState(!1),[m,g]=R.useState(!1),[y,w]=R.useState(null),v=R.useRef(null),[b,x]=R.useState(""),T=new Date,S=`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}`,[E,A]=R.useState((n==null?void 0:n.date)||T.toISOString().split("T")[0]),[k,C]=R.useState((n==null?void 0:n.time)||S),[P,O]=R.useState((n==null?void 0:n.food_item)||""),[I,M]=R.useState((n==null?void 0:n.calories.toString())||""),[D,j]=R.useState((n==null?void 0:n.protein.toString())||""),[L,G]=R.useState((n==null?void 0:n.carbs.toString())||""),[$,U]=R.useState((n==null?void 0:n.fat.toString())||""),[B,q]=R.useState((n==null?void 0:n.ingredients)||[]),[z,ee]=R.useState((n==null?void 0:n.confidence)||null),[K,me]=R.useState((n==null?void 0:n.originalAiResponse)||null),Oe=async Z=>{if(Z.target.files&&Z.target.files[0]){const Ue=Z.target.files[0];try{const it=await J3(Ue);l(it),w(null)}catch{w("Failed to process image.")}}},rt=async()=>{if(s){c(!0),w(null);try{const Z=s.split(",")[1],Ue=await V3(Z);J(Ue),me(Ue),a("details")}catch(Z){w(Z.message)}finally{c(!1)}}},Ct=async()=>{if(b.trim()){c(!0),w(null);try{const Z=await m_(b);J(Z),me(Z),a("details")}catch(Z){w(Z.message)}finally{c(!1)}}},J=Z=>{O(Z.item),M(Z.calories.toString()),j(Z.protein.toString()),G(Z.carbs.toString()),U(Z.fat.toString()),q(Z.ingredients||[]),ee(Z.confidence)},le=async()=>{h(!0),w(null);try{const Z=await m_(P,B);J(Z)}catch(Z){w(Z.message)}finally{h(!1)}},ce=(Z,Ue,it)=>{const $t=[...B];if(Ue==="grams"||Ue==="calories"){const fn=it===""?0:parseInt(it);$t[Z]={...$t[Z],[Ue]:isNaN(fn)?0:fn}}else $t[Z]={...$t[Z],[Ue]:it};q($t)},V=Z=>{q(B.filter((Ue,it)=>it!==Z))},De=()=>{q([...B,{name:"",grams:100,calories:0}])},pe=async()=>{if(!P.trim()||!I){w("Please fill required fields.");return}try{const[Z,Ue,it]=E.split("-").map(Number),[$t,fn]=k.split(":").map(Number),co=new Date(Z,Ue-1,it,$t,fn);if(isNaN(co.getTime()))throw new Error("Invalid date or time selected.");const wu=co.toISOString(),ss=Number(I),BN=Number(D)||0,GN=Number(L)||0,VN=Number($)||0;if(isNaN(ss))throw new Error("Calories must be a valid number.");const HN={id:(n==null?void 0:n.id)||K3(),timestamp:wu,date:E,time:k,food_item:P,calories:ss,protein:BN,carbs:GN,fat:VN,confidence:z||1,imageUrl:s||void 0,ingredients:B,originalAiResponse:K};g(!0),w(null),await ZC(HN),e()}catch(Z){console.error("Save failed:",Z),w(Z.message||"Failed to save record.")}finally{g(!1)}},Le=y==null?void 0:y.includes("Limit Reached"),je=y==null?void 0:y.includes("Database Quota"),Xe=y==null?void 0:y.includes("Browser Storage Full");return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] p-6 shadow-2xl border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[o==="details"&&!n&&_.jsx("button",{onClick:()=>a("upload"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:_.jsx(_C,{size:24,className:"text-gray-900 dark:text-gray-50"})}),_.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-gray-50 tracking-tight",children:n?"Edit Record":o==="upload"?"Track Meal":"Meal Receipt"})]}),_.jsx("button",{onClick:t,className:"p-2 bg-gray-100 dark:bg-white/5 rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:_.jsx(ha,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),y&&_.jsxs("div",{className:`mb-4 p-4 rounded-3xl flex flex-col gap-3 animate-in shake-1 duration-300 ${Le?"bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/30 text-amber-700 dark:text-amber-400":je||Xe?"bg-orange-50 dark:bg-orange-950/30 border border-orange-100 dark:border-orange-900/30 text-orange-700 dark:text-orange-400":"bg-red-50 dark:bg-red-950/20 border border-red-100 dark:border-red-900/30 text-red-600 dark:text-red-400"}`,children:[_.jsxs("div",{className:"flex items-start gap-3",children:[Le?_.jsx(k2,{className:"shrink-0 mt-0.5",size:18}):je||Xe?_.jsx(EC,{className:"shrink-0 mt-0.5",size:18}):_.jsx(wC,{className:"shrink-0 mt-0.5",size:18}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:Le?"AI limit reached":Xe?"Phone Storage Full":je?"Cloud Storage Full":"Action Failed"}),_.jsx("p",{className:"text-xs font-semibold leading-relaxed",children:y})]})]}),!Xe&&(Le||!je)&&_.jsxs("button",{onClick:()=>{w(null),o==="upload"?rt():le()},className:"w-full py-2 bg-white/50 dark:bg-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/80 dark:hover:bg-white/20 transition-all",children:[_.jsx(L2,{size:14})," Try Again"]}),Xe&&_.jsx("div",{className:"pt-2 border-t border-orange-200 dark:border-orange-900/40",children:_.jsx("p",{className:"text-[10px] font-medium text-orange-600/70 dark:text-orange-400/70 italic",children:"Tip: Photos take up the most space. Delete old entries in the History tab to free up browser storage."})})]}),o==="upload"?_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-[20px]",children:[_.jsxs("button",{onClick:()=>i("scan"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="scan"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[_.jsx(Hs,{size:16}),"Scan"]}),_.jsxs("button",{onClick:()=>i("chat"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="chat"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[_.jsx(N2,{size:16}),"Chat"]}),_.jsxs("button",{onClick:()=>i("recipe"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="recipe"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[_.jsx(Wc,{size:16}),"Recipe"]})]}),r==="scan"&&_.jsxs(_.Fragment,{children:[s?_.jsxs("div",{className:"rounded-[32px] overflow-hidden h-64 relative mb-6 shadow-xl border border-white/10",children:[_.jsx("img",{src:s,className:"w-full h-full object-cover"}),_.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 bg-black/40 text-white p-2 rounded-full backdrop-blur-md",children:_.jsx(ha,{size:20})})]}):_.jsxs("div",{onClick:()=>{var Z;return(Z=v.current)==null?void 0:Z.click()},className:"border-2 border-dashed border-gray-200 dark:border-white/10 rounded-[32px] h-64 flex flex-col items-center justify-center cursor-pointer hover:border-royal-400 hover:bg-royal-50 dark:hover:bg-white/5 transition-all group",children:[_.jsx(Hs,{size:48,className:"text-gray-300 group-hover:text-royal-600 mb-4 transition-colors"}),_.jsx("p",{className:"text-gray-900 dark:text-gray-50 font-bold",children:"Snap or Upload Photo"}),_.jsx("p",{className:"text-gray-400 text-xs mt-1 italic",children:"Let AI do the calorie math"})]}),_.jsx("input",{type:"file",ref:v,accept:"image/*",onChange:Oe,className:"hidden"}),_.jsx(jt,{className:"w-full py-5 text-lg font-black",disabled:!s||u,isLoading:u,onClick:rt,children:"Analyze Plate"})]}),r==="chat"&&_.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[_.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/40 p-5 rounded-[32px] border border-royal-100 dark:border-royal-900/30 transition-colors",children:[_.jsxs("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[_.jsx(Xo,{size:14})," Describe your meal"]}),_.jsx("textarea",{value:b,onChange:Z=>x(Z.target.value),placeholder:"e.g. I had two slices of pepperoni pizza and a small Caesar salad with Italian dressing.",rows:4,className:"w-full bg-transparent border-none outline-none text-gray-900 dark:text-white font-medium text-sm resize-none placeholder-gray-400 dark:placeholder-gray-600"})]}),_.jsx(jt,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",disabled:!b.trim()||u,isLoading:u,onClick:Ct,children:"Ask AI"})]}),r==="recipe"&&_.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 text-center py-6",children:[_.jsx(Wc,{size:40,className:"mx-auto text-royal-400 mb-2"}),_.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Recipe Mode Coming Soon"}),_.jsx("p",{className:"text-xs font-medium text-gray-400 px-8",children:"For now, use Chat mode to describe your recipe ingredients for estimation."}),_.jsx(jt,{className:"w-full py-3 mt-4 text-xs font-bold text-gray-400 hover:text-royal-500 bg-gray-50 dark:bg-white/5",onClick:()=>a("details"),children:"Enter Details Manually"})]}),r!=="recipe"&&_.jsx("button",{onClick:()=>a("details"),className:"w-full py-3 text-sm font-bold text-gray-400 dark:text-gray-600 hover:text-royal-500",children:"Enter Details Manually"})]}):_.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[_.jsxs("div",{className:"bg-royal-600 rounded-[32px] p-6 text-white shadow-xl shadow-royal-200 dark:shadow-none",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-royal-100 text-[10px] font-black uppercase tracking-widest mb-1",children:"Estimated Calories"}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("input",{type:"number",value:I,onChange:Z=>M(Z.target.value),className:"bg-transparent text-4xl font-black w-24 outline-none border-b-2 border-white/20 focus:border-white transition-colors"}),_.jsx("span",{className:"text-xl font-bold opacity-70",children:"kcal"})]})]}),_.jsx("div",{className:"bg-white/20 p-3 rounded-2xl backdrop-blur-md",children:_.jsx(Mv,{size:24})})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[_.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[_.jsxs("span",{className:"text-xs font-black",children:[D,"g"]}),_.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Protein"})]}),_.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[_.jsxs("span",{className:"text-xs font-black",children:[L,"g"]}),_.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Carbs"})]}),_.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[_.jsxs("span",{className:"text-xs font-black",children:[$,"g"]}),_.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Fat"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[_.jsx(Ef,{size:18,className:"text-royal-400"}),_.jsx("input",{type:"date",value:E,onChange:Z=>A(Z.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]}),_.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[_.jsx(SC,{size:18,className:"text-royal-400"}),_.jsx("input",{type:"time",value:k,onChange:Z=>C(Z.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Meal Title"}),_.jsx("input",{type:"text",value:P,onChange:Z=>O(Z.target.value),className:"w-full p-4 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-2xl font-bold dark:text-white mt-1"})]}),_.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-[32px] p-5 border border-gray-100 dark:border-white/5",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[_.jsx(Xo,{size:14,className:"text-royal-500"})," Ingredient Receipt"]}),_.jsx("button",{onClick:De,className:"text-royal-500 hover:text-royal-600",children:_.jsx($2,{size:18})})]}),_.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto no-scrollbar pr-1",children:B.map((Z,Ue)=>_.jsxs("div",{className:"flex items-center gap-2 group animate-in slide-in-from-left duration-200",children:[_.jsx("input",{type:"text",value:Z.name,onChange:it=>ce(Ue,"name",it.target.value),className:"flex-1 bg-white dark:bg-white/10 p-2.5 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none focus:border-royal-300 dark:text-white",placeholder:"Ingredient"}),_.jsxs("div",{className:"relative w-20",children:[_.jsx("input",{type:"number",value:Z.grams===0?"":Z.grams,onChange:it=>ce(Ue,"grams",it.target.value),className:"w-full bg-white dark:bg-white/10 p-2.5 pr-6 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none text-right dark:text-white"}),_.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[8px] font-black text-gray-400",children:"g"})]}),_.jsx("button",{onClick:()=>V(Ue),className:"text-red-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(CC,{size:16})})]},Ue))}),_.jsxs(jt,{variant:"ghost",className:"w-full mt-4 py-3 text-[10px] font-black uppercase tracking-widest text-royal-600 bg-royal-100/50 hover:bg-royal-100",onClick:le,isLoading:d,children:[_.jsx(Lm,{size:14,className:`mr-2 ${d?"animate-spin":""}`}),"Recalculate Totals"]})]}),_.jsx(jt,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",onClick:pe,isLoading:m,disabled:m,children:n?"Update Record":"Save & Track"})]})]})})},Y3=({currentGoal:t,onClose:e,onSave:n})=>{const[r,i]=R.useState(t.toString()),o=()=>{const a=parseInt(r,10);!isNaN(a)&&a>0&&n(a)};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white w-full max-w-xs rounded-[32px] p-6 shadow-2xl border border-white/50 animate-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg font-extrabold text-gray-900",children:"Daily Calorie Goal"}),_.jsx("button",{onClick:e,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:_.jsx(ha,{size:18,className:"text-gray-600"})})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Target Calories"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:r,onChange:a=>i(a.target.value),className:"w-full p-5 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 transition-all font-extrabold text-3xl text-center text-gray-900",autoFocus:!0}),_.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-bold",children:"kcal"})]})]}),_.jsx(jt,{className:"w-full py-4 shadow-lg shadow-royal-200",onClick:o,children:"Update Goal"})]})})},rP=({entry:t,onClose:e,onDelete:n,onEdit:r})=>{const[i,o]=R.useState(!1),[a,s]=R.useState(!1),l=async()=>{confirm("Permanently remove this record?")&&(o(!0),await n(t.id),e())},u=async()=>{if(confirm("Remove the photo to save storage space? Nutritional data will be kept.")){s(!0);try{const c={...t,imageUrl:void 0};await ZC(c),e(),window.dispatchEvent(new CustomEvent("food-entry-updated"))}catch(c){console.error("Failed to clear image",c)}finally{s(!1)}}};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 dark:bg-black/60 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl dark:shadow-black border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[_.jsxs("div",{className:"relative h-64 bg-gray-100 dark:bg-white/5",children:[t.imageUrl?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"}),_.jsxs("button",{onClick:u,disabled:a,className:"absolute bottom-4 right-4 p-2.5 bg-white/20 hover:bg-white/40 text-white rounded-full backdrop-blur-md border border-white/20 transition-all flex items-center gap-2",title:"Remove photo to save space",children:[a?_.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):_.jsx(P2,{size:18}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Clear Image"})]})]}):_.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 dark:text-gray-700",children:[_.jsx(Wc,{size:48,className:"mb-2 opacity-50"}),_.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"No Photo Attached"})]}),_.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 dark:bg-black/40 text-gray-900 dark:text-white rounded-full backdrop-blur-md hover:bg-white dark:hover:bg-black/60 shadow-lg transition-colors z-10",children:_.jsx(ha,{size:20})}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent pointer-events-none"}),_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white pointer-events-none",children:[_.jsx("h2",{className:"text-3xl font-black leading-tight tracking-tight",children:t.food_item}),_.jsxs("div",{className:"flex items-center gap-4 text-xs text-white/70 font-bold mt-2",children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(Ef,{size:14})," ",t.date]}),_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(SC,{size:14})," ",t.time]})]})]})]}),_.jsxs("div",{className:"p-8 space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[_.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/20 p-3 rounded-2xl flex flex-col items-center border border-royal-100/50",children:[_.jsx("span",{className:"text-lg font-black text-royal-600",children:t.calories}),_.jsx("span",{className:"text-[8px] font-black uppercase text-royal-400",children:"kcal"})]}),_.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/20 p-3 rounded-2xl flex flex-col items-center border border-emerald-100/50",children:[_.jsxs("span",{className:"text-lg font-black text-emerald-600",children:[t.protein,"g"]}),_.jsx("span",{className:"text-[8px] font-black uppercase text-emerald-400",children:"Prot"})]}),_.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-2xl flex flex-col items-center border border-blue-100/50",children:[_.jsxs("span",{className:"text-lg font-black text-blue-600",children:[t.carbs,"g"]}),_.jsx("span",{className:"text-[8px] font-black uppercase text-blue-400",children:"Carb"})]}),_.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 p-3 rounded-2xl flex flex-col items-center border border-orange-100/50",children:[_.jsxs("span",{className:"text-lg font-black text-orange-600",children:[t.fat,"g"]}),_.jsx("span",{className:"text-[8px] font-black uppercase text-orange-400",children:"Fat"})]})]}),t.ingredients&&t.ingredients.length>0&&_.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-3xl p-6 border border-gray-100 dark:border-white/5",children:[_.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[_.jsx(I2,{size:14})," Ingredient Receipt"]}),_.jsx("div",{className:"space-y-3",children:t.ingredients.map((c,d)=>_.jsxs("div",{className:"flex justify-between items-center text-sm font-bold border-b border-gray-100 dark:border-white/5 pb-2 last:border-0 last:pb-0",children:[_.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c.name}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("span",{className:"text-gray-400",children:[c.grams,"g"]}),_.jsxs("span",{className:"text-royal-500 text-xs w-12 text-right",children:[c.calories,"cal"]})]})]},d))})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs(jt,{variant:"ghost",className:"flex-1 text-red-500 py-4 font-black",onClick:l,isLoading:i,children:[_.jsx(CC,{size:18,className:"mr-2"})," Delete"]}),_.jsxs(jt,{className:"flex-[2] py-4 font-black shadow-lg shadow-royal-200",onClick:()=>r(t),children:[_.jsx(TC,{size:18,className:"mr-2"})," Edit Meal"]})]})]})]})})};var X3=Array.isArray,Xt=X3,Q3=typeof bu=="object"&&bu&&bu.Object===Object&&bu,iP=Q3,Z3=iP,eG=typeof self=="object"&&self&&self.Object===Object&&self,tG=Z3||eG||Function("return this")(),ur=tG,nG=ur,rG=nG.Symbol,hu=rG,y_=hu,oP=Object.prototype,iG=oP.hasOwnProperty,oG=oP.toString,vs=y_?y_.toStringTag:void 0;function aG(t){var e=iG.call(t,vs),n=t[vs];try{t[vs]=void 0;var r=!0}catch{}var i=oG.call(t);return r&&(e?t[vs]=n:delete t[vs]),i}var sG=aG,lG=Object.prototype,uG=lG.toString;function cG(t){return uG.call(t)}var dG=cG,v_=hu,fG=sG,hG=dG,pG="[object Null]",mG="[object Undefined]",w_=v_?v_.toStringTag:void 0;function gG(t){return t==null?t===void 0?mG:pG:w_&&w_ in Object(t)?fG(t):hG(t)}var Rr=gG;function yG(t){return t!=null&&typeof t=="object"}var Mr=yG,vG=Rr,wG=Mr,bG="[object Symbol]";function xG(t){return typeof t=="symbol"||wG(t)&&vG(t)==bG}var Wa=xG,_G=Xt,SG=Wa,EG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TG=/^\w*$/;function AG(t,e){if(_G(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||SG(t)?!0:TG.test(t)||!EG.test(t)||e!=null&&t in Object(e)}var t0=AG;function CG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fi=CG;const Ka=Ie(fi);var kG=Rr,PG=fi,IG="[object AsyncFunction]",OG="[object Function]",NG="[object GeneratorFunction]",RG="[object Proxy]";function MG(t){if(!PG(t))return!1;var e=kG(t);return e==OG||e==NG||e==IG||e==RG}var n0=MG;const fe=Ie(n0);var $G=ur,DG=$G["__core-js_shared__"],LG=DG,mp=LG,b_=function(){var t=/[^.]+$/.exec(mp&&mp.keys&&mp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jG(t){return!!b_&&b_ in t}var UG=jG,FG=Function.prototype,BG=FG.toString;function GG(t){if(t!=null){try{return BG.call(t)}catch{}try{return t+""}catch{}}return""}var aP=GG,VG=n0,HG=UG,zG=fi,qG=aP,WG=/[\\^$.*+?()[\]{}|]/g,KG=/^\[object .+?Constructor\]$/,JG=Function.prototype,YG=Object.prototype,XG=JG.toString,QG=YG.hasOwnProperty,ZG=RegExp("^"+XG.call(QG).replace(WG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eV(t){if(!zG(t)||HG(t))return!1;var e=VG(t)?ZG:KG;return e.test(qG(t))}var tV=eV;function nV(t,e){return t==null?void 0:t[e]}var rV=nV,iV=tV,oV=rV;function aV(t,e){var n=oV(t,e);return iV(n)?n:void 0}var io=aV,sV=io,lV=sV(Object,"create"),jf=lV,x_=jf;function uV(){this.__data__=x_?x_(null):{},this.size=0}var cV=uV;function dV(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var fV=dV,hV=jf,pV="__lodash_hash_undefined__",mV=Object.prototype,gV=mV.hasOwnProperty;function yV(t){var e=this.__data__;if(hV){var n=e[t];return n===pV?void 0:n}return gV.call(e,t)?e[t]:void 0}var vV=yV,wV=jf,bV=Object.prototype,xV=bV.hasOwnProperty;function _V(t){var e=this.__data__;return wV?e[t]!==void 0:xV.call(e,t)}var SV=_V,EV=jf,TV="__lodash_hash_undefined__";function AV(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=EV&&e===void 0?TV:e,this}var CV=AV,kV=cV,PV=fV,IV=vV,OV=SV,NV=CV;function Ja(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ja.prototype.clear=kV;Ja.prototype.delete=PV;Ja.prototype.get=IV;Ja.prototype.has=OV;Ja.prototype.set=NV;var RV=Ja;function MV(){this.__data__=[],this.size=0}var $V=MV;function DV(t,e){return t===e||t!==t&&e!==e}var r0=DV,LV=r0;function jV(t,e){for(var n=t.length;n--;)if(LV(t[n][0],e))return n;return-1}var Uf=jV,UV=Uf,FV=Array.prototype,BV=FV.splice;function GV(t){var e=this.__data__,n=UV(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():BV.call(e,n,1),--this.size,!0}var VV=GV,HV=Uf;function zV(t){var e=this.__data__,n=HV(e,t);return n<0?void 0:e[n][1]}var qV=zV,WV=Uf;function KV(t){return WV(this.__data__,t)>-1}var JV=KV,YV=Uf;function XV(t,e){var n=this.__data__,r=YV(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var QV=XV,ZV=$V,eH=VV,tH=qV,nH=JV,rH=QV;function Ya(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ya.prototype.clear=ZV;Ya.prototype.delete=eH;Ya.prototype.get=tH;Ya.prototype.has=nH;Ya.prototype.set=rH;var Ff=Ya,iH=io,oH=ur,aH=iH(oH,"Map"),i0=aH,__=RV,sH=Ff,lH=i0;function uH(){this.size=0,this.__data__={hash:new __,map:new(lH||sH),string:new __}}var cH=uH;function dH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var fH=dH,hH=fH;function pH(t,e){var n=t.__data__;return hH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Bf=pH,mH=Bf;function gH(t){var e=mH(this,t).delete(t);return this.size-=e?1:0,e}var yH=gH,vH=Bf;function wH(t){return vH(this,t).get(t)}var bH=wH,xH=Bf;function _H(t){return xH(this,t).has(t)}var SH=_H,EH=Bf;function TH(t,e){var n=EH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var AH=TH,CH=cH,kH=yH,PH=bH,IH=SH,OH=AH;function Xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xa.prototype.clear=CH;Xa.prototype.delete=kH;Xa.prototype.get=PH;Xa.prototype.has=IH;Xa.prototype.set=OH;var o0=Xa,sP=o0,NH="Expected a function";function a0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(NH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(a0.Cache||sP),n}a0.Cache=sP;var lP=a0;const RH=Ie(lP);var MH=lP,$H=500;function DH(t){var e=MH(t,function(r){return n.size===$H&&n.clear(),r}),n=e.cache;return e}var LH=DH,jH=LH,UH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FH=/\\(\\)?/g,BH=jH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UH,function(n,r,i,o){e.push(i?o.replace(FH,"$1"):r||n)}),e}),GH=BH;function VH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var s0=VH,S_=hu,HH=s0,zH=Xt,qH=Wa,E_=S_?S_.prototype:void 0,T_=E_?E_.toString:void 0;function uP(t){if(typeof t=="string")return t;if(zH(t))return HH(t,uP)+"";if(qH(t))return T_?T_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var WH=uP,KH=WH;function JH(t){return t==null?"":KH(t)}var cP=JH,YH=Xt,XH=t0,QH=GH,ZH=cP;function ez(t,e){return YH(t)?t:XH(t,e)?[t]:QH(ZH(t))}var dP=ez,tz=Wa;function nz(t){if(typeof t=="string"||tz(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gf=nz,rz=dP,iz=Gf;function oz(t,e){e=rz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[iz(e[n++])];return n&&n==r?t:void 0}var l0=oz,az=l0;function sz(t,e,n){var r=t==null?void 0:az(t,e);return r===void 0?n:r}var fP=sz;const Sn=Ie(fP);function lz(t){return t==null}var uz=lz;const se=Ie(uz);var cz=Rr,dz=Xt,fz=Mr,hz="[object String]";function pz(t){return typeof t=="string"||!dz(t)&&fz(t)&&cz(t)==hz}var mz=pz;const Yi=Ie(mz);var hP={exports:{}},Se={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0=Symbol.for("react.element"),c0=Symbol.for("react.portal"),Vf=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Wf=Symbol.for("react.context"),gz=Symbol.for("react.server_context"),Kf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),Xf=Symbol.for("react.memo"),Qf=Symbol.for("react.lazy"),yz=Symbol.for("react.offscreen"),pP;pP=Symbol.for("react.module.reference");function Pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case u0:switch(t=t.type,t){case Vf:case zf:case Hf:case Jf:case Yf:return t;default:switch(t=t&&t.$$typeof,t){case gz:case Wf:case Kf:case Qf:case Xf:case qf:return t;default:return e}}case c0:return e}}}Se.ContextConsumer=Wf;Se.ContextProvider=qf;Se.Element=u0;Se.ForwardRef=Kf;Se.Fragment=Vf;Se.Lazy=Qf;Se.Memo=Xf;Se.Portal=c0;Se.Profiler=zf;Se.StrictMode=Hf;Se.Suspense=Jf;Se.SuspenseList=Yf;Se.isAsyncMode=function(){return!1};Se.isConcurrentMode=function(){return!1};Se.isContextConsumer=function(t){return Pn(t)===Wf};Se.isContextProvider=function(t){return Pn(t)===qf};Se.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===u0};Se.isForwardRef=function(t){return Pn(t)===Kf};Se.isFragment=function(t){return Pn(t)===Vf};Se.isLazy=function(t){return Pn(t)===Qf};Se.isMemo=function(t){return Pn(t)===Xf};Se.isPortal=function(t){return Pn(t)===c0};Se.isProfiler=function(t){return Pn(t)===zf};Se.isStrictMode=function(t){return Pn(t)===Hf};Se.isSuspense=function(t){return Pn(t)===Jf};Se.isSuspenseList=function(t){return Pn(t)===Yf};Se.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vf||t===zf||t===Hf||t===Jf||t===Yf||t===yz||typeof t=="object"&&t!==null&&(t.$$typeof===Qf||t.$$typeof===Xf||t.$$typeof===qf||t.$$typeof===Wf||t.$$typeof===Kf||t.$$typeof===pP||t.getModuleId!==void 0)};Se.typeOf=Pn;hP.exports=Se;var vz=hP.exports,wz=Rr,bz=Mr,xz="[object Number]";function _z(t){return typeof t=="number"||bz(t)&&wz(t)==xz}var mP=_z;const Sz=Ie(mP);var Ez=mP;function Tz(t){return Ez(t)&&t!=+t}var Az=Tz;const Qa=Ie(Az);var Gn=function(e){return e===0?0:e>0?1:-1},Ri=function(e){return Yi(e)&&e.indexOf("%")===e.length-1},W=function(e){return Sz(e)&&!Qa(e)},Cz=function(e){return se(e)},ct=function(e){return W(e)||Yi(e)},kz=0,oo=function(e){var n=++kz;return"".concat(e||"").concat(n)},Xi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(e)&&!Yi(e))return r;var o;if(Ri(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Qa(o)&&(o=r),i&&o>n&&(o=n),o},Ao=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Pz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ye=function(e,n){return W(e)&&W(n)?function(r){return e+r*(n-e)}:function(){return n}};function od(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Sn(r,e))===n})}var Iz=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,l=-1/0,u=0,c=0,d=0;d<n;d++)u=e[d].cx||0,c=e[d].cy||0,r+=u,i+=c,o+=u*c,a+=u*u,s=Math.min(s,u),l=Math.max(l,u);var h=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:l,a:h,b:(i-h*r)/n}},Oz=function(e,n){return W(e)&&W(n)?e-n:Yi(e)&&Yi(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ta(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}var Nz=["viewBox","children"],Rz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],A_=["points","pathLength"],gp={svg:Nz,polygon:A_,polyline:A_},d0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ad=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!Ka(r))return null;var i={};return Object.keys(r).forEach(function(o){d0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Mz=function(e,n,r){return function(i){return e(n,r,i),null}},Tl=function(e,n,r){if(!Ka(e)||fg(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];d0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Mz(a,n,r))}),i},$z=["children"],Dz=["children"];function C_(t,e){if(t==null)return{};var n=Lz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}var k_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},P_=null,yp=null,f0=function t(e){if(e===P_&&Array.isArray(yp))return yp;var n=[];return R.Children.forEach(e,function(r){se(r)||(vz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),yp=n,P_=e,n};function Yt(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wr(i)}):r=[wr(e)],f0(t).forEach(function(i){var o=Sn(i,"type.displayName")||Sn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function nn(t,e){var n=Yt(t,e);return n&&n[0]}var I_=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!W(r)||r<=0||!W(i)||i<=0)},jz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Uz=function(e){return e&&e.type&&Yi(e.type)&&jz.indexOf(e.type)>=0},gP=function(e){return e&&hg(e)==="object"&&"clipDot"in e},Fz=function(e,n,r,i){var o,a=(o=gp==null?void 0:gp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!fe(e)&&(i&&a.includes(n)||Rz.includes(n))||r&&d0.includes(n)},ue=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Ka(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Fz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},pg=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return O_(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!O_(o,a))return!1}return!0},O_=function(e,n){if(se(e)&&se(n))return!0;if(!se(e)&&!se(n)){var r=e.props||{},i=r.children,o=C_(r,$z),a=n.props||{},s=a.children,l=C_(a,Dz);return i&&s?ta(o,l)&&pg(i,s):!i&&!s?ta(o,l):!1}return!1},N_=function(e,n){var r=[],i={};return f0(e).forEach(function(o,a){if(Uz(o))r.push(o);else if(o){var s=wr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},Bz=function(e){var n=e&&e.type;return n&&k_[n]?k_[n]:null},Gz=function(e,n){return f0(n).indexOf(e)},Vz=["children","width","height","viewBox","className","style","title","desc"];function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function Hz(t,e){if(t==null)return{};var n=zz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gg(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Hz(t,Vz),c=i||{width:n,height:r,x:0,y:0},d=de("recharts-surface",o);return N.createElement("svg",mg({},ue(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),N.createElement("title",null,s),N.createElement("desc",null,l),e)}var qz=["children","className"];function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function Wz(t,e){if(t==null)return{};var n=Kz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var be=N.forwardRef(function(t,e){var n=t.children,r=t.className,i=Wz(t,qz),o=de("recharts-layer",r);return N.createElement("g",yg({className:o},ue(i,!0),{ref:e}),n)}),Fi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Jz(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Yz=Jz,Xz=Yz;function Qz(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Xz(t,e,n)}var Zz=Qz,eq="\\ud800-\\udfff",tq="\\u0300-\\u036f",nq="\\ufe20-\\ufe2f",rq="\\u20d0-\\u20ff",iq=tq+nq+rq,oq="\\ufe0e\\ufe0f",aq="\\u200d",sq=RegExp("["+aq+eq+iq+oq+"]");function lq(t){return sq.test(t)}var yP=lq;function uq(t){return t.split("")}var cq=uq,vP="\\ud800-\\udfff",dq="\\u0300-\\u036f",fq="\\ufe20-\\ufe2f",hq="\\u20d0-\\u20ff",pq=dq+fq+hq,mq="\\ufe0e\\ufe0f",gq="["+vP+"]",vg="["+pq+"]",wg="\\ud83c[\\udffb-\\udfff]",yq="(?:"+vg+"|"+wg+")",wP="[^"+vP+"]",bP="(?:\\ud83c[\\udde6-\\uddff]){2}",xP="[\\ud800-\\udbff][\\udc00-\\udfff]",vq="\\u200d",_P=yq+"?",SP="["+mq+"]?",wq="(?:"+vq+"(?:"+[wP,bP,xP].join("|")+")"+SP+_P+")*",bq=SP+_P+wq,xq="(?:"+[wP+vg+"?",vg,bP,xP,gq].join("|")+")",_q=RegExp(wg+"(?="+wg+")|"+xq+bq,"g");function Sq(t){return t.match(_q)||[]}var Eq=Sq,Tq=cq,Aq=yP,Cq=Eq;function kq(t){return Aq(t)?Cq(t):Tq(t)}var Pq=kq,Iq=Zz,Oq=yP,Nq=Pq,Rq=cP;function Mq(t){return function(e){e=Rq(e);var n=Oq(e)?Nq(e):void 0,r=n?n[0]:e.charAt(0),i=n?Iq(n,1).join(""):e.slice(1);return r[t]()+i}}var $q=Mq,Dq=$q,Lq=Dq("toUpperCase"),jq=Lq;const Zf=Ie(jq);function ke(t){return function(){return t}}const EP=Math.cos,sd=Math.sin,Yn=Math.sqrt,ld=Math.PI,eh=2*ld,bg=Math.PI,xg=2*bg,Ei=1e-6,Uq=xg-Ei;function TP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Fq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return TP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Bq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?TP:Fq(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ei)if(!(Math.abs(d*l-u*c)>Ei)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,g=i-s,y=l*l+u*u,w=m*m+g*g,v=Math.sqrt(y),b=Math.sqrt(h),x=o*Math.tan((bg-Math.acos((y+h-w)/(2*v*b)))/2),T=x/b,S=x/v;Math.abs(T-1)>Ei&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*m>c*g)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ei||Math.abs(this._y1-c)>Ei)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%xg+xg),h>Uq?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Ei&&this._append`A${r},${r},0,${+(h>=bg)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function h0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Bq(e)}function p0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function AP(t){this._context=t}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function th(t){return new AP(t)}function CP(t){return t[0]}function kP(t){return t[1]}function PP(t,e){var n=ke(!0),r=null,i=th,o=null,a=h0(s);t=typeof t=="function"?t:t===void 0?CP:ke(t),e=typeof e=="function"?e:e===void 0?kP:ke(e);function s(l){var u,c=(l=p0(l)).length,d,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ke(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ke(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ke(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Ku(t,e,n){var r=null,i=ke(!0),o=null,a=th,s=null,l=h0(u);t=typeof t=="function"?t:t===void 0?CP:ke(+t),e=typeof e=="function"?e:ke(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?kP:ke(+n);function u(d){var h,m,g,y=(d=p0(d)).length,w,v=!1,b,x=new Array(y),T=new Array(y);for(o==null&&(s=a(b=l())),h=0;h<=y;++h){if(!(h<y&&i(w=d[h],h,d))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(x[g],T[g]);s.lineEnd(),s.areaEnd()}v&&(x[h]=+t(w,h,d),T[h]=+e(w,h,d),s.point(r?+r(w,h,d):x[h],n?+n(w,h,d):T[h]))}if(b)return s=null,b+""||null}function c(){return PP().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ke(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ke(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ke(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ke(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ke(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ke(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ke(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class IP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Gq(t){return new IP(t,!0)}function Vq(t){return new IP(t,!1)}const m0={draw(t,e){const n=Yn(e/ld);t.moveTo(n,0),t.arc(0,0,n,0,eh)}},Hq={draw(t,e){const n=Yn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},OP=Yn(1/3),zq=OP*2,qq={draw(t,e){const n=Yn(e/zq),r=n*OP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Wq={draw(t,e){const n=Yn(e),r=-n/2;t.rect(r,r,n,n)}},Kq=.8908130915292852,NP=sd(ld/10)/sd(7*ld/10),Jq=sd(eh/10)*NP,Yq=-EP(eh/10)*NP,Xq={draw(t,e){const n=Yn(e*Kq),r=Jq*n,i=Yq*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=eh*o/5,s=EP(a),l=sd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},vp=Yn(3),Qq={draw(t,e){const n=-Yn(e/(vp*3));t.moveTo(0,n*2),t.lineTo(-vp*n,-n),t.lineTo(vp*n,-n),t.closePath()}},hn=-.5,pn=Yn(3)/2,_g=1/Yn(12),Zq=(_g/2+1)*3,e6={draw(t,e){const n=Yn(e/Zq),r=n/2,i=n*_g,o=r,a=n*_g+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(hn*r-pn*i,pn*r+hn*i),t.lineTo(hn*o-pn*a,pn*o+hn*a),t.lineTo(hn*s-pn*l,pn*s+hn*l),t.lineTo(hn*r+pn*i,hn*i-pn*r),t.lineTo(hn*o+pn*a,hn*a-pn*o),t.lineTo(hn*s+pn*l,hn*l-pn*s),t.closePath()}};function t6(t,e){let n=null,r=h0(i);t=typeof t=="function"?t:ke(t||m0),e=typeof e=="function"?e:ke(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ke(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ke(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ud(){}function cd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function RP(t){this._context=t}RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n6(t){return new RP(t)}function MP(t){this._context=t}MP.prototype={areaStart:ud,areaEnd:ud,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function r6(t){return new MP(t)}function $P(t){this._context=t}$P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i6(t){return new $P(t)}function DP(t){this._context=t}DP.prototype={areaStart:ud,areaEnd:ud,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function o6(t){return new DP(t)}function R_(t){return t<0?-1:1}function M_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(R_(o)+R_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function $_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function wp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function dd(t){this._context=t}dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wp(this,this._t0,$_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wp(this,$_(this,n=M_(this,t,e)),n);break;default:wp(this,this._t0,n=M_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function LP(t){this._context=new jP(t)}(LP.prototype=Object.create(dd.prototype)).point=function(t,e){dd.prototype.point.call(this,e,t)};function jP(t){this._context=t}jP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function a6(t){return new dd(t)}function s6(t){return new LP(t)}function UP(t){this._context=t}UP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=D_(t),i=D_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function D_(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function l6(t){return new UP(t)}function nh(t,e){this._context=t,this._t=e}nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function u6(t){return new nh(t,.5)}function c6(t){return new nh(t,0)}function d6(t){return new nh(t,1)}function ma(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Sg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function f6(t,e){return t[e]}function h6(t){const e=[];return e.key=t,e}function p6(){var t=ke([]),e=Sg,n=ma,r=f6;function i(o){var a=Array.from(t.apply(this,arguments),h6),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=p0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ke(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ke(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Sg:typeof o=="function"?o:ke(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ma,i):n},i}function m6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ma(t,e)}}function g6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ma(t,e)}}function y6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,m=(d-h)/2,g=0;g<s;++g){var y=t[e[g]],w=y[r][1]||0,v=y[r-1][1]||0;m+=w-v}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ma(t,e)}}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}var v6=["type","size","sizeType"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function L_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L_(Object(n),!0).forEach(function(r){w6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w6(t,e,n){return e=b6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b6(t){var e=x6(t,"string");return Al(e)=="symbol"?e:e+""}function x6(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _6(t,e){if(t==null)return{};var n=S6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FP={symbolCircle:m0,symbolCross:Hq,symbolDiamond:qq,symbolSquare:Wq,symbolStar:Xq,symbolTriangle:Qq,symbolWye:e6},E6=Math.PI/180,T6=function(e){var n="symbol".concat(Zf(e));return FP[n]||m0},A6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*E6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},C6=function(e,n){FP["symbol".concat(Zf(e))]=n},rh=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=_6(e,v6),u=j_(j_({},l),{},{type:r,size:o,sizeType:s}),c=function(){var w=T6(r),v=t6().type(w).size(A6(o,s,r));return v()},d=u.className,h=u.cx,m=u.cy,g=ue(u,!0);return h===+h&&m===+m&&o===+o?N.createElement("path",Eg({},g,{className:de("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};rh.registerSymbol=C6;function ga(t){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function U_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(n),!0).forEach(function(r){Cl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GP(r.key),r)}}function O6(t,e,n){return e&&I6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N6(t,e,n){return e=fd(e),R6(t,BP()?Reflect.construct(e,n||[],fd(t).constructor):e.apply(t,n))}function R6(t,e){if(e&&(ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M6(t)}function M6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!t})()}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fd(t)}function $6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ag(t,e)}function Ag(t,e){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ag(t,e)}function Cl(t,e,n){return e=GP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GP(t){var e=D6(t,"string");return ga(e)=="symbol"?e:e+""}function D6(t,e){if(ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mn=32,g0=function(t){function e(){return P6(this,e),N6(this,e,arguments)}return $6(e,t),O6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=mn/2,a=mn/6,s=mn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:mn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(mn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return N.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(mn/8,"h").concat(mn,"v").concat(mn*3/4,"h").concat(-mn,"z"),className:"recharts-legend-icon"});if(N.isValidElement(r.legendIcon)){var u=k6({},r);return delete u.legendIcon,N.cloneElement(r.legendIcon,u)}return N.createElement(rh,{fill:l,cx:o,cy:o,size:mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:mn,height:mn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,g){var y=m.formatter||l,w=de(Cl(Cl({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=fe(m.value)?null:m.value;Fi(!fe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return N.createElement("li",Tg({className:w,style:d,key:"legend-item-".concat(g)},Tl(r.props,m,g)),N.createElement(gg,{width:a,height:a,viewBox:c,style:h},r.renderIcon(m)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(v,m,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(R.PureComponent);Cl(g0,"displayName","Legend");Cl(g0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var L6=Ff;function j6(){this.__data__=new L6,this.size=0}var U6=j6;function F6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var B6=F6;function G6(t){return this.__data__.get(t)}var V6=G6;function H6(t){return this.__data__.has(t)}var z6=H6,q6=Ff,W6=i0,K6=o0,J6=200;function Y6(t,e){var n=this.__data__;if(n instanceof q6){var r=n.__data__;if(!W6||r.length<J6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new K6(r)}return n.set(t,e),this.size=n.size,this}var X6=Y6,Q6=Ff,Z6=U6,e8=B6,t8=V6,n8=z6,r8=X6;function Za(t){var e=this.__data__=new Q6(t);this.size=e.size}Za.prototype.clear=Z6;Za.prototype.delete=e8;Za.prototype.get=t8;Za.prototype.has=n8;Za.prototype.set=r8;var VP=Za,i8="__lodash_hash_undefined__";function o8(t){return this.__data__.set(t,i8),this}var a8=o8;function s8(t){return this.__data__.has(t)}var l8=s8,u8=o0,c8=a8,d8=l8;function hd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new u8;++e<n;)this.add(t[e])}hd.prototype.add=hd.prototype.push=c8;hd.prototype.has=d8;var HP=hd;function f8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var zP=f8;function h8(t,e){return t.has(e)}var qP=h8,p8=HP,m8=zP,g8=qP,y8=1,v8=2;function w8(t,e,n,r,i,o){var a=n&y8,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,m=n&v8?new p8:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var g=t[d],y=e[d];if(r)var w=a?r(y,g,d,e,t,o):r(g,y,d,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(m){if(!m8(e,function(v,b){if(!g8(m,b)&&(g===v||i(g,v,n,r,o)))return m.push(b)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var WP=w8,b8=ur,x8=b8.Uint8Array,_8=x8;function S8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var E8=S8;function T8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var y0=T8,F_=hu,B_=_8,A8=r0,C8=WP,k8=E8,P8=y0,I8=1,O8=2,N8="[object Boolean]",R8="[object Date]",M8="[object Error]",$8="[object Map]",D8="[object Number]",L8="[object RegExp]",j8="[object Set]",U8="[object String]",F8="[object Symbol]",B8="[object ArrayBuffer]",G8="[object DataView]",G_=F_?F_.prototype:void 0,bp=G_?G_.valueOf:void 0;function V8(t,e,n,r,i,o,a){switch(n){case G8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B8:return!(t.byteLength!=e.byteLength||!o(new B_(t),new B_(e)));case N8:case R8:case D8:return A8(+t,+e);case M8:return t.name==e.name&&t.message==e.message;case L8:case U8:return t==e+"";case $8:var s=k8;case j8:var l=r&I8;if(s||(s=P8),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=O8,a.set(t,e);var c=C8(s(t),s(e),r,i,o,a);return a.delete(t),c;case F8:if(bp)return bp.call(t)==bp.call(e)}return!1}var H8=V8;function z8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var KP=z8,q8=KP,W8=Xt;function K8(t,e,n){var r=e(t);return W8(t)?r:q8(r,n(t))}var J8=K8;function Y8(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var X8=Y8;function Q8(){return[]}var Z8=Q8,eW=X8,tW=Z8,nW=Object.prototype,rW=nW.propertyIsEnumerable,V_=Object.getOwnPropertySymbols,iW=V_?function(t){return t==null?[]:(t=Object(t),eW(V_(t),function(e){return rW.call(t,e)}))}:tW,oW=iW;function aW(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sW=aW,lW=Rr,uW=Mr,cW="[object Arguments]";function dW(t){return uW(t)&&lW(t)==cW}var fW=dW,H_=fW,hW=Mr,JP=Object.prototype,pW=JP.hasOwnProperty,mW=JP.propertyIsEnumerable,gW=H_(function(){return arguments}())?H_:function(t){return hW(t)&&pW.call(t,"callee")&&!mW.call(t,"callee")},v0=gW,pd={exports:{}};function yW(){return!1}var vW=yW;pd.exports;(function(t,e){var n=ur,r=vW,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(pd,pd.exports);var YP=pd.exports,wW=9007199254740991,bW=/^(?:0|[1-9]\d*)$/;function xW(t,e){var n=typeof t;return e=e??wW,!!e&&(n=="number"||n!="symbol"&&bW.test(t))&&t>-1&&t%1==0&&t<e}var w0=xW,_W=9007199254740991;function SW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_W}var b0=SW,EW=Rr,TW=b0,AW=Mr,CW="[object Arguments]",kW="[object Array]",PW="[object Boolean]",IW="[object Date]",OW="[object Error]",NW="[object Function]",RW="[object Map]",MW="[object Number]",$W="[object Object]",DW="[object RegExp]",LW="[object Set]",jW="[object String]",UW="[object WeakMap]",FW="[object ArrayBuffer]",BW="[object DataView]",GW="[object Float32Array]",VW="[object Float64Array]",HW="[object Int8Array]",zW="[object Int16Array]",qW="[object Int32Array]",WW="[object Uint8Array]",KW="[object Uint8ClampedArray]",JW="[object Uint16Array]",YW="[object Uint32Array]",Re={};Re[GW]=Re[VW]=Re[HW]=Re[zW]=Re[qW]=Re[WW]=Re[KW]=Re[JW]=Re[YW]=!0;Re[CW]=Re[kW]=Re[FW]=Re[PW]=Re[BW]=Re[IW]=Re[OW]=Re[NW]=Re[RW]=Re[MW]=Re[$W]=Re[DW]=Re[LW]=Re[jW]=Re[UW]=!1;function XW(t){return AW(t)&&TW(t.length)&&!!Re[EW(t)]}var QW=XW;function ZW(t){return function(e){return t(e)}}var XP=ZW,md={exports:{}};md.exports;(function(t,e){var n=iP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(md,md.exports);var e9=md.exports,t9=QW,n9=XP,z_=e9,q_=z_&&z_.isTypedArray,r9=q_?n9(q_):t9,QP=r9,i9=sW,o9=v0,a9=Xt,s9=YP,l9=w0,u9=QP,c9=Object.prototype,d9=c9.hasOwnProperty;function f9(t,e){var n=a9(t),r=!n&&o9(t),i=!n&&!r&&s9(t),o=!n&&!r&&!i&&u9(t),a=n||r||i||o,s=a?i9(t.length,String):[],l=s.length;for(var u in t)(e||d9.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||l9(u,l)))&&s.push(u);return s}var h9=f9,p9=Object.prototype;function m9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||p9;return t===n}var g9=m9;function y9(t,e){return function(n){return t(e(n))}}var ZP=y9,v9=ZP,w9=v9(Object.keys,Object),b9=w9,x9=g9,_9=b9,S9=Object.prototype,E9=S9.hasOwnProperty;function T9(t){if(!x9(t))return _9(t);var e=[];for(var n in Object(t))E9.call(t,n)&&n!="constructor"&&e.push(n);return e}var A9=T9,C9=n0,k9=b0;function P9(t){return t!=null&&k9(t.length)&&!C9(t)}var ih=P9,I9=h9,O9=A9,N9=ih;function R9(t){return N9(t)?I9(t):O9(t)}var x0=R9,M9=J8,$9=oW,D9=x0;function L9(t){return M9(t,D9,$9)}var j9=L9,W_=j9,U9=1,F9=Object.prototype,B9=F9.hasOwnProperty;function G9(t,e,n,r,i,o){var a=n&U9,s=W_(t),l=s.length,u=W_(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:B9.call(e,h)))return!1}var m=o.get(t),g=o.get(e);if(m&&g)return m==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=a;++d<l;){h=s[d];var v=t[h],b=e[h];if(r)var x=a?r(b,v,h,e,t,o):r(v,b,h,t,e,o);if(!(x===void 0?v===b||i(v,b,n,r,o):x)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var V9=G9,H9=io,z9=ur,q9=H9(z9,"DataView"),W9=q9,K9=io,J9=ur,Y9=K9(J9,"Promise"),X9=Y9,Q9=io,Z9=ur,eK=Q9(Z9,"Set"),eI=eK,tK=io,nK=ur,rK=tK(nK,"WeakMap"),iK=rK,Cg=W9,kg=i0,Pg=X9,Ig=eI,Og=iK,tI=Rr,es=aP,K_="[object Map]",oK="[object Object]",J_="[object Promise]",Y_="[object Set]",X_="[object WeakMap]",Q_="[object DataView]",aK=es(Cg),sK=es(kg),lK=es(Pg),uK=es(Ig),cK=es(Og),Ti=tI;(Cg&&Ti(new Cg(new ArrayBuffer(1)))!=Q_||kg&&Ti(new kg)!=K_||Pg&&Ti(Pg.resolve())!=J_||Ig&&Ti(new Ig)!=Y_||Og&&Ti(new Og)!=X_)&&(Ti=function(t){var e=tI(t),n=e==oK?t.constructor:void 0,r=n?es(n):"";if(r)switch(r){case aK:return Q_;case sK:return K_;case lK:return J_;case uK:return Y_;case cK:return X_}return e});var dK=Ti,xp=VP,fK=WP,hK=H8,pK=V9,Z_=dK,eS=Xt,tS=YP,mK=QP,gK=1,nS="[object Arguments]",rS="[object Array]",Ju="[object Object]",yK=Object.prototype,iS=yK.hasOwnProperty;function vK(t,e,n,r,i,o){var a=eS(t),s=eS(e),l=a?rS:Z_(t),u=s?rS:Z_(e);l=l==nS?Ju:l,u=u==nS?Ju:u;var c=l==Ju,d=u==Ju,h=l==u;if(h&&tS(t)){if(!tS(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new xp),a||mK(t)?fK(t,e,n,r,i,o):hK(t,e,l,n,r,i,o);if(!(n&gK)){var m=c&&iS.call(t,"__wrapped__"),g=d&&iS.call(e,"__wrapped__");if(m||g){var y=m?t.value():t,w=g?e.value():e;return o||(o=new xp),i(y,w,n,r,o)}}return h?(o||(o=new xp),pK(t,e,n,r,i,o)):!1}var wK=vK,bK=wK,oS=Mr;function nI(t,e,n,r,i){return t===e?!0:t==null||e==null||!oS(t)&&!oS(e)?t!==t&&e!==e:bK(t,e,n,r,nI,i)}var _0=nI,xK=VP,_K=_0,SK=1,EK=2;function TK(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new xK;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?_K(c,u,SK|EK,r,d):h))return!1}}return!0}var AK=TK,CK=fi;function kK(t){return t===t&&!CK(t)}var rI=kK,PK=rI,IK=x0;function OK(t){for(var e=IK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,PK(i)]}return e}var NK=OK;function RK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var iI=RK,MK=AK,$K=NK,DK=iI;function LK(t){var e=$K(t);return e.length==1&&e[0][2]?DK(e[0][0],e[0][1]):function(n){return n===t||MK(n,t,e)}}var jK=LK;function UK(t,e){return t!=null&&e in Object(t)}var FK=UK,BK=dP,GK=v0,VK=Xt,HK=w0,zK=b0,qK=Gf;function WK(t,e,n){e=BK(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=qK(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&zK(i)&&HK(a,i)&&(VK(t)||GK(t)))}var KK=WK,JK=FK,YK=KK;function XK(t,e){return t!=null&&YK(t,e,JK)}var QK=XK,ZK=_0,e7=fP,t7=QK,n7=t0,r7=rI,i7=iI,o7=Gf,a7=1,s7=2;function l7(t,e){return n7(t)&&r7(e)?i7(o7(t),e):function(n){var r=e7(n,t);return r===void 0&&r===e?t7(n,t):ZK(e,r,a7|s7)}}var u7=l7;function c7(t){return t}var ts=c7;function d7(t){return function(e){return e==null?void 0:e[t]}}var f7=d7,h7=l0;function p7(t){return function(e){return h7(e,t)}}var m7=p7,g7=f7,y7=m7,v7=t0,w7=Gf;function b7(t){return v7(t)?g7(w7(t)):y7(t)}var x7=b7,_7=jK,S7=u7,E7=ts,T7=Xt,A7=x7;function C7(t){return typeof t=="function"?t:t==null?E7:typeof t=="object"?T7(t)?S7(t[0],t[1]):_7(t):A7(t)}var ns=C7;function k7(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var P7=k7;function I7(t){return t!==t}var O7=I7;function N7(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var R7=N7,M7=P7,$7=O7,D7=R7;function L7(t,e,n){return e===e?D7(t,e,n):M7(t,$7,n)}var j7=L7,U7=j7;function F7(t,e){var n=t==null?0:t.length;return!!n&&U7(t,e,0)>-1}var B7=F7;function G7(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var V7=G7;function H7(){}var z7=H7,_p=eI,q7=z7,W7=y0,K7=1/0,J7=_p&&1/W7(new _p([,-0]))[1]==K7?function(t){return new _p(t)}:q7,Y7=J7,X7=HP,Q7=B7,Z7=V7,eJ=qP,tJ=Y7,nJ=y0,rJ=200;function iJ(t,e,n){var r=-1,i=Q7,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Z7;else if(o>=rJ){var u=e?null:tJ(t);if(u)return nJ(u);a=!1,i=eJ,l=new X7}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var oJ=iJ,aJ=ns,sJ=oJ;function lJ(t,e){return t&&t.length?sJ(t,aJ(e)):[]}var uJ=lJ;const aS=Ie(uJ);function oI(t,e,n){return e===!0?aS(t,n):fe(e)?aS(t,e):t}function ya(t){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(t)}var cJ=["ref"];function sS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(n),!0).forEach(function(r){oh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sI(r.key),r)}}function fJ(t,e,n){return e&&lS(t.prototype,e),n&&lS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hJ(t,e,n){return e=gd(e),pJ(t,aI()?Reflect.construct(e,n||[],gd(t).constructor):e.apply(t,n))}function pJ(t,e){if(e&&(ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mJ(t)}function mJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aI=function(){return!!t})()}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gd(t)}function gJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ng(t,e)}function Ng(t,e){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ng(t,e)}function oh(t,e,n){return e=sI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sI(t){var e=yJ(t,"string");return ya(e)=="symbol"?e:e+""}function yJ(t,e){if(ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vJ(t,e){if(t==null)return{};var n=wJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bJ(t){return t.value}function xJ(t,e){if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return N.createElement(t,e);e.ref;var n=vJ(e,cJ);return N.createElement(g0,n)}var uS=1,na=function(t){function e(){var n;dJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hJ(this,e,[].concat(i)),oh(n,"lastBoundingBox",{width:-1,height:-1}),n}return gJ(e,t),fJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uS||Math.abs(i.height-this.lastBoundingBox.height)>uS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return cr(cr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=cr(cr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return N.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},xJ(o,cr(cr({},this.props),{},{payload:oI(c,u,bJ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=cr(cr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&W(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);oh(na,"displayName","Legend");oh(na,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cS=hu,_J=v0,SJ=Xt,dS=cS?cS.isConcatSpreadable:void 0;function EJ(t){return SJ(t)||_J(t)||!!(dS&&t&&t[dS])}var TJ=EJ,AJ=KP,CJ=TJ;function lI(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=CJ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?lI(s,e-1,n,r,i):AJ(i,s):r||(i[i.length]=s)}return i}var uI=lI;function kJ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var PJ=kJ,IJ=PJ,OJ=IJ(),NJ=OJ,RJ=NJ,MJ=x0;function $J(t,e){return t&&RJ(t,e,MJ)}var cI=$J,DJ=ih;function LJ(t,e){return function(n,r){if(n==null)return n;if(!DJ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var jJ=LJ,UJ=cI,FJ=jJ,BJ=FJ(UJ),S0=BJ,GJ=S0,VJ=ih;function HJ(t,e){var n=-1,r=VJ(t)?Array(t.length):[];return GJ(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var dI=HJ;function zJ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var qJ=zJ,fS=Wa;function WJ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=fS(t),a=e!==void 0,s=e===null,l=e===e,u=fS(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var KJ=WJ,JJ=KJ;function YJ(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=JJ(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var XJ=YJ,Sp=s0,QJ=l0,ZJ=ns,eY=dI,tY=qJ,nY=XP,rY=XJ,iY=ts,oY=Xt;function aY(t,e,n){e.length?e=Sp(e,function(o){return oY(o)?function(a){return QJ(a,o.length===1?o[0]:o)}:o}):e=[iY];var r=-1;e=Sp(e,nY(ZJ));var i=eY(t,function(o,a,s){var l=Sp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return tY(i,function(o,a){return rY(o,a,n)})}var sY=aY;function lY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var uY=lY,cY=uY,hS=Math.max;function dY(t,e,n){return e=hS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=hS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),cY(t,this,s)}}var fY=dY;function hY(t){return function(){return t}}var pY=hY,mY=io,gY=function(){try{var t=mY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fI=gY,yY=pY,pS=fI,vY=ts,wY=pS?function(t,e){return pS(t,"toString",{configurable:!0,enumerable:!1,value:yY(e),writable:!0})}:vY,bY=wY,xY=800,_Y=16,SY=Date.now;function EY(t){var e=0,n=0;return function(){var r=SY(),i=_Y-(r-n);if(n=r,i>0){if(++e>=xY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var TY=EY,AY=bY,CY=TY,kY=CY(AY),PY=kY,IY=ts,OY=fY,NY=PY;function RY(t,e){return NY(OY(t,e,IY),t+"")}var MY=RY,$Y=r0,DY=ih,LY=w0,jY=fi;function UY(t,e,n){if(!jY(n))return!1;var r=typeof e;return(r=="number"?DY(n)&&LY(e,n.length):r=="string"&&e in n)?$Y(n[e],t):!1}var ah=UY,FY=uI,BY=sY,GY=MY,mS=ah,VY=GY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&mS(t,e[0],e[1])?e=[]:n>2&&mS(e[0],e[1],e[2])&&(e=[e[0]]),BY(t,FY(e,1),[])}),HY=VY;const E0=Ie(HY);function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function zY(t,e){return JY(t)||KY(t,e)||WY(t,e)||qY()}function qY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WY(t,e){if(t){if(typeof t=="string")return gS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gS(t,e)}}function gS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function JY(t){if(Array.isArray(t))return t}function yS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(n),!0).forEach(function(r){YY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YY(t,e,n){return e=XY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=QY(t,"string");return kl(e)=="symbol"?e:e+""}function QY(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZY(t){return Array.isArray(t)&&ct(t[0])&&ct(t[1])?t.join(" ~ "):t}var eX=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,y=e.label,w=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,x=function(){if(c&&c.length){var I={padding:0,margin:0},M=(h?E0(c,h):c).map(function(D,j){if(D.type==="none")return null;var L=Ep({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),G=D.formatter||d||ZY,$=D.value,U=D.name,B=$,q=U;if(G&&B!=null&&q!=null){var z=G($,U,D,j,c);if(Array.isArray(z)){var ee=zY(z,2);B=ee[0],q=ee[1]}else B=z}return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:L},ct(q)?N.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ct(q)?N.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,N.createElement("span",{className:"recharts-tooltip-item-value"},B),N.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},T=Ep({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Ep({margin:0},u),E=!se(y),A=E?y:"",k=de("recharts-default-tooltip",m),C=de("recharts-tooltip-label",g);E&&w&&c!==void 0&&c!==null&&(A=w(y,c));var P=b?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Rg({className:k,style:T},P),N.createElement("p",{className:C,style:S},N.isValidElement(A)?A:"".concat(A)),x())};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Yu(t,e,n){return e=tX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tX(t){var e=nX(t,"string");return Pl(e)=="symbol"?e:e+""}function nX(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ws="recharts-tooltip-wrapper",rX={visibility:"hidden"};function iX(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return de(ws,Yu(Yu(Yu(Yu({},"".concat(ws,"-right"),W(n)&&e&&W(e.x)&&n>=e.x),"".concat(ws,"-left"),W(n)&&e&&W(e.x)&&n<e.x),"".concat(ws,"-bottom"),W(r)&&e&&W(e.y)&&r>=e.y),"".concat(ws,"-top"),W(r)&&e&&W(e.y)&&r<e.y))}function vS(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&W(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,m=l[r];return h<m?Math.max(d,l[r]):Math.max(c,l[r])}var g=d+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(d,l[r])}function oX(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function aX(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=vS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=vS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=oX({translateX:c,translateY:d,useTranslate3d:s})):u=rX,{cssProperties:u,cssClasses:iX({translateX:c,translateY:d,coordinate:n})}}function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){$g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pI(r.key),r)}}function uX(t,e,n){return e&&lX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cX(t,e,n){return e=yd(e),dX(t,hI()?Reflect.construct(e,n||[],yd(t).constructor):e.apply(t,n))}function dX(t,e){if(e&&(va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fX(t)}function fX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!t})()}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yd(t)}function hX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mg(t,e)}function Mg(t,e){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mg(t,e)}function $g(t,e,n){return e=pI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pI(t){var e=pX(t,"string");return va(e)=="symbol"?e:e+""}function pX(t,e){if(va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xS=1,mX=function(t){function e(){var n;sX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cX(this,e,[].concat(i)),$g(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$g(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return hX(e,t),uX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>xS||Math.abs(r.height-this.state.lastBoundingBox.height)>xS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,y=i.reverseDirection,w=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,x=aX({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:v}),T=x.cssClasses,S=x.cssProperties,E=bS(bS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return N.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(k){r.wrapperNode=k}},u)}}])}(R.PureComponent),gX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hi={isSsr:gX()};function wa(t){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}function _S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(n),!0).forEach(function(r){T0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gI(r.key),r)}}function wX(t,e,n){return e&&vX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bX(t,e,n){return e=vd(e),xX(t,mI()?Reflect.construct(e,n||[],vd(t).constructor):e.apply(t,n))}function xX(t,e){if(e&&(wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _X(t)}function _X(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mI=function(){return!!t})()}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(t)}function SX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dg(t,e)}function Dg(t,e){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dg(t,e)}function T0(t,e,n){return e=gI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gI(t){var e=EX(t,"string");return wa(e)=="symbol"?e:e+""}function EX(t,e){if(wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TX(t){return t.dataKey}function AX(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(eX,e)}var Zn=function(t){function e(){return yX(this,e),bX(this,e,arguments)}return SX(e,t),wX(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,y=i.payloadUniqBy,w=i.position,v=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,T=i.wrapperStyle,S=g??[];d&&S.length&&(S=oI(g.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,TX));var E=S.length>0;return N.createElement(mX,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:m,position:w,reverseDirection:v,useTranslate3d:b,viewBox:x,wrapperStyle:T},AX(u,SS(SS({},this.props),{},{payload:S})))}}])}(R.PureComponent);T0(Zn,"displayName","Tooltip");T0(Zn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var CX=ur,kX=function(){return CX.Date.now()},PX=kX,IX=/\s/;function OX(t){for(var e=t.length;e--&&IX.test(t.charAt(e)););return e}var NX=OX,RX=NX,MX=/^\s+/;function $X(t){return t&&t.slice(0,RX(t)+1).replace(MX,"")}var DX=$X,LX=DX,ES=fi,jX=Wa,TS=NaN,UX=/^[-+]0x[0-9a-f]+$/i,FX=/^0b[01]+$/i,BX=/^0o[0-7]+$/i,GX=parseInt;function VX(t){if(typeof t=="number")return t;if(jX(t))return TS;if(ES(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ES(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=LX(t);var n=FX.test(t);return n||BX.test(t)?GX(t.slice(2),n?2:8):UX.test(t)?TS:+t}var yI=VX,HX=fi,Tp=PX,AS=yI,zX="Expected a function",qX=Math.max,WX=Math.min;function KX(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(zX);e=AS(e)||0,HX(n)&&(c=!!n.leading,d="maxWait"in n,o=d?qX(AS(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(E){var A=r,k=i;return r=i=void 0,u=E,a=t.apply(k,A),a}function g(E){return u=E,s=setTimeout(v,e),c?m(E):a}function y(E){var A=E-l,k=E-u,C=e-A;return d?WX(C,o-k):C}function w(E){var A=E-l,k=E-u;return l===void 0||A>=e||A<0||d&&k>=o}function v(){var E=Tp();if(w(E))return b(E);s=setTimeout(v,y(E))}function b(E){return s=void 0,h&&r?m(E):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:b(Tp())}function S(){var E=Tp(),A=w(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),a}return S.cancel=x,S.flush=T,S}var JX=KX,YX=JX,XX=fi,QX="Expected a function";function ZX(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(QX);return XX(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),YX(t,e,{leading:r,maxWait:e,trailing:i})}var eQ=ZX;const vI=Ie(eQ);function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){tQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tQ(t,e,n){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=rQ(t,"string");return Il(e)=="symbol"?e:e+""}function rQ(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iQ(t,e){return lQ(t)||sQ(t,e)||aQ(t,e)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function lQ(t){if(Array.isArray(t))return t}var wI=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,m=t.children,g=t.debounce,y=g===void 0?0:g,w=t.id,v=t.className,b=t.onResize,x=t.style,T=x===void 0?{}:x,S=R.useRef(null),E=R.useRef();E.current=b,R.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=R.useState({containerWidth:i.width,containerHeight:i.height}),k=iQ(A,2),C=k[0],P=k[1],O=R.useCallback(function(M,D){P(function(j){var L=Math.round(M),G=Math.round(D);return j.containerWidth===L&&j.containerHeight===G?j:{containerWidth:L,containerHeight:G}})},[]);R.useEffect(function(){var M=function(U){var B,q=U[0].contentRect,z=q.width,ee=q.height;O(z,ee),(B=E.current)===null||B===void 0||B.call(E,z,ee)};y>0&&(M=vI(M,y,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),j=S.current.getBoundingClientRect(),L=j.width,G=j.height;return O(L,G),D.observe(S.current),function(){D.disconnect()}},[O,y]);var I=R.useMemo(function(){var M=C.containerWidth,D=C.containerHeight;if(M<0||D<0)return null;Fi(Ri(a)||Ri(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Fi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=Ri(a)?M:a,L=Ri(l)?D:l;n&&n>0&&(j?L=j/n:L&&(j=L*n),h&&L>h&&(L=h)),Fi(j>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,L,a,l,c,d,n);var G=!Array.isArray(m)&&wr(m.type).endsWith("Chart");return N.Children.map(m,function($){return N.isValidElement($)?R.cloneElement($,Xu({width:j,height:L},G?{style:Xu({height:"100%",width:"100%",maxHeight:L,maxWidth:j},$.props.style)}:{})):$})},[n,m,l,h,d,c,C,a]);return N.createElement("div",{id:w?"".concat(w):void 0,className:de("recharts-responsive-container",v),style:Xu(Xu({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},I)}),sh=function(e){return null};sh.displayName="Cell";function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){uQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uQ(t,e,n){return e=cQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cQ(t){var e=dQ(t,"string");return Ol(e)=="symbol"?e:e+""}function dQ(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wo={widthCache:{},cacheCount:0},fQ=2e3,hQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IS="recharts_measurement_span";function pQ(t){var e=Lg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ks=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||hi.isSsr)return{width:0,height:0};var r=pQ(n),i=JSON.stringify({text:e,copyStyle:r});if(wo.widthCache[i])return wo.widthCache[i];try{var o=document.getElementById(IS);o||(o=document.createElement("span"),o.setAttribute("id",IS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Lg(Lg({},hQ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return wo.widthCache[i]=l,++wo.cacheCount>fQ&&(wo.cacheCount=0,wo.widthCache={}),l}catch{return{width:0,height:0}}},mQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function wd(t,e){return wQ(t)||vQ(t,e)||yQ(t,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){if(t){if(typeof t=="string")return OS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OS(t,e)}}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wQ(t){if(Array.isArray(t))return t}function bQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_Q(r.key),r)}}function xQ(t,e,n){return e&&NS(t.prototype,e),n&&NS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Q(t){var e=SQ(t,"string");return Nl(e)=="symbol"?e:e+""}function SQ(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},AQ=Object.keys(bI),Go="NaN";function CQ(t,e){return t*bI[e]}var Qu=function(){function t(e,n){bQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!EQ.test(n)&&(this.num=NaN,this.unit=""),AQ.includes(n)&&(this.num=CQ(e,n),this.unit="px")}return xQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=TQ.exec(n))!==null&&r!==void 0?r:[],o=wd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function xI(t){if(t.includes(Go))return Go;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=RS.exec(e))!==null&&n!==void 0?n:[],i=wd(r,4),o=i[1],a=i[2],s=i[3],l=Qu.parse(o??""),u=Qu.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Go;e=e.replace(RS,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=MS.exec(e))!==null&&d!==void 0?d:[],m=wd(h,4),g=m[1],y=m[2],w=m[3],v=Qu.parse(g??""),b=Qu.parse(w??""),x=y==="+"?v.add(b):v.subtract(b);if(x.isNaN())return Go;e=e.replace(MS,x.toString())}return e}var $S=/\(([^()]*)\)/;function kQ(t){for(var e=t;e.includes("(");){var n=$S.exec(e),r=wd(n,2),i=r[1];e=e.replace($S,xI(i))}return e}function PQ(t){var e=t.replace(/\s+/g,"");return e=kQ(e),e=xI(e),e}function IQ(t){try{return PQ(t)}catch{return Go}}function Ap(t){var e=IQ(t.slice(5,-1));return e===Go?"":e}var OQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NQ=["dx","dy","angle","className","breakAll"];function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function DS(t,e){if(t==null)return{};var n=RQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LS(t,e){return LQ(t)||DQ(t,e)||$Q(t,e)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t,e){if(t){if(typeof t=="string")return jS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(t,e)}}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function LQ(t){if(Array.isArray(t))return t}var _I=/[ \f\n\r\t\v\u2028\u2029]+/,SI=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];se(n)||(r?o=n.toString().split(""):o=n.toString().split(_I));var a=o.map(function(l){return{word:l,width:Ks(l,i).width}}),s=r?0:Ks("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},jQ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=W(a),d=s,h=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(L,G){var $=G.word,U=G.width,B=L[L.length-1];if(B&&(i==null||o||B.width+U+r<Number(i)))B.words.push($),B.width+=U+r;else{var q={words:[$],width:U};L.push(q)}return L},[])},m=h(n),g=function(j){return j.reduce(function(L,G){return L.width>G.width?L:G})};if(!c)return m;for(var y="",w=function(j){var L=d.slice(0,j),G=SI({breakAll:u,style:l,children:L+y}).wordsWithComputedWidth,$=h(G),U=$.length>a||g($).width>Number(i);return[U,$]},v=0,b=d.length-1,x=0,T;v<=b&&x<=d.length-1;){var S=Math.floor((v+b)/2),E=S-1,A=w(E),k=LS(A,2),C=k[0],P=k[1],O=w(S),I=LS(O,1),M=I[0];if(!C&&!M&&(v=S+1),C&&M&&(b=S-1),!C&&M){T=P;break}x++}return T||m},US=function(e){var n=se(e)?[]:e.toString().split(_I);return[{words:n}]},UQ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!hi.isSsr){var l,u,c=SI({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return US(i);return jQ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return US(i)},FS="#808080",bd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,m=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,w=e.fill,v=w===void 0?FS:w,b=DS(e,OQ),x=R.useMemo(function(){return UQ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),T=b.dx,S=b.dy,E=b.angle,A=b.className,k=b.breakAll,C=DS(b,NQ);if(!ct(r)||!ct(o))return null;var P=r+(W(T)?T:0),O=o+(W(S)?S:0),I;switch(y){case"start":I=Ap("calc(".concat(u,")"));break;case"middle":I=Ap("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=Ap("calc(".concat(x.length-1," * -").concat(s,")"));break}var M=[];if(d){var D=x[0].width,j=b.width;M.push("scale(".concat((W(j)?j/D:1)/D,")"))}return E&&M.push("rotate(".concat(E,", ").concat(P,", ").concat(O,")")),M.length&&(C.transform=M.join(" ")),N.createElement("text",jg({},ue(C,!0),{x:P,y:O,className:de("recharts-text",A),textAnchor:m,fill:v.includes("url")?FS:v}),x.map(function(L,G){var $=L.words.join(k?"":" ");return N.createElement("tspan",{x:P,dy:G===0?I:s,key:"".concat($,"-").concat(G)},$)}))};function oi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function FQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function A0(t){let e,n,r;t.length!==2?(e=oi,n=(s,l)=>oi(t(s),l),r=(s,l)=>t(s)-l):(e=t===oi||t===FQ?t:BQ,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function BQ(){return 0}function EI(t){return t===null?NaN:+t}function*GQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const VQ=A0(oi),pu=VQ.right;A0(EI).center;class BS extends Map{constructor(e,n=qQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(GS(this,e))}has(e){return super.has(GS(this,e))}set(e,n){return super.set(HQ(this,e),n)}delete(e){return super.delete(zQ(this,e))}}function GS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function HQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WQ(t=oi){if(t===oi)return TI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function TI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const KQ=Math.sqrt(50),JQ=Math.sqrt(10),YQ=Math.sqrt(2);function xd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=KQ?10:o>=JQ?5:o>=YQ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?xd(t,e,n*2):[s,l,u]}function Ug(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?xd(e,t,n):xd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Fg(t,e,n){return e=+e,t=+t,n=+n,xd(t,e,n)[2]}function Bg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Fg(e,t,n):Fg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function VS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function HS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function AI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?TI:WQ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+h)),g=Math.min(r,Math.floor(e+(l-u)*d/l+h));AI(t,e,m,g,i)}const o=t[e];let a=n,s=r;for(bs(t,n,e),i(t[r],o)>0&&bs(t,n,r);a<s;){for(bs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?bs(t,n,s):(++s,bs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function bs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function XQ(t,e,n){if(t=Float64Array.from(GQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return HS(t);if(e>=1)return VS(t);var r,i=(r-1)*e,o=Math.floor(i),a=VS(AI(t,o).subarray(0,o+1)),s=HS(t.subarray(o+1));return a+(s-a)*(i-o)}}function QQ(t,e,n=EI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function ZQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function In(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $r(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Gg=Symbol("implicit");function C0(){var t=new BS,e=[],n=[],r=Gg;function i(o){let a=t.get(o);if(a===void 0){if(r!==Gg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new BS;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return C0(e,n).unknown(r)},In.apply(i,arguments),i}function Rl(){var t=C0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,m=i<r,g=m?i:r,y=m?r:i;o=(y-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(y-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var w=ZQ(h).map(function(v){return g+o*v});return n(m?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Rl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},In.apply(d(),arguments)}function CI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return CI(e())},t}function Js(){return CI(Rl.apply(null,arguments).paddingInner(1))}function k0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mu(){}var Ml=.7,_d=1/Ml,ra="\\s*([+-]?\\d+)\\s*",$l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eZ=/^#([0-9a-f]{3,8})$/,tZ=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),nZ=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),rZ=new RegExp(`^rgba\\(${ra},${ra},${ra},${$l}\\)$`),iZ=new RegExp(`^rgba\\(${or},${or},${or},${$l}\\)$`),oZ=new RegExp(`^hsl\\(${$l},${or},${or}\\)$`),aZ=new RegExp(`^hsla\\(${$l},${or},${or},${$l}\\)$`),zS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k0(mu,Dl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qS,formatHex:qS,formatHex8:sZ,formatHsl:lZ,formatRgb:WS,toString:WS});function qS(){return this.rgb().formatHex()}function sZ(){return this.rgb().formatHex8()}function lZ(){return PI(this).formatHsl()}function WS(){return this.rgb().formatRgb()}function Dl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?KS(e):n===3?new qt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tZ.exec(t))?new qt(e[1],e[2],e[3],1):(e=nZ.exec(t))?new qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rZ.exec(t))?Zu(e[1],e[2],e[3],e[4]):(e=iZ.exec(t))?Zu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oZ.exec(t))?XS(e[1],e[2]/100,e[3]/100,1):(e=aZ.exec(t))?XS(e[1],e[2]/100,e[3]/100,e[4]):zS.hasOwnProperty(t)?KS(zS[t]):t==="transparent"?new qt(NaN,NaN,NaN,0):null}function KS(t){return new qt(t>>16&255,t>>8&255,t&255,1)}function Zu(t,e,n,r){return r<=0&&(t=e=n=NaN),new qt(t,e,n,r)}function uZ(t){return t instanceof mu||(t=Dl(t)),t?(t=t.rgb(),new qt(t.r,t.g,t.b,t.opacity)):new qt}function Vg(t,e,n,r){return arguments.length===1?uZ(t):new qt(t,e,n,r??1)}function qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}k0(qt,Vg,kI(mu,{brighter(t){return t=t==null?_d:Math.pow(_d,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ml:Math.pow(Ml,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qt(Bi(this.r),Bi(this.g),Bi(this.b),Sd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JS,formatHex:JS,formatHex8:cZ,formatRgb:YS,toString:YS}));function JS(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}`}function cZ(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}${Mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function YS(){const t=Sd(this.opacity);return`${t===1?"rgb(":"rgba("}${Bi(this.r)}, ${Bi(this.g)}, ${Bi(this.b)}${t===1?")":`, ${t})`}`}function Sd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mi(t){return t=Bi(t),(t<16?"0":"")+t.toString(16)}function XS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bn(t,e,n,r)}function PI(t){if(t instanceof Bn)return new Bn(t.h,t.s,t.l,t.opacity);if(t instanceof mu||(t=Dl(t)),!t)return new Bn;if(t instanceof Bn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Bn(a,s,l,t.opacity)}function dZ(t,e,n,r){return arguments.length===1?PI(t):new Bn(t,e,n,r??1)}function Bn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}k0(Bn,dZ,kI(mu,{brighter(t){return t=t==null?_d:Math.pow(_d,t),new Bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ml:Math.pow(Ml,t),new Bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qt(Cp(t>=240?t-240:t+120,i,r),Cp(t,i,r),Cp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bn(QS(this.h),ec(this.s),ec(this.l),Sd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sd(this.opacity);return`${t===1?"hsl(":"hsla("}${QS(this.h)}, ${ec(this.s)*100}%, ${ec(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QS(t){return t=(t||0)%360,t<0?t+360:t}function ec(t){return Math.max(0,Math.min(1,t||0))}function Cp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const P0=t=>()=>t;function fZ(t,e){return function(n){return t+n*e}}function hZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pZ(t){return(t=+t)==1?II:function(e,n){return n-e?hZ(e,n,t):P0(isNaN(e)?n:e)}}function II(t,e){var n=e-t;return n?fZ(t,n):P0(isNaN(t)?e:t)}const ZS=function t(e){var n=pZ(e);function r(i,o){var a=n((i=Vg(i)).r,(o=Vg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=II(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function mZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function gZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=rs(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function vZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ed(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Hg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kp=new RegExp(Hg.source,"g");function bZ(t){return function(){return t}}function xZ(t){return function(e){return t(e)+""}}function _Z(t,e){var n=Hg.lastIndex=kp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Hg.exec(t))&&(i=kp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ed(r,i)})),n=kp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?xZ(l[0].x):bZ(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function rs(t,e){var n=typeof e,r;return e==null||n==="boolean"?P0(e):(n==="number"?Ed:n==="string"?(r=Dl(e))?(e=r,ZS):_Z:e instanceof Dl?ZS:e instanceof Date?vZ:gZ(e)?mZ:Array.isArray(e)?yZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wZ:Ed)(t,e)}function I0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function SZ(t,e){e===void 0&&(e=t,t=rs);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function EZ(t){return function(){return t}}function Td(t){return+t}var eE=[0,1];function Ut(t){return t}function zg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:EZ(isNaN(e)?NaN:.5)}function TZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function AZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=zg(i,r),o=n(a,o)):(r=zg(r,i),o=n(o,a)),function(s){return o(r(s))}}function CZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=zg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=pu(t,s,1,r)-1;return o[l](i[l](s))}}function gu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lh(){var t=eE,e=eE,n=rs,r,i,o,a=Ut,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Ut&&(a=TZ(t[0],t[h-1])),s=h>2?CZ:AZ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),Ed)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Td),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=I0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Ut,c()):a!==Ut},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,m){return r=h,i=m,c()}}function O0(){return lh()(Ut,Ut)}function kZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ad(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ba(t){return t=Ad(Math.abs(t)),t?t[1]:NaN}function PZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function IZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var OZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ll(t){if(!(e=OZ.exec(t)))throw new Error("invalid format: "+t);var e;return new N0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ll.prototype=N0.prototype;function N0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}N0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var OI;function RZ(t,e){var n=Ad(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(OI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ad(t,Math.max(0,e+o-1))[0]}function tE(t,e){var n=Ad(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tE(t*100,e),r:tE,s:RZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rE(t){return t}var iE=Array.prototype.map,oE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MZ(t){var e=t.grouping===void 0||t.thousands===void 0?rE:PZ(iE.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?rE:IZ(iE.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Ll(d);var h=d.fill,m=d.align,g=d.sign,y=d.symbol,w=d.zero,v=d.width,b=d.comma,x=d.precision,T=d.trim,S=d.type;S==="n"?(b=!0,S="g"):nE[S]||(x===void 0&&(x=12),T=!0,S="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",k=nE[S],C=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function P(O){var I=E,M=A,D,j,L;if(S==="c")M=k(O)+M,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),x),T&&(O=NZ(O)),G&&+O==0&&g!=="+"&&(G=!1),I=(G?g==="("?g:s:g==="-"||g==="("?"":g)+I,M=(S==="s"?oE[8+OI/3]:"")+M+(G&&g==="("?")":""),C){for(D=-1,j=O.length;++D<j;)if(L=O.charCodeAt(D),48>L||L>57){M=(L===46?i+O.slice(D+1):O.slice(D))+M,O=O.slice(0,D);break}}}b&&!w&&(O=e(O,1/0));var $=I.length+O.length+M.length,U=$<v?new Array(v-$+1).join(h):"";switch(b&&w&&(O=e(U+O,U.length?v-M.length:1/0),U=""),m){case"<":O=I+O+M+U;break;case"=":O=I+U+O+M;break;case"^":O=U.slice(0,$=U.length>>1)+I+O+M+U.slice($);break;default:O=U+I+O+M;break}return o(O)}return P.toString=function(){return d+""},P}function c(d,h){var m=u((d=Ll(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(ba(h)/3)))*3,y=Math.pow(10,-g),w=oE[8+g/3];return function(v){return m(y*v)+w}}return{format:u,formatPrefix:c}}var tc,R0,NI;$Z({thousands:",",grouping:[3],currency:["$",""]});function $Z(t){return tc=MZ(t),R0=tc.format,NI=tc.formatPrefix,tc}function DZ(t){return Math.max(0,-ba(Math.abs(t)))}function LZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ba(e)/3)))*3-ba(Math.abs(t)))}function jZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ba(e)-ba(t))+1}function RI(t,e,n,r){var i=Bg(t,e,n),o;switch(r=Ll(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=LZ(i,a))&&(r.precision=o),NI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=jZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=DZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return R0(r)}function pi(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ug(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return RI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Fg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Cd(){var t=O0();return t.copy=function(){return gu(t,Cd())},In.apply(t,arguments),pi(t)}function MI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Td),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return MI(t).unknown(e)},t=arguments.length?Array.from(t,Td):[0,1],pi(n)}function $I(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function aE(t){return Math.log(t)}function sE(t){return Math.exp(t)}function UZ(t){return-Math.log(-t)}function FZ(t){return-Math.exp(-t)}function BZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function GZ(t){return t===10?BZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lE(t){return(e,n)=>-t(-e,n)}function M0(t){const e=t(aE,sE),n=e.domain;let r=10,i,o;function a(){return i=VZ(r),o=GZ(r),n()[0]<0?(i=lE(i),o=lE(o),t(UZ,FZ)):t(aE,sE),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),m=i(c),g,y;const w=s==null?10:+s;let v=[];if(!(r%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(y=h<0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;v.push(y)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;v.push(y)}v.length*2<w&&(v=Ug(u,c,w))}else v=Ug(h,m,Math.min(m-h,w)).map(o);return d?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ll(l)).precision==null&&(l.trim=!0),l=R0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n($I(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function DI(){const t=M0(lh()).domain([1,10]);return t.copy=()=>gu(t,DI()).base(t.base()),In.apply(t,arguments),t}function uE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $0(t){var e=1,n=t(uE(e),cE(e));return n.constant=function(r){return arguments.length?t(uE(e=+r),cE(e)):e},pi(n)}function LI(){var t=$0(lh());return t.copy=function(){return gu(t,LI()).constant(t.constant())},In.apply(t,arguments)}function dE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function HZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zZ(t){return t<0?-t*t:t*t}function D0(t){var e=t(Ut,Ut),n=1;function r(){return n===1?t(Ut,Ut):n===.5?t(HZ,zZ):t(dE(n),dE(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pi(e)}function L0(){var t=D0(lh());return t.copy=function(){return gu(t,L0()).exponent(t.exponent())},In.apply(t,arguments),t}function qZ(){return L0.apply(null,arguments).exponent(.5)}function fE(t){return Math.sign(t)*t*t}function WZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jI(){var t=O0(),e=[0,1],n=!1,r;function i(o){var a=WZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(fE(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Td)).map(fE)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return jI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},In.apply(i,arguments),pi(i)}function UI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=QQ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[pu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(oi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return UI().domain(t).range(e).unknown(r)},In.apply(o,arguments)}function FI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[pu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return FI().domain([t,e]).range(i).unknown(o)},In.apply(pi(a),arguments)}function BI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[pu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return BI().domain(t).range(e).unknown(n)},In.apply(i,arguments)}const Pp=new Date,Ip=new Date;function ft(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>ft(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Pp.setTime(+o),Ip.setTime(+a),t(Pp),t(Ip),Math.floor(n(Pp,Ip))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const kd=ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kd);kd.range;const gr=1e3,bn=gr*60,yr=bn*60,Ar=yr*24,j0=Ar*7,hE=Ar*30,Op=Ar*365,$i=ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getUTCSeconds());$i.range;const U0=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gr)},(t,e)=>{t.setTime(+t+e*bn)},(t,e)=>(e-t)/bn,t=>t.getMinutes());U0.range;const F0=ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bn)},(t,e)=>(e-t)/bn,t=>t.getUTCMinutes());F0.range;const B0=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gr-t.getMinutes()*bn)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getHours());B0.range;const G0=ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getUTCHours());G0.range;const yu=ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bn)/Ar,t=>t.getDate()-1);yu.range;const uh=ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ar,t=>t.getUTCDate()-1);uh.range;const GI=ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ar,t=>Math.floor(t/Ar));GI.range;function ao(t){return ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*bn)/j0)}const ch=ao(0),Pd=ao(1),KZ=ao(2),JZ=ao(3),xa=ao(4),YZ=ao(5),XZ=ao(6);ch.range;Pd.range;KZ.range;JZ.range;xa.range;YZ.range;XZ.range;function so(t){return ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/j0)}const dh=so(0),Id=so(1),QZ=so(2),ZZ=so(3),_a=so(4),eee=so(5),tee=so(6);dh.range;Id.range;QZ.range;ZZ.range;_a.range;eee.range;tee.range;const V0=ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());V0.range;const H0=ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());H0.range;const Cr=ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Cr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Cr.range;const kr=ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());kr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});kr.range;function VI(t,e,n,r,i,o){const a=[[$i,1,gr],[$i,5,5*gr],[$i,15,15*gr],[$i,30,30*gr],[o,1,bn],[o,5,5*bn],[o,15,15*bn],[o,30,30*bn],[i,1,yr],[i,3,3*yr],[i,6,6*yr],[i,12,12*yr],[r,1,Ar],[r,2,2*Ar],[n,1,j0],[e,1,hE],[e,3,3*hE],[t,1,Op]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,m=A0(([,,w])=>w).right(a,h);if(m===a.length)return t.every(Bg(u/Op,c/Op,d));if(m===0)return kd.every(Math.max(Bg(u,c,d),1));const[g,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(y)}return[s,l]}const[nee,ree]=VI(kr,H0,dh,GI,G0,F0),[iee,oee]=VI(Cr,V0,ch,yu,B0,U0);function Np(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function aee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=_s(i),c=Ss(i),d=_s(o),h=Ss(o),m=_s(a),g=Ss(a),y=_s(s),w=Ss(s),v=_s(l),b=Ss(l),x={a:G,A:$,b:U,B,c:null,d:wE,e:wE,f:Pee,g:Uee,G:Bee,H:Aee,I:Cee,j:kee,L:HI,m:Iee,M:Oee,p:q,q:z,Q:_E,s:SE,S:Nee,u:Ree,U:Mee,V:$ee,w:Dee,W:Lee,x:null,X:null,y:jee,Y:Fee,Z:Gee,"%":xE},T={a:ee,A:K,b:me,B:Oe,c:null,d:bE,e:bE,f:qee,g:nte,G:ite,H:Vee,I:Hee,j:zee,L:qI,m:Wee,M:Kee,p:rt,q:Ct,Q:_E,s:SE,S:Jee,u:Yee,U:Xee,V:Qee,w:Zee,W:ete,x:null,X:null,y:tte,Y:rte,Z:ote,"%":xE},S={a:P,A:O,b:I,B:M,c:D,d:yE,e:yE,f:_ee,g:gE,G:mE,H:vE,I:vE,j:vee,L:xee,m:yee,M:wee,p:C,q:gee,Q:Eee,s:Tee,S:bee,u:dee,U:fee,V:hee,w:cee,W:pee,x:j,X:L,y:gE,Y:mE,Z:mee,"%":See};x.x=E(n,x),x.X=E(r,x),x.c=E(e,x),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(J,le){return function(ce){var V=[],De=-1,pe=0,Le=J.length,je,Xe,Z;for(ce instanceof Date||(ce=new Date(+ce));++De<Le;)J.charCodeAt(De)===37&&(V.push(J.slice(pe,De)),(Xe=pE[je=J.charAt(++De)])!=null?je=J.charAt(++De):Xe=je==="e"?" ":"0",(Z=le[je])&&(je=Z(ce,Xe)),V.push(je),pe=De+1);return V.push(J.slice(pe,De)),V.join("")}}function A(J,le){return function(ce){var V=xs(1900,void 0,1),De=k(V,J,ce+="",0),pe,Le;if(De!=ce.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(le&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(pe=Rp(xs(V.y,0,1)),Le=pe.getUTCDay(),pe=Le>4||Le===0?Id.ceil(pe):Id(pe),pe=uh.offset(pe,(V.V-1)*7),V.y=pe.getUTCFullYear(),V.m=pe.getUTCMonth(),V.d=pe.getUTCDate()+(V.w+6)%7):(pe=Np(xs(V.y,0,1)),Le=pe.getDay(),pe=Le>4||Le===0?Pd.ceil(pe):Pd(pe),pe=yu.offset(pe,(V.V-1)*7),V.y=pe.getFullYear(),V.m=pe.getMonth(),V.d=pe.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Le="Z"in V?Rp(xs(V.y,0,1)).getUTCDay():Np(xs(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Le+5)%7:V.w+V.U*7-(Le+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Rp(V)):Np(V)}}function k(J,le,ce,V){for(var De=0,pe=le.length,Le=ce.length,je,Xe;De<pe;){if(V>=Le)return-1;if(je=le.charCodeAt(De++),je===37){if(je=le.charAt(De++),Xe=S[je in pE?le.charAt(De++):je],!Xe||(V=Xe(J,ce,V))<0)return-1}else if(je!=ce.charCodeAt(V++))return-1}return V}function C(J,le,ce){var V=u.exec(le.slice(ce));return V?(J.p=c.get(V[0].toLowerCase()),ce+V[0].length):-1}function P(J,le,ce){var V=m.exec(le.slice(ce));return V?(J.w=g.get(V[0].toLowerCase()),ce+V[0].length):-1}function O(J,le,ce){var V=d.exec(le.slice(ce));return V?(J.w=h.get(V[0].toLowerCase()),ce+V[0].length):-1}function I(J,le,ce){var V=v.exec(le.slice(ce));return V?(J.m=b.get(V[0].toLowerCase()),ce+V[0].length):-1}function M(J,le,ce){var V=y.exec(le.slice(ce));return V?(J.m=w.get(V[0].toLowerCase()),ce+V[0].length):-1}function D(J,le,ce){return k(J,e,le,ce)}function j(J,le,ce){return k(J,n,le,ce)}function L(J,le,ce){return k(J,r,le,ce)}function G(J){return a[J.getDay()]}function $(J){return o[J.getDay()]}function U(J){return l[J.getMonth()]}function B(J){return s[J.getMonth()]}function q(J){return i[+(J.getHours()>=12)]}function z(J){return 1+~~(J.getMonth()/3)}function ee(J){return a[J.getUTCDay()]}function K(J){return o[J.getUTCDay()]}function me(J){return l[J.getUTCMonth()]}function Oe(J){return s[J.getUTCMonth()]}function rt(J){return i[+(J.getUTCHours()>=12)]}function Ct(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var le=E(J+="",x);return le.toString=function(){return J},le},parse:function(J){var le=A(J+="",!1);return le.toString=function(){return J},le},utcFormat:function(J){var le=E(J+="",T);return le.toString=function(){return J},le},utcParse:function(J){var le=A(J+="",!0);return le.toString=function(){return J},le}}}var pE={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,see=/^%/,lee=/[\\^$*+?|[\]().{}]/g;function we(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function uee(t){return t.replace(lee,"\\$&")}function _s(t){return new RegExp("^(?:"+t.map(uee).join("|")+")","i")}function Ss(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function cee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function fee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function pee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mE(t,e,n){var r=vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function yee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function bee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xee(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _ee(t,e,n){var r=vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function See(t,e,n){var r=see.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Eee(t,e,n){var r=vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function wE(t,e){return we(t.getDate(),e,2)}function Aee(t,e){return we(t.getHours(),e,2)}function Cee(t,e){return we(t.getHours()%12||12,e,2)}function kee(t,e){return we(1+yu.count(Cr(t),t),e,3)}function HI(t,e){return we(t.getMilliseconds(),e,3)}function Pee(t,e){return HI(t,e)+"000"}function Iee(t,e){return we(t.getMonth()+1,e,2)}function Oee(t,e){return we(t.getMinutes(),e,2)}function Nee(t,e){return we(t.getSeconds(),e,2)}function Ree(t){var e=t.getDay();return e===0?7:e}function Mee(t,e){return we(ch.count(Cr(t)-1,t),e,2)}function zI(t){var e=t.getDay();return e>=4||e===0?xa(t):xa.ceil(t)}function $ee(t,e){return t=zI(t),we(xa.count(Cr(t),t)+(Cr(t).getDay()===4),e,2)}function Dee(t){return t.getDay()}function Lee(t,e){return we(Pd.count(Cr(t)-1,t),e,2)}function jee(t,e){return we(t.getFullYear()%100,e,2)}function Uee(t,e){return t=zI(t),we(t.getFullYear()%100,e,2)}function Fee(t,e){return we(t.getFullYear()%1e4,e,4)}function Bee(t,e){var n=t.getDay();return t=n>=4||n===0?xa(t):xa.ceil(t),we(t.getFullYear()%1e4,e,4)}function Gee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+we(e/60|0,"0",2)+we(e%60,"0",2)}function bE(t,e){return we(t.getUTCDate(),e,2)}function Vee(t,e){return we(t.getUTCHours(),e,2)}function Hee(t,e){return we(t.getUTCHours()%12||12,e,2)}function zee(t,e){return we(1+uh.count(kr(t),t),e,3)}function qI(t,e){return we(t.getUTCMilliseconds(),e,3)}function qee(t,e){return qI(t,e)+"000"}function Wee(t,e){return we(t.getUTCMonth()+1,e,2)}function Kee(t,e){return we(t.getUTCMinutes(),e,2)}function Jee(t,e){return we(t.getUTCSeconds(),e,2)}function Yee(t){var e=t.getUTCDay();return e===0?7:e}function Xee(t,e){return we(dh.count(kr(t)-1,t),e,2)}function WI(t){var e=t.getUTCDay();return e>=4||e===0?_a(t):_a.ceil(t)}function Qee(t,e){return t=WI(t),we(_a.count(kr(t),t)+(kr(t).getUTCDay()===4),e,2)}function Zee(t){return t.getUTCDay()}function ete(t,e){return we(Id.count(kr(t)-1,t),e,2)}function tte(t,e){return we(t.getUTCFullYear()%100,e,2)}function nte(t,e){return t=WI(t),we(t.getUTCFullYear()%100,e,2)}function rte(t,e){return we(t.getUTCFullYear()%1e4,e,4)}function ite(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_a(t):_a.ceil(t),we(t.getUTCFullYear()%1e4,e,4)}function ote(){return"+0000"}function xE(){return"%"}function _E(t){return+t}function SE(t){return Math.floor(+t/1e3)}var bo,KI,JI;ate({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ate(t){return bo=aee(t),KI=bo.format,bo.parse,JI=bo.utcFormat,bo.utcParse,bo}function ste(t){return new Date(t)}function lte(t){return t instanceof Date?+t:+new Date(+t)}function z0(t,e,n,r,i,o,a,s,l,u){var c=O0(),d=c.invert,h=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),b=u("%b %d"),x=u("%B"),T=u("%Y");function S(E){return(l(E)<E?m:s(E)<E?g:a(E)<E?y:o(E)<E?w:r(E)<E?i(E)<E?v:b:n(E)<E?x:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,lte)):h().map(ste)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h($I(A,E)):c},c.copy=function(){return gu(c,z0(t,e,n,r,i,o,a,s,l,u))},c}function ute(){return In.apply(z0(iee,oee,Cr,V0,ch,yu,B0,U0,$i,KI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cte(){return In.apply(z0(nee,ree,kr,H0,dh,uh,G0,F0,$i,JI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fh(){var t=0,e=1,n,r,i,o,a=Ut,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var m,g;return arguments.length?([m,g]=h,a=d(m,g),u):[a(0),a(1)]}}return u.range=c(rs),u.rangeRound=c(I0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function mi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function YI(){var t=pi(fh()(Ut));return t.copy=function(){return mi(t,YI())},$r.apply(t,arguments)}function XI(){var t=M0(fh()).domain([1,10]);return t.copy=function(){return mi(t,XI()).base(t.base())},$r.apply(t,arguments)}function QI(){var t=$0(fh());return t.copy=function(){return mi(t,QI()).constant(t.constant())},$r.apply(t,arguments)}function q0(){var t=D0(fh());return t.copy=function(){return mi(t,q0()).exponent(t.exponent())},$r.apply(t,arguments)}function dte(){return q0.apply(null,arguments).exponent(.5)}function ZI(){var t=[],e=Ut;function n(r){if(r!=null&&!isNaN(r=+r))return e((pu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(oi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>XQ(t,o/r))},n.copy=function(){return ZI(e).domain(t)},$r.apply(n,arguments)}function hh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Ut,c,d=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(w){var v,b,x;return arguments.length?([v,b,x]=w,u=SZ(y,[v,b,x]),m):[u(0),u(.5),u(1)]}}return m.range=g(rs),m.rangeRound=g(I0),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function eO(){var t=pi(hh()(Ut));return t.copy=function(){return mi(t,eO())},$r.apply(t,arguments)}function tO(){var t=M0(hh()).domain([.1,1,10]);return t.copy=function(){return mi(t,tO()).base(t.base())},$r.apply(t,arguments)}function nO(){var t=$0(hh());return t.copy=function(){return mi(t,nO()).constant(t.constant())},$r.apply(t,arguments)}function W0(){var t=D0(hh());return t.copy=function(){return mi(t,W0()).exponent(t.exponent())},$r.apply(t,arguments)}function fte(){return W0.apply(null,arguments).exponent(.5)}const EE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rl,scaleDiverging:eO,scaleDivergingLog:tO,scaleDivergingPow:W0,scaleDivergingSqrt:fte,scaleDivergingSymlog:nO,scaleIdentity:MI,scaleImplicit:Gg,scaleLinear:Cd,scaleLog:DI,scaleOrdinal:C0,scalePoint:Js,scalePow:L0,scaleQuantile:UI,scaleQuantize:FI,scaleRadial:jI,scaleSequential:YI,scaleSequentialLog:XI,scaleSequentialPow:q0,scaleSequentialQuantile:ZI,scaleSequentialSqrt:dte,scaleSequentialSymlog:QI,scaleSqrt:qZ,scaleSymlog:LI,scaleThreshold:BI,scaleTime:ute,scaleUtc:cte,tickFormat:RI},Symbol.toStringTag,{value:"Module"}));var hte=Wa;function pte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!hte(a):n(a,s)))var s=a,l=o}return l}var rO=pte;function mte(t,e){return t>e}var gte=mte,yte=rO,vte=gte,wte=ts;function bte(t){return t&&t.length?yte(t,wte,vte):void 0}var xte=bte;const Kr=Ie(xte);function _te(t,e){return t<e}var Ste=_te,Ete=rO,Tte=Ste,Ate=ts;function Cte(t){return t&&t.length?Ete(t,Ate,Tte):void 0}var kte=Cte;const ph=Ie(kte);var Pte=s0,Ite=ns,Ote=dI,Nte=Xt;function Rte(t,e){var n=Nte(t)?Pte:Ote;return n(t,Ite(e))}var Mte=Rte,$te=uI,Dte=Mte;function Lte(t,e){return $te(Dte(t,e),1)}var jte=Lte;const Ute=Ie(jte);var Fte=_0;function Bte(t,e){return Fte(t,e)}var Gte=Bte;const Qi=Ie(Gte);var is=1e9,Vte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},J0,Be=!0,Cn="[DecimalError] ",Gi=Cn+"Invalid argument: ",K0=Cn+"Exponent out of range: ",os=Math.floor,Ai=Math.pow,Hte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an,pt=1e7,Me=7,iO=9007199254740991,Od=os(iO/Me),Q={};Q.absoluteValue=Q.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Q.comparedTo=Q.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Me;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Q.dividedBy=Q.div=function(t){return br(this,new this.constructor(t))};Q.dividedToIntegerBy=Q.idiv=function(t){var e=this,n=e.constructor;return Ae(br(e,new n(t),0,1),n.precision)};Q.equals=Q.eq=function(t){return!this.cmp(t)};Q.exponent=function(){return nt(this)};Q.greaterThan=Q.gt=function(t){return this.cmp(t)>0};Q.greaterThanOrEqualTo=Q.gte=function(t){return this.cmp(t)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(t){return this.cmp(t)<0};Q.lessThanOrEqualTo=Q.lte=function(t){return this.cmp(t)<1};Q.logarithm=Q.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(an))throw Error(Cn+"NaN");if(n.s<1)throw Error(Cn+(n.s?"NaN":"-Infinity"));return n.eq(an)?new r(0):(Be=!1,e=br(jl(n,o),jl(t,o),o),Be=!0,Ae(e,i))};Q.minus=Q.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sO(e,t):oO(e,(t.s=-t.s,t))};Q.modulo=Q.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Cn+"NaN");return n.s?(Be=!1,e=br(n,t,0,1).times(t),Be=!0,n.minus(e)):Ae(new r(n),i)};Q.naturalExponential=Q.exp=function(){return aO(this)};Q.naturalLogarithm=Q.ln=function(){return jl(this)};Q.negated=Q.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Q.plus=Q.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oO(e,t):sO(e,(t.s=-t.s,t))};Q.precision=Q.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gi+t);if(e=nt(i)+1,r=i.d.length-1,n=r*Me+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Q.squareRoot=Q.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Cn+"NaN")}for(t=nt(s),Be=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=tr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=os((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(br(s,o,a+2)).times(.5),tr(o.d).slice(0,a)===(e=tr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ae(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Be=!0,Ae(r,n)};Q.times=Q.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%pt|0,e=s/pt|0;o[i]=(o[i]+e)%pt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Be?Ae(t,d.precision):t};Q.toDecimalPlaces=Q.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(lr(t,0,is),e===void 0?e=r.rounding:lr(e,0,8),Ae(n,t+nt(n)+1,e))};Q.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Zi(r,!0):(lr(t,0,is),e===void 0?e=i.rounding:lr(e,0,8),r=Ae(new i(r),t+1,e),n=Zi(r,!0,t+1)),n};Q.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Zi(i):(lr(t,0,is),e===void 0?e=o.rounding:lr(e,0,8),r=Ae(new o(i),t+nt(i)+1,e),n=Zi(r.abs(),!1,t+nt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Q.toInteger=Q.toint=function(){var t=this,e=t.constructor;return Ae(new e(t),nt(t)+1,e.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(an);if(s=new l(s),!s.s){if(t.s<1)throw Error(Cn+"Infinity");return s}if(s.eq(an))return s;if(r=l.precision,t.eq(an))return Ae(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=iO){for(i=new l(an),e=Math.ceil(r/Me+4),Be=!1;n%2&&(i=i.times(s),AE(i.d,e)),n=os(n/2),n!==0;)s=s.times(s),AE(s.d,e);return Be=!0,t.s<0?new l(an).div(i):Ae(i,r)}}else if(o<0)throw Error(Cn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Be=!1,i=t.times(jl(s,r+u)),Be=!0,i=aO(i),i.s=o,i};Q.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=nt(i),r=Zi(i,n<=o.toExpNeg||n>=o.toExpPos)):(lr(t,1,is),e===void 0?e=o.rounding:lr(e,0,8),i=Ae(new o(i),t,e),n=nt(i),r=Zi(i,t<=n||n<=o.toExpNeg,t)),r};Q.toSignificantDigits=Q.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(lr(t,1,is),e===void 0?e=r.rounding:lr(e,0,8)),Ae(new r(n),t,e)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nt(t),n=t.constructor;return Zi(t,e<=n.toExpNeg||e>=n.toExpPos)};function oO(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Be?Ae(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Me),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/pt|0,l[o]%=pt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Be?Ae(e,d):e}function lr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Gi+t)}function tr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Me-r.length,n&&(o+=Gr(n)),o+=r;a=t[e],r=a+"",n=Me-r.length,n&&(o+=Gr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var br=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%pt|0,a=o/pt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,m,g,y,w,v,b,x,T,S,E,A,k,C=r.constructor,P=r.s==i.s?1:-1,O=r.d,I=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Cn+"Division by zero");for(l=r.e-i.e,A=I.length,S=O.length,m=new C(P),g=m.d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--l,o==null?b=o=C.precision:a?b=o+(nt(r)-nt(i))+1:b=o,b<0)return new C(0);if(b=b/Me+2|0,u=0,A==1)for(c=0,I=I[0],b++;(u<S||c)&&b--;u++)x=c*pt+(O[u]||0),g[u]=x/I|0,c=x%I|0;else{for(c=pt/(I[0]+1)|0,c>1&&(I=t(I,c),O=t(O,c),A=I.length,S=O.length),T=A,y=O.slice(0,A),w=y.length;w<A;)y[w++]=0;k=I.slice(),k.unshift(0),E=I[0],I[1]>=pt/2&&++E;do c=0,s=e(I,y,A,w),s<0?(v=y[0],A!=w&&(v=v*pt+(y[1]||0)),c=v/E|0,c>1?(c>=pt&&(c=pt-1),d=t(I,c),h=d.length,w=y.length,s=e(d,y,h,w),s==1&&(c--,n(d,A<h?k:I,h))):(c==0&&(s=c=1),d=I.slice()),h=d.length,h<w&&d.unshift(0),n(y,d,w),s==-1&&(w=y.length,s=e(I,y,A,w),s<1&&(c++,n(y,A<w?k:I,w))),w=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[w++]=O[T]||0:(y=[O[T]],w=1);while((T++<S||y[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=l,Ae(m,a?o+nt(m)+1:o)}}();function aO(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(nt(t)>16)throw Error(K0+nt(t));if(!t.s)return new c(an);for(Be=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ai(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(an),c.precision=s;;){if(i=Ae(i.times(t),s),n=n.times(++l),a=o.plus(br(i,n,s)),tr(a.d).slice(0,s)===tr(o.d).slice(0,s)){for(;u--;)o=Ae(o.times(o),s);return c.precision=d,e==null?(Be=!0,Ae(o,d)):o}o=a}}function nt(t){for(var e=t.e*Me,n=t.d[0];n>=10;n/=10)e++;return e}function Mp(t,e,n){if(e>t.LN10.sd())throw Be=!0,n&&(t.precision=n),Error(Cn+"LN10 precision limit exceeded");return Ae(new t(t.LN10),e)}function Gr(t){for(var e="";t--;)e+="0";return e}function jl(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,m=t,g=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(Cn+(m.s?"NaN":"-Infinity"));if(m.eq(an))return new y(0);if(e==null?(Be=!1,u=w):u=e,m.eq(10))return e==null&&(Be=!0),Mp(y,u);if(u+=h,y.precision=u,n=tr(g),r=n.charAt(0),o=nt(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=tr(m.d),r=n.charAt(0),d++;o=nt(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1))}else return l=Mp(y,u+2,w).times(o+""),m=jl(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=w,e==null?(Be=!0,Ae(m,w)):m;for(s=a=m=br(m.minus(an),m.plus(an),u),c=Ae(m.times(m),u),i=3;;){if(a=Ae(a.times(c),u),l=s.plus(br(a,new y(i),u)),tr(l.d).slice(0,u)===tr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Mp(y,u+2,w).times(o+""))),s=br(s,new y(d),u),y.precision=w,e==null?(Be=!0,Ae(s,w)):s;s=l,i+=2}}function TE(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=os(n/Me),t.d=[],r=(n+1)%Me,n<0&&(r+=Me),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Me;r<i;)t.d.push(+e.slice(r,r+=Me));e=e.slice(r),r=Me-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Be&&(t.e>Od||t.e<-Od))throw Error(K0+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ae(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Me,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Me),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Me,i=r-Me+a}if(n!==void 0&&(o=Ai(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ai(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=nt(t),d.length=1,e=e-o-1,d[0]=Ai(10,(Me-e%Me)%Me),t.e=os(-e/Me)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Ai(10,Me-r),d[c]=i>0?(u/Ai(10,a-i)%Ai(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==pt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=pt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Be&&(t.e>Od||t.e<-Od))throw Error(K0+nt(t));return t}function sO(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Be?Ae(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/Me),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=pt-1;--l[o],l[i]+=pt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Be?Ae(e,m):e):new h(0)}function Zi(t,e,n){var r,i=nt(t),o=tr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Gr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Gr(-i-1)+o,n&&(r=n-a)>0&&(o+=Gr(r))):i>=a?(o+=Gr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Gr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Gr(r))),t.s<0?"-"+o:o}function AE(t,e){if(t.length>e)return t.length=e,!0}function lO(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Gi+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return TE(a,o.toString())}else if(typeof o!="string")throw Error(Gi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Hte.test(o))TE(a,o);else throw Error(Gi+o)}if(i.prototype=Q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lO,i.config=i.set=zte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zte(t){if(!t||typeof t!="object")throw Error(Cn+"Object expected");var e,n,r,i=["precision",1,is,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(os(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Gi+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gi+n+": "+r);return this}var J0=lO(Vte);an=new J0(1);const Ee=J0;function qte(t){return Yte(t)||Jte(t)||Kte(t)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(t,e){if(t){if(typeof t=="string")return qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qg(t,e)}}function Jte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Yte(t){if(Array.isArray(t))return qg(t)}function qg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xte=function(e){return e},uO={},cO=function(e){return e===uO},CE=function(e){return function n(){return arguments.length===0||arguments.length===1&&cO(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Qte=function t(e,n){return e===1?n:CE(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==uO}).length;return a>=e?n.apply(void 0,i):t(e-a,CE(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return cO(d)?l.shift():d});return n.apply(void 0,qte(c).concat(l))}))})},mh=function(e){return Qte(e.length,e)},Wg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Zte=mh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ene=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Xte;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Kg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dO=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function tne(t){var e;return t===0?e=1:e=Math.floor(new Ee(t).abs().log(10).toNumber())+1,e}function nne(t,e,n){for(var r=new Ee(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var rne=mh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ine=mh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),one=mh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const gh={rangeStep:nne,getDigitCount:tne,interpolateNumber:rne,uninterpolateNumber:ine,uninterpolateTruncation:one};function Jg(t){return lne(t)||sne(t)||fO(t)||ane()}function ane(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lne(t){if(Array.isArray(t))return Yg(t)}function Ul(t,e){return dne(t)||cne(t,e)||fO(t,e)||une()}function une(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fO(t,e){if(t){if(typeof t=="string")return Yg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yg(t,e)}}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function dne(t){if(Array.isArray(t))return t}function hO(t){var e=Ul(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function pO(t,e,n){if(t.lte(0))return new Ee(0);var r=gh.getDigitCount(t.toNumber()),i=new Ee(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Ee(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Ee(Math.ceil(l))}function fne(t,e,n){var r=1,i=new Ee(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ee(10).pow(gh.getDigitCount(t)-1),i=new Ee(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ee(Math.floor(t)))}else t===0?i=new Ee(Math.floor((e-1)/2)):n||(i=new Ee(Math.floor(t)));var a=Math.floor((e-1)/2),s=ene(Zte(function(l){return i.add(new Ee(l-a).mul(r)).toNumber()}),Wg);return s(0,e)}function mO(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ee(0),tickMin:new Ee(0),tickMax:new Ee(0)};var o=pO(new Ee(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ee(0):(a=new Ee(t).add(e).div(2),a=a.sub(new Ee(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Ee(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?mO(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Ee(s).mul(o)),tickMax:a.add(new Ee(l).mul(o))})}function hne(t){var e=Ul(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=hO([n,r]),l=Ul(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Jg(Wg(0,i-1).map(function(){return 1/0}))):[].concat(Jg(Wg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Kg(d):d}if(u===c)return fne(u,i,o);var h=mO(u,c,a,o),m=h.step,g=h.tickMin,y=h.tickMax,w=gh.rangeStep(g,y.add(new Ee(.1).mul(m)),m);return n>r?Kg(w):w}function pne(t,e){var n=Ul(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=hO([r,i]),s=Ul(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=pO(new Ee(u).sub(l).div(c-1),o,0),h=[].concat(Jg(gh.rangeStep(new Ee(l),new Ee(u).sub(new Ee(.99).mul(d)),d)),[u]);return r>i?Kg(h):h}var mne=dO(hne),gne=dO(pne),yne="Invariant failed";function eo(t,e){throw new Error(yne)}var vne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}function wne(t,e){return Sne(t)||_ne(t,e)||xne(t,e)||bne()}function bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xne(t,e){if(t){if(typeof t=="string")return kE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(t,e)}}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Sne(t){if(Array.isArray(t))return t}function Ene(t,e){if(t==null)return{};var n=Tne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vO(r.key),r)}}function kne(t,e,n){return e&&Cne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pne(t,e,n){return e=Rd(e),Ine(t,gO()?Reflect.construct(e,n||[],Rd(t).constructor):e.apply(t,n))}function Ine(t,e){if(e&&(Sa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return One(t)}function One(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!t})()}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rd(t)}function Nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xg(t,e)}function Xg(t,e){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xg(t,e)}function yO(t,e,n){return e=vO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vO(t){var e=Rne(t,"string");return Sa(e)=="symbol"?e:e+""}function Rne(t,e){if(Sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var as=function(t){function e(){return Ane(this,e),Pne(this,e,arguments)}return Nne(e,t),kne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Ene(r,vne),m=ue(h,!1);this.props.direction==="x"&&c.type!=="number"&&eo();var g=l.map(function(y){var w=u(y,s),v=w.x,b=w.y,x=w.value,T=w.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var k=wne(T,2);E=k[0],A=k[1]}else E=A=T;if(o==="vertical"){var C=c.scale,P=b+i,O=P+a,I=P-a,M=C(x-E),D=C(x+A);S.push({x1:D,y1:O,x2:D,y2:I}),S.push({x1:M,y1:P,x2:D,y2:P}),S.push({x1:M,y1:O,x2:M,y2:I})}else if(o==="horizontal"){var j=d.scale,L=v+i,G=L-a,$=L+a,U=j(x-E),B=j(x+A);S.push({x1:G,y1:B,x2:$,y2:B}),S.push({x1:L,y1:U,x2:L,y2:B}),S.push({x1:G,y1:U,x2:$,y2:U})}return N.createElement(be,Nd({className:"recharts-errorBar",key:"bar-".concat(S.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},m),S.map(function(q){return N.createElement("line",Nd({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return N.createElement(be,{className:"recharts-errorBars"},g)}}])}(N.Component);yO(as,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yO(as,"displayName","ErrorBar");function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function PE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Dne(t,"string");return Fl(e)=="symbol"?e:e+""}function Dne(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wO=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=nn(n,na);if(!a)return null;var s=na.defaultProps,l=s!==void 0?wi(wi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,m=d.props,g=m.sectors||m.data||[];return c.concat(g.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,m=h!==void 0?wi(wi({},h),d.props):{},g=m.dataKey,y=m.name,w=m.legendType,v=m.hide;return{inactive:v,dataKey:g,type:l.iconType||w||"square",color:Y0(d),value:y||g,payload:m}}),wi(wi(wi({},l),na.getWithHeight(a,i)),{},{payload:u,item:a})};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function IE(t){return Fne(t)||Une(t)||jne(t)||Lne()}function Lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(t,e){if(t){if(typeof t=="string")return Qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qg(t,e)}}function Une(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fne(t){if(Array.isArray(t))return Qg(t)}function Qg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ia(t,e,n){return e=Bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bne(t){var e=Gne(t,"string");return Bl(e)=="symbol"?e:e+""}function Gne(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dt(t,e,n){return se(t)||se(e)?n:ct(e)?Sn(t,e,n):fe(e)?e(t):n}function Ys(t,e,n,r){var i=Ute(t,function(s){return dt(s,e)});if(n==="number"){var o=i.filter(function(s){return W(s)||parseFloat(s)});return o.length?[ph(o),Kr(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!se(s)}):i;return a.map(function(s){return ct(s)||s instanceof Date?s:""})}var Vne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Gn(d-c)!==Gn(h-d)){var g=[];if(Gn(h-d)===Gn(l[1]-l[0])){m=h;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{m=c;var w=h+l[1]-l[0];g[0]=Math.min(d,(w+d)/2),g[1]=Math.max(d,(w+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var b=Math.min(c,h),x=Math.max(c,h);if(e>(b+d)/2&&e<=(x+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},Y0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ke(Ke({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Hne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,m=d.length;h<m;h++){var g=c[d[h]],y=g.items,w=g.cateAxisId,v=y.filter(function(A){return wr(A.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,x=b!==void 0?Ke(Ke({},b),v[0].props):v[0].props,T=x.barSize,S=x[w];a[S]||(a[S]=[]);var E=se(T)?n:T;a[S].push({item:v[0],stackList:v.slice(1),barSize:se(E)?void 0:Xi(E,r,0)})}}return a},zne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Xi(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,g=a.reduce(function(T,S){return T+S.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var y=(i-g)/2>>0,w={offset:y-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:w.offset+w.size+u,size:h?m:S.barSize}},A=[].concat(IE(T),[E]);return w=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){A.push({item:k,position:w})}),A},d)}else{var v=Xi(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var b=(i-2*v-(l-1)*u)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;c=a.reduce(function(T,S,E){var A=[].concat(IE(T),[{item:S.item,position:{offset:v+(b+u)*E+(b-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){A.push({item:k,position:A[A.length-1].position})}),A},d)}return c},qne=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=wO({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,m=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&m!=="center"&&W(e[m]))return Ke(Ke({},e),{},ia({},m,e[m]+(d||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&g!=="middle"&&W(e[g]))return Ke(Ke({},e),{},ia({},g,e[g]+(h||0)))}return e},Wne=function(e,n,r){return se(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bO=function(e,n,r,i,o){var a=n.props.children,s=Yt(a,as).filter(function(u){return Wne(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=dt(c,r);if(se(d))return u;var h=Array.isArray(d)?[ph(d),Kr(d)]:[d,d],m=l.reduce(function(g,y){var w=dt(c,y,0),v=h[0]-Math.abs(Array.isArray(w)?w[0]:w),b=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Kne=function(e,n,r,i,o){var a=n.map(function(s){return bO(e,s,r,o,i)}).filter(function(s){return!se(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},xO=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&bO(e,l,u,i)||Ys(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},_O=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Di=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Gn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Qa(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},$p=new WeakMap,nc=function(e,n){if(typeof n!="function")return e;$p.has(e)||$p.set(e,new WeakMap);var r=$p.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Jne=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Rl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Cd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Js(),realScaleType:"point"}:o==="category"?{scale:Rl(),realScaleType:"band"}:{scale:Cd(),realScaleType:"linear"};if(Yi(i)){var l="scale".concat(Zf(i));return{scale:(EE[l]||Js)(),realScaleType:EE[l]?l:"point"}}return fe(i)?{scale:i}:{scale:Js(),realScaleType:"point"}},NE=1e-4,Yne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-NE,a=Math.max(i[0],i[1])+NE,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Xne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Qne=function(e,n){if(!n||n.length!==2||!W(n[0])||!W(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!W(e[0])||e[0]<r)&&(o[0]=r),(!W(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Zne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Qa(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},ere=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Qa(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},tre={sign:Zne,expand:m6,none:ma,silhouette:g6,wiggle:y6,positive:ere},nre=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=tre[r],a=p6().keys(i).value(function(s,l){return+dt(s,l,0)}).order(Sg).offset(o);return a(e)},rre=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ke(Ke({},h.type.defaultProps),h.props):h.props,y=g.stackId,w=g.hide;if(w)return d;var v=g[r],b=d[v]||{hasStack:!1,stackGroups:{}};if(ct(y)){var x=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[y]=x}else b.stackGroups[oo("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ke(Ke({},d),{},ia({},v,b))},l),c={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,w){var v=m.stackGroups[w];return Ke(Ke({},y),{},ia({},w,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:nre(e,v.items,o)}))},g)}return Ke(Ke({},d),{},ia({},h,m))},c)},ire=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=mne(u,o,s);return e.domain([ph(c),Kr(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=gne(d,o,s);return{niceTicks:h}}return null};function Ea(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!se(i[e.dataKey])){var s=od(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=dt(i,se(a)?e.dataKey:a);return se(l)?null:e.scale(l)}var RE=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=dt(a,n.dataKey,n.domain[s]);return se(l)?null:n.scale(l)-o/2+i},ore=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},are=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ke(Ke({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(ct(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},sre=function(e){return e.reduce(function(n,r){return[ph(r.concat([n[0]]).filter(W)),Kr(r.concat([n[1]]).filter(W))]},[1/0,-1/0])},SO=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=sre(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},ME=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$E=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zg=function(e,n,r){if(fe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(W(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(ME.test(e[0])){var o=+ME.exec(e[0])[1];i[0]=n[0]-o}else fe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(W(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if($E.test(e[1])){var a=+$E.exec(e[1])[1];i[1]=n[1]+a}else fe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Md=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=E0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},DE=function(e,n,r){return!e||!e.length||Qi(e,Sn(r,"type.defaultProps.domain"))?n:e},EO=function(e,n){var r=e.type.defaultProps?Ke(Ke({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Ke(Ke({},ue(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Y0(e),value:dt(n,i),type:l,payload:n,chartType:u,hide:c})};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=cre(t,"string");return Gl(e)=="symbol"?e:e+""}function cre(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $d=Math.PI/180,dre=function(e){return e*180/Math.PI},Et=function(e,n,r,i){return{x:e+Math.cos(-$d*i)*r,y:n+Math.sin(-$d*i)*r}},fre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},hre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=fre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:dre(u),angleInRadian:u}},pre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},mre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},UE=function(e,n){var r=e.x,i=e.y,o=hre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=pre(n),d=c.startAngle,h=c.endAngle,m=s,g;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=d}return g?jE(jE({},n),{},{radius:a,angle:mre(m,n)}):null};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}var gre=["offset"];function yre(t){return xre(t)||bre(t)||wre(t)||vre()}function vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(t,e){if(t){if(typeof t=="string")return ey(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(t,e)}}function bre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xre(t){if(Array.isArray(t))return ey(t)}function ey(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _re(t,e){if(t==null)return{};var n=Sre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){Ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ere(t,e,n){return e=Tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Are(t,"string");return Vl(e)=="symbol"?e:e+""}function Are(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}var Cre=function(e){var n=e.value,r=e.formatter,i=se(e.children)?n:e.children;return fe(r)?r(i):i},kre=function(e,n){var r=Gn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Pre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,w=(d+h)/2,v=kre(m,g),b=v>=0?1:-1,x,T;i==="insideStart"?(x=m+b*a,T=y):i==="insideEnd"?(x=g-b*a,T=!y):i==="end"&&(x=g+b*a,T=y),T=v<=0?T:!T;var S=Et(u,c,w,x),E=Et(u,c,w,x+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),k=se(e.id)?oo("recharts-radial-line-"):e.id;return N.createElement("text",Hl({},r,{dominantBaseline:"central",className:de("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:k,d:A})),N.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Ire=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var m=Et(a,s,u+r,h),g=m.x,y=m.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,v=Et(a,s,w,h),b=v.x,x=v.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Ore=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,m=d>0?"end":"start",g=d>0?"start":"end",y=u>=0?1:-1,w=y*i,v=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return at(at({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return at(at({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return at(at({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return at(at({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?at({x:s+w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideRight"?at({x:s+u-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},A):o==="insideTop"?at({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},A):o==="insideBottom"?at({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},A):o==="insideTopLeft"?at({x:s+w,y:l+h,textAnchor:b,verticalAnchor:g},A):o==="insideTopRight"?at({x:s+u-w,y:l+h,textAnchor:v,verticalAnchor:g},A):o==="insideBottomLeft"?at({x:s+w,y:l+c-h,textAnchor:b,verticalAnchor:m},A):o==="insideBottomRight"?at({x:s+u-w,y:l+c-h,textAnchor:v,verticalAnchor:m},A):Ka(o)&&(W(o.x)||Ri(o.x))&&(W(o.y)||Ri(o.y))?at({x:s+Xi(o.x,u),y:l+Xi(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):at({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Nre=function(e){return"cx"in e&&W(e.cx)};function Nt(t){var e=t.offset,n=e===void 0?5:e,r=_re(t,gre),i=at({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||se(s)&&se(l)&&!R.isValidElement(u)&&!fe(u))return null;if(R.isValidElement(u))return R.cloneElement(u,i);var m;if(fe(u)){if(m=R.createElement(u,i),R.isValidElement(m))return m}else m=Cre(i);var g=Nre(o),y=ue(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Pre(i,m,y);var w=g?Ire(i):Ore(i);return N.createElement(bd,Hl({className:de("recharts-label",d)},y,w,{breakAll:h}),m)}Nt.displayName="Label";var TO=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,m=e.top,g=e.left,y=e.width,w=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(W(y)&&W(w)){if(W(d)&&W(h))return{x:d,y:h,width:y,height:w};if(W(m)&&W(g))return{x:m,y:g,width:y,height:w}}return W(d)&&W(h)?{x:d,y:h,width:0,height:0}:W(n)&&W(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},Rre=function(e,n){return e?e===!0?N.createElement(Nt,{key:"label-implicit",viewBox:n}):ct(e)?N.createElement(Nt,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===Nt?R.cloneElement(e,{key:"label-implicit",viewBox:n}):N.createElement(Nt,{key:"label-implicit",content:e,viewBox:n}):fe(e)?N.createElement(Nt,{key:"label-implicit",content:e,viewBox:n}):Ka(e)?N.createElement(Nt,Hl({viewBox:n},e,{key:"label-implicit"})):null:null},Mre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=TO(e),a=Yt(i,Nt).map(function(l,u){return R.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Rre(e.label,n||o);return[s].concat(yre(a))};Nt.parseViewBox=TO;Nt.renderCallByParent=Mre;function $re(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Dre=$re;const Lre=Ie(Dre);function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}var jre=["valueAccessor"],Ure=["data","dataKey","clockWise","id","textBreakAll"];function Fre(t){return Hre(t)||Vre(t)||Gre(t)||Bre()}function Bre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(t,e){if(t){if(typeof t=="string")return ty(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ty(t,e)}}function Vre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hre(t){if(Array.isArray(t))return ty(t)}function ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}function BE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(n),!0).forEach(function(r){zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zre(t,e,n){return e=qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=Wre(t,"string");return zl(e)=="symbol"?e:e+""}function Wre(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VE(t,e){if(t==null)return{};var n=Kre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jre=function(e){return Array.isArray(e.value)?Lre(e.value):e.value};function ar(t){var e=t.valueAccessor,n=e===void 0?Jre:e,r=VE(t,jre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=VE(r,Ure);return!i||!i.length?null:N.createElement(be,{className:"recharts-label-list"},i.map(function(c,d){var h=se(o)?n(c,d):dt(c&&c.payload,o),m=se(s)?{}:{id:"".concat(s,"-").concat(d)};return N.createElement(Nt,Dd({},ue(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Nt.parseViewBox(se(a)?c:GE(GE({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}ar.displayName="LabelList";function Yre(t,e){return t?t===!0?N.createElement(ar,{key:"labelList-implicit",data:e}):N.isValidElement(t)||fe(t)?N.createElement(ar,{key:"labelList-implicit",data:e,content:t}):Ka(t)?N.createElement(ar,Dd({data:e},t,{key:"labelList-implicit"})):null:null}function Xre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yt(r,ar).map(function(a,s){return R.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Yre(t.label,e);return[o].concat(Fre(i))}ar.renderCallByParent=Xre;function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(this,arguments)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return e=Zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=eie(t,"string");return ql(e)=="symbol"?e:e+""}function eie(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tie=function(e,n){var r=Gn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/$d,h=u?o:o+a*d,m=Et(n,r,c,h),g=Et(n,r,i,h),y=u?o-a*d:o,w=Et(n,r,c*Math.cos(d*$d),y);return{center:m,circleTangency:g,lineTangency:w,theta:d}},AO=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=tie(a,s),u=a+l,c=Et(n,r,o,a),d=Et(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Et(n,r,i,a),g=Et(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},nie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Gn(c-u),h=rc({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,y=h.theta,w=rc({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),v=w.circleTangency,b=w.lineTangency,x=w.theta,T=l?Math.abs(u-c):Math.abs(u-c)-y-x;if(T<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):AO({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=rc({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,k=E.lineTangency,C=E.theta,P=rc({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=P.circleTangency,I=P.lineTangency,M=P.theta,D=l?Math.abs(u-c):Math.abs(u-c)-C-M;if(D<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},rie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CO=function(e){var n=zE(zE({},rie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var m=de("recharts-sector",h),g=a-o,y=Xi(s,g,0,!0),w;return y>0&&Math.abs(c-d)<360?w=nie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):w=AO({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),N.createElement("path",ny({},ue(n,!0),{className:m,d:w,role:"img"}))};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(this,arguments)}function qE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return e=oie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=aie(t,"string");return Wl(e)=="symbol"?e:e+""}function aie(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KE={curveBasisClosed:r6,curveBasisOpen:i6,curveBasis:n6,curveBumpX:Gq,curveBumpY:Vq,curveLinearClosed:o6,curveLinear:th,curveMonotoneX:a6,curveMonotoneY:s6,curveNatural:l6,curveStep:u6,curveStepAfter:d6,curveStepBefore:c6},ic=function(e){return e.x===+e.x&&e.y===+e.y},Es=function(e){return e.x},Ts=function(e){return e.y},sie=function(e,n){if(fe(e))return e;var r="curve".concat(Zf(e));return(r==="curveMonotone"||r==="curveBump")&&n?KE["".concat(r).concat(n==="vertical"?"Y":"X")]:KE[r]||th},lie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=sie(r,s),d=u?o.filter(function(y){return ic(y)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(y){return ic(y)}):a,g=d.map(function(y,w){return WE(WE({},y),{},{base:m[w]})});return s==="vertical"?h=Ku().y(Ts).x1(Es).x0(function(y){return y.base.x}):h=Ku().x(Es).y1(Ts).y0(function(y){return y.base.y}),h.defined(ic).curve(c),h(g)}return s==="vertical"&&W(a)?h=Ku().y(Ts).x1(Es).x0(a):W(a)?h=Ku().x(Es).y1(Ts).y0(a):h=PP().x(Es).y(Ts),h.defined(ic).curve(c),h(d)},Vi=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?lie(e):i;return R.createElement("path",ry({},ue(e,!1),ad(e),{className:de("recharts-curve",n),d:a,ref:o}))},kO={exports:{}},uie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cie=uie,die=cie;function PO(){}function IO(){}IO.resetWarningCache=PO;var fie=function(){function t(r,i,o,a,s,l){if(l!==die){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:IO,resetWarningCache:PO};return n.PropTypes=n,n};kO.exports=fie();var hie=kO.exports;const xe=Ie(hie),{getOwnPropertyNames:pie,getOwnPropertySymbols:mie}=Object,{hasOwnProperty:gie}=Object.prototype;function Dp(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function oc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function yie(t){return t!=null?t[Symbol.toStringTag]:void 0}function JE(t){return pie(t).concat(mie(t))}const vie=Object.hasOwn||((t,e)=>gie.call(t,e));function lo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const wie="__v",bie="__o",xie="_owner",{getOwnPropertyDescriptor:YE,keys:XE}=Object;function _ie(t,e){return t.byteLength===e.byteLength&&Ld(new Uint8Array(t),new Uint8Array(e))}function Sie(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Eie(t,e){return t.byteLength===e.byteLength&&Ld(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Tie(t,e){return lo(t.getTime(),e.getTime())}function Aie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Cie(t,e){return t===e}function QE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,d=0;for(;(s=u.next())&&!s.done;){if(i[d]){d++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,d,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const kie=lo;function Pie(t,e,n){const r=XE(t);let i=r.length;if(XE(e).length!==i)return!1;for(;i-- >0;)if(!OO(t,e,n,r[i]))return!1;return!0}function As(t,e,n){const r=JE(t);let i=r.length;if(JE(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!OO(t,e,n,o)||(a=YE(t,o),s=YE(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Iie(t,e){return lo(t.valueOf(),e.valueOf())}function Oie(t,e){return t.source===e.source&&t.flags===e.flags}function ZE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Ld(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Nie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function OO(t,e,n,r){return(r===xie||r===bie||r===wie)&&(t.$$typeof||e.$$typeof)?!0:vie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Rie="[object ArrayBuffer]",Mie="[object Arguments]",$ie="[object Boolean]",Die="[object DataView]",Lie="[object Date]",jie="[object Error]",Uie="[object Map]",Fie="[object Number]",Bie="[object Object]",Gie="[object RegExp]",Vie="[object Set]",Hie="[object String]",zie={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},qie="[object URL]",Wie=Object.prototype.toString;function Kie({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(w,v,b){if(w===v)return!0;if(w==null||v==null)return!1;const x=typeof w;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?s(w,v,b):x==="function"?o(w,v,b):!1;const T=w.constructor;if(T!==v.constructor)return!1;if(T===Object)return l(w,v,b);if(Array.isArray(w))return e(w,v,b);if(T===Date)return r(w,v,b);if(T===RegExp)return c(w,v,b);if(T===Map)return a(w,v,b);if(T===Set)return d(w,v,b);const S=Wie.call(w);if(S===Lie)return r(w,v,b);if(S===Gie)return c(w,v,b);if(S===Uie)return a(w,v,b);if(S===Vie)return d(w,v,b);if(S===Bie)return typeof w.then!="function"&&typeof v.then!="function"&&l(w,v,b);if(S===qie)return m(w,v,b);if(S===jie)return i(w,v,b);if(S===Mie)return l(w,v,b);if(zie[S])return h(w,v,b);if(S===Rie)return t(w,v,b);if(S===Die)return n(w,v,b);if(S===$ie||S===Fie||S===Hie)return u(w,v,b);if(g){let E=g[S];if(!E){const A=yie(w);A&&(E=g[A])}if(E)return E(w,v,b)}return!1}}function Jie({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:_ie,areArraysEqual:n?As:Sie,areDataViewsEqual:Eie,areDatesEqual:Tie,areErrorsEqual:Aie,areFunctionsEqual:Cie,areMapsEqual:n?Dp(QE,As):QE,areNumbersEqual:kie,areObjectsEqual:n?As:Pie,arePrimitiveWrappersEqual:Iie,areRegExpsEqual:Oie,areSetsEqual:n?Dp(ZE,As):ZE,areTypedArraysEqual:n?Dp(Ld,As):Ld,areUrlsEqual:Nie,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=oc(r.areArraysEqual),o=oc(r.areMapsEqual),a=oc(r.areObjectsEqual),s=oc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Yie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Xie({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const Qie=gi();gi({strict:!0});gi({circular:!0});gi({circular:!0,strict:!0});gi({createInternalComparator:()=>lo});gi({strict:!0,createInternalComparator:()=>lo});gi({circular:!0,createInternalComparator:()=>lo});gi({circular:!0,createInternalComparator:()=>lo,strict:!0});function gi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Jie(t),a=Kie(o),s=n?n(a):Yie(a);return Xie({circular:e,comparator:a,createState:r,equals:s,strict:i})}function Zie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function eT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Zie(i)};requestAnimationFrame(r)}function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function eoe(t){return ioe(t)||roe(t)||noe(t)||toe()}function toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function noe(t,e){if(t){if(typeof t=="string")return tT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(t,e)}}function tT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function roe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ioe(t){if(Array.isArray(t))return t}function ooe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=eoe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){eT(i.bind(null,u),l);return}i(l),eT(i.bind(null,u));return}iy(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){NO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NO(t,e,n){return e=aoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aoe(t){var e=soe(t,"string");return Kl(e)==="symbol"?e:String(e)}function soe(t,e){if(Kl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var loe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},uoe=function(e){return e},coe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Xs=function(e,n){return Object.keys(n).reduce(function(r,i){return rT(rT({},r),{},NO({},i,e(i,n[i])))},{})},iT=function(e,n,r){return e.map(function(i){return"".concat(coe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function doe(t,e){return poe(t)||hoe(t,e)||RO(t,e)||foe()}function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function poe(t){if(Array.isArray(t))return t}function moe(t){return voe(t)||yoe(t)||RO(t)||goe()}function goe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RO(t,e){if(t){if(typeof t=="string")return oy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oy(t,e)}}function yoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function voe(t){if(Array.isArray(t))return oy(t)}function oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jd=1e-4,MO=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$O=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},oT=function(e,n){return function(r){var i=MO(e,n);return $O(i,r)}},woe=function(e,n){return function(r){var i=MO(e,n),o=[].concat(moe(i.map(function(a,s){return a*s}).slice(1)),[0]);return $O(o,r)}},aT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=doe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=oT(i,a),h=oT(o,s),m=woe(i,a),g=function(v){return v>1?1:v<0?0:v},y=function(v){for(var b=v>1?1:v,x=b,T=0;T<8;++T){var S=d(x)-b,E=m(x);if(Math.abs(S-b)<jd||E<jd)return h(x);x=g(x-S/E)}return h(x)};return y.isStepper=!1,y},boe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var m=-(c-d)*r,g=h*o,y=h+(m-g)*s/1e3,w=h*s/1e3+c;return Math.abs(w-d)<jd&&Math.abs(y)<jd?[d,0]:[w,y]};return l.isStepper=!0,l.dt=s,l},xoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aT(i);case"spring":return boe();default:if(i.split("(")[0]==="cubic-bezier")return aT(i)}return typeof i=="function"?i:null};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function sT(t){return Eoe(t)||Soe(t)||DO(t)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eoe(t){if(Array.isArray(t))return sy(t)}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ay(t,e,n){return e=Toe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Toe(t){var e=Aoe(t,"string");return Jl(e)==="symbol"?e:String(e)}function Aoe(t,e){if(Jl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Coe(t,e){return Ioe(t)||Poe(t,e)||DO(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DO(t,e){if(t){if(typeof t=="string")return sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sy(t,e)}}function sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Poe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ioe(t){if(Array.isArray(t))return t}var Ud=function(e,n,r){return e+(n-e)*r},ly=function(e){var n=e.from,r=e.to;return n!==r},Ooe=function t(e,n,r){var i=Xs(function(o,a){if(ly(a)){var s=e(a.from,a.to,a.velocity),l=Coe(s,2),u=l[0],c=l[1];return _t(_t({},a),{},{from:u,velocity:c})}return a},n);return r<1?Xs(function(o,a){return ly(a)?_t(_t({},a),{},{velocity:Ud(a.velocity,i[o].velocity,r),from:Ud(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Noe=function(t,e,n,r,i){var o=loe(t,e),a=o.reduce(function(w,v){return _t(_t({},w),{},ay({},v,[t[v],e[v]]))},{}),s=o.reduce(function(w,v){return _t(_t({},w),{},ay({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Xs(function(v,b){return b.from},s)},m=function(){return!Object.values(s).filter(ly).length},g=function(v){u||(u=v);var b=v-u,x=b/n.dt;s=Ooe(n,s,x),i(_t(_t(_t({},t),e),h())),u=v,m()||(l=requestAnimationFrame(d))},y=function(v){c||(c=v);var b=(v-c)/r,x=Xs(function(S,E){return Ud.apply(void 0,sT(E).concat([n(b)]))},a);if(i(_t(_t(_t({},t),e),x)),b<1)l=requestAnimationFrame(d);else{var T=Xs(function(S,E){return Ud.apply(void 0,sT(E).concat([n(1)]))},a);i(_t(_t(_t({},t),e),T))}};return d=n.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}var Roe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Moe(t,e){if(t==null)return{};var n=$oe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $oe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lp(t){return Uoe(t)||joe(t)||Loe(t)||Doe()}function Doe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(t,e){if(t){if(typeof t=="string")return uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uy(t,e)}}function joe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uoe(t){if(Array.isArray(t))return uy(t)}function uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(n),!0).forEach(function(r){Ms(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ms(t,e,n){return e=LO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Boe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LO(r.key),r)}}function Goe(t,e,n){return e&&Boe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LO(t){var e=Voe(t,"string");return Ta(e)==="symbol"?e:String(e)}function Voe(t,e){if(Ta(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cy(t,e)}function cy(t,e){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cy(t,e)}function zoe(t){var e=qoe();return function(){var r=Fd(t),i;if(e){var o=Fd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return dy(this,i)}}function dy(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fy(t)}function fy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fd(t)}var Kn=function(t){Hoe(n,t);var e=zoe(n);function n(r,i){var o;Foe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(fy(o)),o.changeStyle=o.changeStyle.bind(fy(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),dy(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},dy(o);o.state={style:l?Ms({},l,u):u}}else o.state={style:{}};return o}return Goe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var m={style:l?Ms({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(Qie(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?d:i.to;if(this.state&&h){var w={style:l?Ms({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(w)}this.runAnimation(Nn(Nn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,m=Noe(a,s,xoe(u),l,this.changeStyle),g=function(){o.stopJSAnimation=m()};this.manager.start([h,c,g,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,m=function(y,w,v){if(v===0)return y;var b=w.duration,x=w.easing,T=x===void 0?"ease":x,S=w.style,E=w.properties,A=w.onAnimationEnd,k=v>0?a[v-1]:w,C=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Lp(y),[o.runJSAnimation.bind(o,{from:k.style,to:S,duration:b,easing:T}),b]);var P=iT(C,b,T),O=Nn(Nn(Nn({},k.style),S),{},{transition:P});return[].concat(Lp(y),[O,b,A]).filter(uoe)};return this.manager.start([l].concat(Lp(a.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ooe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Ms({},s,l):l,w=iT(Object.keys(y),a,u);g.start([c,o,Nn(Nn({},y),{},{transition:w}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Moe(i,Roe),u=R.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(m){var g=m.props,y=g.style,w=y===void 0?{}:y,v=g.className,b=R.cloneElement(m,Nn(Nn({},l),{},{style:Nn(Nn({},w),c),className:v}));return b};return u===1?d(R.Children.only(o)):N.createElement("div",null,R.Children.map(o,function(h){return d(h)}))}}]),n}(R.PureComponent);Kn.displayName="Animate";Kn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Kn.propTypes={from:xe.oneOfType([xe.object,xe.string]),to:xe.oneOfType([xe.object,xe.string]),attributeName:xe.string,duration:xe.number,begin:xe.number,easing:xe.oneOfType([xe.string,xe.func]),steps:xe.arrayOf(xe.shape({duration:xe.number.isRequired,style:xe.object.isRequired,easing:xe.oneOfType([xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xe.func]),properties:xe.arrayOf("string"),onAnimationEnd:xe.func})),children:xe.oneOfType([xe.node,xe.func]),isActive:xe.bool,canBegin:xe.bool,onAnimationEnd:xe.func,shouldReAnimate:xe.bool,onAnimationStart:xe.func,onAnimationReStart:xe.func};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(this,arguments)}function Woe(t,e){return Xoe(t)||Yoe(t,e)||Joe(t,e)||Koe()}function Koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Joe(t,e){if(t){if(typeof t=="string")return cT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(t,e)}}function cT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xoe(t){if(Array.isArray(t))return t}function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(r){Qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qoe(t,e,n){return e=Zoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zoe(t){var e=eae(t,"string");return Yl(e)=="symbol"?e:e+""}function eae(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hT=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},tae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},nae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X0=function(e){var n=fT(fT({},nae),e),r=R.useRef(),i=R.useState(-1),o=Woe(i,2),a=o[0],s=o[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,m=n.className,g=n.animationEasing,y=n.animationDuration,w=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var x=de("recharts-rectangle",m);return b?N.createElement(Kn,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:y,animationEasing:g,isActive:b},function(T){var S=T.width,E=T.height,A=T.x,k=T.y;return N.createElement(Kn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:v,easing:g},N.createElement("path",Bd({},ue(n,!0),{className:x,d:hT(A,k,S,E,h),ref:r})))}):N.createElement("path",Bd({},ue(n,!0),{className:x,d:hT(l,u,c,d,h)}))};function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(this,arguments)}var yh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=de("recharts-dot",o);return n===+n&&r===+r&&i===+i?R.createElement("circle",hy({},ue(e,!1),ad(e),{className:a,cx:n,cy:r,r:i})):null};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}var rae=["x","y","top","left","width","height","className"];function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return e=aae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aae(t){var e=sae(t,"string");return Xl(e)=="symbol"?e:e+""}function sae(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lae(t,e){if(t==null)return{};var n=uae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},dae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,m=h===void 0?0:h,g=e.className,y=lae(e,rae),w=iae({x:r,y:o,top:s,left:u,width:d,height:m},y);return!W(r)||!W(o)||!W(d)||!W(m)||!W(s)||!W(u)?null:N.createElement("path",py({},ue(w,!0),{className:de("recharts-cross",g),d:cae(r,o,d,m,s,u)}))},fae=ZP,hae=fae(Object.getPrototypeOf,Object),pae=hae,mae=Rr,gae=pae,yae=Mr,vae="[object Object]",wae=Function.prototype,bae=Object.prototype,jO=wae.toString,xae=bae.hasOwnProperty,_ae=jO.call(Object);function Sae(t){if(!yae(t)||mae(t)!=vae)return!1;var e=gae(t);if(e===null)return!0;var n=xae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&jO.call(n)==_ae}var Eae=Sae;const Tae=Ie(Eae);var Aae=Rr,Cae=Mr,kae="[object Boolean]";function Pae(t){return t===!0||t===!1||Cae(t)&&Aae(t)==kae}var Iae=Pae;const Oae=Ie(Iae);function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function Nae(t,e){return Dae(t)||$ae(t,e)||Mae(t,e)||Rae()}function Rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mae(t,e){if(t){if(typeof t=="string")return mT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mT(t,e)}}function mT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Dae(t){if(Array.isArray(t))return t}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){Lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lae(t,e,n){return e=jae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jae(t){var e=Uae(t,"string");return Ql(e)=="symbol"?e:e+""}function Uae(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vT=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Fae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bae=function(e){var n=yT(yT({},Fae),e),r=R.useRef(),i=R.useState(-1),o=Nae(i,2),a=o[0],s=o[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,y=n.animationDuration,w=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=de("recharts-trapezoid",m);return v?N.createElement(Kn,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:v},function(x){var T=x.upperWidth,S=x.lowerWidth,E=x.height,A=x.x,k=x.y;return N.createElement(Kn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:g},N.createElement("path",Gd({},ue(n,!0),{className:b,d:vT(A,k,T,S,E),ref:r})))}):N.createElement("g",null,N.createElement("path",Gd({},ue(n,!0),{className:b,d:vT(l,u,c,d,h)})))},Gae=["option","shapeType","propTransformer","activeClassName","isActive"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Vae(t,e){if(t==null)return{};var n=Hae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return e=qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qae(t){var e=Wae(t,"string");return Zl(e)=="symbol"?e:e+""}function Wae(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kae(t,e){return Vd(Vd({},e),t)}function Jae(t,e){return t==="symbols"}function bT(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return N.createElement(X0,n);case"trapezoid":return N.createElement(Bae,n);case"sector":return N.createElement(CO,n);case"symbols":if(Jae(e))return N.createElement(rh,n);break;default:return null}}function Yae(t){return R.isValidElement(t)?t.props:t}function my(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Kae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Vae(t,Gae),u;if(R.isValidElement(e))u=R.cloneElement(e,Vd(Vd({},l),Yae(e)));else if(fe(e))u=e(l);else if(Tae(e)&&!Oae(e)){var c=i(e,l);u=N.createElement(bT,{shapeType:n,elementProps:c})}else{var d=l;u=N.createElement(bT,{shapeType:n,elementProps:d})}return s?N.createElement(be,{className:a},u):u}function vh(t,e){return e!=null&&"trapezoids"in t.props}function wh(t,e){return e!=null&&"sectors"in t.props}function eu(t,e){return e!=null&&"points"in t.props}function Xae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Qae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Zae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ese(t,e){var n;return vh(t,e)?n=Xae:wh(t,e)?n=Qae:eu(t,e)&&(n=Zae),n}function tse(t,e){var n;return vh(t,e)?n="trapezoids":wh(t,e)?n="sectors":eu(t,e)&&(n="points"),n}function nse(t,e){if(vh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(wh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return eu(t,e)?e.payload:{}}function rse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=tse(n,e),o=nse(n,e),a=r.filter(function(l,u){var c=Qi(o,l),d=n.props[i].filter(function(g){var y=ese(n,e);return y(g,e)}),h=n.props[i].indexOf(d[d.length-1]),m=u===h;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var ise=Math.ceil,ose=Math.max;function ase(t,e,n,r){for(var i=-1,o=ose(ise((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var sse=ase,lse=yI,xT=1/0,use=17976931348623157e292;function cse(t){if(!t)return t===0?t:0;if(t=lse(t),t===xT||t===-xT){var e=t<0?-1:1;return e*use}return t===t?t:0}var dse=cse,fse=sse,hse=ah,jp=dse;function pse(t){return function(e,n,r){return r&&typeof r!="number"&&hse(e,n,r)&&(n=r=void 0),e=jp(e),n===void 0?(n=e,e=0):n=jp(n),r=r===void 0?e<n?1:-1:jp(r),fse(e,n,r,t)}}var mse=pse,gse=mse,yse=gse(),vse=yse;const Hd=Ie(vse);function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ST(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){UO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UO(t,e,n){return e=wse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=bse(t,"string");return tu(e)=="symbol"?e:e+""}function bse(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xse=["Webkit","Moz","O","ms"],_se=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=xse.reduce(function(o,a){return ST(ST({},o),{},UO({},a+r,n))},{});return i[e]=n,i};function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){en(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BO(r.key),r)}}function Ese(t,e,n){return e&&TT(t.prototype,e),n&&TT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tse(t,e,n){return e=qd(e),Ase(t,FO()?Reflect.construct(e,n||[],qd(t).constructor):e.apply(t,n))}function Ase(t,e){if(e&&(Aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cse(t)}function Cse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!t})()}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qd(t)}function kse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gy(t,e)}function gy(t,e){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gy(t,e)}function en(t,e,n){return e=BO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BO(t){var e=Pse(t,"string");return Aa(e)=="symbol"?e:e+""}function Pse(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ise=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Js().domain(Hd(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},AT=function(e){return e.changedTouches&&!!e.changedTouches.length},Ca=function(t){function e(n){var r;return Sse(this,e),r=Tse(this,e,[n]),en(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),en(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),en(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),en(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),en(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),en(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),en(r,"handleSlideDragStart",function(i){var o=AT(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return kse(e,t),Ese(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,d),g=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=dt(o[r],s,r);return fe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-d-s,u+c-d-a):y<0&&(y=Math.max(y,u-a,u-s));var w=this.getIndex({startX:a+y,endX:s+y});(w.startIndex!==h||w.endIndex!==m)&&g&&g(w),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=AT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,m=c.travellerWidth,g=c.onChange,y=c.gap,w=c.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-m-u):b<0&&(b=Math.max(b,d-u)),v[a]=u+b;var x=this.getIndex(v),T=x.startIndex,S=x.endIndex,E=function(){var k=w.length-1;return a==="startX"&&(s>l?T%y===0:S%y===0)||s<l&&S===k||a==="endX"&&(s>l?S%y===0:T%y===0)||s>l&&S===k};this.setState(en(en({},a,u+b),"brushMoveStartX",r.pageX),function(){g&&E()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(en({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return N.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=R.Children.only(u);return d?N.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,y=l.startIndex,w=l.endIndex,v=Math.max(r,this.props.x),b=Up(Up({},ue(this.props,!1)),{},{x:v,y:u,width:c,height:d}),x=m||"Min value: ".concat((o=g[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[w])===null||a===void 0?void 0:a.name);return N.createElement(be,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return N.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,m=5,g={pointerEvents:"none",fill:u};return N.createElement(be,{className:"recharts-brush-texts"},N.createElement(bd,zd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:a+s/2},g),this.getTextOfTick(i)),N.createElement(bd,zd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+m,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,y=h.isTextActive,w=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!W(s)||!W(l)||!W(u)||!W(c)||u<=0||c<=0)return null;var x=de("recharts-brush",o),T=N.Children.count(a)===1,S=_se("userSelect","none");return N.createElement(be,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(y||w||v||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return N.createElement(N.Fragment,null,N.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),N.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),N.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return N.isValidElement(r)?o=N.cloneElement(r,i):fe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Up({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Ise({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(R.PureComponent);en(Ca,"displayName","Brush");en(Ca,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ose=S0;function Nse(t,e){var n;return Ose(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Rse=Nse,Mse=zP,$se=ns,Dse=Rse,Lse=Xt,jse=ah;function Use(t,e,n){var r=Lse(t)?Mse:Dse;return n&&jse(t,e,n)&&(e=void 0),r(t,$se(e))}var Fse=Use;const Bse=Ie(Fse);var sr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},CT=fI;function Gse(t,e,n){e=="__proto__"&&CT?CT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Vse=Gse,Hse=Vse,zse=cI,qse=ns;function Wse(t,e){var n={};return e=qse(e),zse(t,function(r,i,o){Hse(n,i,e(r,i,o))}),n}var Kse=Wse;const Jse=Ie(Kse);function Yse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Xse=Yse,Qse=S0;function Zse(t,e){var n=!0;return Qse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var ele=Zse,tle=Xse,nle=ele,rle=ns,ile=Xt,ole=ah;function ale(t,e,n){var r=ile(t)?tle:nle;return n&&ole(t,e,n)&&(e=void 0),r(t,rle(e))}var sle=ale;const lle=Ie(sle);var ule=["x","y"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cle(t,e,n){return e=dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=fle(t,"string");return nu(e)=="symbol"?e:e+""}function fle(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hle(t,e){if(t==null)return{};var n=ple(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ple(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mle(t,e){var n=t.x,r=t.y,i=hle(t,ule),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Cs(Cs(Cs(Cs(Cs({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function PT(t){return N.createElement(my,yy({shapeType:"rectangle",propTransformer:mle,activeClassName:"recharts-active-bar"},t))}var gle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=W(r)||Cz(r);return o?e(r,i):(o||eo(),n)}},yle=["value","background"],GO;function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function vle(t,e){if(t==null)return{};var n=wle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HO(r.key),r)}}function xle(t,e,n){return e&&OT(t.prototype,e),n&&OT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _le(t,e,n){return e=Kd(e),Sle(t,VO()?Reflect.construct(e,n||[],Kd(t).constructor):e.apply(t,n))}function Sle(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ele(t)}function Ele(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VO=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(t)}function Tle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vy(t,e)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(t,e)}function Jr(t,e,n){return e=HO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HO(t){var e=Ale(t,"string");return ka(e)=="symbol"?e:e+""}function Ale(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uo=function(t){function e(){var n;ble(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_le(this,e,[].concat(i)),Jr(n,"state",{isAnimationFinished:!1}),Jr(n,"id",oo("recharts-bar-")),Jr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Jr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Tle(e,t),xle(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ue(this.props,!1);return r&&r.map(function(d,h){var m=h===l,g=m?u:a,y=Qe(Qe(Qe({},c),d),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return N.createElement(be,Wd({className:"recharts-bar-rectangle"},Tl(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),N.createElement(PT,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return N.createElement(Kn,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,y=o.map(function(w,v){var b=h&&h[v];if(b){var x=Ye(b.x,w.x),T=Ye(b.y,w.y),S=Ye(b.width,w.width),E=Ye(b.height,w.height);return Qe(Qe({},w),{},{x:x(g),y:T(g),width:S(g),height:E(g)})}if(a==="horizontal"){var A=Ye(0,w.height),k=A(g);return Qe(Qe({},w),{},{y:w.y+w.height-k,height:k})}var C=Ye(0,w.width),P=C(g);return Qe(Qe({},w),{},{width:P})});return N.createElement(be,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Qi(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ue(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=vle(u,yle);if(!d)return null;var m=Qe(Qe(Qe(Qe(Qe({},h),{},{fill:"#eee"},d),l),Tl(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return N.createElement(PT,Wd({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Yt(c,as);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(w,v){var b=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:b,errorVal:dt(w,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return N.createElement(be,g,d.map(function(y){return N.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,m=r.isAnimationActive,g=r.background,y=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,v=de("recharts-bar",a),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,T=b||x,S=se(y)?this.id:y;return N.createElement(be,{className:v},b||x?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(S)},N.createElement("rect",{x:b?u:u-d/2,y:x?c:c-h/2,width:b?d:d*2,height:x?h:h*2}))):null,N.createElement(be,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!m||w)&&ar.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);GO=uo;Jr(uo,"displayName","Bar");Jr(uo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Jr(uo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=Xne(r,n);if(!m)return null;var g=e.layout,y=n.type.defaultProps,w=y!==void 0?Qe(Qe({},y),n.props):n.props,v=w.dataKey,b=w.children,x=w.minPointSize,T=g==="horizontal"?a:o,S=u?T.scale.domain():null,E=ore({numericAxis:T}),A=Yt(b,sh),k=d.map(function(C,P){var O,I,M,D,j,L;u?O=Qne(u[c+P],S):(O=dt(C,v),Array.isArray(O)||(O=[E,O]));var G=gle(x,GO.defaultProps.minPointSize)(O[1],P);if(g==="horizontal"){var $,U=[a.scale(O[0]),a.scale(O[1])],B=U[0],q=U[1];I=RE({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:C,index:P}),M=($=q??B)!==null&&$!==void 0?$:void 0,D=m.size;var z=B-q;if(j=Number.isNaN(z)?0:z,L={x:I,y:a.y,width:D,height:a.height},Math.abs(G)>0&&Math.abs(j)<Math.abs(G)){var ee=Gn(j||G)*(Math.abs(G)-Math.abs(j));M-=ee,j+=ee}}else{var K=[o.scale(O[0]),o.scale(O[1])],me=K[0],Oe=K[1];if(I=me,M=RE({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:C,index:P}),D=Oe-me,j=m.size,L={x:o.x,y:M,width:o.width,height:j},Math.abs(G)>0&&Math.abs(D)<Math.abs(G)){var rt=Gn(D||G)*(Math.abs(G)-Math.abs(D));D+=rt}}return Qe(Qe(Qe({},C),{},{x:I,y:M,width:D,height:j,value:u?O:O[1],payload:C,background:L},A&&A[P]&&A[P].props),{},{tooltipPayload:[EO(n,C)],tooltipPosition:{x:I+D/2,y:M+j/2}})});return Qe({data:k,layout:g},h)});function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function Cle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zO(r.key),r)}}function kle(t,e,n){return e&&NT(t.prototype,e),n&&NT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){bh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bh(t,e,n){return e=zO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zO(t){var e=Ple(t,"string");return ru(e)=="symbol"?e:e+""}function Ple(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qO=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!nn(u,uo);return c.reduce(function(m,g){var y=n[g],w=y.orientation,v=y.domain,b=y.padding,x=b===void 0?{}:b,T=y.mirror,S=y.reversed,E="".concat(w).concat(T?"Mirror":""),A,k,C,P,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var I=v[1]-v[0],M=1/0,D=y.categoricalDomain.sort(Oz);if(D.forEach(function(K,me){me>0&&(M=Math.min((K||0)-(D[me-1]||0),M))}),Number.isFinite(M)){var j=M/I,L=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=j*L/2),y.padding==="no-gap"){var G=Xi(e.barCategoryGap,j*L),$=j*L/2;A=$-G-($-G)/L*G}}}i==="xAxis"?k=[r.left+(x.left||0)+(A||0),r.left+r.width-(x.right||0)-(A||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(A||0),r.top+r.height-(x.bottom||0)-(A||0)]:k=y.range,S&&(k=[k[1],k[0]]);var U=Jne(y,o,h),B=U.scale,q=U.realScaleType;B.domain(v).range(k),Yne(B);var z=ire(B,jn(jn({},y),{},{realScaleType:q}));i==="xAxis"?(O=w==="top"&&!T||w==="bottom"&&T,C=r.left,P=d[E]-O*y.height):i==="yAxis"&&(O=w==="left"&&!T||w==="right"&&T,C=d[E]-O*y.width,P=r.top);var ee=jn(jn(jn({},y),z),{},{realScaleType:q,x:C,y:P,scale:B,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ee.bandSize=Md(ee,z),!y.hide&&i==="xAxis"?d[E]+=(O?-1:1)*ee.height:y.hide||(d[E]+=(O?-1:1)*ee.width),jn(jn({},m),{},bh({},g,ee))},{})},WO=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Ile=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return WO({x:n,y:r},{x:i,y:o})},KO=function(){function t(e){Cle(this,t),this.scale=e}return kle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();bh(KO,"EPS",1e-4);var Q0=function(e){var n=Object.keys(e).reduce(function(r,i){return jn(jn({},r),{},bh({},i,KO.create(e[i])))},{});return jn(jn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Jse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return lle(i,function(o,a){return n[a].isInRange(o)})}})};function Ole(t){return(t%180+180)%180}var Nle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ole(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Rle=RH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),JO=R.createContext(void 0),YO=R.createContext(void 0),XO=R.createContext(void 0),Mle=R.createContext({}),QO=R.createContext(void 0),ZO=R.createContext(0),eN=R.createContext(0),MT=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Rle(o);return N.createElement(JO.Provider,{value:r},N.createElement(YO.Provider,{value:i},N.createElement(Mle.Provider,{value:o},N.createElement(XO.Provider,{value:c},N.createElement(QO.Provider,{value:a},N.createElement(ZO.Provider,{value:u},N.createElement(eN.Provider,{value:l},s)))))))},$le=function(){return R.useContext(QO)},tN=function(e){var n=R.useContext(JO);n==null&&eo();var r=n[e];return r==null&&eo(),r},nN=function(e){var n=R.useContext(YO);n==null&&eo();var r=n[e];return r==null&&eo(),r},Dle=function(){var e=R.useContext(XO);return e},rN=function(){return R.useContext(eN)},iN=function(){return R.useContext(ZO)};function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function Lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aN(r.key),r)}}function Ule(t,e,n){return e&&jle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fle(t,e,n){return e=Jd(e),Ble(t,oN()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function Ble(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gle(t)}function Gle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oN=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function Vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(t,e)}function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(r){Z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z0(t,e,n){return e=aN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aN(t){var e=Hle(t,"string");return Pa(e)=="symbol"?e:e+""}function Hle(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zle(t,e){return Jle(t)||Kle(t,e)||Wle(t,e)||qle()}function qle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wle(t,e){if(t){if(typeof t=="string")return LT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(t,e)}}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Jle(t){if(Array.isArray(t))return t}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}var Yle=function(e,n){var r;return N.isValidElement(e)?r=N.cloneElement(e,n):fe(e)?r=e(n):r=N.createElement("line",by({},n,{className:"recharts-reference-line-line"})),r},Xle=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,m=o.height;if(r){var g=u.y,y=e.y.apply(g,{position:a});if(sr(u,"discard")&&!e.y.isInRange(y))return null;var w=[{x:c+h,y},{x:c,y}];return l==="left"?w.reverse():w}if(n){var v=u.x,b=e.x.apply(v,{position:a});if(sr(u,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:d+m},{x:b,y:d}];return s==="top"?x.reverse():x}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return sr(u,"discard")&&Bse(S,function(E){return!e.isInRange(E)})?null:S}return null};function Qle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=$le(),c=tN(i),d=nN(o),h=Dle();if(!u||!h)return null;Fi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Q0({x:c.scale,y:d.scale}),g=ct(e),y=ct(n),w=r&&r.length===2,v=Xle(m,g,y,w,h,t.position,c.orientation,d.orientation,t);if(!v)return null;var b=zle(v,2),x=b[0],T=x.x,S=x.y,E=b[1],A=E.x,k=E.y,C=sr(t,"hidden")?"url(#".concat(u,")"):void 0,P=DT(DT({clipPath:C},ue(t,!0)),{},{x1:T,y1:S,x2:A,y2:k});return N.createElement(be,{className:de("recharts-reference-line",s)},Yle(a,P),Nt.renderCallByParent(t,Ile({x1:T,y1:S,x2:A,y2:k})))}var xh=function(t){function e(){return Lle(this,e),Fle(this,e,arguments)}return Vle(e,t),Ule(e,[{key:"render",value:function(){return N.createElement(Qle,this.props)}}])}(N.Component);Z0(xh,"displayName","ReferenceLine");Z0(xh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(this,arguments)}function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){_h(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lN(r.key),r)}}function tue(t,e,n){return e&&eue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nue(t,e,n){return e=Yd(e),rue(t,sN()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function rue(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iue(t)}function iue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sN=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function oue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_y(t,e)}function _y(t,e){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_y(t,e)}function _h(t,e,n){return e=lN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lN(t){var e=aue(t,"string");return Ia(e)=="symbol"?e:e+""}function aue(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=Q0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return sr(e,"discard")&&!a.isInRange(s)?null:s},Sh=function(t){function e(){return Zle(this,e),nue(this,e,arguments)}return oue(e,t),tue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=ct(i),c=ct(o);if(Fi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=sue(this.props);if(!d)return null;var h=d.x,m=d.y,g=this.props,y=g.shape,w=g.className,v=sr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=UT(UT({clipPath:v},ue(this.props,!0)),{},{cx:h,cy:m});return N.createElement(be,{className:de("recharts-reference-dot",w)},e.renderDot(y,b),Nt.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(N.Component);_h(Sh,"displayName","ReferenceDot");_h(Sh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_h(Sh,"renderDot",function(t,e){var n;return N.isValidElement(t)?n=N.cloneElement(t,e):fe(t)?n=t(e):n=N.createElement(yh,xy({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(r){Eh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cN(r.key),r)}}function cue(t,e,n){return e&&uue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function due(t,e,n){return e=Xd(e),fue(t,uN()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function fue(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hue(t)}function hue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uN=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function pue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ey(t,e)}function Eh(t,e,n){return e=cN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cN(t){var e=mue(t,"string");return Oa(e)=="symbol"?e:e+""}function mue(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=Q0({x:c.scale,y:d.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return sr(o,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:WO(m,g)},Th=function(t){function e(){return lue(this,e),due(this,e,arguments)}return pue(e,t),cue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Fi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ct(i),h=ct(o),m=ct(a),g=ct(s),y=this.props.shape;if(!d&&!h&&!m&&!g&&!y)return null;var w=gue(d,h,m,g,this.props);if(!w&&!y)return null;var v=sr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return N.createElement(be,{className:de("recharts-reference-area",l)},e.renderRect(y,BT(BT({clipPath:v},ue(this.props,!0)),w)),Nt.renderCallByParent(this.props,w))}}])}(N.Component);Eh(Th,"displayName","ReferenceArea");Eh(Th,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Eh(Th,"renderRect",function(t,e){var n;return N.isValidElement(t)?n=N.cloneElement(t,e):fe(t)?n=t(e):n=N.createElement(X0,Sy({},e,{className:"recharts-reference-area-rect"})),n});function dN(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function yue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Nle(r,n)}function vue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Qd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function wue(t,e){return dN(t,e+1)}function bue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:dN(r,u)};var y=l,w,v=function(){return w===void 0&&(w=n(g,y)),w},b=g.coordinate,x=l===0||Qd(t,b,v,c,s);x||(l=0,c=a,u+=1),x&&(c=b+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(r){xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xue(t,e,n){return e=_ue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ue(t){var e=Sue(t,"string");return iu(e)=="symbol"?e:e+""}function Sue(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var m=o[h],g,y=function(){return g===void 0&&(g=n(m,h)),g};if(h===a-1){var w=t*(m.coordinate+t*y()/2-l);o[h]=m=It(It({},m),{},{tickCoord:w>0?m.coordinate-w*t:m.coordinate})}else o[h]=m=It(It({},m),{},{tickCoord:m.coordinate});var v=Qd(t,m.tickCoord,y,s,l);v&&(l=m.tickCoord-t*(y()/2+i),o[h]=It(It({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Tue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=It(It({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var m=Qd(t,c.tickCoord,function(){return d},l,u);m&&(u=c.tickCoord-t*(d/2+i),a[s-1]=It(It({},c),{},{isShow:!0}))}for(var g=o?s-1:s,y=function(b){var x=a[b],T,S=function(){return T===void 0&&(T=n(x,b)),T};if(b===0){var E=t*(x.coordinate-t*S()/2-l);a[b]=x=It(It({},x),{},{tickCoord:E<0?x.coordinate-E*t:x.coordinate})}else a[b]=x=It(It({},x),{},{tickCoord:x.coordinate});var A=Qd(t,x.tickCoord,S,l,u);A&&(l=x.tickCoord+t*(S()/2+i),a[b]=It(It({},x),{},{isShow:!0}))},w=0;w<g;w++)y(w);return a}function Aue(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(W(l)||hi.isSsr)return wue(i,typeof l=="number"&&W(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?Ks(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(x,T){var S=fe(u)?u(x.value,T):x.value;return m==="width"?yue(Ks(S,{fontSize:e,letterSpacing:n}),g,d):Ks(S,{fontSize:e,letterSpacing:n})[m]},w=i.length>=2?Gn(i[1].coordinate-i[0].coordinate):1,v=vue(o,w,m);return l==="equidistantPreserveStart"?bue(w,v,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Tue(w,v,y,i,a,l==="preserveStartEnd"):h=Eue(w,v,y,i,a),h.filter(function(b){return b.isShow}))}var Cue=["viewBox"],kue=["viewBox"],Pue=["ticks"];function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(this,arguments)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fp(t,e){if(t==null)return{};var n=Iue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Oue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hN(r.key),r)}}function Nue(t,e,n){return e&&HT(t.prototype,e),n&&HT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rue(t,e,n){return e=Zd(e),Mue(t,fN()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function Mue(t,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ue(t)}function $ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fN=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function Due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ty(t,e)}function Ty(t,e){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ty(t,e)}function ew(t,e,n){return e=hN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hN(t){var e=Lue(t,"string");return Na(e)=="symbol"?e:e+""}function Lue(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ah=function(t){function e(n){var r;return Oue(this,e),r=Rue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Due(e,t),Nue(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Fp(r,Cue),s=this.props,l=s.viewBox,u=Fp(s,kue);return!ta(o,l)||!ta(a,u)||!ta(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,m,g,y,w,v,b,x=d?-1:1,T=r.tickSize||c,S=W(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,w=a+ +!d*l,y=w-x*T,b=y-x*h,v=S;break;case"left":y=w=r.coordinate,g=o+ +!d*s,m=g-x*T,v=m-x*h,b=S;break;case"right":y=w=r.coordinate,g=o+ +d*s,m=g+x*T,v=m+x*h,b=S;break;default:m=g=r.coordinate,w=a+ +d*l,y=w+x*T,b=y+x*h,v=S;break}return{line:{x1:m,y1:y,x2:g,y2:w},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=ot(ot(ot({},ue(this.props,!1)),ue(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=ot(ot({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=ot(ot({},d),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return N.createElement("line",Vo({},d,{className:de("recharts-cartesian-axis-line",Sn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,m=Aue(ot(ot({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=ue(this.props,!1),v=ue(c,!1),b=ot(ot({},w),{},{fill:"none"},ue(l,!1)),x=m.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,k=E.tick,C=ot(ot(ot(ot({textAnchor:g,verticalAnchor:y},w),{},{stroke:"none",fill:u},v),k),{},{index:S,payload:T,visibleTicksCount:m.length,tickFormatter:d});return N.createElement(be,Vo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Tl(a.props,T,S)),l&&N.createElement("line",Vo({},b,A,{className:de("recharts-cartesian-axis-tick-line",Sn(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(fe(d)?d(T.value,S):T.value).concat(h||"")))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,m=Fp(d,Pue),g=h;return fe(l)&&(g=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!g||!g.length?null:N.createElement(be,{className:de("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Nt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=de(i.className,"recharts-cartesian-axis-tick-value");return N.isValidElement(r)?a=N.cloneElement(r,ot(ot({},i),{},{className:s})):fe(r)?a=r(ot(ot({},i),{},{className:s})):a=N.createElement(bd,Vo({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(R.Component);ew(Ah,"displayName","CartesianAxis");ew(Ah,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jue=["type","layout","connectNulls","ref"],Uue=["key"];function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function zT(t,e){if(t==null)return{};var n=Fue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(this,arguments)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xo(t){return Hue(t)||Vue(t)||Gue(t)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gue(t,e){if(t){if(typeof t=="string")return Ay(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ay(t,e)}}function Vue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hue(t){if(Array.isArray(t))return Ay(t)}function Ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mN(r.key),r)}}function que(t,e,n){return e&&WT(t.prototype,e),n&&WT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wue(t,e,n){return e=ef(e),Kue(t,pN()?Reflect.construct(e,n||[],ef(t).constructor):e.apply(t,n))}function Kue(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jue(t)}function Jue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pN=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(t)}function Yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cy(t,e)}function Cy(t,e){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cy(t,e)}function Un(t,e,n){return e=mN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mN(t){var e=Xue(t,"string");return Ra(e)=="symbol"?e:e+""}function Xue(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ch=function(t){function e(){var n;zue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Wue(this,e,[].concat(i)),Un(n,"state",{isAnimationFinished:!0,totalLength:0}),Un(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Un(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(v,b){return v+b});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,m=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>d){m=[].concat(xo(l.slice(0,g)),[d-y]);break}var w=m.length%2===0?[0,h]:[h];return[].concat(xo(e.repeat(l,c)),xo(m),w).map(function(v){return"".concat(v,"px")}).join(", ")}),Un(n,"id",oo("recharts-line-")),Un(n,"pathRef",function(a){n.mainCurve=a}),Un(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Un(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Yue(e,t),que(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Yt(c,as);if(!d)return null;var h=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:dt(y.payload,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return N.createElement(be,m,d.map(function(g){return N.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=ue(this.props,!1),h=ue(l,!0),m=u.map(function(y,w){var v=Zt(Zt(Zt({key:"dot-".concat(w),r:3},d),h),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return N.createElement(be,Qs({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=zT(s,jue),h=Zt(Zt(Zt({},ue(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return N.createElement(Vi,Qs({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,g=a.animateNewValues,y=a.width,w=a.height,v=this.state,b=v.prevPoints,x=v.totalLength;return N.createElement(Kn,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(b){var E=b.length/s.length,A=s.map(function(I,M){var D=Math.floor(M*E);if(b[D]){var j=b[D],L=Ye(j.x,I.x),G=Ye(j.y,I.y);return Zt(Zt({},I),{},{x:L(S),y:G(S)})}if(g){var $=Ye(y*2,I.x),U=Ye(w/2,I.y);return Zt(Zt({},I),{},{x:$(S),y:U(S)})}return Zt(Zt({},I),{},{x:I.x,y:I.y})});return o.renderCurveStatically(A,r,i)}var k=Ye(0,x),C=k(S),P;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});P=o.getStrokeDasharray(C,x,O)}else P=o.generateSimpleStrokeDasharray(x,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Qi(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,m=i.width,g=i.height,y=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,x=de("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=se(w)?this.id:w,k=(r=ue(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,O=k.strokeWidth,I=O===void 0?2:O,M=gP(a)?a:{},D=M.clipDot,j=D===void 0?!0:D,L=P*2+I;return N.createElement(be,{className:x},T||S?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(A)},N.createElement("rect",{x:T?h:h-m/2,y:S?d:d-g/2,width:T?m:m*2,height:S?g:g*2})),!j&&N.createElement("clipPath",{id:"clipPath-dots-".concat(A)},N.createElement("rect",{x:h-L/2,y:d-L/2,width:m+L,height:g+L}))):null,!b&&this.renderCurve(E,A),this.renderErrorBar(E,A),(b||a)&&this.renderDots(E,j,A),(!y||v)&&ar.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(xo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(xo(a),xo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(N.isValidElement(r))o=N.cloneElement(r,i);else if(fe(r))o=r(i);else{var a=i.key,s=zT(i,Uue),l=de("recharts-line-dot",typeof r!="boolean"?r.className:"");o=N.createElement(yh,Qs({key:a},s,{className:l}))}return o}}])}(R.PureComponent);Un(Ch,"displayName","Line");Un(Ch,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Un(Ch,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,m){var g=dt(h,a);return c==="horizontal"?{x:Ea({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:se(g)?null:r.scale(g),value:g,payload:h}:{x:se(g)?null:n.scale(g),y:Ea({axis:r,ticks:o,bandSize:s,entry:h,index:m}),value:g,payload:h}});return Zt({points:d,layout:c},u)});var Que=["layout","type","stroke","connectNulls","isRange","ref"],Zue=["key"],gN;function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function yN(t,e){if(t==null)return{};var n=ece(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ece(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Li(){return Li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wN(r.key),r)}}function nce(t,e,n){return e&&JT(t.prototype,e),n&&JT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rce(t,e,n){return e=tf(e),ice(t,vN()?Reflect.construct(e,n||[],tf(t).constructor):e.apply(t,n))}function ice(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oce(t)}function oce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vN=function(){return!!t})()}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tf(t)}function ace(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ky(t,e)}function ky(t,e){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ky(t,e)}function nr(t,e,n){return e=wN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wN(t){var e=sce(t,"string");return Ma(e)=="symbol"?e:e+""}function sce(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dr=function(t){function e(){var n;tce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=rce(this,e,[].concat(i)),nr(n,"state",{isAnimationFinished:!0}),nr(n,"id",oo("recharts-area-")),nr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),fe(a)&&a()}),nr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),fe(a)&&a()}),n}return ace(e,t),nce(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=ue(this.props,!1),m=ue(u,!0),g=c.map(function(w,v){var b=jr(jr(jr({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:w.x,cy:w.y,dataKey:d,value:w.value,payload:w.payload,points:c});return e.renderDotItem(u,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return N.createElement(be,Li({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),d=Kr(a.map(function(h){return h.y||0}));return W(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Kr(o.map(function(h){return h.y||0})),d)),W(d)?N.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),d=Kr(a.map(function(h){return h.x||0}));return W(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Kr(o.map(function(h){return h.x||0})),d)),W(d)?N.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var m=yN(s,Que);return N.createElement(be,{clipPath:o?"url(#clipPath-".concat(a,")"):null},N.createElement(Vi,Li({},ue(m,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&N.createElement(Vi,Li({},ue(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&N.createElement(Vi,Li({},ue(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,g=this.state,y=g.prevPoints,w=g.prevBaseLine;return N.createElement(Kn,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(y){var x=y.length/s.length,T=s.map(function(k,C){var P=Math.floor(C*x);if(y[P]){var O=y[P],I=Ye(O.x,k.x),M=Ye(O.y,k.y);return jr(jr({},k),{},{x:I(b),y:M(b)})}return k}),S;if(W(l)&&typeof l=="number"){var E=Ye(w,l);S=E(b)}else if(se(l)||Qa(l)){var A=Ye(w,0);S=A(b)}else S=l.map(function(k,C){var P=Math.floor(C*x);if(w[P]){var O=w[P],I=Ye(O.x,k.x),M=Ye(O.y,k.y);return jr(jr({},k),{},{x:I(b),y:M(b)})}return k});return o.renderAreaStatically(T,S,r,i)}return N.createElement(be,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),N.createElement(be,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!Qi(c,a)||!Qi(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,m=i.width,g=i.height,y=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,x=de("recharts-area",l),T=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,E=T||S,A=se(w)?this.id:w,k=(r=ue(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,O=k.strokeWidth,I=O===void 0?2:O,M=gP(a)?a:{},D=M.clipDot,j=D===void 0?!0:D,L=P*2+I;return N.createElement(be,{className:x},T||S?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(A)},N.createElement("rect",{x:T?c:c-m/2,y:S?u:u-g/2,width:T?m:m*2,height:S?g:g*2})),!j&&N.createElement("clipPath",{id:"clipPath-dots-".concat(A)},N.createElement("rect",{x:c-L/2,y:u-L/2,width:m+L,height:g+L}))):null,b?null:this.renderArea(E,A),(a||b)&&this.renderDots(E,j,A),(!y||v)&&ar.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);gN=Dr;nr(Dr,"displayName","Area");nr(Dr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});nr(Dr,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(W(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});nr(Dr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=e.layout,g=u&&u.length,y=gN.getBaseValue(e,n,r,i),w=m==="horizontal",v=!1,b=d.map(function(T,S){var E;g?E=u[c+S]:(E=dt(T,l),Array.isArray(E)?v=!0:E=[y,E]);var A=E[1]==null||g&&dt(T,l)==null;return w?{x:Ea({axis:r,ticks:o,bandSize:s,entry:T,index:S}),y:A?null:i.scale(E[1]),value:E,payload:T}:{x:A?null:r.scale(E[1]),y:Ea({axis:i,ticks:a,bandSize:s,entry:T,index:S}),value:E,payload:T}}),x;return g||v?x=b.map(function(T){var S=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:S!=null&&T.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:T.y}}):x=w?i.scale(y):r.scale(y),jr({points:b,baseLine:x,layout:m,isRange:v},h)});nr(Dr,"renderDotItem",function(t,e){var n;if(N.isValidElement(t))n=N.cloneElement(t,e);else if(fe(t))n=t(e);else{var r=de("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=yN(e,Zue);n=N.createElement(yh,Li({},o,{key:i,className:r}))}return n});function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function lce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_N(r.key),r)}}function cce(t,e,n){return e&&uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dce(t,e,n){return e=nf(e),fce(t,bN()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function fce(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hce(t)}function hce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bN=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}function pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Py(t,e)}function xN(t,e,n){return e=_N(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _N(t){var e=mce(t,"string");return $a(e)=="symbol"?e:e+""}function mce(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kh=function(t){function e(){return lce(this,e),dce(this,e,arguments)}return pce(e,t),cce(e,[{key:"render",value:function(){return null}}])}(R.Component);xN(kh,"displayName","ZAxis");xN(kh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var gce=["option","isActive"];function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(this,arguments)}function yce(t,e){if(t==null)return{};var n=vce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wce(t){var e=t.option,n=t.isActive,r=yce(t,gce);return typeof e=="string"?R.createElement(my,Zs({option:R.createElement(rh,Zs({type:e},r)),isActive:n,shapeType:"symbols"},r)):R.createElement(my,Zs({option:e,isActive:n,shapeType:"symbols"},r))}function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach(function(r){Yr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EN(r.key),r)}}function xce(t,e,n){return e&&XT(t.prototype,e),n&&XT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ce(t,e,n){return e=rf(e),Sce(t,SN()?Reflect.construct(e,n||[],rf(t).constructor):e.apply(t,n))}function Sce(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ece(t)}function Ece(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SN=function(){return!!t})()}function rf(t){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rf(t)}function Tce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iy(t,e)}function Yr(t,e,n){return e=EN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EN(t){var e=Ace(t,"string");return Da(e)=="symbol"?e:e+""}function Ace(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ph=function(t){function e(){var n;bce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_ce(this,e,[].concat(i)),Yr(n,"state",{isAnimationFinished:!1}),Yr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Yr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Yr(n,"id",oo("recharts-scatter-")),n}return Tce(e,t),xce(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,u=ue(this.props,!1);return r.map(function(c,d){var h=l===d,m=h?s:a,g=gn(gn({},u),c);return N.createElement(be,el({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(d)},Tl(i.props,c,d),{role:"img"}),N.createElement(wce,el({option:m,isActive:h,key:"symbol-".concat(d)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state.prevPoints;return N.createElement(Kn,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,g=o.map(function(y,w){var v=d&&d[w];if(v){var b=Ye(v.cx,y.cx),x=Ye(v.cy,y.cy),T=Ye(v.size,y.size);return gn(gn({},y),{},{cx:b(m),cy:x(m),size:T(m)})}var S=Ye(0,y.size);return gn(gn({},y),{},{size:S(m)})});return N.createElement(be,null,r.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Qi(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,u=Yt(l,as);return u?u.map(function(c,d){var h=c.props,m=h.direction,g=h.dataKey;return N.cloneElement(c,{key:"".concat(m,"-").concat(g,"-").concat(o[d]),data:o,xAxis:a,yAxis:s,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(w,v){return{x:w.cx,y:w.cy,value:m==="x"?+w.node.x:+w.node.y,errorVal:dt(w,v)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,l=ue(this.props,!1),u=ue(o,!1),c,d;if(a==="joint")c=i.map(function(x){return{x:x.cx,y:x.cy}});else if(a==="fitting"){var h=Iz(i),m=h.xmin,g=h.xmax,y=h.a,w=h.b,v=function(T){return y*T+w};c=[{x:m,y:v(m)},{x:g,y:v(g)}]}var b=gn(gn(gn({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:c});return N.isValidElement(o)?d=N.cloneElement(o,b):fe(o)?d=o(b):d=N.createElement(Vi,el({},b,{type:s})),N.createElement(be,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,l=r.xAxis,u=r.yAxis,c=r.left,d=r.top,h=r.width,m=r.height,g=r.id,y=r.isAnimationActive;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,v=de("recharts-scatter",s),b=l&&l.allowDataOverflow,x=u&&u.allowDataOverflow,T=b||x,S=se(g)?this.id:g;return N.createElement(be,{className:v,clipPath:T?"url(#clipPath-".concat(S,")"):null},b||x?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(S)},N.createElement("rect",{x:b?c:c-h/2,y:x?d:d-m/2,width:b?h:h*2,height:x?m:m*2}))):null,a&&this.renderLine(),this.renderErrorBar(),N.createElement(be,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!y||w)&&ar.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(R.PureComponent);Yr(Ph,"displayName","Scatter");Yr(Ph,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Yr(Ph,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,c=Yt(i.props.children,sh),d=se(e.dataKey)?i.props.dataKey:e.dataKey,h=se(n.dataKey)?i.props.dataKey:n.dataKey,m=r&&r.dataKey,g=r?r.range:kh.defaultProps.range,y=g&&g[0],w=e.scale.bandwidth?e.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0,b=o.map(function(x,T){var S=dt(x,d),E=dt(x,h),A=!se(m)&&dt(x,m)||"-",k=[{name:se(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:S,payload:x,dataKey:d,type:u},{name:se(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:x,dataKey:h,type:u}];A!=="-"&&k.push({name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:x,dataKey:m,type:u});var C=Ea({axis:e,ticks:a,bandSize:w,entry:x,index:T,dataKey:d}),P=Ea({axis:n,ticks:s,bandSize:v,entry:x,index:T,dataKey:h}),O=A!=="-"?r.scale(A):y,I=Math.sqrt(Math.max(O,0)/Math.PI);return gn(gn({},x),{},{cx:C,cy:P,x:C-I,y:P-I,xAxis:e,yAxis:n,zAxis:r,width:2*I,height:2*I,size:O,node:{x:S,y:E,z:A},tooltipPayload:k,tooltipPosition:{x:C,y:P},payload:x},c&&c[T]&&c[T].props)});return gn({points:b},l)});function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function Cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CN(r.key),r)}}function Pce(t,e,n){return e&&kce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ice(t,e,n){return e=of(e),Oce(t,TN()?Reflect.construct(e,n||[],of(t).constructor):e.apply(t,n))}function Oce(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nce(t)}function Nce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TN=function(){return!!t})()}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},of(t)}function Rce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Oy(t,e)}function AN(t,e,n){return e=CN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CN(t){var e=Mce(t,"string");return La(e)=="symbol"?e:e+""}function Mce(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(this,arguments)}function $ce(t){var e=t.xAxisId,n=rN(),r=iN(),i=tN(e);return i==null?null:R.createElement(Ah,Ny({},i,{className:de("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Di(a,!0)}}))}var vu=function(t){function e(){return Cce(this,e),Ice(this,e,arguments)}return Rce(e,t),Pce(e,[{key:"render",value:function(){return R.createElement($ce,this.props)}}])}(R.Component);AN(vu,"displayName","XAxis");AN(vu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function Dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IN(r.key),r)}}function jce(t,e,n){return e&&Lce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uce(t,e,n){return e=af(e),Fce(t,kN()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function Fce(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bce(t)}function Bce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kN=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(t)}function Gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ry(t,e)}function Ry(t,e){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ry(t,e)}function PN(t,e,n){return e=IN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IN(t){var e=Vce(t,"string");return ja(e)=="symbol"?e:e+""}function Vce(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}var Hce=function(e){var n=e.yAxisId,r=rN(),i=iN(),o=nN(n);return o==null?null:R.createElement(Ah,My({},o,{className:de("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Di(s,!0)}}))},Ih=function(t){function e(){return Dce(this,e),Uce(this,e,arguments)}return Gce(e,t),jce(e,[{key:"render",value:function(){return R.createElement(Hce,this.props)}}])}(R.Component);PN(Ih,"displayName","YAxis");PN(Ih,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QT(t){return Kce(t)||Wce(t)||qce(t)||zce()}function zce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t,e){if(t){if(typeof t=="string")return $y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $y(t,e)}}function Wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kce(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dy=function(e,n,r,i,o){var a=Yt(e,xh),s=Yt(e,Sh),l=[].concat(QT(a),QT(s)),u=Yt(e,Th),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,w){if(w.props[c]===r&&sr(w.props,"extendDomain")&&W(w.props[d])){var v=w.props[d];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},h)),u.length){var m="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(y,w){if(w.props[c]===r&&sr(w.props,"extendDomain")&&W(w.props[m])&&W(w.props[g])){var v=w.props[m],b=w.props[g];return[Math.min(y[0],v,b),Math.max(y[1],v,b)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,w){return W(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},h)),h},ON={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,g=new Array(m);h<m;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],v=arguments.length,b,x;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,d),!0;case 4:return w.fn.call(w.context,c,d,h),!0;case 5:return w.fn.call(w.context,c,d,h,m),!0;case 6:return w.fn.call(w.context,c,d,h,m,g),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];w.fn.apply(w.context,b)}else{var T=w.length,S;for(x=0;x<T;x++)switch(w[x].once&&this.removeListener(u,w[x].fn,void 0,!0),v){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,c);break;case 3:w[x].fn.call(w[x].context,c,d);break;case 4:w[x].fn.call(w[x].context,c,d,h);break;default:if(!b)for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];w[x].fn.apply(w[x].context,b)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&a(this,m);else{for(var y=0,w=[],v=g.length;y<v;y++)(g[y].fn!==c||h&&!g[y].once||d&&g[y].context!==d)&&w.push(g[y]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(ON);var Jce=ON.exports;const Yce=Ie(Jce);var Bp=new Yce,Gp="recharts.syncMouseEvents";function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function Xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NN(r.key),r)}}function Zce(t,e,n){return e&&Qce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vp(t,e,n){return e=NN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NN(t){var e=ede(t,"string");return ou(e)=="symbol"?e:e+""}function ede(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tde=function(){function t(){Xce(this,t),Vp(this,"activeIndex",0),Vp(this,"coordinateList",[]),Vp(this,"layout","horizontal")}return Zce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function nde(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&W(r)&&W(i))return!0}return!1}function rde(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function RN(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Et(e,n,r,i),s=Et(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function ide(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Et(s,l,u,d),m=Et(s,l,c,d);r=h.x,i=h.y,o=m.x,a=m.y}else return RN(e);return[{x:r,y:i},{x:o,y:a}]}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function ZT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(r){ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e,n){return e=ade(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t){var e=sde(t,"string");return au(e)=="symbol"?e:e+""}function sde(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lde(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,y=Vi;if(h==="ScatterChart")g=a,y=dae;else if(h==="BarChart")g=rde(d,a,l,c),y=X0;else if(d==="radial"){var w=RN(a),v=w.cx,b=w.cy,x=w.radius,T=w.startAngle,S=w.endAngle;g={cx:v,cy:b,startAngle:T,endAngle:S,innerRadius:x,outerRadius:x},y=CO}else g={points:ide(d,a,l)},y=Vi;var E=ac(ac(ac(ac({stroke:"#ccc",pointerEvents:"none"},l),g),ue(m,!1)),{},{payload:s,payloadIndex:u,className:de("recharts-tooltip-cursor",m.className)});return R.isValidElement(m)?R.cloneElement(m,E):R.createElement(y,E)}var ude=["item"],cde=["children","className","width","height","style","compact","title","desc"];function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(this,arguments)}function e1(t,e){return hde(t)||fde(t,e)||$N(t,e)||dde()}function dde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hde(t){if(Array.isArray(t))return t}function t1(t,e){if(t==null)return{};var n=pde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DN(r.key),r)}}function yde(t,e,n){return e&&gde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vde(t,e,n){return e=sf(e),wde(t,MN()?Reflect.construct(e,n||[],sf(t).constructor):e.apply(t,n))}function wde(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bde(t)}function bde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MN=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(t)}function xde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ly(t,e)}function Fa(t){return Ede(t)||Sde(t)||$N(t)||_de()}function _de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $N(t,e){if(t){if(typeof t=="string")return jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jy(t,e)}}function Sde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ede(t){if(Array.isArray(t))return jy(t)}function jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ne(t,e,n){return e=DN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DN(t){var e=Tde(t,"string");return Ua(e)=="symbol"?e:e+""}function Tde(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ade={xAxis:["bottom","top"],yAxis:["left","right"]},Cde={width:"100%",height:"100%"},LN={x:0,y:0};function sc(t){return t}var kde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Pde=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return F(F(F({},i),Et(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return F(F(F({},i),Et(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return LN},Oh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Fa(s),Fa(u)):s},[]);return a.length>0?a:e&&e.length&&W(i)&&W(o)?e.slice(i,o+1):[]};function jN(t){return t==="number"?[0,"auto"]:void 0}var Uy=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Oh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=d===void 0?s:d;h=od(m,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Fa(l),[EO(u,h)]):l},[])},r1=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=kde(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Vne(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Uy(e,n,c,d),m=Pde(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},Ide=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,m=_O(c,o);return r.reduce(function(g,y){var w,v=y.type.defaultProps!==void 0?F(F({},y.type.defaultProps),y.props):y.props,b=v.type,x=v.dataKey,T=v.allowDataOverflow,S=v.allowDuplicatedCategory,E=v.scale,A=v.ticks,k=v.includeHidden,C=v[a];if(g[C])return g;var P=Oh(e.data,{graphicalItems:i.filter(function(z){var ee,K=a in z.props?z.props[a]:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee[a];return K===C}),dataStartIndex:l,dataEndIndex:u}),O=P.length,I,M,D;nde(v.domain,T,b)&&(I=Zg(v.domain,null,T),m&&(b==="number"||E!=="auto")&&(D=Ys(P,x,"category")));var j=jN(b);if(!I||I.length===0){var L,G=(L=v.domain)!==null&&L!==void 0?L:j;if(x){if(I=Ys(P,x,b),b==="category"&&m){var $=Pz(I);S&&$?(M=I,I=Hd(0,O)):S||(I=DE(G,I,y).reduce(function(z,ee){return z.indexOf(ee)>=0?z:[].concat(Fa(z),[ee])},[]))}else if(b==="category")S?I=I.filter(function(z){return z!==""&&!se(z)}):I=DE(G,I,y).reduce(function(z,ee){return z.indexOf(ee)>=0||ee===""||se(ee)?z:[].concat(Fa(z),[ee])},[]);else if(b==="number"){var U=Kne(P,i.filter(function(z){var ee,K,me=a in z.props?z.props[a]:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee[a],Oe="hide"in z.props?z.props.hide:(K=z.type.defaultProps)===null||K===void 0?void 0:K.hide;return me===C&&(k||!Oe)}),x,o,c);U&&(I=U)}m&&(b==="number"||E!=="auto")&&(D=Ys(P,x,"category"))}else m?I=Hd(0,O):s&&s[C]&&s[C].hasStack&&b==="number"?I=h==="expand"?[0,1]:SO(s[C].stackGroups,l,u):I=xO(P,i.filter(function(z){var ee=a in z.props?z.props[a]:z.type.defaultProps[a],K="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return ee===C&&(k||!K)}),b,c,!0);if(b==="number")I=Dy(d,I,C,o,A),G&&(I=Zg(G,I,T));else if(b==="category"&&G){var B=G,q=I.every(function(z){return B.indexOf(z)>=0});q&&(I=B)}}return F(F({},g),{},ne({},C,F(F({},v),{},{axisType:o,domain:I,categoricalDomain:D,duplicateDomain:M,originalDomain:(w=v.domain)!==null&&w!==void 0?w:j,isCategorical:m,layout:c})))},{})},Ode=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Oh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=_O(c,o),y=-1;return r.reduce(function(w,v){var b=v.type.defaultProps!==void 0?F(F({},v.type.defaultProps),v.props):v.props,x=b[a],T=jN("number");if(!w[x]){y++;var S;return g?S=Hd(0,m):s&&s[x]&&s[x].hasStack?(S=SO(s[x].stackGroups,l,u),S=Dy(d,S,x,o)):(S=Zg(T,xO(h,r.filter(function(E){var A,k,C=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],P="hide"in E.props?E.props.hide:(k=E.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===x&&!P}),"number",c),i.defaultProps.allowDataOverflow),S=Dy(d,S,x,o)),F(F({},w),{},ne({},x,F(F({axisType:o},i.defaultProps),{},{hide:!0,orientation:Sn(Ade,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:T,isCategorical:g,layout:c})))}return w},{})},Nde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Yt(c,o),m={};return h&&h.length?m=Ide(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=Ode(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Rde=function(e){var n=Ao(e),r=Di(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:E0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Md(n,r)}},i1=function(e){var n=e.children,r=e.defaultShowTooltip,i=nn(n,Ca),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Mde=function(e){return!e||!e.length?!1:e.some(function(n){var r=wr(n&&n.type);return r&&r.indexOf("Bar")>=0})},o1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$de=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},m=nn(d,Ca),g=nn(d,na),y=Object.keys(l).reduce(function(S,E){var A=l[E],k=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},ne({},k,S[k]+A.width)):S},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(S,E){var A=a[E],k=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},ne({},k,Sn(S,"".concat(k))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=F(F({},w),y),b=v.bottom;m&&(v.bottom+=m.props.height||Ca.defaultProps.height),g&&n&&(v=qne(v,i,r,n));var x=u-v.left-v.right,T=c-v.top-v.bottom;return F(F({brushBottom:b},v),{},{width:Math.max(x,0),height:Math.max(T,0)})},Dde=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},UN=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(v,b){var x=b.graphicalItems,T=b.stackGroups,S=b.offset,E=b.updateId,A=b.dataStartIndex,k=b.dataEndIndex,C=v.barSize,P=v.layout,O=v.barGap,I=v.barCategoryGap,M=v.maxBarSize,D=o1(P),j=D.numericAxisName,L=D.cateAxisName,G=Mde(x),$=[];return x.forEach(function(U,B){var q=Oh(v.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:k}),z=U.type.defaultProps!==void 0?F(F({},U.type.defaultProps),U.props):U.props,ee=z.dataKey,K=z.maxBarSize,me=z["".concat(j,"Id")],Oe=z["".concat(L,"Id")],rt={},Ct=l.reduce(function($t,fn){var co=b["".concat(fn.axisType,"Map")],wu=z["".concat(fn.axisType,"Id")];co&&co[wu]||fn.axisType==="zAxis"||eo();var ss=co[wu];return F(F({},$t),{},ne(ne({},fn.axisType,ss),"".concat(fn.axisType,"Ticks"),Di(ss)))},rt),J=Ct[L],le=Ct["".concat(L,"Ticks")],ce=T&&T[me]&&T[me].hasStack&&are(U,T[me].stackGroups),V=wr(U.type).indexOf("Bar")>=0,De=Md(J,le),pe=[],Le=G&&Hne({barSize:C,stackGroups:T,totalSize:Dde(Ct,L)});if(V){var je,Xe,Z=se(K)?M:K,Ue=(je=(Xe=Md(J,le,!0))!==null&&Xe!==void 0?Xe:Z)!==null&&je!==void 0?je:0;pe=zne({barGap:O,barCategoryGap:I,bandSize:Ue!==De?Ue:De,sizeList:Le[Oe],maxBarSize:Z}),Ue!==De&&(pe=pe.map(function($t){return F(F({},$t),{},{position:F(F({},$t.position),{},{offset:$t.position.offset-Ue/2})})}))}var it=U&&U.type&&U.type.getComposedData;it&&$.push({props:F(F({},it(F(F({},Ct),{},{displayedData:q,props:v,dataKey:ee,item:U,bandSize:De,barPosition:pe,offset:S,stackedData:ce,layout:P,dataStartIndex:A,dataEndIndex:k}))),{},ne(ne(ne({key:U.key||"item-".concat(B)},j,Ct[j]),L,Ct[L]),"animationId",E)),childIndex:Gz(U,v.children),item:U})}),$},m=function(v,b){var x=v.props,T=v.dataStartIndex,S=v.dataEndIndex,E=v.updateId;if(!I_({props:x}))return null;var A=x.children,k=x.layout,C=x.stackOffset,P=x.data,O=x.reverseStackOrder,I=o1(k),M=I.numericAxisName,D=I.cateAxisName,j=Yt(A,r),L=rre(P,j,"".concat(M,"Id"),"".concat(D,"Id"),C,O),G=l.reduce(function(z,ee){var K="".concat(ee.axisType,"Map");return F(F({},z),{},ne({},K,Nde(x,F(F({},ee),{},{graphicalItems:j,stackGroups:ee.axisType===M&&L,dataStartIndex:T,dataEndIndex:S}))))},{}),$=$de(F(F({},G),{},{props:x,graphicalItems:j}),b==null?void 0:b.legendBBox);Object.keys(G).forEach(function(z){G[z]=c(x,G[z],$,z.replace("Map",""),n)});var U=G["".concat(D,"Map")],B=Rde(U),q=h(x,F(F({},G),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:j,stackGroups:L,offset:$}));return F(F({formattedGraphicalItems:q,graphicalItems:j,offset:$,stackGroups:L},B),G)},g=function(w){function v(b){var x,T,S;return mde(this,v),S=vde(this,v,[b]),ne(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ne(S,"accessibilityManager",new tde),ne(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,k=A.dataStartIndex,C=A.dataEndIndex,P=A.updateId;S.setState(F({legendBBox:E},m({props:S.props,dataStartIndex:k,dataEndIndex:C,updateId:P},F(F({},S.state),{},{legendBBox:E}))))}}),ne(S,"handleReceiveSyncEvent",function(E,A,k){if(S.props.syncId===E){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),ne(S,"handleBrushChange",function(E){var A=E.startIndex,k=E.endIndex;if(A!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return F({dataStartIndex:A,dataEndIndex:k},m({props:S.props,dataStartIndex:A,dataEndIndex:k,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:k})}}),ne(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var k=F(F({},A),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseEnter;fe(C)&&C(k,E)}}),ne(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),k=A?F(F({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseMove;fe(C)&&C(k,E)}),ne(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ne(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ne(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),ne(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var k=S.props.onMouseLeave;fe(k)&&k(A,E)}),ne(S,"handleOuterEvent",function(E){var A=Bz(E),k=Sn(S.props,"".concat(A));if(A&&fe(k)){var C,P;/.*touch.*/i.test(A)?P=S.getMouseInfo(E.changedTouches[0]):P=S.getMouseInfo(E),k((C=P)!==null&&C!==void 0?C:{},E)}}),ne(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var k=F(F({},A),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var C=S.props.onClick;fe(C)&&C(k,E)}}),ne(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(fe(A)){var k=S.getMouseInfo(E);A(k,E)}}),ne(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(fe(A)){var k=S.getMouseInfo(E);A(k,E)}}),ne(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ne(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),ne(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),ne(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(fe(A)){var k=S.getMouseInfo(E);A(k,E)}}),ne(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(fe(A)){var k=S.getMouseInfo(E);A(k,E)}}),ne(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Bp.emit(Gp,S.props.syncId,E,S.eventEmitterSymbol)}),ne(S,"applySyncEvent",function(E){var A=S.props,k=A.layout,C=A.syncMethod,P=S.state.updateId,O=E.dataStartIndex,I=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(F({dataStartIndex:O,dataEndIndex:I},m({props:S.props,dataStartIndex:O,dataEndIndex:I,updateId:P},S.state)));else if(E.activeTooltipIndex!==void 0){var M=E.chartX,D=E.chartY,j=E.activeTooltipIndex,L=S.state,G=L.offset,$=L.tooltipTicks;if(!G)return;if(typeof C=="function")j=C($,E);else if(C==="value"){j=-1;for(var U=0;U<$.length;U++)if($[U].value===E.activeLabel){j=U;break}}var B=F(F({},G),{},{x:G.left,y:G.top}),q=Math.min(M,B.x+B.width),z=Math.min(D,B.y+B.height),ee=$[j]&&$[j].value,K=Uy(S.state,S.props.data,j),me=$[j]?{x:k==="horizontal"?$[j].coordinate:q,y:k==="horizontal"?z:$[j].coordinate}:LN;S.setState(F(F({},E),{},{activeLabel:ee,activeCoordinate:me,activePayload:K,activeTooltipIndex:j}))}else S.setState(E)}),ne(S,"renderCursor",function(E){var A,k=S.state,C=k.isTooltipActive,P=k.activeCoordinate,O=k.activePayload,I=k.offset,M=k.activeTooltipIndex,D=k.tooltipAxisBandSize,j=S.getTooltipEventType(),L=(A=E.props.active)!==null&&A!==void 0?A:C,G=S.props.layout,$=E.key||"_recharts-cursor";return N.createElement(lde,{key:$,activeCoordinate:P,activePayload:O,activeTooltipIndex:M,chartName:n,element:E,isActive:L,layout:G,offset:I,tooltipAxisBandSize:D,tooltipEventType:j})}),ne(S,"renderPolarAxis",function(E,A,k){var C=Sn(E,"type.axisType"),P=Sn(S.state,"".concat(C,"Map")),O=E.type.defaultProps,I=O!==void 0?F(F({},O),E.props):E.props,M=P&&P[I["".concat(C,"Id")]];return R.cloneElement(E,F(F({},M),{},{className:de(C,M.className),key:E.key||"".concat(A,"-").concat(k),ticks:Di(M,!0)}))}),ne(S,"renderPolarGrid",function(E){var A=E.props,k=A.radialLines,C=A.polarAngles,P=A.polarRadius,O=S.state,I=O.radiusAxisMap,M=O.angleAxisMap,D=Ao(I),j=Ao(M),L=j.cx,G=j.cy,$=j.innerRadius,U=j.outerRadius;return R.cloneElement(E,{polarAngles:Array.isArray(C)?C:Di(j,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(P)?P:Di(D,!0).map(function(B){return B.coordinate}),cx:L,cy:G,innerRadius:$,outerRadius:U,key:E.key||"polar-grid",radialLines:k})}),ne(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,k=A.children,C=A.width,P=A.height,O=S.props.margin||{},I=C-(O.left||0)-(O.right||0),M=wO({children:k,formattedGraphicalItems:E,legendWidth:I,legendContent:u});if(!M)return null;var D=M.item,j=t1(M,ude);return R.cloneElement(D,F(F({},j),{},{chartWidth:C,chartHeight:P,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ne(S,"renderTooltip",function(){var E,A=S.props,k=A.children,C=A.accessibilityLayer,P=nn(k,Zn);if(!P)return null;var O=S.state,I=O.isTooltipActive,M=O.activeCoordinate,D=O.activePayload,j=O.activeLabel,L=O.offset,G=(E=P.props.active)!==null&&E!==void 0?E:I;return R.cloneElement(P,{viewBox:F(F({},L),{},{x:L.left,y:L.top}),active:G,label:j,payload:G?D:[],coordinate:M,accessibilityLayer:C})}),ne(S,"renderBrush",function(E){var A=S.props,k=A.margin,C=A.data,P=S.state,O=P.offset,I=P.dataStartIndex,M=P.dataEndIndex,D=P.updateId;return R.cloneElement(E,{key:E.key||"_recharts-brush",onChange:nc(S.handleBrushChange,E.props.onChange),data:C,x:W(E.props.x)?E.props.x:O.left,y:W(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(k.bottom||0),width:W(E.props.width)?E.props.width:O.width,startIndex:I,endIndex:M,updateId:"brush-".concat(D)})}),ne(S,"renderReferenceElement",function(E,A,k){if(!E)return null;var C=S,P=C.clipPathId,O=S.state,I=O.xAxisMap,M=O.yAxisMap,D=O.offset,j=E.type.defaultProps||{},L=E.props,G=L.xAxisId,$=G===void 0?j.xAxisId:G,U=L.yAxisId,B=U===void 0?j.yAxisId:U;return R.cloneElement(E,{key:E.key||"".concat(A,"-").concat(k),xAxis:I[$],yAxis:M[B],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:P})}),ne(S,"renderActivePoints",function(E){var A=E.item,k=E.activePoint,C=E.basePoint,P=E.childIndex,O=E.isRange,I=[],M=A.props.key,D=A.item.type.defaultProps!==void 0?F(F({},A.item.type.defaultProps),A.item.props):A.item.props,j=D.activeDot,L=D.dataKey,G=F(F({index:P,dataKey:L,cx:k.x,cy:k.y,r:4,fill:Y0(A.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ue(j,!1)),ad(j));return I.push(v.renderActiveDot(j,G,"".concat(M,"-activePoint-").concat(P))),C?I.push(v.renderActiveDot(j,F(F({},G),{},{cx:C.x,cy:C.y}),"".concat(M,"-basePoint-").concat(P))):O&&I.push(null),I}),ne(S,"renderGraphicChild",function(E,A,k){var C=S.filterFormatItem(E,A,k);if(!C)return null;var P=S.getTooltipEventType(),O=S.state,I=O.isTooltipActive,M=O.tooltipAxis,D=O.activeTooltipIndex,j=O.activeLabel,L=S.props.children,G=nn(L,Zn),$=C.props,U=$.points,B=$.isRange,q=$.baseLine,z=C.item.type.defaultProps!==void 0?F(F({},C.item.type.defaultProps),C.item.props):C.item.props,ee=z.activeDot,K=z.hide,me=z.activeBar,Oe=z.activeShape,rt=!!(!K&&I&&G&&(ee||me||Oe)),Ct={};P!=="axis"&&G&&G.props.trigger==="click"?Ct={onClick:nc(S.handleItemMouseEnter,E.props.onClick)}:P!=="axis"&&(Ct={onMouseLeave:nc(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:nc(S.handleItemMouseEnter,E.props.onMouseEnter)});var J=R.cloneElement(E,F(F({},C.props),Ct));function le(fn){return typeof M.dataKey=="function"?M.dataKey(fn.payload):null}if(rt)if(D>=0){var ce,V;if(M.dataKey&&!M.allowDuplicatedCategory){var De=typeof M.dataKey=="function"?le:"payload.".concat(M.dataKey.toString());ce=od(U,De,j),V=B&&q&&od(q,De,j)}else ce=U==null?void 0:U[D],V=B&&q&&q[D];if(Oe||me){var pe=E.props.activeIndex!==void 0?E.props.activeIndex:D;return[R.cloneElement(E,F(F(F({},C.props),Ct),{},{activeIndex:pe})),null,null]}if(!se(ce))return[J].concat(Fa(S.renderActivePoints({item:C,activePoint:ce,basePoint:V,childIndex:D,isRange:B})))}else{var Le,je=(Le=S.getItemByXY(S.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:J},Xe=je.graphicalItem,Z=Xe.item,Ue=Z===void 0?E:Z,it=Xe.childIndex,$t=F(F(F({},C.props),Ct),{},{activeIndex:it});return[R.cloneElement(Ue,$t),null,null]}return B?[J,null,null]:[J,null]}),ne(S,"renderCustomized",function(E,A,k){return R.cloneElement(E,F(F({key:"recharts-customized-".concat(k)},S.props),S.state))}),ne(S,"renderMap",{CartesianGrid:{handler:sc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:sc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:sc},YAxis:{handler:sc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:oo("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=vI(S.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return xde(v,w),yde(v,[{key:"componentDidMount",value:function(){var x,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,T=x.children,S=x.data,E=x.height,A=x.layout,k=nn(T,Zn);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,O=Uy(this.state,S,C,P),I=this.state.tooltipTicks[C].coordinate,M=(this.state.offset.top+E)/2,D=A==="horizontal",j=D?{x:I,y:M}:{y:I,x:M},L=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});L&&(j=F(F({},j),L.props.points[C].tooltipPosition),O=L.props.points[C].tooltipPayload);var G={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:j};this.setState(G),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(x){pg([nn(x.children,Zn)],[nn(this.props.children,Zn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=nn(this.props.children,Zn);if(x&&typeof x.props.shared=="boolean"){var T=x.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=mQ(S),A={chartX:Math.round(x.pageX-E.left),chartY:Math.round(x.pageY-E.top)},k=S.width/T.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,k);if(!C)return null;var P=this.state,O=P.xAxisMap,I=P.yAxisMap,M=this.getTooltipEventType(),D=r1(this.state,this.props.data,this.props.layout,C);if(M!=="axis"&&O&&I){var j=Ao(O).scale,L=Ao(I).scale,G=j&&j.invert?j.invert(A.chartX):null,$=L&&L.invert?L.invert(A.chartY):null;return F(F({},A),{},{xValue:G,yValue:$},D)}return D?F(F({},A),D):null}},{key:"inRange",value:function(x,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=x/S,k=T/S;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,P=A>=C.left&&A<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return P?{x:A,y:k}:null}var O=this.state,I=O.angleAxisMap,M=O.radiusAxisMap;if(I&&M){var D=Ao(I);return UE({x:A,y:k},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,T=this.getTooltipEventType(),S=nn(x,Zn),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=ad(this.props,this.handleOuterEvent);return F(F({},A),E)}},{key:"addListener",value:function(){Bp.on(Gp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Bp.removeListener(Gp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,T,S){for(var E=this.state.formattedGraphicalItems,A=0,k=E.length;A<k;A++){var C=E[A];if(C.item===x||C.props.key===x.key||T===wr(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,k=T.width;return N.createElement("defs",null,N.createElement("clipPath",{id:x},N.createElement("rect",{x:S,y:E,height:A,width:k})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(T,S){var E=e1(S,2),A=E[0],k=E[1];return F(F({},T),{},ne({},A,k.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(T,S){var E=e1(S,2),A=E[0],k=E[1];return F(F({},T),{},ne({},A,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[x])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(x){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[x])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(x){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,k=S.length;A<k;A++){var C=S[A],P=C.props,O=C.item,I=O.type.defaultProps!==void 0?F(F({},O.type.defaultProps),O.props):O.props,M=wr(O.type);if(M==="Bar"){var D=(P.data||[]).find(function($){return tae(x,$)});if(D)return{graphicalItem:C,payload:D}}else if(M==="RadialBar"){var j=(P.data||[]).find(function($){return UE(x,$)});if(j)return{graphicalItem:C,payload:j}}else if(vh(C,E)||wh(C,E)||eu(C,E)){var L=rse({graphicalItem:C,activeTooltipItem:E,itemData:I.data}),G=I.activeIndex===void 0?L:I.activeIndex;return{graphicalItem:F(F({},C),{},{childIndex:G}),payload:eu(C,E)?I.data[L]:C.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!I_(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,k=T.height,C=T.style,P=T.compact,O=T.title,I=T.desc,M=t1(T,cde),D=ue(M,!1);if(P)return N.createElement(MT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement(gg,Ho({},D,{width:A,height:k,title:O,desc:I}),this.renderClipPath(),N_(S,this.renderMap)));if(this.props.accessibilityLayer){var j,L;D.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,D.role=(L=this.props.role)!==null&&L!==void 0?L:"application",D.onKeyDown=function($){x.accessibilityManager.keyboardEvent($)},D.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return N.createElement(MT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement("div",Ho({className:de("recharts-wrapper",E),style:F({position:"relative",cursor:"default",width:A,height:k},C)},G,{ref:function(U){x.container=U}}),N.createElement(gg,Ho({},D,{width:A,height:k,title:O,desc:I,style:Cde}),this.renderClipPath(),N_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);ne(g,"displayName",n),ne(g,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ne(g,"getDerivedStateFromProps",function(w,v){var b=w.dataKey,x=w.data,T=w.children,S=w.width,E=w.height,A=w.layout,k=w.stackOffset,C=w.margin,P=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var I=i1(w);return F(F(F({},I),{},{updateId:0},m(F(F({props:w},I),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:k,prevMargin:C,prevChildren:T})}if(b!==v.prevDataKey||x!==v.prevData||S!==v.prevWidth||E!==v.prevHeight||A!==v.prevLayout||k!==v.prevStackOffset||!ta(C,v.prevMargin)){var M=i1(w),D={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},j=F(F({},r1(v,x,A)),{},{updateId:v.updateId+1}),L=F(F(F({},M),D),j);return F(F(F({},L),m(F({props:w},L),v)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:k,prevMargin:C,prevChildren:T})}if(!pg(T,v.prevChildren)){var G,$,U,B,q=nn(T,Ca),z=q&&(G=($=q.props)===null||$===void 0?void 0:$.startIndex)!==null&&G!==void 0?G:P,ee=q&&(U=(B=q.props)===null||B===void 0?void 0:B.endIndex)!==null&&U!==void 0?U:O,K=z!==P||ee!==O,me=!se(x),Oe=me&&!K?v.updateId:v.updateId+1;return F(F({updateId:Oe},m(F(F({props:w},v),{},{updateId:Oe,dataStartIndex:z,dataEndIndex:ee}),v)),{},{prevChildren:T,dataStartIndex:z,dataEndIndex:ee})}return null}),ne(g,"renderActiveDot",function(w,v,b){var x;return R.isValidElement(w)?x=R.cloneElement(w,v):fe(w)?x=w(v):x=N.createElement(yh,v),N.createElement(be,{className:"recharts-active-dot",key:b},x)});var y=R.forwardRef(function(v,b){return N.createElement(g,Ho({},v,{ref:b}))});return y.displayName=g.displayName,y},Lde=UN({chartName:"AreaChart",GraphicalChild:Dr,axisComponents:[{axisType:"xAxis",AxisComp:vu},{axisType:"yAxis",AxisComp:Ih}],formatAxisMap:qO}),jde=UN({chartName:"ComposedChart",GraphicalChild:[Ch,Dr,uo,Ph],axisComponents:[{axisType:"xAxis",AxisComp:vu},{axisType:"yAxis",AxisComp:Ih},{axisType:"zAxis",AxisComp:kh}],formatAxisMap:qO});const Ude=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,o]=R.useState(!1),[a,s]=R.useState(!1),[l,u]=R.useState(null),[c,d]=R.useState(null),[h,m]=R.useState(0),[g,y]=R.useState(2e3),[w,v]=R.useState(0),[b,x]=R.useState(!0),[T,S]=R.useState(""),E=async()=>{try{const I=await ek(),M=new Date().toISOString().split("T")[0],D=I.filter(U=>U.date===M);D.sort((U,B)=>B.timestamp.localeCompare(U.timestamp)),e(D),m(D.reduce((U,B)=>U+B.calories,0));const j=await rk();y(j);const L=await ik();L!=null&&L.name&&S(L.name);const $=(await tk()).slice(0,7).reverse().map(U=>({cal:U.totalCalories}));for(;$.length<7;)$.unshift({cal:0});r($)}catch(I){console.error("Failed to load dashboard data",I)}finally{x(!1)}};R.useEffect(()=>{E();const I=()=>E();return window.addEventListener("food-entry-updated",I),()=>window.removeEventListener("food-entry-updated",I)},[]),R.useEffect(()=>{if(b)return;const I=Math.min(h/g*100,100),M=setTimeout(()=>{v(I)},100);return()=>clearTimeout(M)},[h,g,b]);const A=async I=>{await nk(I),await E()},k=I=>{u(null),d(I),o(!0)},C=async I=>{await If(I),y(I),s(!1)},P=()=>{const I=h/g*100;if(I>=100)return{background:"repeating-linear-gradient(45deg, #facc15, #facc15 12px, #171717 12px, #171717 24px)",boxShadow:"0 0 12px rgba(250, 204, 21, 0.4)"};if(I<=60)return{background:"#10b981",boxShadow:"0 0 12px rgba(16, 185, 129, 0.4)"};if(I<=80)return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${60/I*100}%, #facc15 100%)`,boxShadow:"0 0 12px rgba(250, 204, 21, 0.3)"};const M=60/I*100,D=80/I*100;return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${M}%, #facc15 ${D}%, #f97316 100%)`,boxShadow:"0 0 12px rgba(249, 115, 22, 0.3)"}},O=I=>{if(I.isManual)return I.imageUrl?_.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-amber-50 dark:bg-amber-950/20 text-amber-600 dark:text-amber-400 text-[10px] font-bold tracking-wide",children:[_.jsx(M2,{size:10}),"EDITED"]}):_.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 text-[10px] font-bold tracking-wide",children:[_.jsx(fa,{size:10}),"MANUAL"]});const M=Math.round(I.confidence*100),D=M>80?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-600 dark:text-emerald-400":M>50?"bg-orange-50 dark:bg-orange-950/20 text-orange-600 dark:text-orange-400":"bg-rose-50 dark:bg-rose-950/20 text-rose-600 dark:text-rose-400";return _.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[10px] font-bold tracking-wide ${D}`,children:[_.jsx(Xo,{size:10}),M,"% AI"]})};return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[_.jsxs("header",{className:"flex justify-between items-end",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),_.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:["Hello ",T||"there",", ",_.jsx("br",{}),"Let's Eat Well."]})]}),_.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-950/30 rounded-full flex items-center justify-center text-royal-600 dark:text-royal-400 shadow-sm border border-white dark:border-white/5",children:_.jsx(fb,{size:20})})]}),_.jsxs("div",{className:`relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl transition-all duration-500 ${h>g?"bg-red-500 shadow-red-200 dark:shadow-red-900/40":"bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40"}`,children:[_.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),_.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-white/70 text-xs font-bold uppercase tracking-widest mb-1",children:"Calories Consumed"}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-5xl font-bold tracking-tighter",children:b?"...":h}),_.jsx("span",{className:"text-lg text-white/60 font-medium",children:"kcal"})]})]}),_.jsx("div",{className:"text-right",children:_.jsxs("div",{className:"flex items-center justify-end gap-2 text-white/80 mb-1",children:[_.jsxs("span",{className:"text-xs font-semibold",children:["Goal: ",g]}),_.jsx("button",{onClick:()=>s(!0),className:"p-1.5 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm",children:_.jsx(TC,{size:10})})]})})]}),_.jsx("div",{className:"w-full bg-black/20 rounded-full h-4 mb-3 overflow-hidden backdrop-blur-sm relative",children:_.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out will-change-[width] flex items-center justify-center overflow-hidden",style:{width:`${w}%`,...P()},children:h/g>=1&&_.jsx("span",{className:"text-[10px] font-black tracking-tighter text-white drop-shadow-md animate-pulse",children:"OVER LIMIT"})})}),_.jsx("div",{className:"flex justify-end",children:h>g?_.jsxs("div",{className:"flex items-center gap-1.5 bg-white/20 backdrop-blur-md px-3 py-1 rounded-full animate-pulse",children:[_.jsx(w2,{size:14,className:"text-white",fill:"white"}),_.jsxs("span",{className:"font-bold text-xs text-white",children:[Math.abs(g-h).toLocaleString()," kcal over limit"]})]}):_.jsxs("p",{className:"text-xs font-medium text-white/80",children:[Math.max(g-h,0).toLocaleString()," kcal remaining"]})})]})]}),_.jsxs(jm,{className:"flex items-center justify-between p-4 overflow-hidden relative",children:[_.jsxs("div",{className:"z-10",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(zs,{size:14,className:"text-royal-600 dark:text-royal-400"}),_.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Weekly Trend"})]}),_.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Consistent Tracking"})]}),_.jsx("div",{className:"absolute right-0 bottom-0 top-0 w-32 opacity-50 dark:opacity-30",children:_.jsx(wI,{width:"100%",height:"100%",children:_.jsxs(Lde,{data:n,children:[_.jsx("defs",{children:_.jsxs("linearGradient",{id:"colorCal",x1:"0",y1:"0",x2:"0",y2:"1",children:[_.jsx("stop",{offset:"5%",stopColor:"#7c3aed",stopOpacity:.3}),_.jsx("stop",{offset:"95%",stopColor:"#7c3aed",stopOpacity:0})]})}),_.jsx(Dr,{type:"monotone",dataKey:"cal",stroke:"#7c3aed",strokeWidth:3,fillOpacity:1,fill:"url(#colorCal)"})]})})})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[_.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"Recent Meals"}),_.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[t.length," items"]})]}),b?_.jsx("div",{className:"space-y-4",children:[1,2].map(I=>_.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[32px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},I))}):t.length===0?_.jsxs("div",{className:"text-center py-16 bg-white dark:bg-[#1a1c26] rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[_.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300 dark:text-gray-700",children:_.jsx(fb,{size:24})}),_.jsx("p",{className:"text-gray-400 dark:text-gray-500 font-medium mb-1",children:"No meals tracked today."}),_.jsx("p",{className:"text-xs text-gray-300 dark:text-gray-700",children:"Tap the + button to add one."})]}):_.jsx("div",{className:"space-y-4",children:t.map(I=>_.jsxs(jm,{className:"flex gap-4 items-center p-4 group",onClick:()=>u(I),children:[_.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-2xl overflow-hidden flex-shrink-0 shadow-inner",children:I.imageUrl?_.jsx("img",{src:I.imageUrl,alt:I.food_item,className:"w-full h-full object-cover"}):_.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-700",children:_.jsx(fa,{size:20})})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"flex items-center gap-2 mb-1",children:_.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 truncate text-base",children:I.food_item})}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500",children:I.time}),O(I)]})]}),_.jsxs("div",{className:"text-right pl-2",children:[_.jsx("span",{className:"block font-extrabold text-gray-900 dark:text-gray-50 text-lg",children:I.calories}),_.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase",children:"kcal"})]})]},I.id))})]}),_.jsx("button",{onClick:()=>{d(null),o(!0)},className:"fixed bottom-28 right-6 w-16 h-16 bg-royal-600 text-white rounded-[24px] shadow-[0_12px_24px_-6px_rgba(124,58,237,0.5)] flex items-center justify-center hover:scale-105 hover:bg-royal-700 active:scale-95 transition-all z-40",children:_.jsx(D2,{size:32,strokeWidth:2.5})}),i&&_.jsx(nP,{editEntry:c,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),E()}}),a&&_.jsx(Y3,{currentGoal:g,onClose:()=>s(!1),onSave:C}),l&&_.jsx(rP,{entry:l,onClose:()=>u(null),onDelete:A,onEdit:k})]})},Fde=({summary:t,onClose:e})=>{const n=new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl border border-white/50 animate-in slide-in-from-bottom duration-300",children:[_.jsxs("div",{className:"relative bg-royal-50 p-8 pb-10",children:[_.jsx("div",{className:"absolute top-6 right-6",children:_.jsx("button",{onClick:e,className:"p-2 bg-white text-gray-900 rounded-full shadow-sm hover:bg-gray-100 transition-colors",children:_.jsx(ha,{size:20})})}),_.jsxs("div",{className:"flex items-center gap-2 text-royal-600 mb-3",children:[_.jsx(Ef,{size:20}),_.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Daily Report"})]}),_.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 leading-tight",children:n})]}),_.jsxs("div",{className:"p-8 -mt-6 bg-white rounded-t-[32px] relative shadow-[-10px_-10px_30px_rgba(0,0,0,0.02)]",children:[_.jsxs("div",{className:"bg-white rounded-[32px] p-6 border border-gray-100 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.05)] mb-8 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1 block",children:"Total Consumed"}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-5xl font-extrabold text-gray-900 tracking-tighter",children:t.totalCalories}),_.jsx("span",{className:"text-gray-400 font-bold text-lg",children:"kcal"})]})]}),_.jsx("div",{className:"w-14 h-14 rounded-2xl bg-royal-50 flex items-center justify-center text-royal-600",children:_.jsx(Mv,{size:28})})]}),_.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[_.jsx(Wc,{size:16})," Macro Breakdown"]}),_.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[_.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-emerald-50 hover:border-emerald-100 transition-colors",children:_.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[_.jsx("div",{className:"w-1.5 h-10 bg-emerald-400 rounded-full"}),_.jsxs("div",{children:[_.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalProtein,"g"]}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Protein"})]})]})}),_.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-blue-50 hover:border-blue-100 transition-colors",children:_.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[_.jsx("div",{className:"w-1.5 h-10 bg-blue-400 rounded-full"}),_.jsxs("div",{children:[_.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalCarbs,"g"]}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Carbs"})]})]})}),_.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-orange-50 hover:border-orange-100 transition-colors",children:_.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[_.jsx("div",{className:"w-1.5 h-10 bg-orange-400 rounded-full"}),_.jsxs("div",{children:[_.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalFat,"g"]}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Fat"})]})]})})]}),_.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center text-xs font-bold text-gray-400 uppercase tracking-wider",children:[_.jsxs("span",{children:[t.entries.length," meals tracked"]}),_.jsxs("span",{className:"flex items-center gap-1.5 text-royal-600",children:[_.jsx(zs,{size:14}),"See History Tab"]})]})]})]})})},Bde=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(2e3),[i,o]=R.useState(!0),[a,s]=R.useState("week"),[l,u]=R.useState(null),[c,d]=R.useState(null),[h,m]=R.useState(!1),[g,y]=R.useState(null),[w,v]=R.useState({}),b=document.documentElement.classList.contains("dark"),x=async()=>{o(!0);try{const[C,P]=await Promise.all([tk(),rk()]);e(C),r(P);const O=new Date().toISOString().split("T")[0],I={};C.forEach(M=>{I[M.date]=M.date===O}),v(I)}catch(C){console.error("Failed to load history data",C)}finally{o(!1)}};R.useEffect(()=>{x();const C=()=>x();return window.addEventListener("food-entry-updated",C),()=>window.removeEventListener("food-entry-updated",C)},[]);const T=C=>{v(P=>({...P,[C]:!P[C]}))},S=async C=>{await nk(C),await x()},E=C=>{u(null),y(C),m(!0)},A=a==="week"?7:30,k=[...t].slice(0,A).reverse().map(C=>({name:a==="week"?new Date(C.date).toLocaleDateString("en-US",{weekday:"short"}):new Date(C.date).toLocaleDateString("en-US",{day:"numeric",month:"short"}),calories:C.totalCalories,goal:n,fullData:C}));return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[_.jsxs("header",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Performance"}),_.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Analytics"})]}),_.jsxs("div",{className:"flex p-1 bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm",children:[_.jsx("button",{onClick:()=>s("week"),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${a==="week"?"bg-royal-600 text-white":"text-gray-400 dark:text-gray-500"}`,children:"Week"}),_.jsx("button",{onClick:()=>s("month"),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${a==="month"?"bg-royal-600 text-white":"text-gray-400 dark:text-gray-500"}`,children:"Month"})]})]}),_.jsx(jm,{className:"h-80 pt-8 pb-2 px-2",children:i?_.jsx("div",{className:"w-full h-full flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-royal-600"})}):_.jsx(wI,{width:"100%",height:"100%",children:_.jsxs(jde,{data:k,children:[_.jsx(vu,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:b?"#64748b":"#9ca3af",fontWeight:600},dy:10,interval:a==="month"?4:0}),_.jsx(Zn,{cursor:{fill:b?"rgba(255,255,255,0.03)":"#f3f4f6",radius:8},contentStyle:{borderRadius:"16px",border:"none",backgroundColor:b?"#1e293b":"#1f2937",color:"#fff",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),_.jsx(xh,{y:n,stroke:"#ef4444",strokeDasharray:"3 3",label:{position:"right",value:"Goal",fill:"#ef4444",fontSize:10,fontWeight:700}}),_.jsx(uo,{dataKey:"calories",radius:[8,8,8,8],onClick:C=>{C&&C.fullData?d(C.fullData):C&&C.payload&&C.payload.fullData&&d(C.payload.fullData)},className:"cursor-pointer",children:k.map((C,P)=>_.jsx(sh,{fill:C.calories>n?"#ef4444":"#7c3aed",className:"hover:opacity-80 transition-opacity cursor-pointer"},`cell-${P}`))})]})})}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[_.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"History Log"}),_.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[_.jsx(A2,{size:10}),"ALL TIME"]})]}),_.jsx("div",{className:"space-y-6",children:i?_.jsx("div",{className:"space-y-4",children:[1,2].map(C=>_.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[24px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},C))}):_.jsxs(_.Fragment,{children:[t.map(C=>_.jsxs("div",{className:"animate-in slide-in-from-bottom-2 fade-in duration-500",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3 px-2 cursor-pointer group",onClick:()=>T(C.date),children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 group-hover:text-royal-600 dark:group-hover:text-royal-400 transition-colors",children:[_.jsx(Ef,{size:14}),_.jsx("span",{className:"text-sm font-semibold",children:new Date(C.date).toLocaleDateString(void 0,{dateStyle:"medium"})}),w[C.date]?_.jsx(_2,{size:14}):_.jsx(bc,{size:14})]}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("span",{className:`text-sm font-bold bg-white dark:bg-white/5 px-2 py-1 rounded-lg border transition-colors ${C.totalCalories>n?"text-red-600 border-red-100 dark:border-red-900/30":"text-emerald-600 border-emerald-100 dark:border-emerald-900/30"}`,children:[C.totalCalories," kcal"]})})]}),w[C.date]&&_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[24px] shadow-diffused dark:shadow-diffused-dark border border-gray-100 dark:border-white/5 overflow-hidden divide-y divide-gray-50 dark:divide-white/5 animate-in slide-in-from-top-2 duration-300",children:[C.entries.map(P=>_.jsxs("div",{onClick:()=>u(P),className:"p-4 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-white/5 transition-colors cursor-pointer active:scale-[0.99]",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-50 dark:bg-white/5 overflow-hidden shadow-sm",children:P.imageUrl?_.jsx("img",{src:P.imageUrl,className:"w-full h-full object-cover"}):_.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-white/10 text-gray-300 dark:text-gray-700",children:_.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-700"})})}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-50 font-bold",children:P.food_item}),_.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium",children:P.time})]})]}),_.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-400 font-bold",children:P.calories})]},P.id)),C.entries.length===0&&_.jsx("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:"No details available (Summarized)"})]})]},C.date)),t.length===0&&_.jsx("div",{className:"text-center py-12",children:_.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No history available yet."})})]})})]}),l&&_.jsx(rP,{entry:l,onClose:()=>u(null),onDelete:S,onEdit:E}),c&&_.jsx(Fde,{summary:c,onClose:()=>d(null)}),h&&_.jsx(nP,{editEntry:g,onClose:()=>{m(!1),y(null)},onSuccess:()=>{m(!1),y(null),x()}})]})},Gde=()=>{const[t,e]=R.useState(!0),[n,r]=R.useState(""),[i,o]=R.useState(""),[a,s]=R.useState(null),[l,u]=R.useState(!1),[c,d]=R.useState(null),h=async m=>{m.preventDefault(),s(null),d(null),u(!0);try{t?await YC(n,i):(await _L(n,i),t||(d("Account created successfully!"),e(!0)))}catch(g){console.error(g),s(g.message||"Authentication failed")}finally{u(!1)}};return _.jsxs("div",{className:"min-h-screen bg-royal-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[_.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[500px] h-[500px] bg-royal-200/40 rounded-full blur-[100px]"}),_.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-80 h-80 bg-pink-200/40 rounded-full blur-[80px]"})]}),_.jsxs("div",{className:"w-full max-w-sm z-10",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("div",{className:"w-20 h-20 bg-white rounded-[24px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-royal-200 rotate-3 transition-transform hover:rotate-0 duration-500",children:_.jsx(PC,{size:36,className:"text-royal-600 fill-royal-600"})}),_.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-2",children:"SnapCal AI"}),_.jsx("p",{className:"text-gray-500 font-medium",children:"Track your vibe, not just calories."})]}),_.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white p-8 rounded-[40px] shadow-[0_20px_40px_-12px_rgba(0,0,0,0.05)]",children:[_.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-[20px] mb-8",children:[_.jsx("button",{onClick:()=>{e(!0),s(null),d(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"bg-white text-royal-700 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Sign In"}),_.jsx("button",{onClick:()=>{e(!1),s(null),d(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"text-gray-400 hover:text-gray-600":"bg-white text-royal-700 shadow-sm"}`,children:"Sign Up"})]}),_.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a&&_.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl flex items-center gap-3 text-red-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[_.jsx(wC,{size:18}),a]}),c&&_.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-center gap-3 text-emerald-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[_.jsx(x2,{size:18}),c]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Email"}),_.jsx("input",{type:"email",required:!0,value:n,onChange:m=>r(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"hello@snapcal.ai"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Password"}),_.jsx("input",{type:"password",required:!0,value:i,onChange:m=>o(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"",minLength:6})]})]}),_.jsxs(jt,{className:"w-full mt-4 flex justify-between items-center group py-5",isLoading:l,children:[_.jsx("span",{children:t?"Sign In":"Create Account"}),!l&&_.jsx(bC,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),_.jsx("p",{className:"text-center text-gray-400 text-xs mt-8 font-medium",children:t?"New here? Create an account above.":"Welcome back. Sign in above."})]})]})},a1=`
-- Run this in your Supabase SQL Editor

-- 1. Create Food Entries Table
create table if not exists food_entries (
  id uuid primary key,
  user_id uuid not null references auth.users(id),
  timestamp text not null,
  date text not null,
  time text not null,
  food_item text not null,
  calories integer not null,
  protein integer default 0,
  carbs integer default 0,
  fat integer default 0,
  confidence float default 1.0,
  is_manual boolean default false,
  image_url text,
  ingredients jsonb default '[]'::jsonb,
  original_ai_response jsonb,
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 2. Create User Profiles Table
create table if not exists user_profiles (
  user_id uuid primary key references auth.users(id),
  name text,
  height float,
  weight float,
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 3. Create Settings Table
create table if not exists user_settings (
  user_id uuid primary key references auth.users(id),
  daily_goal integer default 2000,
  has_completed_onboarding boolean default false
);

-- 4. Create Summaries Table (Optional optimization)
create table if not exists daily_summaries (
  id text primary key, -- Composite key user_id + date usually
  user_id uuid not null references auth.users(id),
  date text not null,
  total_calories integer default 0,
  total_protein integer default 0,
  total_carbs integer default 0,
  total_fat integer default 0
);

-- 5. Enable Row Level Security (RLS)
alter table food_entries enable row level security;
alter table user_profiles enable row level security;
alter table user_settings enable row level security;
alter table daily_summaries enable row level security;

-- 6. Create Policies (Allow users to see/edit ONLY their own data)

-- Food Entries
create policy "Users can all own entries" on food_entries
  for all using (auth.uid() = user_id);

-- Profiles
create policy "Users can all own profile" on user_profiles
  for all using (auth.uid() = user_id);

-- Settings
create policy "Users can all own settings" on user_settings
  for all using (auth.uid() = user_id);

-- Summaries
create policy "Users can all own summaries" on daily_summaries
  for all using (auth.uid() = user_id);
`,Vde=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,o]=R.useState(""),[a,s]=R.useState(!1),[l,u]=R.useState(!1),[c,d]=R.useState(null),[h,m]=R.useState(document.documentElement.classList.contains("dark")),[g,y]=R.useState(!1),[w,v]=R.useState(!1),[b,x]=R.useState(!1),[T,S]=R.useState("checking"),[E,A]=R.useState(!1);R.useEffect(()=>{O(),Te?(v(AL()),k()):S("ok")},[]);const k=async()=>{const K=await kL();K.missingTables?S("missing_tables"):K.ok?S("ok"):S("error")},C=()=>{const K=!h;m(K),K?(document.documentElement.classList.add("dark"),localStorage.setItem("snapcal-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("snapcal-theme","light"))},P=K=>{if(K===Ym())return;confirm(K==="local"?"Switching to Local Mode means your data will stay on this device only. You will be logged out of Cloud to create a local profile.":"Switching to Cloud Mode allows you to sync data across devices. You will be redirected to log in or sign up.")&&bL(K)},O=async()=>{const K=await ik();K&&(e(K.name),r(K.height.toString()),o(K.weight.toString()))},I=()=>{const K=parseFloat(n),me=parseFloat(i);return!K||!me?null:me/(K/100*(K/100))},M=K=>K<18.5?{label:"Underweight",color:"text-blue-300"}:K<25?{label:"Healthy",color:"text-emerald-300"}:K<30?{label:"Overweight",color:"text-orange-300"}:{label:"Obese",color:"text-red-300"},D=K=>{const rt=(10*parseFloat(i)+6.25*parseFloat(n)-5*25+5)*1.2;return K<18.5?Math.round(rt+400):K>25?Math.round(rt-400):Math.round(rt)},j=async()=>{if(!(!t||!n||!i)){s(!0);try{await ok({name:t,height:parseFloat(n),weight:parseFloat(i)}),u(!0),setTimeout(()=>u(!1),2e3);const K=I();if(K){const me=D(K);d(me)}}catch(K){console.error(K)}finally{s(!1)}}},L=async()=>{c&&(await If(c),alert(`Daily goal updated to ${c} kcal!`))},G=async()=>{if(confirm("Are you sure you want to sign out?")){y(!0);try{await SL()}catch(K){console.error(K)}finally{y(!1)}}},$=async()=>{if(confirm("This will upload your local history to your Supabase account and clear local storage. Continue?")){x(!0);try{await CL(),v(!1),alert("Migration successful! Your local history is now in the cloud.")}catch(K){alert("Sync failed: "+K.message)}finally{x(!1)}}},U=()=>{navigator.clipboard.writeText(a1),alert("SQL Copied to clipboard! Paste it into the Supabase SQL Editor.")},B=I(),q=B?M(B):null,z=B?D(B):null,ee=Ym();return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-10",children:[_.jsxs("header",{children:[_.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"My Profile"}),_.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Personal Details"})]}),Te&&w&&_.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-100 dark:border-indigo-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/50 rounded-2xl text-indigo-600 dark:text-indigo-400",children:_.jsx(F2,{size:24})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-extrabold text-indigo-900 dark:text-indigo-200",children:"Local Data Found"}),_.jsx("p",{className:"text-xs text-indigo-700 dark:text-indigo-300 mt-1 mb-3 leading-relaxed",children:"We found meal history on this device that isn't in the cloud yet. Sync now to secure your data."}),_.jsx(jt,{onClick:$,isLoading:b,className:"py-3 px-6 text-xs bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none",children:"Sync to Cloud"})]})]})}),Te&&T==="missing_tables"&&_.jsx("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-100 dark:border-rose-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/50 rounded-2xl text-rose-600 dark:text-rose-400",children:_.jsx(cb,{size:24})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"text-sm font-extrabold text-rose-900 dark:text-rose-200",children:"Database Setup Required"}),_.jsx("p",{className:"text-xs text-rose-700 dark:text-rose-300 mt-1 mb-3 leading-relaxed",children:"Your Supabase project is connected, but the required tables don't exist yet. Saving will fail until you run the setup script."}),_.jsxs("button",{onClick:()=>A(!E),className:"flex items-center gap-2 py-2 px-4 rounded-xl text-xs font-bold bg-white dark:bg-white/10 text-rose-600 dark:text-rose-200 shadow-sm",children:[_.jsx(E2,{size:14})," ",E?"Hide SQL":"View SQL Script"]}),E&&_.jsxs("div",{className:"mt-4 animate-in slide-in-from-top-2",children:[_.jsx("div",{className:"bg-gray-900 rounded-xl p-3 mb-2 overflow-x-auto border border-white/10",children:_.jsx("pre",{className:"text-[10px] text-emerald-400 font-mono leading-relaxed",children:a1})}),_.jsxs(jt,{onClick:U,className:"w-full py-3 text-xs bg-rose-600 hover:bg-rose-700 text-white",children:[_.jsx(T2,{size:14,className:"mr-2"})," Copy SQL to Clipboard"]}),_.jsx("p",{className:"text-[10px] text-rose-600/70 dark:text-rose-400/70 mt-2 italic text-center",children:"Paste this into the SQL Editor in your Supabase Dashboard."})]})]})]})}),_.jsx("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center text-royal-600 dark:text-royal-400",children:h?_.jsx(R2,{size:20}):_.jsx(j2,{size:20})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Dark Mode"}),_.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Optimize for low light"})]})]}),_.jsx("button",{onClick:C,className:`w-14 h-8 rounded-full transition-all duration-300 relative ${h?"bg-royal-600":"bg-gray-200 dark:bg-gray-800"}`,children:_.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-sm transition-transform duration-300 ${h?"translate-x-6":""}`})})]})}),_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"text",value:t,onChange:K=>e(K.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(fa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:n,onChange:K=>r(K.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(AC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:i,onChange:K=>o(K.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(kC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),_.jsx(jt,{className:"w-full py-5 text-lg shadow-lg shadow-royal-200 dark:shadow-royal-900/40",onClick:j,isLoading:a,children:l?_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx(xC,{size:20})," Saved"]}):"Save Profile"})]}),B&&q&&z&&_.jsxs("div",{className:"relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40 animate-in slide-in-from-bottom-4 duration-500",children:[_.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),_.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(Mv,{size:16,className:"text-royal-200"}),_.jsx("span",{className:"text-royal-200 text-xs font-bold uppercase tracking-widest",children:"Body Insight"})]}),_.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight",children:["BMI: ",B.toFixed(1)]})]}),_.jsx("div",{className:`px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/10 text-sm font-bold ${q.color}`,children:q.label})]}),_.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-[24px] p-5 border border-white/5",children:[_.jsx("p",{className:"text-white/70 text-xs font-medium mb-3",children:"Based on your profile, we recommend a daily calorie limit of:"}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-4xl font-extrabold tracking-tighter",children:z}),_.jsx("span",{className:"text-lg font-bold text-white/60",children:"kcal"})]}),_.jsx("button",{onClick:L,className:"w-10 h-10 bg-white text-royal-600 rounded-full flex items-center justify-center hover:scale-110 active:scale-95 transition-all shadow-lg",children:_.jsx(bC,{size:20,strokeWidth:3})})]})]})]})]}),pa&&_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${ee==="cloud"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600":"bg-gray-100 dark:bg-white/10 text-gray-500"}`,children:ee==="cloud"?_.jsx(S2,{size:20}):_.jsx(EC,{size:20})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Storage Mode"}),_.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:ee==="cloud"?"Connected to Supabase":"Device Storage Only"})]})]}),Te&&_.jsx("button",{onClick:k,className:"p-2 text-gray-400 hover:text-royal-500 transition-colors",title:"Check Connection",children:_.jsx(Lm,{size:16,className:T==="checking"?"animate-spin":""})})]}),_.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-2xl",children:[_.jsx("button",{onClick:()=>P("local"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${ee==="local"?"bg-white dark:bg-white/10 text-gray-900 dark:text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Device Only"}),_.jsx("button",{onClick:()=>P("cloud"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${ee==="cloud"?"bg-emerald-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Cloud Sync"})]})]}),_.jsx("div",{className:"pt-4",children:_.jsx("button",{onClick:G,disabled:g,className:"w-full flex items-center justify-center gap-3 py-5 rounded-[24px] border border-red-200 dark:border-red-900/30 text-red-500 dark:text-red-400 font-bold hover:bg-red-50 dark:hover:bg-red-950/20 active:scale-95 transition-all shadow-sm",children:g?_.jsx(Lm,{size:20,className:"animate-spin"}):_.jsxs(_.Fragment,{children:[_.jsx(O2,{size:20}),_.jsx("span",{children:"Sign Out"})]})})}),_.jsx("div",{className:"text-center pt-4 pb-2",children:_.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-bold border transition-colors ${Te?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-700 dark:text-emerald-400 border-emerald-100 dark:border-emerald-900/30":"bg-amber-50 dark:bg-amber-950/20 text-amber-700 dark:text-amber-400 border-amber-100 dark:border-amber-900/30"}`,children:[_.jsx(cb,{size:12}),_.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Te?"bg-emerald-500 animate-pulse":"bg-amber-500"}`}),Te?"Syncing to Supabase":"Local Storage Mode"]})})]})},Hde=({user:t,onComplete:e})=>{const[n,r]=R.useState(0),[i,o]=R.useState(""),[a,s]=R.useState(""),[l,u]=R.useState(""),[c,d]=R.useState(!1),h=5,m=()=>{const E=parseFloat(a),A=parseFloat(l);return!E||!A?null:A/(E/100*(E/100))},g=E=>{const C=(10*parseFloat(l)+6.25*parseFloat(a)-5*25+5)*1.2;return E<18.5?Math.round(C+400):E>25?Math.round(C-400):Math.round(C)},y=()=>{n<h-1&&r(n+1)},w=()=>{n>0&&r(n-1)},v=async()=>{await IL(t),e()},b=async()=>{d(!0);try{if(i&&a&&l){await ok({name:i,height:parseFloat(a),weight:parseFloat(l)});const E=m();if(E){const A=g(E);await If(A)}}await ak(t),e()}catch(E){console.error("Failed to save onboarding data:",E),alert("Failed to save your profile. Please try again.")}finally{d(!1)}},x=i&&a&&l,T=m(),S=T?g(T):null;return _.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface via-royal-50/30 to-royal-100/40 dark:from-surface-dark dark:via-royal-950/20 dark:to-black flex items-center justify-center p-4 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-royal-200/20 dark:bg-royal-800/10 rounded-full blur-3xl animate-pulse"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-200/20 dark:bg-purple-900/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),_.jsxs("button",{onClick:v,className:"absolute top-6 right-6 z-50 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-sm font-medium flex items-center gap-1",children:["Skip ",_.jsx(ha,{size:16})]}),_.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[_.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Array.from({length:h}).map((E,A)=>_.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${A===n?"w-12 bg-royal-600 dark:bg-royal-500":A<n?"w-8 bg-royal-400 dark:bg-royal-600":"w-8 bg-gray-200 dark:bg-gray-700"}`},A))}),_.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[40px] shadow-diffused-lg dark:shadow-diffused-dark p-8 md:p-12 min-h-[500px] flex flex-col",children:[n===0&&_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("div",{className:"relative mb-8",children:[_.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-royal-500 to-purple-600 rounded-[32px] flex items-center justify-center shadow-xl shadow-royal-200 dark:shadow-royal-900/40 animate-in zoom-in duration-700",children:_.jsx(Xo,{size:48,className:"text-white",strokeWidth:2})}),_.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-bounce"})]}),_.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"Welcome to SnapCal AI"}),_.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your AI-Powered Nutrition Companion"}),_.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 max-w-md leading-relaxed",children:"Track calories effortlessly with the power of artificial intelligence. Just snap a photo of your meal and let AI do the rest."}),_.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-6 w-full max-w-md",children:[_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"w-14 h-14 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center",children:_.jsx(Hs,{size:28,className:"text-royal-600 dark:text-royal-400"})}),_.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Snap"})]}),_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"w-14 h-14 bg-purple-50 dark:bg-purple-950/30 rounded-2xl flex items-center justify-center",children:_.jsx(PC,{size:28,className:"text-purple-600 dark:text-purple-400"})}),_.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Analyze"})]}),_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-950/30 rounded-2xl flex items-center justify-center",children:_.jsx(zs,{size:28,className:"text-emerald-600 dark:text-emerald-400"})}),_.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Track"})]})]})]}),n===1&&_.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[_.jsxs("div",{className:"mb-8 text-center",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[_.jsx(Hs,{size:16,className:"text-royal-600 dark:text-royal-400"}),_.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"How It Works"})]}),_.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Instant Nutrition Insights"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Our AI analyzes your food photos to provide accurate calorie counts and nutritional breakdowns in seconds."})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[_.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:_.jsx(Hs,{size:24,className:"text-royal-600 dark:text-royal-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"1. Capture Your Meal"}),_.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Take a photo of any dish, snack, or beverage"})]})]}),_.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[_.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:_.jsx(Xo,{size:24,className:"text-purple-600 dark:text-purple-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"2. AI Recognition"}),_.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced AI identifies ingredients and portions instantly"})]})]}),_.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[_.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:_.jsx(zs,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"3. Get Detailed Breakdown"}),_.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Calories, protein, carbs, and fatsall automatically calculated"})]})]})]})]}),n===2&&_.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[_.jsxs("div",{className:"mb-8 text-center",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 dark:bg-purple-950/30 rounded-full mb-4",children:[_.jsx(db,{size:16,className:"text-purple-600 dark:text-purple-400"}),_.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wider",children:"Personalization"})]}),_.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Why Your Profile Matters"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Share a few details to unlock truly personalized nutrition recommendations tailored just for you."})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30",children:[_.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:_.jsx(U2,{size:24,className:"text-royal-600 dark:text-royal-400"})}),_.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Accurate Goals"}),_.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Get a science-backed daily calorie target based on your unique body metrics and health objectives."})]}),_.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 rounded-[28px] border border-emerald-100 dark:border-emerald-900/30",children:[_.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:_.jsx(zs,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),_.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Smart Insights"}),_.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Receive personalized BMI analysis and recommendations to help you reach your ideal weight."})]}),_.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/20 dark:to-amber-950/20 rounded-[28px] border border-orange-100 dark:border-orange-900/30",children:[_.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:_.jsx(Xo,{size:24,className:"text-orange-600 dark:text-orange-400"})}),_.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Better Tracking"}),_.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"See how your intake compares to your goals and adjust your habits for optimal results."})]}),_.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-950/20 dark:to-rose-950/20 rounded-[28px] border border-pink-100 dark:border-pink-900/30",children:[_.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:_.jsx(db,{size:24,className:"text-pink-600 dark:text-pink-400"})}),_.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Long-term Success"}),_.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Build sustainable habits with data-driven feedback tailored to your wellness journey."})]})]})]}),n===3&&_.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[_.jsxs("div",{className:"mb-6 text-center",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[_.jsx(fa,{size:16,className:"text-royal-600 dark:text-royal-400"}),_.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Your Details"})]}),_.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Set Up Your Profile"}),_.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Just a few quick details to personalize your experience"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"text",value:i,onChange:E=>o(E.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(fa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:a,onChange:E=>s(E.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(AC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:"number",value:l,onChange:E=>u(E.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),_.jsx(kC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),T&&_.jsxs("div",{className:"p-5 bg-gradient-to-r from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[24px] border border-royal-100 dark:border-royal-900/30 animate-in slide-in-from-bottom-2",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"text-xs font-bold text-royal-700 dark:text-royal-300 uppercase tracking-wider",children:"Your BMI"}),_.jsx("span",{className:"text-2xl font-extrabold text-royal-900 dark:text-royal-100",children:T.toFixed(1)})]}),S&&_.jsxs("p",{className:"text-xs text-royal-600 dark:text-royal-400",children:["Recommended daily goal: ",_.jsxs("span",{className:"font-bold",children:[S," kcal"]})]})]})]})]}),n===4&&_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-500",children:[_.jsxs("div",{className:"relative mb-8",children:[_.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-2xl shadow-emerald-200 dark:shadow-emerald-900/40 animate-in zoom-in duration-700",children:_.jsx(xC,{size:56,className:"text-white",strokeWidth:3})}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full animate-ping opacity-20"})]}),_.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"You're All Set!"}),_.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your personalized nutrition journey begins now"}),i&&S&&_.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30 max-w-md w-full",children:[_.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Welcome, ",_.jsx("span",{className:"font-bold text-royal-600 dark:text-royal-400",children:i}),"!"]}),_.jsxs("div",{className:"flex items-baseline gap-2 justify-center",children:[_.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500 font-medium",children:"Daily Goal:"}),_.jsx("span",{className:"text-3xl font-extrabold text-royal-900 dark:text-royal-100",children:S}),_.jsx("span",{className:"text-sm font-bold text-gray-500 dark:text-gray-500",children:"kcal"})]})]}),_.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-6 max-w-md leading-relaxed",children:"Start snapping photos of your meals to track your nutrition effortlessly. We'll help you stay on track!"})]}),_.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-100 dark:border-white/5",children:[_.jsxs("button",{onClick:w,disabled:n===0,className:`flex items-center gap-2 px-5 py-3 rounded-[16px] font-bold text-sm transition-all ${n===0?"opacity-0 pointer-events-none":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[_.jsx(_C,{size:20}),"Back"]}),n===h-1?_.jsxs(jt,{onClick:b,isLoading:c,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Start Tracking",_.jsx(bc,{size:20,className:"ml-1"})]}):n===3?_.jsxs(jt,{onClick:y,disabled:!x,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Continue",_.jsx(bc,{size:20,className:"ml-1"})]}):_.jsxs(jt,{onClick:y,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Next",_.jsx(bc,{size:20,className:"ml-1"})]})]})]})]})]})};function zde(){const[t,e]=R.useState(ht.DASHBOARD),[n,r]=R.useState(null),[i,o]=R.useState(!0),[a,s]=R.useState(!1),[l,u]=R.useState(!0);R.useEffect(()=>{kn().then(h=>{r(h),o(!1),h&&Db().catch(m=>console.error("Cleanup failed:",m))});const d=EL(h=>{r(h),o(!1),h&&Db().catch(m=>console.error("Cleanup failed:",m))});return()=>d()},[]),R.useEffect(()=>{(async()=>{if(n){u(!0);const h=await PL(n);s(!h),u(!1)}else s(!1),u(!1)})()},[n]);const c=()=>{s(!1),e(ht.DASHBOARD)};return i||l?_.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:_.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):n?a?_.jsx(Hde,{user:n,onComplete:c}):_.jsxs(B2,{currentView:t,onNavigate:e,children:[t===ht.DASHBOARD&&_.jsx(Ude,{}),t===ht.HISTORY&&_.jsx(Bde,{}),t===ht.PROFILE&&_.jsx(Vde,{})]}):_.jsx(Gde,{})}const FN=document.getElementById("root");if(!FN)throw new Error("Could not find root element to mount to");const qde=Hp.createRoot(FN);qde.render(_.jsx(N.StrictMode,{children:_.jsx(zde,{})}));
