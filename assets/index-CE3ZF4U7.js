const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dashboard-BDLY_aMM.js","./vendor-react-wGySg1uH.js","./Card-C5vMR-fW.js","./vendor-charts-Bdt_fL2G.js","./MealDetailModal-mUor1Etn.js","./index-cQ6qJtkF.js","./chevron-left-CuJq4cco.js","./x-DNR7s20F.js","./users-CyJObRlE.js","./camera-5JZXlyYP.js","./calendar-5IvOm1PI.js","./trash-2-CSn1Qbte.js","./chevron-down-hnPnDK_a.js","./flame-BRimE8rP.js","./target-DxmO-CX0.js","./plus-B6vn2DiR.js","./vendor-supabase-DfwcnzK-.js","./CalCoach-BXJ5oPUP.js","./workoutTypes-BWu6Z9tJ.js","./loader-2-Cg8Sx650.js","./check-Bzi2enzb.js","./WorkoutPlan-CCOZDvtM.js","./heart-Dxu6mM6b.js","./chevron-right-It9d7jD_.js","./History-DHIeoLM6.js","./trending-up-CoAxeas6.js","./scale--0oh-Zb1.js","./Profile-DEtWDAm3.js","./weight-1eRyV7Qi.js","./Onboarding-BUg2kePa.js"])))=>i.map(i=>d[i]);
var ce=Object.defineProperty;var de=(e,t,s)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var F=(e,t,s)=>de(e,typeof t!="symbol"?t+"":t,s);import{r as p,a as ue,R as me}from"./vendor-react-wGySg1uH.js";import{c as O}from"./vendor-charts-Bdt_fL2G.js";import{c as fe}from"./vendor-supabase-DfwcnzK-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var Q={exports:{}},T={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ge=p,he=Symbol.for("react.element"),pe=Symbol.for("react.fragment"),ye=Object.prototype.hasOwnProperty,_e=ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xe={key:!0,ref:!0,__self:!0,__source:!0};function X(e,t,s){var r,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)ye.call(t,r)&&!xe.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:he,type:e,key:o,ref:i,props:a,_owner:_e.current}}T.Fragment=pe;T.jsx=X;T.jsxs=X;Q.exports=T;var n=Q.exports,W={},B=ue;W.createRoot=B.createRoot,W.hydrateRoot=B.hydrateRoot;const be="modulepreload",we=function(e,t){return new URL(e,t).href},J={},C=function(t,s,r){let a=Promise.resolve();if(s&&s.length>0){const i=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(s.map(d=>{if(d=we(d,r),d in J)return;J[d]=!0;const m=d.endsWith(".css"),h=m?'[rel="stylesheet"]':"";if(!!r)for(let E=i.length-1;E>=0;E--){const D=i[E];if(D.href===d&&(!m||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${h}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":be,m||(_.as="script"),_.crossOrigin="",_.href=d,l&&_.setAttribute("nonce",l),document.head.appendChild(_),m)return new Promise((E,D)=>{_.addEventListener("load",E),_.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return a.then(i=>{for(const c of i||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};var g=(e=>(e.DASHBOARD="DASHBOARD",e.CAL_COACH="CAL_COACH",e.WORKOUT_PLAN="WORKOUT_PLAN",e.HISTORY="HISTORY",e.PROFILE="PROFILE",e.ONBOARDING="ONBOARDING",e))(g||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Se={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),v=(e,t)=>{const s=p.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:l,...d},m)=>p.createElement("svg",{ref:m,...Se,width:a,height:a,stroke:r,strokeWidth:i?Number(o)*24/Number(a):o,className:["lucide",`lucide-${ve(e)}`,c].join(" "),...d},[...t.map(([h,b])=>p.createElement(h,b)),...Array.isArray(l)?l:[l]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=v("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=v("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=v("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=v("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=v("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=v("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=v("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=v("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=v("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Re=({children:e,currentView:t,onNavigate:s})=>n.jsxs("div",{className:"h-[100dvh] bg-surface dark:bg-surface-dark flex flex-col max-w-md mx-auto relative shadow-2xl shadow-gray-200 dark:shadow-black/50 overflow-hidden border-x border-gray-100/50 dark:border-white/5 transition-colors duration-300",children:[n.jsx("main",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:e}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-white/60 dark:bg-[#0f111a]/60 backdrop-blur-md pointer-events-auto z-40"}),n.jsx("div",{className:"absolute bottom-8 left-6 right-6 z-50",children:n.jsxs("nav",{className:"bg-white/80 dark:bg-[#1a1c26]/80 backdrop-blur-xl rounded-[32px] p-2 shadow-diffused-lg dark:shadow-diffused-dark border border-white dark:border-white/5 flex justify-between items-center",children:[n.jsxs("button",{onClick:()=>s(g.DASHBOARD),className:O("flex items-center justify-center gap-2 py-3 rounded-[24px] transition-all duration-500",t===g.DASHBOARD?"flex-[1.6] bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40 px-4":"flex-1 text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[n.jsx(Ae,{size:22,strokeWidth:t===g.DASHBOARD?2.5:2}),t===g.DASHBOARD&&n.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Today"})]}),n.jsxs("button",{onClick:()=>s(g.CAL_COACH),className:O("flex items-center justify-center gap-2 py-3 rounded-[24px] transition-all duration-500",t===g.CAL_COACH?"flex-[1.6] bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40 px-4":"flex-1 text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[n.jsx(Ie,{size:22,strokeWidth:t===g.CAL_COACH?2.5:2}),t===g.CAL_COACH&&n.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Coach"})]}),n.jsxs("button",{onClick:()=>s(g.WORKOUT_PLAN),className:O("flex items-center justify-center gap-2 py-3 rounded-[24px] transition-all duration-500",t===g.WORKOUT_PLAN?"flex-[2] bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40 px-4":"flex-1 text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[n.jsx(Le,{size:22,strokeWidth:t===g.WORKOUT_PLAN?2.5:2}),t===g.WORKOUT_PLAN&&n.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Workout"})]}),n.jsxs("button",{onClick:()=>s(g.HISTORY),className:O("flex items-center justify-center gap-2 py-3 rounded-[24px] transition-all duration-500",t===g.HISTORY?"flex-[1.6] bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40 px-4":"flex-1 text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[n.jsx(Oe,{size:22,strokeWidth:t===g.HISTORY?2.5:2}),t===g.HISTORY&&n.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Report"})]}),n.jsxs("button",{onClick:()=>s(g.PROFILE),className:O("flex items-center justify-center gap-2 py-3 rounded-[24px] transition-all duration-500",t===g.PROFILE?"flex-[1.6] bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40 px-4":"flex-1 text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[n.jsx(Ne,{size:22,strokeWidth:t===g.PROFILE?2.5:2}),t===g.PROFILE&&n.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Profile"})]})]})})]}),Y="https://vsqytdzbxxhketbvcoif.supabase.co",V=`sb_publishable_m-b7gwiZtZu4k0eaXHPoTg_mM_qFuvG
`;console.log("Supabase URL Detected:","Yes",`(Length: ${Y.length})`);console.log("Supabase Key Detected:","Yes",`(Length: ${V.length})`);const L=Y.startsWith("http"),ee="snapcal_mode_preference",je=()=>L?localStorage.getItem(ee)==="local"?"local":"cloud":"local",mt=e=>{localStorage.setItem(ee,e),window.location.reload()},f=L&&je()==="cloud";L?f||console.log("Supabase configured but user prefers Local Storage."):console.log("Supabase is not configured. Using Mock Auth & Local Storage.");const u=fe(L?Y:"https://placeholder.supabase.co",L?V:"placeholder"),P="snapcal_mock_session",R="snapcal_auth_change",Te=e=>new Promise(t=>setTimeout(t,e)),te=async(e,t)=>{var s,r;if(f){const{data:a,error:o}=await u.auth.signInWithPassword({email:e,password:t});if(o)throw new Error(o.message);return{user:{id:((s=a.user)==null?void 0:s.id)||"",email:(r=a.user)==null?void 0:r.email}}}else{await Te(600);const a={id:btoa(e.toLowerCase()),email:e};return localStorage.setItem(P,JSON.stringify(a)),window.dispatchEvent(new Event(R)),{user:a}}},Pe=async(e,t)=>{var s,r;if(f){const{data:a,error:o}=await u.auth.signUp({email:e,password:t});if(o)throw new Error(o.message);return{user:{id:((s=a.user)==null?void 0:s.id)||"",email:(r=a.user)==null?void 0:r.email}}}else return te(e,t)},ft=async()=>{if(f){const{error:e}=await u.auth.signOut();if(e)throw e}else localStorage.removeItem(P),window.dispatchEvent(new Event(R))},y=async()=>{if(f){const{data:e}=await u.auth.getUser();return e.user?{id:e.user.id,email:e.user.email}:null}else{const e=localStorage.getItem(P);return e?JSON.parse(e):null}},Ue=e=>{if(f){const{data:t}=u.auth.onAuthStateChange((s,r)=>{r!=null&&r.user?e({id:r.user.id,email:r.user.email}):e(null)});return()=>t.subscription.unsubscribe()}else{const t=()=>{const s=localStorage.getItem(P);e(s?JSON.parse(s):null)};return window.addEventListener(R,t),window.addEventListener("storage",t),()=>{window.removeEventListener(R,t),window.removeEventListener("storage",t)}}},Me=({className:e,variant:t="primary",isLoading:s,children:r,...a})=>{const o="inline-flex items-center justify-center px-6 py-4 rounded-[24px] font-semibold transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none text-sm tracking-wide",i={primary:"bg-royal-600 text-white hover:bg-royal-700 shadow-[0_10px_20px_-10px_rgba(124,58,237,0.5)]",secondary:"bg-royal-50 text-royal-700 hover:bg-royal-100",ghost:"bg-transparent text-gray-500 hover:text-royal-600 hover:bg-royal-50"};return n.jsx("button",{className:O(o,i[t],e),disabled:s||a.disabled,...a,children:s?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r})},qe=()=>{const[e,t]=p.useState(!0),[s,r]=p.useState(""),[a,o]=p.useState(""),[i,c]=p.useState(null),[l,d]=p.useState(!1),[m,h]=p.useState(null),b=async _=>{_.preventDefault(),c(null),h(null),d(!0);try{e?await te(s,a):(await Pe(s,a),e||(h("Account created successfully!"),t(!0)))}catch(E){console.error(E),c(E.message||"Authentication failed")}finally{d(!1)}};return n.jsxs("div",{className:"min-h-screen bg-royal-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[500px] h-[500px] bg-royal-200/40 rounded-full blur-[100px]"}),n.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-80 h-80 bg-pink-200/40 rounded-full blur-[80px]"})]}),n.jsxs("div",{className:"w-full max-w-sm z-10",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("div",{className:"w-20 h-20 bg-white rounded-[24px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-royal-200 rotate-3 transition-transform hover:rotate-0 duration-500",children:n.jsx(De,{size:36,className:"text-royal-600 fill-royal-600"})}),n.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-2",children:"SnapCal AI"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Track your vibe, not just calories."})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white p-8 rounded-[40px] shadow-[0_20px_40px_-12px_rgba(0,0,0,0.05)]",children:[n.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-[20px] mb-8",children:[n.jsx("button",{onClick:()=>{t(!0),c(null),h(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${e?"bg-white text-royal-700 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Sign In"}),n.jsx("button",{onClick:()=>{t(!1),c(null),h(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${e?"text-gray-400 hover:text-gray-600":"bg-white text-royal-700 shadow-sm"}`,children:"Sign Up"})]}),n.jsxs("form",{onSubmit:b,className:"space-y-5",children:[i&&n.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl flex items-center gap-3 text-red-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[n.jsx(Ee,{size:18}),i]}),m&&n.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-center gap-3 text-emerald-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[n.jsx(Ce,{size:18}),m]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Email"}),n.jsx("input",{type:"email",required:!0,value:s,onChange:_=>r(_.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"hello@snapcal.ai"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Password"}),n.jsx("input",{type:"password",required:!0,value:a,onChange:_=>o(_.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",minLength:6})]})]}),n.jsxs(Me,{className:"w-full mt-4 flex justify-between items-center group py-5",isLoading:l,children:[n.jsx("span",{children:e?"Sign In":"Create Account"}),!l&&n.jsx(ke,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),n.jsx("p",{className:"text-center text-gray-400 text-xs mt-8 font-medium",children:e?"New here? Create an account above.":"Welcome back. Sign in above."})]})]})};class Fe{constructor(){F(this,"cache",new Map);F(this,"defaultTTL",5*60*1e3)}get(t){const s=this.cache.get(t);return s?Date.now()-s.timestamp>s.ttl?(this.cache.delete(t),null):s.data:null}set(t,s,r){this.cache.set(t,{data:s,timestamp:Date.now(),ttl:r||this.defaultTTL})}has(t){return this.get(t)!==null}invalidate(t){this.cache.delete(t)}invalidatePattern(t){const s=[];this.cache.forEach((r,a)=>{t.test(a)&&s.push(a)}),s.forEach(r=>this.cache.delete(r))}clear(){this.cache.clear()}clearDateSensitiveCaches(){console.log("ðŸ—‘ï¸ Clearing date-sensitive caches..."),this.invalidatePattern(/^food:/),console.log("âœ… Date-sensitive caches cleared")}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const x=new Fe,S={ENTRIES:"food:entries",ENTRIES_LITE:"food:entries:lite",DAILY_SUMMARIES:"food:summaries",DAILY_SUMMARIES_LITE:"food:summaries:lite",DAILY_GOAL:"user:goal",USER_PROFILE:"user:profile",STREAK_DATA:"user:streak",AVATAR_STATE:"user:avatar",WEIGHT_GOAL:"user:weight-goal",entriesForDate:e=>`food:entries:${e}`,entryImage:e=>`food:image:${e}`};async function k(e,t,s){const r=x.get(e);if(r!==null)return r;const a=await t();return x.set(e,a,s),a}const $="snapcal_data_v1",A="snapcal_settings_v1",I="snapcal_profile_v1",K="snapcal_summaries_v1",re="snapcal_coach_messages_v1",ae="snapcal_workout_plans_v1",He="id, user_id, timestamp, date, time, food_item, calories, protein, carbs, fat, confidence, image_url, is_manual, ingredients, original_ai_response",se="id, user_id, timestamp, date, time, food_item, calories, protein, carbs, fat, confidence, is_manual, ingredients",We="id, date, calories, protein, carbs, fat",w=()=>{try{const e=localStorage.getItem($);return e?JSON.parse(e):[]}catch{return[]}},U=e=>{try{localStorage.setItem($,JSON.stringify(e))}catch(t){throw t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||String(t).toLowerCase().includes("quota")?new Error("Browser Storage Full: Your local history (with photos) has reached the browser's 5MB limit. Please delete some old entries in the History tab or connect to Supabase for unlimited cloud storage."):t}},oe=()=>{try{const e=localStorage.getItem(K);return e?JSON.parse(e):[]}catch{return[]}},Ye=e=>{try{localStorage.setItem(K,JSON.stringify(e))}catch{throw new Error("Browser Storage Full: Cannot even save simple summaries. Please clear your browser data.")}},M=e=>({id:e.id,user_id:e.user_id,timestamp:e.timestamp,date:e.date,time:e.time,food_item:e.food_item,calories:e.calories,protein:e.protein||0,carbs:e.carbs||0,fat:e.fat||0,confidence:e.confidence,imageUrl:e.image_url,isManual:e.is_manual,ingredients:e.ingredients||[],originalAiResponse:e.original_ai_response}),N=(e,t)=>{console.error(`Supabase ${t} Error:`,e);const s=(e==null?void 0:e.message)||String(e)||"",r=s.toLowerCase();throw r.includes("quota")||r.includes("limit")||r.includes("tier")?new Error("Cloud Quota Reached: Your Supabase storage limit has been exceeded. Try deleting old entries."):r.includes("relation")||r.includes("column")||r.includes("does not exist")?new Error("Database Setup Required: It looks like the 'food_entries' table is missing in Supabase. Please check the Profile tab for the setup SQL script."):r.includes("policy")||r.includes("permission")||r.includes("row-level security")?new Error("Permission Denied: Supabase RLS policies are blocking this save. Ensure authenticated users have 'INSERT' and 'UPDATE' access."):new Error(`Cloud Save Failed: ${s}`)},gt=async e=>{const t=await y();if(!t)throw new Error("User must be logged in to save.");if(!f){const r=w(),a=r.findIndex(i=>i.id===e.id),o={...e,user_id:t.id};a>=0?r[a]=o:r.push(o),U(r),x.invalidatePattern(/^food:/);return}const{error:s}=await u.from("food_entries").upsert({id:e.id,user_id:t.id,timestamp:e.timestamp,date:e.date,time:e.time,food_item:e.food_item,calories:e.calories,protein:e.protein,carbs:e.carbs,fat:e.fat,confidence:e.confidence,is_manual:e.isManual,image_url:e.imageUrl===void 0?null:e.imageUrl,ingredients:e.ingredients,original_ai_response:e.originalAiResponse});s&&N(s,"Save Entry"),x.invalidatePattern(/^food:/)},ht=async()=>k(S.ENTRIES,async()=>{const e=await y();if(!e)return[];if(!f)return w().filter(r=>r.user_id===e.id).sort((r,a)=>a.timestamp.localeCompare(r.timestamp));const{data:t,error:s}=await u.from("food_entries").select(He).eq("user_id",e.id).order("timestamp",{ascending:!1}).limit(200);return s?(console.error("Supabase Fetch Error:",s),s.message.includes("relation")?[]:[]):t?t.map(M):[]},3*60*1e3),pt=async()=>k(S.ENTRIES_LITE,async()=>{const e=await y();if(!e)return[];if(!f)return w().filter(r=>r.user_id===e.id).map(r=>({...r,imageUrl:void 0,originalAiResponse:void 0})).sort((r,a)=>a.timestamp.localeCompare(r.timestamp));const{data:t,error:s}=await u.from("food_entries").select(se).eq("user_id",e.id).order("timestamp",{ascending:!1}).limit(200);return s?(console.error("Supabase Fetch Lite Error:",s),[]):t?t.map(M):[]},3*60*1e3),yt=async()=>k(S.DAILY_SUMMARIES_LITE,async()=>{const e=await y();if(!e)return[];if(!f){const a=w().filter(l=>l.user_id===e.id),o={};a.forEach(l=>{o[l.date]||(o[l.date]=[]),o[l.date].push(l)});const i=oe().filter(l=>l.user_id===e.id),c={};return i.forEach(l=>{c[l.date]={date:l.date,totalCalories:l.total_calories||l.totalCalories,totalProtein:l.total_protein||l.totalProtein||0,totalCarbs:l.total_carbs||l.totalCarbs||0,totalFat:l.total_fat||l.totalFat||0}}),Object.keys(o).forEach(l=>{const d=o[l];c[l]={date:l,totalCalories:d.reduce((m,h)=>m+h.calories,0),totalProtein:d.reduce((m,h)=>m+(h.protein||0),0),totalCarbs:d.reduce((m,h)=>m+(h.carbs||0),0),totalFat:d.reduce((m,h)=>m+(h.fat||0),0)}}),Object.values(c).sort((l,d)=>new Date(d.date).getTime()-new Date(l.date).getTime())}const{data:t,error:s}=await u.from("food_entries").select("date, calories, protein, carbs, fat").eq("user_id",e.id).order("date",{ascending:!1});if(s)return console.error("Supabase summary fetch error:",s),[];const r={};(t||[]).forEach(a=>{r[a.date]||(r[a.date]={calories:0,protein:0,carbs:0,fat:0}),r[a.date].calories+=a.calories||0,r[a.date].protein+=a.protein||0,r[a.date].carbs+=a.carbs||0,r[a.date].fat+=a.fat||0});try{const{data:a}=await u.from("daily_summaries").select("date, total_calories, total_protein, total_carbs, total_fat").eq("user_id",e.id);(a||[]).forEach(o=>{r[o.date]||(r[o.date]={calories:o.total_calories,protein:o.total_protein,carbs:o.total_carbs,fat:o.total_fat})})}catch{}return Object.entries(r).map(([a,o])=>({date:a,totalCalories:o.calories,totalProtein:o.protein,totalCarbs:o.carbs,totalFat:o.fat})).sort((a,o)=>new Date(o.date).getTime()-new Date(a.date).getTime())},3*60*1e3),_t=async e=>k(S.entriesForDate(e),async()=>{const t=await y();if(!t)return[];if(!f)return w().filter(a=>a.user_id===t.id&&a.date===e).map(a=>({...a,imageUrl:void 0,originalAiResponse:void 0})).sort((a,o)=>o.timestamp.localeCompare(a.timestamp));const{data:s,error:r}=await u.from("food_entries").select(se).eq("user_id",t.id).eq("date",e).order("timestamp",{ascending:!1});return r?(console.error("Supabase date fetch error:",r),[]):s?s.map(M):[]},5*60*1e3),xt=async e=>k(S.entryImage(e),async()=>{const t=await y();if(!t)return null;if(!f){const o=w().find(i=>i.id===e&&i.user_id===t.id);return(o==null?void 0:o.imageUrl)||null}const{data:s,error:r}=await u.from("food_entries").select("image_url").eq("id",e).eq("user_id",t.id).single();return r||!s?null:s.image_url},30*60*1e3),G=async()=>{const e=await y();if(!e)return;const t=new Date;t.setDate(t.getDate()-30);const s=t.toISOString().split("T")[0];let r=[];if(!f)r=w().filter(o=>o.user_id===e.id&&o.date<s);else try{const{data:o}=await u.from("food_entries").select(We).eq("user_id",e.id).lt("date",s);o&&(r=o.map(M))}catch{return}if(r.length===0)return;const a={};r.forEach(o=>{a[o.date]||(a[o.date]=[]),a[o.date].push(o)});for(const o of Object.keys(a)){const i=a[o],c={id:`${e.id}_${o}`,user_id:e.id,date:o,total_calories:i.reduce((l,d)=>l+d.calories,0),total_protein:i.reduce((l,d)=>l+(d.protein||0),0),total_carbs:i.reduce((l,d)=>l+(d.carbs||0),0),total_fat:i.reduce((l,d)=>l+(d.fat||0),0)};if(f)await u.from("daily_summaries").upsert(c),await u.from("food_entries").delete().eq("user_id",e.id).eq("date",o);else{const l=oe(),d=l.findIndex(h=>h.user_id===e.id&&h.date===o);d>=0?l[d]=c:l.push(c),Ye(l);const m=w().filter(h=>!(h.user_id===e.id&&h.date===o));U(m)}}},bt=async e=>{const t=await y();if(!t)throw new Error("Not logged in");if(!f){const r=w().filter(a=>!(a.id===e&&a.user_id===t.id));U(r),x.invalidatePattern(/^food:/);return}const{error:s}=await u.from("food_entries").delete().eq("id",e).eq("user_id",t.id);s&&N(s,"Delete Entry"),x.invalidatePattern(/^food:/)},wt=async e=>{const t=await y();if(!t)throw new Error("Not logged in");if(!f){const r=w(),a=r.findIndex(o=>o.id===e&&o.user_id===t.id);a>=0&&(r[a].imageUrl=void 0,U(r)),x.invalidatePattern(/^food:/);return}const{error:s}=await u.from("food_entries").update({image_url:null}).eq("id",e).eq("user_id",t.id);s&&N(s,"Clear Image"),x.invalidatePattern(/^food:/)},St=async()=>k(S.DAILY_GOAL,async()=>{const e=await y();if(!e)return 2e3;if(!f){const r=localStorage.getItem(A);return(r?JSON.parse(r):{})[e.id]||2e3}const{data:t,error:s}=await u.from("user_settings").select("daily_goal").eq("user_id",e.id).single();return s||!t?2e3:t.daily_goal},10*60*1e3),$e=async e=>{const t=await y();if(!t)throw new Error("Not logged in");if(!f){const r=localStorage.getItem(A),a=r?JSON.parse(r):{};a[t.id]=e,localStorage.setItem(A,JSON.stringify(a)),x.invalidate(S.DAILY_GOAL);return}const{error:s}=await u.from("user_settings").upsert({user_id:t.id,daily_goal:e},{onConflict:"user_id"});s&&N(s,"Save Daily Goal"),x.invalidate(S.DAILY_GOAL)},vt=async()=>k(S.USER_PROFILE,async()=>{const e=await y();if(!e)return null;if(!f){const r=localStorage.getItem(I);return(r?JSON.parse(r):{})[e.id]||null}const{data:t,error:s}=await u.from("user_profiles").select("name, height, weight, age, gender, activity_level, goal, equipment_access, target_weight").eq("user_id",e.id).single();return s||!t?null:{name:t.name,height:t.height,weight:t.weight,age:t.age,gender:t.gender,activityLevel:t.activity_level,goal:t.goal,equipmentAccess:t.equipment_access,targetWeight:t.target_weight}},10*60*1e3),Ke=async e=>{const t=await y();if(!t)throw new Error("Not logged in");if(!f){const r=localStorage.getItem(I),a=r?JSON.parse(r):{};a[t.id]=e,localStorage.setItem(I,JSON.stringify(a)),x.invalidate(S.USER_PROFILE);return}const{error:s}=await u.from("user_profiles").upsert({user_id:t.id,name:e.name,height:e.height,weight:e.weight,age:e.age,gender:e.gender,activity_level:e.activityLevel,goal:e.goal,equipment_access:e.equipmentAccess,target_weight:e.targetWeight},{onConflict:"user_id"});s&&N(s,"Save Profile"),x.invalidate(S.USER_PROFILE)},Et=()=>w().length>0,kt=async()=>{if(!f)throw new Error("Must be in Cloud Mode to sync");const e=await y();if(!e)throw new Error("Must be logged in to sync");const t=w();if(t.length>0){const a=t.map(i=>({id:i.id,user_id:e.id,timestamp:i.timestamp,date:i.date,time:i.time,food_item:i.food_item,calories:i.calories,protein:i.protein,carbs:i.carbs,fat:i.fat,confidence:i.confidence,is_manual:i.isManual,image_url:i.imageUrl,ingredients:i.ingredients,original_ai_response:i.originalAiResponse})),o=5;for(let i=0;i<a.length;i+=o){const c=a.slice(i,i+o),{error:l}=await u.from("food_entries").upsert(c);if(l)throw console.error("Chunk upload failed",l),new Error(`Sync failed at item ${i+1}: `+l.message)}}const s=localStorage.getItem(A);if(s){const a=JSON.parse(s),o=Object.keys(a)[0];o&&a[o]&&await $e(a[o])}const r=localStorage.getItem(I);if(r){const a=JSON.parse(r),o=Object.keys(a)[0];o&&a[o]&&await Ke(a[o])}localStorage.removeItem($),localStorage.removeItem(K),localStorage.removeItem(A),localStorage.removeItem(I)},Ot=async()=>{if(!f)return{ok:!0};if(!await y())return{ok:!0};const{error:t}=await u.from("food_entries").select("id").limit(1);return t?t.message.includes("relation")||t.code==="42P01"?{ok:!1,missingTables:!0,error:"Tables missing"}:{ok:!1,error:t.message}:{ok:!0}},j="snapcal_onboarding_v1",ze=async e=>{if(!e||!e.id)return!1;const t=localStorage.getItem(j),s=t?JSON.parse(t):{};if(s[e.id]===!0)return!0;if(!f)return!1;try{const{data:r,error:a}=await u.from("user_settings").select("has_completed_onboarding").eq("user_id",e.id).maybeSingle(),o=(r==null?void 0:r.has_completed_onboarding)||!1;return o&&(s[e.id]=!0,localStorage.setItem(j,JSON.stringify(s))),o}catch{return!1}},Be=async e=>{if(!e||!e.id)return;const t=localStorage.getItem(j),s=t?JSON.parse(t):{};if(s[e.id]=!0,localStorage.setItem(j,JSON.stringify(s)),f)try{const{error:r}=await u.from("user_settings").upsert({user_id:e.id,has_completed_onboarding:!0},{onConflict:"user_id"});r&&console.error("Cloud mark onboarding error:",r)}catch(r){console.error("Cloud mark onboarding exception:",r)}},Ct=async e=>{await Be(e)},z=()=>{try{const e=localStorage.getItem(re);return e?JSON.parse(e):[]}catch{return[]}},ne=e=>{try{localStorage.setItem(re,JSON.stringify(e))}catch(t){console.error("Failed to save chat messages to local storage:",t)}},Lt=async e=>{const t=await y();if(!t){console.warn("User not logged in, cannot save chat message");return}const s=new Date(e.timestamp).toISOString().split("T")[0];if(!f){const r=z(),a={...e,user_id:t.id,date:s};r.push(a),ne(r);return}try{const{error:r}=await u.from("coach_messages").insert({id:e.id,user_id:t.id,role:e.role,content:e.content,timestamp:e.timestamp,date:s});r&&console.error("Failed to save chat message to Supabase:",r)}catch(r){console.error("Exception saving chat message:",r)}},Je=async e=>{const t=await y();if(!t)return[];if(!f)return z().filter(r=>r.user_id===t.id&&r.date===e).sort((r,a)=>r.timestamp-a.timestamp);try{const{data:s,error:r}=await u.from("coach_messages").select("id, role, content, timestamp").eq("user_id",t.id).eq("date",e).order("timestamp",{ascending:!0});return r?(console.error("Failed to fetch chat messages:",r),[]):s||[]}catch(s){return console.error("Exception fetching chat messages:",s),[]}},At=async()=>{const e=new Date().toISOString().split("T")[0];return Je(e)},It=async()=>{const e=await y();if(!e)return;const t=new Date;t.setDate(t.getDate()-30);const s=t.toISOString().split("T")[0];if(!f){const a=z().filter(o=>o.user_id!==e.id||o.date>=s);ne(a);return}try{const{error:r}=await u.from("coach_messages").delete().eq("user_id",e.id).lt("date",s);r&&console.error("Failed to cleanup old chat messages:",r)}catch(r){console.error("Exception during chat cleanup:",r)}},q=()=>{try{const e=localStorage.getItem(ae);return e?JSON.parse(e):[]}catch{return[]}},ie=e=>{try{localStorage.setItem(ae,JSON.stringify(e))}catch(t){console.error("Failed to save workout plans to local storage:",t)}},Ge=async(e,t,s,r,a)=>{const o=await y();if(!o)return console.warn("User not logged in, cannot save workout plan"),"";const i=r||`${o.id}_${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,c={id:i,user_id:o.id,date:e,title:t,workout_type_id:a,exercises:s},l=q(),d=l.findIndex(m=>m.id===i);if(d>=0?l[d]=c:l.push(c),ie(l),f)try{const{error:m}=await u.from("workout_plans").upsert({id:i,user_id:o.id,date:e,title:t,workout_type_id:a,exercises:s});m&&console.warn("Supabase save failed, using localStorage fallback:",m.message)}catch(m){console.warn("Exception saving workout plan to Supabase, using localStorage fallback:",m)}return i},Nt=async e=>{const t=await y();if(!t)return[];const s=[];if(q().filter(o=>o.user_id===t.id&&o.date===e).forEach(o=>{s.push({id:o.id,date:o.date,title:o.title,exercises:o.exercises})}),f)try{const{data:o,error:i}=await u.from("workout_plans").select("id, date, title, exercises").eq("user_id",t.id).eq("date",e);if(!i&&o){const c=new Set(s.map(l=>l.id));o.forEach(l=>{c.has(l.id)||s.push({id:l.id,date:l.date,title:l.title,exercises:l.exercises})})}}catch(o){console.warn("Exception fetching workout plans from Supabase, using localStorage only:",o)}return s},Dt=async(e,t)=>{const s=await y();if(!s)return[];const r=`${e}-${String(t).padStart(2,"0")}-01`,a=`${e}-${String(t).padStart(2,"0")}-31`,i=q().filter(c=>c.user_id===s.id&&c.date>=r&&c.date<=a).map(c=>c.date);if(f)try{const{data:c,error:l}=await u.from("workout_plans").select("date").eq("user_id",s.id).gte("date",r).lte("date",a);if(!l&&c){const d=c.map(m=>m.date);return Array.from(new Set([...i,...d]))}}catch(c){console.warn("Exception fetching workout plans from Supabase, using localStorage only:",c)}return i},Rt=async(e,t)=>{if(!await y()){console.warn("User not logged in, cannot save multi-day workout plan");return}const r=new Date(e);for(let a=0;a<t.length;a++){const o=t[a];if(o.isRestDay)continue;const i=new Date(r);i.setDate(i.getDate()+a);const c=i.toISOString().split("T")[0];await Ge(c,o.title,o.exercises)}},jt=async e=>{const t=await y();if(!t){console.warn("User not logged in, cannot delete workout plan");return}const r=q().filter(a=>a.id!==e);if(ie(r),f)try{const{error:a}=await u.from("workout_plans").delete().eq("id",e).eq("user_id",t.id);a&&console.warn("Failed to delete workout plan from Supabase:",a.message)}catch(a){console.warn("Exception deleting workout plan from Supabase:",a)}},Ze=()=>{const e=new Date,t=new Date(e);return t.setHours(24,0,0,0),t.getTime()-e.getTime()},Qe=e=>{let t;const s=()=>{const r=Ze();console.log(`â° Scheduling midnight refresh in ${Math.round(r/1e3/60)} minutes`),t=setTimeout(()=>{console.log("ðŸŒ™ Midnight detected! Running callback..."),e(),s()},r)};return s(),()=>{t&&(clearTimeout(t),console.log("â° Midnight timer canceled"))}},Xe=()=>{const e=new Date,t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${r}`},H="snapcal_last_active_date",Ve=()=>{const e=Xe(),t=localStorage.getItem(H);if(!t)return localStorage.setItem(H,e),!1;const s=t!==e;return s&&(console.log(`ðŸ“… Day changed detected: ${t} â†’ ${e}`),localStorage.setItem(H,e)),s},et=p.lazy(()=>C(()=>import("./Dashboard-BDLY_aMM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),import.meta.url).then(e=>({default:e.Dashboard}))),tt=p.lazy(()=>C(()=>import("./CalCoach-BXJ5oPUP.js"),__vite__mapDeps([17,1,2,3,5,18,7,19,20,15,16]),import.meta.url).then(e=>({default:e.CalCoach}))),rt=p.lazy(()=>C(()=>import("./WorkoutPlan-CCOZDvtM.js"),__vite__mapDeps([21,1,2,3,18,6,7,15,11,13,14,22,10,23,16]),import.meta.url).then(e=>({default:e.WorkoutPlan}))),at=p.lazy(()=>C(()=>import("./History-DHIeoLM6.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,8,9,10,11,25,26,20,14,23,19,16]),import.meta.url).then(e=>({default:e.History}))),st=p.lazy(()=>C(()=>import("./Profile-DEtWDAm3.js"),__vite__mapDeps([27,1,8,28,10,14,12,25,26,20,3,16]),import.meta.url).then(e=>({default:e.Profile}))),ot=p.lazy(()=>C(()=>import("./Onboarding-BUg2kePa.js"),__vite__mapDeps([29,1,7,9,25,22,14,28,20,6,23,3,16]),import.meta.url).then(e=>({default:e.Onboarding}))),Z=()=>n.jsx("div",{className:"min-h-screen bg-surface dark:bg-surface-dark flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-royal-200 dark:border-white/20 border-t-royal-600 dark:border-t-white rounded-full animate-spin"})});function nt(){const[e,t]=p.useState(g.DASHBOARD),[s,r]=p.useState(null),[a,o]=p.useState(!0),[i,c]=p.useState(!1),[l,d]=p.useState(!0);p.useEffect(()=>{y().then(b=>{r(b),o(!1),b&&G().catch(_=>console.error("Cleanup failed:",_))});const h=Ue(b=>{r(b),o(!1),b&&G().catch(_=>console.error("Cleanup failed:",_))});return()=>h()},[]),p.useEffect(()=>{Ve()&&(console.log("ðŸŒ… New day detected on app load! Clearing stale caches..."),x.clearDateSensitiveCaches(),window.dispatchEvent(new CustomEvent("midnight-refresh")));const h=Qe(()=>{console.log("ðŸŒ™ Midnight! Clearing caches and broadcasting refresh event..."),x.clearDateSensitiveCaches(),window.dispatchEvent(new CustomEvent("midnight-refresh"))});return()=>{h()}},[]),p.useEffect(()=>{(async()=>{if(s){d(!0);const b=await ze(s);c(!b),d(!1)}else c(!1),d(!1)})()},[s]);const m=()=>{c(!1),t(g.DASHBOARD)};return a||l?n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):s?i?n.jsx(p.Suspense,{fallback:n.jsx(Z,{}),children:n.jsx(ot,{user:s,onComplete:m})}):n.jsx(Re,{currentView:e,onNavigate:t,children:n.jsxs(p.Suspense,{fallback:n.jsx(Z,{}),children:[e===g.DASHBOARD&&n.jsx(et,{}),e===g.CAL_COACH&&n.jsx(tt,{onNavigate:t}),e===g.WORKOUT_PLAN&&n.jsx(rt,{onNavigate:t}),e===g.HISTORY&&n.jsx(at,{}),e===g.PROFILE&&n.jsx(st,{})]})}):n.jsx(qe,{})}const le=document.getElementById("root");if(!le)throw new Error("Could not find root element to mount to");const it=W.createRoot(le);it.render(n.jsx(me.StrictMode,{children:n.jsx(nt,{})}));export{Ee as A,Me as B,Ce as C,Le as D,_t as E,xt as F,x as G,S as H,wt as I,Et as J,Ot as K,je as L,L as M,kt as N,mt as O,ft as P,Ct as Q,Be as R,Ie as S,Ne as U,De as Z,ht as a,St as b,v as c,vt as d,$e as e,bt as f,Xe as g,pt as h,Nt as i,n as j,Rt as k,ke as l,It as m,At as n,g as o,Ge as p,Lt as q,Je as r,gt as s,Dt as t,jt as u,Ke as v,f as w,y as x,u as y,yt as z};
