var tR=Object.defineProperty;var nR=(t,e,n)=>e in t?tR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jh=(t,e,n)=>nR(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b1={exports:{}},pf={},x1={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=Symbol.for("react.element"),rR=Symbol.for("react.portal"),iR=Symbol.for("react.fragment"),oR=Symbol.for("react.strict_mode"),aR=Symbol.for("react.profiler"),sR=Symbol.for("react.provider"),lR=Symbol.for("react.context"),uR=Symbol.for("react.forward_ref"),cR=Symbol.for("react.suspense"),dR=Symbol.for("react.memo"),fR=Symbol.for("react.lazy"),hw=Symbol.iterator;function hR(t){return t===null||typeof t!="object"?null:(t=hw&&t[hw]||t["@@iterator"],typeof t=="function"?t:null)}var _1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S1=Object.assign,E1={};function Ha(t,e,n){this.props=t,this.context=e,this.refs=E1,this.updater=n||_1}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T1(){}T1.prototype=Ha.prototype;function Wy(t,e,n){this.props=t,this.context=e,this.refs=E1,this.updater=n||_1}var Ky=Wy.prototype=new T1;Ky.constructor=Wy;S1(Ky,Ha.prototype);Ky.isPureReactComponent=!0;var pw=Array.isArray,A1=Object.prototype.hasOwnProperty,Jy={current:null},C1={key:!0,ref:!0,__self:!0,__source:!0};function k1(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)A1.call(e,r)&&!C1.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:du,type:t,key:o,ref:a,props:i,_owner:Jy.current}}function pR(t,e){return{$$typeof:du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yy(t){return typeof t=="object"&&t!==null&&t.$$typeof===du}function mR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mw=/\/+/g;function Uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mR(""+t.key):e.toString(36)}function pc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case du:case rR:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Uh(a,0):r,pw(i)?(n="",t!=null&&(n=t.replace(mw,"$&/")+"/"),pc(i,e,n,"",function(u){return u})):i!=null&&(Yy(i)&&(i=pR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",pw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Uh(o,s);a+=pc(o,e,n,l,i)}else if(l=hR(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Uh(o,s++),a+=pc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Cu(t,e,n){if(t==null)return t;var r=[],i=0;return pc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function gR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zt={current:null},mc={transition:null},yR={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:mc,ReactCurrentOwner:Jy};function P1(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Cu,forEach:function(t,e,n){Cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cu(t,function(){e++}),e},toArray:function(t){return Cu(t,function(e){return e})||[]},only:function(t){if(!Yy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Ha;me.Fragment=iR;me.Profiler=aR;me.PureComponent=Wy;me.StrictMode=oR;me.Suspense=cR;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yR;me.act=P1;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=S1({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Jy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)A1.call(e,l)&&!C1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:du,type:t.type,key:i,ref:o,props:r,_owner:a}};me.createContext=function(t){return t={$$typeof:lR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sR,_context:t},t.Consumer=t};me.createElement=k1;me.createFactory=function(t){var e=k1.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:uR,render:t}};me.isValidElement=Yy;me.lazy=function(t){return{$$typeof:fR,_payload:{_status:-1,_result:t},_init:gR}};me.memo=function(t,e){return{$$typeof:dR,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=mc.transition;mc.transition={};try{t()}finally{mc.transition=e}};me.unstable_act=P1;me.useCallback=function(t,e){return zt.current.useCallback(t,e)};me.useContext=function(t){return zt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return zt.current.useDeferredValue(t)};me.useEffect=function(t,e){return zt.current.useEffect(t,e)};me.useId=function(){return zt.current.useId()};me.useImperativeHandle=function(t,e,n){return zt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return zt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return zt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return zt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return zt.current.useReducer(t,e,n)};me.useRef=function(t){return zt.current.useRef(t)};me.useState=function(t){return zt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return zt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return zt.current.useTransition()};me.version="18.3.1";x1.exports=me;var M=x1.exports;const R=De(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR=M,wR=Symbol.for("react.element"),bR=Symbol.for("react.fragment"),xR=Object.prototype.hasOwnProperty,_R=vR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SR={key:!0,ref:!0,__self:!0,__source:!0};function I1(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)xR.call(e,r)&&!SR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wR,type:t,key:o,ref:a,props:i,_owner:_R.current}}pf.Fragment=bR;pf.jsx=I1;pf.jsxs=I1;b1.exports=pf;var g=b1.exports,Xp={},N1={exports:{}},dn={},O1={exports:{}},R1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,D){var B=P.length;P.push(D);e:for(;0<B;){var W=B-1>>>1,V=P[W];if(0<i(V,D))P[W]=D,P[B]=V,B=W;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var D=P[0],B=P.pop();if(B!==D){P[0]=B;e:for(var W=0,V=P.length,te=V>>>1;W<te;){var he=2*(W+1)-1,Ee=P[he],Oe=he+1,wt=P[Oe];if(0>i(Ee,B))Oe<V&&0>i(wt,Ee)?(P[W]=wt,P[Oe]=B,W=Oe):(P[W]=Ee,P[he]=B,W=he);else if(Oe<V&&0>i(wt,B))P[W]=wt,P[Oe]=B,W=Oe;else break e}}return D}function i(P,D){var B=P.sortIndex-D.sortIndex;return B!==0?B:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=P)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function T(P){if(w=!1,_(P),!y)if(n(l)!==null)y=!0,j(S);else{var D=n(u);D!==null&&G(T,D.startTime-P)}}function S(P,D){y=!1,w&&(w=!1,v(C),C=-1),m=!0;var B=h;try{for(_(D),d=n(l);d!==null&&(!(d.expirationTime>D)||P&&!N());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var V=W(d.expirationTime<=D);D=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),_(D)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var he=n(u);he!==null&&G(T,he.startTime-D),te=!1}return te}finally{d=null,h=B,m=!1}}var E=!1,A=null,C=-1,k=5,O=-1;function N(){return!(t.unstable_now()-O<k)}function I(){if(A!==null){var P=t.unstable_now();O=P;var D=!0;try{D=A(!0,P)}finally{D?$():(E=!1,A=null)}}else E=!1}var $;if(typeof x=="function")$=function(){x(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=I,$=function(){U.postMessage(null)}}else $=function(){b(I,0)};function j(P){A=P,E||(E=!0,$())}function G(P,D){C=b(function(){P(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,j(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var B=h;h=D;try{return P()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=h;h=P;try{return D()}finally{h=B}},t.unstable_scheduleCallback=function(P,D,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,P){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=B+V,P={id:c++,callback:D,priorityLevel:P,startTime:B,expirationTime:V,sortIndex:-1},B>W?(P.sortIndex=B,e(u,P),n(l)===null&&P===n(u)&&(w?(v(C),C=-1):w=!0,G(T,B-W))):(P.sortIndex=V,e(l,P),y||m||(y=!0,j(S))),P},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(P){var D=h;return function(){var B=h;h=D;try{return P.apply(this,arguments)}finally{h=B}}}})(R1);O1.exports=R1;var ER=O1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR=M,cn=ER;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M1=new Set,il={};function io(t,e){ua(t,e),ua(t+"Capture",e)}function ua(t,e){for(il[t]=e,t=0;t<e.length;t++)M1.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qp=Object.prototype.hasOwnProperty,AR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gw={},yw={};function CR(t){return Qp.call(yw,t)?!0:Qp.call(gw,t)?!1:AR.test(t)?yw[t]=!0:(gw[t]=!0,!1)}function kR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PR(t,e,n,r){if(e===null||typeof e>"u"||kR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xy=/[\-:]([a-z])/g;function Qy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xy,Qy);Ct[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xy,Qy);Ct[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xy,Qy);Ct[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zy(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PR(e,n,i,r)&&(n=null),r||i===null?CR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Or=TR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),Io=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),$1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),nv=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),L1=Symbol.for("react.offscreen"),vw=Symbol.iterator;function fs(t){return t===null||typeof t!="object"?null:(t=vw&&t[vw]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Fh;function Os(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var Bh=!1;function Gh(t,e){if(!t||Bh)return"";Bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Bh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Os(t):""}function IR(t){switch(t.tag){case 5:return Os(t.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return t=Gh(t.type,!1),t;case 11:return t=Gh(t.type.render,!1),t;case 1:return t=Gh(t.type,!0),t;default:return""}}function nm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case No:return"Fragment";case Io:return"Portal";case Zp:return"Profiler";case ev:return"StrictMode";case em:return"Suspense";case tm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D1:return(t.displayName||"Context")+".Consumer";case $1:return(t._context.displayName||"Context")+".Provider";case tv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nv:return e=t.displayName||null,e!==null?e:nm(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return nm(t(e))}catch{}}return null}function NR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nm(e);case 8:return e===ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OR(t){var e=j1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pu(t){t._valueTracker||(t._valueTracker=OR(t))}function U1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=j1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rm(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ww(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F1(t,e){e=e.checked,e!=null&&Zy(t,"checked",e,!1)}function im(t,e){F1(t,e);var n=ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?om(t,e.type,n):e.hasOwnProperty("defaultValue")&&om(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function om(t,e,n){(e!=="number"||Pc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rs=Array.isArray;function Ko(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Rs(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ci(n)}}function B1(t,e){var n=ci(e.value),r=ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _w(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Iu,z1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ol(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RR=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){RR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function V1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function H1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MR=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lm(t,e){if(e){if(MR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=null;function rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dm=null,Jo=null,Yo=null;function Sw(t){if(t=pu(t)){if(typeof dm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=wf(e),dm(t.stateNode,t.type,e))}}function q1(t){Jo?Yo?Yo.push(t):Yo=[t]:Jo=t}function W1(){if(Jo){var t=Jo,e=Yo;if(Yo=Jo=null,Sw(t),e)for(t=0;t<e.length;t++)Sw(e[t])}}function K1(t,e){return t(e)}function J1(){}var zh=!1;function Y1(t,e,n){if(zh)return t(e,n);zh=!0;try{return K1(t,e,n)}finally{zh=!1,(Jo!==null||Yo!==null)&&(J1(),W1())}}function al(t,e){var n=t.stateNode;if(n===null)return null;var r=wf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var fm=!1;if(Sr)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){fm=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{fm=!1}function $R(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Fs=!1,Ic=null,Nc=!1,hm=null,DR={onError:function(t){Fs=!0,Ic=t}};function LR(t,e,n,r,i,o,a,s,l){Fs=!1,Ic=null,$R.apply(DR,arguments)}function jR(t,e,n,r,i,o,a,s,l){if(LR.apply(this,arguments),Fs){if(Fs){var u=Ic;Fs=!1,Ic=null}else throw Error(H(198));Nc||(Nc=!0,hm=u)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ew(t){if(oo(t)!==t)throw Error(H(188))}function UR(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ew(i),t;if(o===r)return Ew(i),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Q1(t){return t=UR(t),t!==null?Z1(t):null}function Z1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z1(t);if(e!==null)return e;t=t.sibling}return null}var eA=cn.unstable_scheduleCallback,Tw=cn.unstable_cancelCallback,FR=cn.unstable_shouldYield,BR=cn.unstable_requestPaint,Qe=cn.unstable_now,GR=cn.unstable_getCurrentPriorityLevel,iv=cn.unstable_ImmediatePriority,tA=cn.unstable_UserBlockingPriority,Oc=cn.unstable_NormalPriority,zR=cn.unstable_LowPriority,nA=cn.unstable_IdlePriority,mf=null,ir=null;function VR(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(mf,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:WR,HR=Math.log,qR=Math.LN2;function WR(t){return t>>>=0,t===0?32:31-(HR(t)/qR|0)|0}var Nu=64,Ou=4194304;function Ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Ms(s):(o&=a,o!==0&&(r=Ms(o)))}else a=n&~i,a!==0?r=Ms(a):o!==0&&(r=Ms(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function KR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-zn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=KR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rA(){var t=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),t}function Vh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function YR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ov(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function iA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oA,av,aA,sA,lA,mm=!1,Ru=[],ei=null,ti=null,ni=null,sl=new Map,ll=new Map,qr=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aw(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(e.pointerId)}}function ps(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=pu(e),e!==null&&av(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QR(t,e,n,r,i){switch(e){case"focusin":return ei=ps(ei,t,e,n,r,i),!0;case"dragenter":return ti=ps(ti,t,e,n,r,i),!0;case"mouseover":return ni=ps(ni,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return sl.set(o,ps(sl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ll.set(o,ps(ll.get(o)||null,t,e,n,r,i)),!0}return!1}function uA(t){var e=Ri(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=X1(n),e!==null){t.blockedOn=e,lA(t.priority,function(){aA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cm=r,n.target.dispatchEvent(r),cm=null}else return e=pu(n),e!==null&&av(e),t.blockedOn=n,!1;e.shift()}return!0}function Cw(t,e,n){gc(t)&&n.delete(e)}function ZR(){mm=!1,ei!==null&&gc(ei)&&(ei=null),ti!==null&&gc(ti)&&(ti=null),ni!==null&&gc(ni)&&(ni=null),sl.forEach(Cw),ll.forEach(Cw)}function ms(t,e){t.blockedOn===e&&(t.blockedOn=null,mm||(mm=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,ZR)))}function ul(t){function e(i){return ms(i,t)}if(0<Ru.length){ms(Ru[0],t);for(var n=1;n<Ru.length;n++){var r=Ru[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&ms(ei,t),ti!==null&&ms(ti,t),ni!==null&&ms(ni,t),sl.forEach(e),ll.forEach(e),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)uA(n),n.blockedOn===null&&qr.shift()}var Xo=Or.ReactCurrentBatchConfig,Mc=!0;function eM(t,e,n,r){var i=Te,o=Xo.transition;Xo.transition=null;try{Te=1,sv(t,e,n,r)}finally{Te=i,Xo.transition=o}}function tM(t,e,n,r){var i=Te,o=Xo.transition;Xo.transition=null;try{Te=4,sv(t,e,n,r)}finally{Te=i,Xo.transition=o}}function sv(t,e,n,r){if(Mc){var i=gm(t,e,n,r);if(i===null)ep(t,e,r,$c,n),Aw(t,r);else if(QR(i,t,e,n,r))r.stopPropagation();else if(Aw(t,r),e&4&&-1<XR.indexOf(t)){for(;i!==null;){var o=pu(i);if(o!==null&&oA(o),o=gm(t,e,n,r),o===null&&ep(t,e,r,$c,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ep(t,e,r,null,n)}}var $c=null;function gm(t,e,n,r){if($c=null,t=rv(r),t=Ri(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $c=t,null}function cA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GR()){case iv:return 1;case tA:return 4;case Oc:case zR:return 16;case nA:return 536870912;default:return 16}default:return 16}}var Jr=null,lv=null,yc=null;function dA(){if(yc)return yc;var t,e=lv,n=e.length,r,i="value"in Jr?Jr.value:Jr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return yc=i.slice(t,1<r?1-r:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mu(){return!0}function kw(){return!1}function fn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Mu:kw,this.isPropagationStopped=kw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),e}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uv=fn(qa),hu=Ke({},qa,{view:0,detail:0}),nM=fn(hu),Hh,qh,gs,gf=Ke({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(Hh=t.screenX-gs.screenX,qh=t.screenY-gs.screenY):qh=Hh=0,gs=t),Hh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),Pw=fn(gf),rM=Ke({},gf,{dataTransfer:0}),iM=fn(rM),oM=Ke({},hu,{relatedTarget:0}),Wh=fn(oM),aM=Ke({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),sM=fn(aM),lM=Ke({},qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uM=fn(lM),cM=Ke({},qa,{data:0}),Iw=fn(cM),dM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hM[t])?!!e[t]:!1}function cv(){return pM}var mM=Ke({},hu,{key:function(t){if(t.key){var e=dM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cv,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gM=fn(mM),yM=Ke({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nw=fn(yM),vM=Ke({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cv}),wM=fn(vM),bM=Ke({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xM=fn(bM),_M=Ke({},gf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SM=fn(_M),EM=[9,13,27,32],dv=Sr&&"CompositionEvent"in window,Bs=null;Sr&&"documentMode"in document&&(Bs=document.documentMode);var TM=Sr&&"TextEvent"in window&&!Bs,fA=Sr&&(!dv||Bs&&8<Bs&&11>=Bs),Ow=" ",Rw=!1;function hA(t,e){switch(t){case"keyup":return EM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function AM(t,e){switch(t){case"compositionend":return pA(e);case"keypress":return e.which!==32?null:(Rw=!0,Ow);case"textInput":return t=e.data,t===Ow&&Rw?null:t;default:return null}}function CM(t,e){if(Oo)return t==="compositionend"||!dv&&hA(t,e)?(t=dA(),yc=lv=Jr=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fA&&e.locale!=="ko"?null:e.data;default:return null}}var kM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kM[t.type]:e==="textarea"}function mA(t,e,n,r){q1(r),e=Dc(e,"onChange"),0<e.length&&(n=new uv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gs=null,cl=null;function PM(t){AA(t,0)}function yf(t){var e=$o(t);if(U1(e))return t}function IM(t,e){if(t==="change")return e}var gA=!1;if(Sr){var Kh;if(Sr){var Jh="oninput"in document;if(!Jh){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),Jh=typeof $w.oninput=="function"}Kh=Jh}else Kh=!1;gA=Kh&&(!document.documentMode||9<document.documentMode)}function Dw(){Gs&&(Gs.detachEvent("onpropertychange",yA),cl=Gs=null)}function yA(t){if(t.propertyName==="value"&&yf(cl)){var e=[];mA(e,cl,t,rv(t)),Y1(PM,e)}}function NM(t,e,n){t==="focusin"?(Dw(),Gs=e,cl=n,Gs.attachEvent("onpropertychange",yA)):t==="focusout"&&Dw()}function OM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yf(cl)}function RM(t,e){if(t==="click")return yf(e)}function MM(t,e){if(t==="input"||t==="change")return yf(e)}function $M(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:$M;function dl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qp.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function Lw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jw(t,e){var n=Lw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lw(n)}}function vA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wA(){for(var t=window,e=Pc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pc(t.document)}return e}function fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DM(t){var e=wA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vA(n.ownerDocument.documentElement,n)){if(r!==null&&fv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=jw(n,o);var a=jw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LM=Sr&&"documentMode"in document&&11>=document.documentMode,Ro=null,ym=null,zs=null,vm=!1;function Uw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vm||Ro==null||Ro!==Pc(r)||(r=Ro,"selectionStart"in r&&fv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zs&&dl(zs,r)||(zs=r,r=Dc(ym,"onSelect"),0<r.length&&(e=new uv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Yh={},bA={};Sr&&(bA=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function vf(t){if(Yh[t])return Yh[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bA)return Yh[t]=e[n];return t}var xA=vf("animationend"),_A=vf("animationiteration"),SA=vf("animationstart"),EA=vf("transitionend"),TA=new Map,Fw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(t,e){TA.set(t,e),io(e,[t])}for(var Xh=0;Xh<Fw.length;Xh++){var Qh=Fw[Xh],jM=Qh.toLowerCase(),UM=Qh[0].toUpperCase()+Qh.slice(1);fi(jM,"on"+UM)}fi(xA,"onAnimationEnd");fi(_A,"onAnimationIteration");fi(SA,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(EA,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FM=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Bw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jR(r,e,void 0,t),t.currentTarget=null}function AA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Bw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Bw(i,s,u),o=l}}}if(Nc)throw t=hm,Nc=!1,hm=null,t}function Le(t,e){var n=e[Sm];n===void 0&&(n=e[Sm]=new Set);var r=t+"__bubble";n.has(r)||(CA(e,t,2,!1),n.add(r))}function Zh(t,e,n){var r=0;e&&(r|=4),CA(n,t,r,e)}var Du="_reactListening"+Math.random().toString(36).slice(2);function fl(t){if(!t[Du]){t[Du]=!0,M1.forEach(function(n){n!=="selectionchange"&&(FM.has(n)||Zh(n,!1,t),Zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Du]||(e[Du]=!0,Zh("selectionchange",!1,e))}}function CA(t,e,n,r){switch(cA(e)){case 1:var i=eM;break;case 4:i=tM;break;default:i=sv}n=i.bind(null,e,n,t),i=void 0,!fm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ep(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ri(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Y1(function(){var u=o,c=rv(n),d=[];e:{var h=TA.get(t);if(h!==void 0){var m=uv,y=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":m=gM;break;case"focusin":y="focus",m=Wh;break;case"focusout":y="blur",m=Wh;break;case"beforeblur":case"afterblur":m=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wM;break;case xA:case _A:case SA:m=sM;break;case EA:m=xM;break;case"scroll":m=nM;break;case"wheel":m=SM;break;case"copy":case"cut":case"paste":m=uM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Nw}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var x=u,_;x!==null;){_=x;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,v!==null&&(T=al(x,v),T!=null&&w.push(hl(x,T,_)))),b)break;x=x.return}0<w.length&&(h=new m(h,y,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==cm&&(y=n.relatedTarget||n.fromElement)&&(Ri(y)||y[Er]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ri(y):null,y!==null&&(b=oo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=Pw,T="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=Nw,T="onPointerLeave",v="onPointerEnter",x="pointer"),b=m==null?h:$o(m),_=y==null?h:$o(y),h=new w(T,x+"leave",m,n,c),h.target=b,h.relatedTarget=_,T=null,Ri(c)===u&&(w=new w(v,x+"enter",y,n,c),w.target=_,w.relatedTarget=b,T=w),b=T,m&&y)t:{for(w=m,v=y,x=0,_=w;_;_=mo(_))x++;for(_=0,T=v;T;T=mo(T))_++;for(;0<x-_;)w=mo(w),x--;for(;0<_-x;)v=mo(v),_--;for(;x--;){if(w===v||v!==null&&w===v.alternate)break t;w=mo(w),v=mo(v)}w=null}else w=null;m!==null&&Gw(d,h,m,w,!1),y!==null&&b!==null&&Gw(d,b,y,w,!0)}}e:{if(h=u?$o(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=IM;else if(Mw(h))if(gA)S=MM;else{S=OM;var E=NM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=RM);if(S&&(S=S(t,u))){mA(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&om(h,"number",h.value)}switch(E=u?$o(u):window,t){case"focusin":(Mw(E)||E.contentEditable==="true")&&(Ro=E,ym=u,zs=null);break;case"focusout":zs=ym=Ro=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,Uw(d,n,c);break;case"selectionchange":if(LM)break;case"keydown":case"keyup":Uw(d,n,c)}var A;if(dv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Oo?hA(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(fA&&n.locale!=="ko"&&(Oo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Oo&&(A=dA()):(Jr=c,lv="value"in Jr?Jr.value:Jr.textContent,Oo=!0)),E=Dc(u,C),0<E.length&&(C=new Iw(C,t,null,n,c),d.push({event:C,listeners:E}),A?C.data=A:(A=pA(n),A!==null&&(C.data=A)))),(A=TM?AM(t,n):CM(t,n))&&(u=Dc(u,"onBeforeInput"),0<u.length&&(c=new Iw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}AA(d,e)})}function hl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=al(t,n),o!=null&&r.unshift(hl(t,o,i)),o=al(t,e),o!=null&&r.push(hl(t,o,i))),t=t.return}return r}function mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=al(n,o),l!=null&&a.unshift(hl(n,l,s))):i||(l=al(n,o),l!=null&&a.push(hl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var BM=/\r\n?/g,GM=/\u0000|\uFFFD/g;function zw(t){return(typeof t=="string"?t:""+t).replace(BM,`
`).replace(GM,"")}function Lu(t,e,n){if(e=zw(e),zw(t)!==e&&n)throw Error(H(425))}function Lc(){}var wm=null,bm=null;function xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,zM=typeof clearTimeout=="function"?clearTimeout:void 0,Vw=typeof Promise=="function"?Promise:void 0,VM=typeof queueMicrotask=="function"?queueMicrotask:typeof Vw<"u"?function(t){return Vw.resolve(null).then(t).catch(HM)}:_m;function HM(t){setTimeout(function(){throw t})}function tp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ul(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),tr="__reactFiber$"+Wa,pl="__reactProps$"+Wa,Er="__reactContainer$"+Wa,Sm="__reactEvents$"+Wa,qM="__reactListeners$"+Wa,WM="__reactHandles$"+Wa;function Ri(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Er]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hw(t);t!==null;){if(n=t[tr])return n;t=Hw(t)}return e}t=n,n=t.parentNode}return null}function pu(t){return t=t[tr]||t[Er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function wf(t){return t[pl]||null}var Em=[],Do=-1;function hi(t){return{current:t}}function Fe(t){0>Do||(t.current=Em[Do],Em[Do]=null,Do--)}function $e(t,e){Do++,Em[Do]=t.current,t.current=e}var di={},Mt=hi(di),Kt=hi(!1),Ki=di;function ca(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function jc(){Fe(Kt),Fe(Mt)}function qw(t,e,n){if(Mt.current!==di)throw Error(H(168));$e(Mt,e),$e(Kt,n)}function kA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,NR(t)||"Unknown",i));return Ke({},n,r)}function Uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Ki=Mt.current,$e(Mt,t),$e(Kt,Kt.current),!0}function Ww(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=kA(t,e,Ki),r.__reactInternalMemoizedMergedChildContext=t,Fe(Kt),Fe(Mt),$e(Mt,t)):Fe(Kt),$e(Kt,n)}var mr=null,bf=!1,np=!1;function PA(t){mr===null?mr=[t]:mr.push(t)}function KM(t){bf=!0,PA(t)}function pi(){if(!np&&mr!==null){np=!0;var t=0,e=Te;try{var n=mr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mr=null,bf=!1}catch(i){throw mr!==null&&(mr=mr.slice(t+1)),eA(iv,pi),i}finally{Te=e,np=!1}}return null}var Lo=[],jo=0,Fc=null,Bc=0,vn=[],wn=0,Ji=null,gr=1,yr="";function Ei(t,e){Lo[jo++]=Bc,Lo[jo++]=Fc,Fc=t,Bc=e}function IA(t,e,n){vn[wn++]=gr,vn[wn++]=yr,vn[wn++]=Ji,Ji=t;var r=gr;t=yr;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var o=32-zn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,gr=1<<32-zn(e)+i|n<<i|r,yr=o+t}else gr=1<<o|n<<i|r,yr=t}function hv(t){t.return!==null&&(Ei(t,1),IA(t,1,0))}function pv(t){for(;t===Fc;)Fc=Lo[--jo],Lo[jo]=null,Bc=Lo[--jo],Lo[jo]=null;for(;t===Ji;)Ji=vn[--wn],vn[wn]=null,yr=vn[--wn],vn[wn]=null,gr=vn[--wn],vn[wn]=null}var un=null,ln=null,ze=!1,Fn=null;function NA(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,ln=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ji!==null?{id:gr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,ln=null,!0):!1;default:return!1}}function Tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Am(t){if(ze){var e=ln;if(e){var n=e;if(!Kw(t,e)){if(Tm(t))throw Error(H(418));e=ri(n.nextSibling);var r=un;e&&Kw(t,e)?NA(r,n):(t.flags=t.flags&-4097|2,ze=!1,un=t)}}else{if(Tm(t))throw Error(H(418));t.flags=t.flags&-4097|2,ze=!1,un=t}}}function Jw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function ju(t){if(t!==un)return!1;if(!ze)return Jw(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xm(t.type,t.memoizedProps)),e&&(e=ln)){if(Tm(t))throw OA(),Error(H(418));for(;e;)NA(t,e),e=ri(e.nextSibling)}if(Jw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=un?ri(t.stateNode.nextSibling):null;return!0}function OA(){for(var t=ln;t;)t=ri(t.nextSibling)}function da(){ln=un=null,ze=!1}function mv(t){Fn===null?Fn=[t]:Fn.push(t)}var JM=Or.ReactCurrentBatchConfig;function ys(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Uu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yw(t){var e=t._init;return e(t._payload)}function RA(t){function e(v,x){if(t){var _=v.deletions;_===null?(v.deletions=[x],v.flags|=16):_.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=si(v,x),v.index=0,v.sibling=null,v}function o(v,x,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<x?(v.flags|=2,x):_):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,x,_,T){return x===null||x.tag!==6?(x=up(_,v.mode,T),x.return=v,x):(x=i(x,_),x.return=v,x)}function l(v,x,_,T){var S=_.type;return S===No?c(v,x,_.props.children,T,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gr&&Yw(S)===x.type)?(T=i(x,_.props),T.ref=ys(v,x,_),T.return=v,T):(T=Tc(_.type,_.key,_.props,null,v.mode,T),T.ref=ys(v,x,_),T.return=v,T)}function u(v,x,_,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=cp(_,v.mode,T),x.return=v,x):(x=i(x,_.children||[]),x.return=v,x)}function c(v,x,_,T,S){return x===null||x.tag!==7?(x=zi(_,v.mode,T,S),x.return=v,x):(x=i(x,_),x.return=v,x)}function d(v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=up(""+x,v.mode,_),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ku:return _=Tc(x.type,x.key,x.props,null,v.mode,_),_.ref=ys(v,null,x),_.return=v,_;case Io:return x=cp(x,v.mode,_),x.return=v,x;case Gr:var T=x._init;return d(v,T(x._payload),_)}if(Rs(x)||fs(x))return x=zi(x,v.mode,_,null),x.return=v,x;Uu(v,x)}return null}function h(v,x,_,T){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(v,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:return _.key===S?l(v,x,_,T):null;case Io:return _.key===S?u(v,x,_,T):null;case Gr:return S=_._init,h(v,x,S(_._payload),T)}if(Rs(_)||fs(_))return S!==null?null:c(v,x,_,T,null);Uu(v,_)}return null}function m(v,x,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(_)||null,s(x,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ku:return v=v.get(T.key===null?_:T.key)||null,l(x,v,T,S);case Io:return v=v.get(T.key===null?_:T.key)||null,u(x,v,T,S);case Gr:var E=T._init;return m(v,x,_,E(T._payload),S)}if(Rs(T)||fs(T))return v=v.get(_)||null,c(x,v,T,S,null);Uu(x,T)}return null}function y(v,x,_,T){for(var S=null,E=null,A=x,C=x=0,k=null;A!==null&&C<_.length;C++){A.index>C?(k=A,A=null):k=A.sibling;var O=h(v,A,_[C],T);if(O===null){A===null&&(A=k);break}t&&A&&O.alternate===null&&e(v,A),x=o(O,x,C),E===null?S=O:E.sibling=O,E=O,A=k}if(C===_.length)return n(v,A),ze&&Ei(v,C),S;if(A===null){for(;C<_.length;C++)A=d(v,_[C],T),A!==null&&(x=o(A,x,C),E===null?S=A:E.sibling=A,E=A);return ze&&Ei(v,C),S}for(A=r(v,A);C<_.length;C++)k=m(A,v,C,_[C],T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?C:k.key),x=o(k,x,C),E===null?S=k:E.sibling=k,E=k);return t&&A.forEach(function(N){return e(v,N)}),ze&&Ei(v,C),S}function w(v,x,_,T){var S=fs(_);if(typeof S!="function")throw Error(H(150));if(_=S.call(_),_==null)throw Error(H(151));for(var E=S=null,A=x,C=x=0,k=null,O=_.next();A!==null&&!O.done;C++,O=_.next()){A.index>C?(k=A,A=null):k=A.sibling;var N=h(v,A,O.value,T);if(N===null){A===null&&(A=k);break}t&&A&&N.alternate===null&&e(v,A),x=o(N,x,C),E===null?S=N:E.sibling=N,E=N,A=k}if(O.done)return n(v,A),ze&&Ei(v,C),S;if(A===null){for(;!O.done;C++,O=_.next())O=d(v,O.value,T),O!==null&&(x=o(O,x,C),E===null?S=O:E.sibling=O,E=O);return ze&&Ei(v,C),S}for(A=r(v,A);!O.done;C++,O=_.next())O=m(A,v,C,O.value,T),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?C:O.key),x=o(O,x,C),E===null?S=O:E.sibling=O,E=O);return t&&A.forEach(function(I){return e(v,I)}),ze&&Ei(v,C),S}function b(v,x,_,T){if(typeof _=="object"&&_!==null&&_.type===No&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:e:{for(var S=_.key,E=x;E!==null;){if(E.key===S){if(S=_.type,S===No){if(E.tag===7){n(v,E.sibling),x=i(E,_.props.children),x.return=v,v=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gr&&Yw(S)===E.type){n(v,E.sibling),x=i(E,_.props),x.ref=ys(v,E,_),x.return=v,v=x;break e}n(v,E);break}else e(v,E);E=E.sibling}_.type===No?(x=zi(_.props.children,v.mode,T,_.key),x.return=v,v=x):(T=Tc(_.type,_.key,_.props,null,v.mode,T),T.ref=ys(v,x,_),T.return=v,v=T)}return a(v);case Io:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(v,x.sibling),x=i(x,_.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=cp(_,v.mode,T),x.return=v,v=x}return a(v);case Gr:return E=_._init,b(v,x,E(_._payload),T)}if(Rs(_))return y(v,x,_,T);if(fs(_))return w(v,x,_,T);Uu(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,_),x.return=v,v=x):(n(v,x),x=up(_,v.mode,T),x.return=v,v=x),a(v)):n(v,x)}return b}var fa=RA(!0),MA=RA(!1),Gc=hi(null),zc=null,Uo=null,gv=null;function yv(){gv=Uo=zc=null}function vv(t){var e=Gc.current;Fe(Gc),t._currentValue=e}function Cm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){zc=t,gv=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(gv!==t)if(t={context:t,memoizedValue:e,next:null},Uo===null){if(zc===null)throw Error(H(308));Uo=t,zc.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return e}var Mi=null;function wv(t){Mi===null?Mi=[t]:Mi.push(t)}function $A(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function bv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tr(t,n)}return i=r.interleaved,i===null?(e.next=e,wv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tr(t,n)}function wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ov(t,n)}}function Xw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vc(t,e,n,r){var i=t.updateQueue;zr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,w=s;switch(h=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=Ke({},d,h);break e;case 2:zr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Xi|=a,t.lanes=a,t.memoizedState=d}}function Qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var mu={},or=hi(mu),ml=hi(mu),gl=hi(mu);function $i(t){if(t===mu)throw Error(H(174));return t}function xv(t,e){switch($e(gl,e),$e(ml,t),$e(or,mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sm(e,t)}Fe(or),$e(or,e)}function ha(){Fe(or),Fe(ml),Fe(gl)}function LA(t){$i(gl.current);var e=$i(or.current),n=sm(e,t.type);e!==n&&($e(ml,t),$e(or,n))}function _v(t){ml.current===t&&(Fe(or),Fe(ml))}var qe=hi(0);function Hc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rp=[];function Sv(){for(var t=0;t<rp.length;t++)rp[t]._workInProgressVersionPrimary=null;rp.length=0}var bc=Or.ReactCurrentDispatcher,ip=Or.ReactCurrentBatchConfig,Yi=0,We=null,lt=null,mt=null,qc=!1,Vs=!1,yl=0,YM=0;function kt(){throw Error(H(321))}function Ev(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function Tv(t,e,n,r,i,o){if(Yi=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?e2:t2,t=n(r,i),Vs){o=0;do{if(Vs=!1,yl=0,25<=o)throw Error(H(301));o+=1,mt=lt=null,e.updateQueue=null,bc.current=n2,t=n(r,i)}while(Vs)}if(bc.current=Wc,e=lt!==null&&lt.next!==null,Yi=0,mt=lt=We=null,qc=!1,e)throw Error(H(300));return t}function Av(){var t=yl!==0;return yl=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?We.memoizedState=mt=t:mt=mt.next=t,mt}function An(){if(lt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=mt===null?We.memoizedState:mt.next;if(e!==null)mt=e,lt=t;else{if(t===null)throw Error(H(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?We.memoizedState=mt=t:mt=mt.next=t}return mt}function vl(t,e){return typeof e=="function"?e(t):e}function op(t){var e=An(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Yi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,We.lanes|=c,Xi|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Wn(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,We.lanes|=o,Xi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ap(t){var e=An(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Wn(o,e.memoizedState)||(qt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function jA(){}function UA(t,e){var n=We,r=An(),i=e(),o=!Wn(r.memoizedState,i);if(o&&(r.memoizedState=i,qt=!0),r=r.queue,Cv(GA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,wl(9,BA.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(H(349));Yi&30||FA(n,e,i)}return i}function FA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BA(t,e,n,r){e.value=n,e.getSnapshot=r,zA(e)&&VA(t)}function GA(t,e,n){return n(function(){zA(e)&&VA(t)})}function zA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function VA(t){var e=Tr(t,1);e!==null&&Vn(e,t,1,-1)}function Zw(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:t},e.queue=t,t=t.dispatch=ZM.bind(null,We,t),[e.memoizedState,t]}function wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HA(){return An().memoizedState}function xc(t,e,n,r){var i=Zn();We.flags|=t,i.memoizedState=wl(1|e,n,void 0,r===void 0?null:r)}function xf(t,e,n,r){var i=An();r=r===void 0?null:r;var o=void 0;if(lt!==null){var a=lt.memoizedState;if(o=a.destroy,r!==null&&Ev(r,a.deps)){i.memoizedState=wl(e,n,o,r);return}}We.flags|=t,i.memoizedState=wl(1|e,n,o,r)}function eb(t,e){return xc(8390656,8,t,e)}function Cv(t,e){return xf(2048,8,t,e)}function qA(t,e){return xf(4,2,t,e)}function WA(t,e){return xf(4,4,t,e)}function KA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JA(t,e,n){return n=n!=null?n.concat([t]):null,xf(4,4,KA.bind(null,e,t),n)}function kv(){}function YA(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ev(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XA(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ev(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QA(t,e,n){return Yi&21?(Wn(n,e)||(n=rA(),We.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function XM(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=ip.transition;ip.transition={};try{t(!1),e()}finally{Te=n,ip.transition=r}}function ZA(){return An().memoizedState}function QM(t,e,n){var r=ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eC(t))tC(e,n);else if(n=$A(t,e,n,r),n!==null){var i=Bt();Vn(n,t,r,i),nC(n,e,r)}}function ZM(t,e,n){var r=ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eC(t))tC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Wn(s,a)){var l=e.interleaved;l===null?(i.next=i,wv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$A(t,e,i,r),n!==null&&(i=Bt(),Vn(n,t,r,i),nC(n,e,r))}}function eC(t){var e=t.alternate;return t===We||e!==null&&e===We}function tC(t,e){Vs=qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ov(t,n)}}var Wc={readContext:Tn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},e2={readContext:Tn,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:eb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,KA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QM.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:Zw,useDebugValue:kv,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=Zw(!1),e=t[0];return t=XM.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=Zn();if(ze){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),gt===null)throw Error(H(349));Yi&30||FA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,eb(GA.bind(null,r,o,t),[t]),r.flags|=2048,wl(9,BA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Zn(),e=gt.identifierPrefix;if(ze){var n=yr,r=gr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},t2={readContext:Tn,useCallback:YA,useContext:Tn,useEffect:Cv,useImperativeHandle:JA,useInsertionEffect:qA,useLayoutEffect:WA,useMemo:XA,useReducer:op,useRef:HA,useState:function(){return op(vl)},useDebugValue:kv,useDeferredValue:function(t){var e=An();return QA(e,lt.memoizedState,t)},useTransition:function(){var t=op(vl)[0],e=An().memoizedState;return[t,e]},useMutableSource:jA,useSyncExternalStore:UA,useId:ZA,unstable_isNewReconciler:!1},n2={readContext:Tn,useCallback:YA,useContext:Tn,useEffect:Cv,useImperativeHandle:JA,useInsertionEffect:qA,useLayoutEffect:WA,useMemo:XA,useReducer:ap,useRef:HA,useState:function(){return ap(vl)},useDebugValue:kv,useDeferredValue:function(t){var e=An();return lt===null?e.memoizedState=t:QA(e,lt.memoizedState,t)},useTransition:function(){var t=ap(vl)[0],e=An().memoizedState;return[t,e]},useMutableSource:jA,useSyncExternalStore:UA,useId:ZA,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function km(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _f={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=ai(t),o=br(r,i);o.payload=e,n!=null&&(o.callback=n),e=ii(t,o,i),e!==null&&(Vn(e,t,i,r),wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=ai(t),o=br(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ii(t,o,i),e!==null&&(Vn(e,t,i,r),wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=ai(t),i=br(n,r);i.tag=2,e!=null&&(i.callback=e),e=ii(t,i,r),e!==null&&(Vn(e,t,r,n),wc(e,t,r))}};function tb(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!dl(n,r)||!dl(i,o):!0}function rC(t,e,n){var r=!1,i=di,o=e.contextType;return typeof o=="object"&&o!==null?o=Tn(o):(i=Jt(e)?Ki:Mt.current,r=e.contextTypes,o=(r=r!=null)?ca(t,i):di),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function nb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_f.enqueueReplaceState(e,e.state,null)}function Pm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Tn(o):(o=Jt(e)?Ki:Mt.current,i.context=ca(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(km(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_f.enqueueReplaceState(i,i.state,null),Vc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pa(t,e){try{var n="",r=e;do n+=IR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function sp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r2=typeof WeakMap=="function"?WeakMap:Map;function iC(t,e,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jc||(Jc=!0,Fm=r),Im(t,e)},n}function oC(t,e,n){n=br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Im(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Im(t,e),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function rb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y2.bind(null,t,e,n),e.then(t,t))}function ib(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ob(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=br(-1,1),e.tag=2,ii(n,e,1))),n.lanes|=1),t)}var i2=Or.ReactCurrentOwner,qt=!1;function jt(t,e,n,r){e.child=t===null?MA(e,null,n,r):fa(e,t.child,n,r)}function ab(t,e,n,r,i){n=n.render;var o=e.ref;return Qo(e,i),r=Tv(t,e,n,r,o,i),n=Av(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(ze&&n&&hv(e),e.flags|=1,jt(t,e,r,i),e.child)}function sb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Dv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,aC(t,e,o,r,i)):(t=Tc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:dl,n(a,r)&&t.ref===e.ref)return Ar(t,e,i)}return e.flags|=1,t=si(o,r),t.ref=e.ref,t.return=e,e.child=t}function aC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(dl(o,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,Ar(t,e,i)}return Nm(t,e,n,r,i)}function sC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Bo,nn),nn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Bo,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$e(Bo,nn),nn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,$e(Bo,nn),nn|=r;return jt(t,e,i,n),e.child}function lC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nm(t,e,n,r,i){var o=Jt(n)?Ki:Mt.current;return o=ca(e,o),Qo(e,i),n=Tv(t,e,n,r,o,i),r=Av(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(ze&&r&&hv(e),e.flags|=1,jt(t,e,n,i),e.child)}function lb(t,e,n,r,i){if(Jt(n)){var o=!0;Uc(e)}else o=!1;if(Qo(e,i),e.stateNode===null)_c(t,e),rC(e,n,r),Pm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tn(u):(u=Jt(n)?Ki:Mt.current,u=ca(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&nb(e,a,r,u),zr=!1;var h=e.memoizedState;a.state=h,Vc(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Kt.current||zr?(typeof c=="function"&&(km(e,n,c,r),l=e.memoizedState),(s=zr||tb(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,DA(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Mn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Jt(n)?Ki:Mt.current,l=ca(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&nb(e,a,r,l),zr=!1,h=e.memoizedState,a.state=h,Vc(e,r,a,i);var y=e.memoizedState;s!==d||h!==y||Kt.current||zr?(typeof m=="function"&&(km(e,n,m,r),y=e.memoizedState),(u=zr||tb(e,n,u,r,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Om(t,e,n,r,o,i)}function Om(t,e,n,r,i,o){lC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Ww(e,n,!1),Ar(t,e,o);r=e.stateNode,i2.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=fa(e,t.child,null,o),e.child=fa(e,null,s,o)):jt(t,e,s,o),e.memoizedState=r.state,i&&Ww(e,n,!0),e.child}function uC(t){var e=t.stateNode;e.pendingContext?qw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qw(t,e.context,!1),xv(t,e.containerInfo)}function ub(t,e,n,r,i){return da(),mv(i),e.flags|=256,jt(t,e,n,r),e.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Mm(t){return{baseLanes:t,cachePool:null,transitions:null}}function cC(t,e,n){var r=e.pendingProps,i=qe.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(qe,i&1),t===null)return Am(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Tf(a,r,0,null),t=zi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Mm(n),e.memoizedState=Rm,t):Pv(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return o2(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=si(s,o):(o=zi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Mm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Rm,r}return o=t.child,t=o.sibling,r=si(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pv(t,e){return e=Tf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&mv(r),fa(e,t.child,null,n),t=Pv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o2(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=sp(Error(H(422))),Fu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Tf({mode:"visible",children:r.children},i,0,null),o=zi(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&fa(e,t.child,null,a),e.child.memoizedState=Mm(a),e.memoizedState=Rm,o);if(!(e.mode&1))return Fu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(H(419)),r=sp(o,r,void 0),Fu(t,e,a,r)}if(s=(a&t.childLanes)!==0,qt||s){if(r=gt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tr(t,i),Vn(r,t,i,-1))}return $v(),r=sp(Error(H(421))),Fu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=v2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ln=ri(i.nextSibling),un=e,ze=!0,Fn=null,t!==null&&(vn[wn++]=gr,vn[wn++]=yr,vn[wn++]=Ji,gr=t.id,yr=t.overflow,Ji=e),e=Pv(e,r.children),e.flags|=4096,e)}function cb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cm(t.return,e,n)}function lp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(jt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cb(t,n,e);else if(t.tag===19)cb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lp(e,!0,n,null,o);break;case"together":lp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a2(t,e,n){switch(e.tag){case 3:uC(e),da();break;case 5:LA(e);break;case 1:Jt(e.type)&&Uc(e);break;case 4:xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(Gc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?cC(t,e,n):($e(qe,qe.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);$e(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,sC(t,e,n)}return Ar(t,e,n)}var fC,$m,hC,pC;fC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$m=function(){};hC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$i(or.current);var o=null;switch(n){case"input":i=rm(t,i),r=rm(t,r),o=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),o=[];break;case"textarea":i=am(t,i),r=am(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lc)}lm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(il.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(il.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};pC=function(t,e,n,r){n!==r&&(e.flags|=4)};function vs(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function s2(t,e,n){var r=e.pendingProps;switch(pv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Jt(e.type)&&jc(),Pt(e),null;case 3:return r=e.stateNode,ha(),Fe(Kt),Fe(Mt),Sv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(zm(Fn),Fn=null))),$m(t,e),Pt(e),null;case 5:_v(e);var i=$i(gl.current);if(n=e.type,t!==null&&e.stateNode!=null)hC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Pt(e),null}if(t=$i(or.current),ju(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[tr]=e,r[pl]=o,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<$s.length;i++)Le($s[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":ww(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":xw(r,o),Le("invalid",r)}lm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Lu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Lu(r.textContent,s,t),i=["children",""+s]):il.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Le("scroll",r)}switch(n){case"input":Pu(r),bw(r,o,!0);break;case"textarea":Pu(r),_w(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Lc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[tr]=e,t[pl]=r,fC(t,e,!1,!1),e.stateNode=t;e:{switch(a=um(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<$s.length;i++)Le($s[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":ww(t,r),i=rm(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),Le("invalid",t);break;case"textarea":xw(t,r),i=am(t,r),Le("invalid",t);break;default:i=r}lm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?H1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&z1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ol(t,l):typeof l=="number"&&ol(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(il.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Le("scroll",t):l!=null&&Zy(t,o,l,a))}switch(n){case"input":Pu(t),bw(t,r,!1);break;case"textarea":Pu(t),_w(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ci(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ko(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)pC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=$i(gl.current),$i(or.current),ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(o=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return Pt(e),null;case 13:if(Fe(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&ln!==null&&e.mode&1&&!(e.flags&128))OA(),da(),e.flags|=98560,o=!1;else if(o=ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[tr]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),o=!1}else Fn!==null&&(zm(Fn),Fn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ut===0&&(ut=3):$v())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return ha(),$m(t,e),t===null&&fl(e.stateNode.containerInfo),Pt(e),null;case 10:return vv(e.type._context),Pt(e),null;case 17:return Jt(e.type)&&jc(),Pt(e),null;case 19:if(Fe(qe),o=e.memoizedState,o===null)return Pt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)vs(o,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Hc(t),a!==null){for(e.flags|=128,vs(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(qe,qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Qe()>ma&&(e.flags|=128,r=!0,vs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Hc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ze)return Pt(e),null}else 2*Qe()-o.renderingStartTime>ma&&n!==1073741824&&(e.flags|=128,r=!0,vs(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qe(),e.sibling=null,n=qe.current,$e(qe,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Mv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function l2(t,e){switch(pv(e),e.tag){case 1:return Jt(e.type)&&jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ha(),Fe(Kt),Fe(Mt),Sv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _v(e),null;case 13:if(Fe(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(qe),null;case 4:return ha(),null;case 10:return vv(e.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var Bu=!1,Nt=!1,u2=typeof WeakSet=="function"?WeakSet:Set,X=null;function Fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function Dm(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var db=!1;function c2(t,e){if(wm=Mc,t=wA(),fv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bm={focusedElem:t,selectionRange:n},Mc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Mn(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(T){Ye(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return y=db,db=!1,y}function Hs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Dm(e,n,o)}i=i.next}while(i!==r)}}function Sf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mC(t){var e=t.alternate;e!==null&&(t.alternate=null,mC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[pl],delete e[Sm],delete e[qM],delete e[WM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gC(t){return t.tag===5||t.tag===3||t.tag===4}function fb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lc));else if(r!==4&&(t=t.child,t!==null))for(jm(t,e,n),t=t.sibling;t!==null;)jm(t,e,n),t=t.sibling}function Um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Um(t,e,n),t=t.sibling;t!==null;)Um(t,e,n),t=t.sibling}var Et=null,Dn=!1;function Fr(t,e,n){for(n=n.child;n!==null;)yC(t,e,n),n=n.sibling}function yC(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(mf,n)}catch{}switch(n.tag){case 5:Nt||Fo(n,e);case 6:var r=Et,i=Dn;Et=null,Fr(t,e,n),Et=r,Dn=i,Et!==null&&(Dn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Dn?(t=Et,n=n.stateNode,t.nodeType===8?tp(t.parentNode,n):t.nodeType===1&&tp(t,n),ul(t)):tp(Et,n.stateNode));break;case 4:r=Et,i=Dn,Et=n.stateNode.containerInfo,Dn=!0,Fr(t,e,n),Et=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Dm(n,e,a),i=i.next}while(i!==r)}Fr(t,e,n);break;case 1:if(!Nt&&(Fo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ye(n,e,s)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Fr(t,e,n),Nt=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function hb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u2),e.forEach(function(r){var i=w2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Et=s.stateNode,Dn=!1;break e;case 3:Et=s.stateNode.containerInfo,Dn=!0;break e;case 4:Et=s.stateNode.containerInfo,Dn=!0;break e}s=s.return}if(Et===null)throw Error(H(160));yC(o,a,i),Et=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vC(e,t),e=e.sibling}function vC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Qn(t),r&4){try{Hs(3,t,t.return),Sf(3,t)}catch(w){Ye(t,t.return,w)}try{Hs(5,t,t.return)}catch(w){Ye(t,t.return,w)}}break;case 1:Nn(e,t),Qn(t),r&512&&n!==null&&Fo(n,n.return);break;case 5:if(Nn(e,t),Qn(t),r&512&&n!==null&&Fo(n,n.return),t.flags&32){var i=t.stateNode;try{ol(i,"")}catch(w){Ye(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&F1(i,o),um(s,a);var u=um(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?H1(i,d):c==="dangerouslySetInnerHTML"?z1(i,d):c==="children"?ol(i,d):Zy(i,c,d,u)}switch(s){case"input":im(i,o);break;case"textarea":B1(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ko(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ko(i,!!o.multiple,o.defaultValue,!0):Ko(i,!!o.multiple,o.multiple?[]:"",!1))}i[pl]=o}catch(w){Ye(t,t.return,w)}}break;case 6:if(Nn(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){Ye(t,t.return,w)}}break;case 3:if(Nn(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ul(e.containerInfo)}catch(w){Ye(t,t.return,w)}break;case 4:Nn(e,t),Qn(t);break;case 13:Nn(e,t),Qn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ov=Qe())),r&4&&hb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||c,Nn(e,t),Nt=u):Nn(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(X=t,c=t.child;c!==null;){for(d=X=c;X!==null;){switch(h=X,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hs(4,h,h.return);break;case 1:Fo(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Ye(r,n,w)}}break;case 5:Fo(h,h.return);break;case 22:if(h.memoizedState!==null){mb(d);continue}}m!==null?(m.return=h,X=m):mb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=V1("display",a))}catch(w){Ye(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Ye(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(e,t),Qn(t),r&4&&hb(t);break;case 21:break;default:Nn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gC(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ol(i,""),r.flags&=-33);var o=fb(t);Um(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=fb(t);jm(t,s,a);break;default:throw Error(H(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function d2(t,e,n){X=t,wC(t)}function wC(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bu;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Nt;s=Bu;var u=Nt;if(Bu=a,(Nt=l)&&!u)for(X=i;X!==null;)a=X,l=a.child,a.tag===22&&a.memoizedState!==null?gb(i):l!==null?(l.return=a,X=l):gb(i);for(;o!==null;)X=o,wC(o),o=o.sibling;X=i,Bu=s,Nt=u}pb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,X=o):pb(t)}}function pb(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||Sf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Qw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ul(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Nt||e.flags&512&&Lm(e)}catch(h){Ye(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function mb(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function gb(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sf(4,e)}catch(l){Ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ye(e,i,l)}}var o=e.return;try{Lm(e)}catch(l){Ye(e,o,l)}break;case 5:var a=e.return;try{Lm(e)}catch(l){Ye(e,a,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){X=null;break}var s=e.sibling;if(s!==null){s.return=e.return,X=s;break}X=e.return}}var f2=Math.ceil,Kc=Or.ReactCurrentDispatcher,Iv=Or.ReactCurrentOwner,_n=Or.ReactCurrentBatchConfig,ge=0,gt=null,nt=null,At=0,nn=0,Bo=hi(0),ut=0,bl=null,Xi=0,Ef=0,Nv=0,qs=null,Ht=null,Ov=0,ma=1/0,hr=null,Jc=!1,Fm=null,oi=null,Gu=!1,Yr=null,Yc=0,Ws=0,Bm=null,Sc=-1,Ec=0;function Bt(){return ge&6?Qe():Sc!==-1?Sc:Sc=Qe()}function ai(t){return t.mode&1?ge&2&&At!==0?At&-At:JM.transition!==null?(Ec===0&&(Ec=rA()),Ec):(t=Te,t!==0||(t=window.event,t=t===void 0?16:cA(t.type)),t):1}function Vn(t,e,n,r){if(50<Ws)throw Ws=0,Bm=null,Error(H(185));fu(t,n,r),(!(ge&2)||t!==gt)&&(t===gt&&(!(ge&2)&&(Ef|=n),ut===4&&Wr(t,At)),Yt(t,r),n===1&&ge===0&&!(e.mode&1)&&(ma=Qe()+500,bf&&pi()))}function Yt(t,e){var n=t.callbackNode;JR(t,e);var r=Rc(t,t===gt?At:0);if(r===0)n!==null&&Tw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tw(n),e===1)t.tag===0?KM(yb.bind(null,t)):PA(yb.bind(null,t)),VM(function(){!(ge&6)&&pi()}),n=null;else{switch(iA(r)){case 1:n=iv;break;case 4:n=tA;break;case 16:n=Oc;break;case 536870912:n=nA;break;default:n=Oc}n=CC(n,bC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bC(t,e){if(Sc=-1,Ec=0,ge&6)throw Error(H(327));var n=t.callbackNode;if(Zo()&&t.callbackNode!==n)return null;var r=Rc(t,t===gt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xc(t,r);else{e=r;var i=ge;ge|=2;var o=_C();(gt!==t||At!==e)&&(hr=null,ma=Qe()+500,Gi(t,e));do try{m2();break}catch(s){xC(t,s)}while(!0);yv(),Kc.current=o,ge=i,nt!==null?e=0:(gt=null,At=0,e=ut)}if(e!==0){if(e===2&&(i=pm(t),i!==0&&(r=i,e=Gm(t,i))),e===1)throw n=bl,Gi(t,0),Wr(t,r),Yt(t,Qe()),n;if(e===6)Wr(t,r);else{if(i=t.current.alternate,!(r&30)&&!h2(i)&&(e=Xc(t,r),e===2&&(o=pm(t),o!==0&&(r=o,e=Gm(t,o))),e===1))throw n=bl,Gi(t,0),Wr(t,r),Yt(t,Qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ti(t,Ht,hr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=Ov+500-Qe(),10<e)){if(Rc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_m(Ti.bind(null,t,Ht,hr),e);break}Ti(t,Ht,hr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-zn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f2(r/1960))-r,10<r){t.timeoutHandle=_m(Ti.bind(null,t,Ht,hr),r);break}Ti(t,Ht,hr);break;case 5:Ti(t,Ht,hr);break;default:throw Error(H(329))}}}return Yt(t,Qe()),t.callbackNode===n?bC.bind(null,t):null}function Gm(t,e){var n=qs;return t.current.memoizedState.isDehydrated&&(Gi(t,e).flags|=256),t=Xc(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&zm(e)),t}function zm(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function h2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~Nv,e&=~Ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function yb(t){if(ge&6)throw Error(H(327));Zo();var e=Rc(t,0);if(!(e&1))return Yt(t,Qe()),null;var n=Xc(t,e);if(t.tag!==0&&n===2){var r=pm(t);r!==0&&(e=r,n=Gm(t,r))}if(n===1)throw n=bl,Gi(t,0),Wr(t,e),Yt(t,Qe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,Ht,hr),Yt(t,Qe()),null}function Rv(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(ma=Qe()+500,bf&&pi())}}function Qi(t){Yr!==null&&Yr.tag===0&&!(ge&6)&&Zo();var e=ge;ge|=1;var n=_n.transition,r=Te;try{if(_n.transition=null,Te=1,t)return t()}finally{Te=r,_n.transition=n,ge=e,!(ge&6)&&pi()}}function Mv(){nn=Bo.current,Fe(Bo)}function Gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zM(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(pv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jc();break;case 3:ha(),Fe(Kt),Fe(Mt),Sv();break;case 5:_v(r);break;case 4:ha();break;case 13:Fe(qe);break;case 19:Fe(qe);break;case 10:vv(r.type._context);break;case 22:case 23:Mv()}n=n.return}if(gt=t,nt=t=si(t.current,null),At=nn=e,ut=0,bl=null,Nv=Ef=Xi=0,Ht=qs=null,Mi!==null){for(e=0;e<Mi.length;e++)if(n=Mi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Mi=null}return t}function xC(t,e){do{var n=nt;try{if(yv(),bc.current=Wc,qc){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qc=!1}if(Yi=0,mt=lt=We=null,Vs=!1,yl=0,Iv.current=null,n===null||n.return===null){ut=1,bl=e,nt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=At,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ib(a);if(m!==null){m.flags&=-257,ob(m,a,s,o,e),m.mode&1&&rb(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){rb(o,u,e),$v();break e}l=Error(H(426))}}else if(ze&&s.mode&1){var b=ib(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ob(b,a,s,o,e),mv(pa(l,s));break e}}o=l=pa(l,s),ut!==4&&(ut=2),qs===null?qs=[o]:qs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=iC(o,l,e);Xw(o,v);break e;case 1:s=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(oi===null||!oi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=oC(o,s,e);Xw(o,T);break e}}o=o.return}while(o!==null)}EC(n)}catch(S){e=S,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function _C(){var t=Kc.current;return Kc.current=Wc,t===null?Wc:t}function $v(){(ut===0||ut===3||ut===2)&&(ut=4),gt===null||!(Xi&268435455)&&!(Ef&268435455)||Wr(gt,At)}function Xc(t,e){var n=ge;ge|=2;var r=_C();(gt!==t||At!==e)&&(hr=null,Gi(t,e));do try{p2();break}catch(i){xC(t,i)}while(!0);if(yv(),ge=n,Kc.current=r,nt!==null)throw Error(H(261));return gt=null,At=0,ut}function p2(){for(;nt!==null;)SC(nt)}function m2(){for(;nt!==null&&!FR();)SC(nt)}function SC(t){var e=AC(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?EC(t):nt=e,Iv.current=null}function EC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=l2(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,nt=null;return}}else if(n=s2(n,e,nn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);ut===0&&(ut=5)}function Ti(t,e,n){var r=Te,i=_n.transition;try{_n.transition=null,Te=1,g2(t,e,n,r)}finally{_n.transition=i,Te=r}return null}function g2(t,e,n,r){do Zo();while(Yr!==null);if(ge&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(YR(t,o),t===gt&&(nt=gt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gu||(Gu=!0,CC(Oc,function(){return Zo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_n.transition,_n.transition=null;var a=Te;Te=1;var s=ge;ge|=4,Iv.current=null,c2(t,n),vC(n,t),DM(bm),Mc=!!wm,bm=wm=null,t.current=n,d2(n),BR(),ge=s,Te=a,_n.transition=o}else t.current=n;if(Gu&&(Gu=!1,Yr=t,Yc=i),o=t.pendingLanes,o===0&&(oi=null),VR(n.stateNode),Yt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jc)throw Jc=!1,t=Fm,Fm=null,t;return Yc&1&&t.tag!==0&&Zo(),o=t.pendingLanes,o&1?t===Bm?Ws++:(Ws=0,Bm=t):Ws=0,pi(),null}function Zo(){if(Yr!==null){var t=iA(Yc),e=_n.transition,n=Te;try{if(_n.transition=null,Te=16>t?16:t,Yr===null)var r=!1;else{if(t=Yr,Yr=null,Yc=0,ge&6)throw Error(H(331));var i=ge;for(ge|=4,X=t.current;X!==null;){var o=X,a=o.child;if(X.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:Hs(8,c,o)}var d=c.child;if(d!==null)d.return=c,X=d;else for(;X!==null;){c=X;var h=c.sibling,m=c.return;if(mC(c),c===u){X=null;break}if(h!==null){h.return=m,X=h;break}X=m}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}X=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,X=a;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hs(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,X=v;break e}X=o.return}}var x=t.current;for(X=x;X!==null;){a=X;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,X=_;else e:for(a=x;X!==null;){if(s=X,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Sf(9,s)}}catch(S){Ye(s,s.return,S)}if(s===a){X=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,X=T;break e}X=s.return}}if(ge=i,pi(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(mf,t)}catch{}r=!0}return r}finally{Te=n,_n.transition=e}}return!1}function vb(t,e,n){e=pa(n,e),e=iC(t,e,1),t=ii(t,e,1),e=Bt(),t!==null&&(fu(t,1,e),Yt(t,e))}function Ye(t,e,n){if(t.tag===3)vb(t,t,n);else for(;e!==null;){if(e.tag===3){vb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){t=pa(n,t),t=oC(e,t,1),e=ii(e,t,1),t=Bt(),e!==null&&(fu(e,1,t),Yt(e,t));break}}e=e.return}}function y2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(At&n)===n&&(ut===4||ut===3&&(At&130023424)===At&&500>Qe()-Ov?Gi(t,0):Nv|=n),Yt(t,e)}function TC(t,e){e===0&&(t.mode&1?(e=Ou,Ou<<=1,!(Ou&130023424)&&(Ou=4194304)):e=1);var n=Bt();t=Tr(t,e),t!==null&&(fu(t,e,n),Yt(t,n))}function v2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TC(t,n)}function w2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),TC(t,n)}var AC;AC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,a2(t,e,n);qt=!!(t.flags&131072)}else qt=!1,ze&&e.flags&1048576&&IA(e,Bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_c(t,e),t=e.pendingProps;var i=ca(e,Mt.current);Qo(e,n),i=Tv(null,e,r,t,i,n);var o=Av();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(o=!0,Uc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bv(e),i.updater=_f,e.stateNode=i,i._reactInternals=e,Pm(e,r,t,n),e=Om(null,e,r,!0,o,n)):(e.tag=0,ze&&o&&hv(e),jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=x2(r),t=Mn(r,t),i){case 0:e=Nm(null,e,r,t,n);break e;case 1:e=lb(null,e,r,t,n);break e;case 11:e=ab(null,e,r,t,n);break e;case 14:e=sb(null,e,r,Mn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Nm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),lb(t,e,r,i,n);case 3:e:{if(uC(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,i=o.element,DA(t,e),Vc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=pa(Error(H(423)),e),e=ub(t,e,r,n,i);break e}else if(r!==i){i=pa(Error(H(424)),e),e=ub(t,e,r,n,i);break e}else for(ln=ri(e.stateNode.containerInfo.firstChild),un=e,ze=!0,Fn=null,n=MA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),r===i){e=Ar(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return LA(e),t===null&&Am(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,xm(r,i)?a=null:o!==null&&xm(r,o)&&(e.flags|=32),lC(t,e),jt(t,e,a,n),e.child;case 6:return t===null&&Am(e),null;case 13:return cC(t,e,n);case 4:return xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fa(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),ab(t,e,r,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,$e(Gc,r._currentValue),r._currentValue=a,o!==null)if(Wn(o.value,a)){if(o.children===i.children&&!Kt.current){e=Ar(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=br(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Cm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Cm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qo(e,n),i=Tn(i),r=r(i),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),sb(t,e,r,i,n);case 15:return aC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),_c(t,e),e.tag=1,Jt(r)?(t=!0,Uc(e)):t=!1,Qo(e,n),rC(e,r,i),Pm(e,r,i,n),Om(null,e,r,!0,t,n);case 19:return dC(t,e,n);case 22:return sC(t,e,n)}throw Error(H(156,e.tag))};function CC(t,e){return eA(t,e)}function b2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new b2(t,e,n,r)}function Dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x2(t){if(typeof t=="function")return Dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tv)return 11;if(t===nv)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Dv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case No:return zi(n.children,i,o,e);case ev:a=8,i|=8;break;case Zp:return t=bn(12,n,e,i|2),t.elementType=Zp,t.lanes=o,t;case em:return t=bn(13,n,e,i),t.elementType=em,t.lanes=o,t;case tm:return t=bn(19,n,e,i),t.elementType=tm,t.lanes=o,t;case L1:return Tf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $1:a=10;break e;case D1:a=9;break e;case tv:a=11;break e;case nv:a=14;break e;case Gr:a=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=bn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function zi(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function Tf(t,e,n,r){return t=bn(22,t,r,e),t.elementType=L1,t.lanes=n,t.stateNode={isHidden:!1},t}function up(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function cp(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vh(0),this.expirationTimes=Vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lv(t,e,n,r,i,o,a,s,l){return t=new _2(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=bn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bv(o),t}function S2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kC(t){if(!t)return di;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Jt(n))return kA(t,n,e)}return e}function PC(t,e,n,r,i,o,a,s,l){return t=Lv(n,r,!0,t,i,o,a,s,l),t.context=kC(null),n=t.current,r=Bt(),i=ai(n),o=br(r,i),o.callback=e??null,ii(n,o,i),t.current.lanes=i,fu(t,i,r),Yt(t,r),t}function Af(t,e,n,r){var i=e.current,o=Bt(),a=ai(i);return n=kC(n),e.context===null?e.context=n:e.pendingContext=n,e=br(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ii(i,e,a),t!==null&&(Vn(t,i,a,o),wc(t,i,a)),a}function Qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jv(t,e){wb(t,e),(t=t.alternate)&&wb(t,e)}function E2(){return null}var IC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uv(t){this._internalRoot=t}Cf.prototype.render=Uv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Af(t,e,null,null)};Cf.prototype.unmount=Uv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qi(function(){Af(null,t,null,null)}),e[Er]=null}};function Cf(t){this._internalRoot=t}Cf.prototype.unstable_scheduleHydration=function(t){if(t){var e=sA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&uA(t)}};function Fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bb(){}function T2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Qc(a);o.call(u)}}var a=PC(e,r,t,0,null,!1,!1,"",bb);return t._reactRootContainer=a,t[Er]=a.current,fl(t.nodeType===8?t.parentNode:t),Qi(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Qc(l);s.call(u)}}var l=Lv(t,0,!1,null,null,!1,!1,"",bb);return t._reactRootContainer=l,t[Er]=l.current,fl(t.nodeType===8?t.parentNode:t),Qi(function(){Af(e,l,n,r)}),l}function Pf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Qc(a);s.call(l)}}Af(e,a,t,i)}else a=T2(n,e,t,i,r);return Qc(a)}oA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ms(e.pendingLanes);n!==0&&(ov(e,n|1),Yt(e,Qe()),!(ge&6)&&(ma=Qe()+500,pi()))}break;case 13:Qi(function(){var r=Tr(t,1);if(r!==null){var i=Bt();Vn(r,t,1,i)}}),jv(t,1)}};av=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Bt();Vn(e,t,134217728,n)}jv(t,134217728)}};aA=function(t){if(t.tag===13){var e=ai(t),n=Tr(t,e);if(n!==null){var r=Bt();Vn(n,t,e,r)}jv(t,e)}};sA=function(){return Te};lA=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};dm=function(t,e,n){switch(e){case"input":if(im(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wf(r);if(!i)throw Error(H(90));U1(r),im(r,i)}}}break;case"textarea":B1(t,n);break;case"select":e=n.value,e!=null&&Ko(t,!!n.multiple,e,!1)}};K1=Rv;J1=Qi;var A2={usingClientEntryPoint:!1,Events:[pu,$o,wf,q1,W1,Rv]},ws={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C2={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q1(t),t===null?null:t.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||E2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{mf=zu.inject(C2),ir=zu}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A2;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fv(e))throw Error(H(200));return S2(t,e,null,n)};dn.createRoot=function(t,e){if(!Fv(t))throw Error(H(299));var n=!1,r="",i=IC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lv(t,1,!1,null,null,n,!1,r,i),t[Er]=e.current,fl(t.nodeType===8?t.parentNode:t),new Uv(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Q1(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Qi(t)};dn.hydrate=function(t,e,n){if(!kf(e))throw Error(H(200));return Pf(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Fv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=IC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=PC(e,null,t,1,n??null,i,!1,o,a),t[Er]=e.current,fl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cf(e)};dn.render=function(t,e,n){if(!kf(e))throw Error(H(200));return Pf(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!kf(t))throw Error(H(40));return t._reactRootContainer?(Qi(function(){Pf(null,null,t,!1,function(){t._reactRootContainer=null,t[Er]=null})}),!0):!1};dn.unstable_batchedUpdates=Rv;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Pf(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function NC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NC)}catch(t){console.error(t)}}NC(),N1.exports=dn;var k2=N1.exports,xb=k2;Xp.createRoot=xb.createRoot,Xp.hydrateRoot=xb.hydrateRoot;var Ge=(t=>(t.DASHBOARD="DASHBOARD",t.CAL_COACH="CAL_COACH",t.HISTORY="HISTORY",t.PROFILE="PROFILE",t.ONBOARDING="ONBOARDING",t))(Ge||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>M.createElement("svg",{ref:c,...P2,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${I2(t)}`,s].join(" "),...u},[...e.map(([d,h])=>M.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ne("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=ne("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ne("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=ne("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=ne("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ne("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=ne("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=ne("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ne("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function zC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function de(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zC(t))&&(r&&(r+=" "),r+=e);return r}const e$=({children:t,currentView:e,onNavigate:n})=>g.jsxs("div",{className:"h-[100dvh] bg-surface dark:bg-surface-dark flex flex-col max-w-md mx-auto relative shadow-2xl shadow-gray-200 dark:shadow-black/50 overflow-hidden border-x border-gray-100/50 dark:border-white/5 transition-colors duration-300",children:[g.jsx("main",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:t}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-white/60 dark:bg-[#0f111a]/60 backdrop-blur-md pointer-events-auto z-40"}),g.jsx("div",{className:"absolute bottom-8 left-6 right-6 z-50",children:g.jsxs("nav",{className:"bg-white/80 dark:bg-[#1a1c26]/80 backdrop-blur-xl rounded-[32px] p-2 shadow-diffused-lg dark:shadow-diffused-dark border border-white dark:border-white/5 flex justify-between items-center",children:[g.jsxs("button",{onClick:()=>n(Ge.DASHBOARD),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Ge.DASHBOARD?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(U2,{size:22,strokeWidth:e===Ge.DASHBOARD?2.5:2}),e===Ge.DASHBOARD&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Today"})]}),g.jsxs("button",{onClick:()=>n(Ge.CAL_COACH),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Ge.CAL_COACH?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(li,{size:22,strokeWidth:e===Ge.CAL_COACH?2.5:2}),e===Ge.CAL_COACH&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Coach"})]}),g.jsxs("button",{onClick:()=>n(Ge.HISTORY),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Ge.HISTORY?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(O2,{size:22,strokeWidth:e===Ge.HISTORY?2.5:2}),e===Ge.HISTORY&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Report"})]}),g.jsxs("button",{onClick:()=>n(Ge.PROFILE),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Ge.PROFILE?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(ga,{size:22,strokeWidth:e===Ge.PROFILE?2.5:2}),e===Ge.PROFILE&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Profile"})]})]})})]}),ta=({children:t,className:e,onClick:n})=>g.jsx("div",{onClick:n,className:de("bg-white dark:bg-[#1a1c26] rounded-[32px] p-5 shadow-diffused dark:shadow-diffused-dark border border-white/60 dark:border-white/5",n&&"cursor-pointer active:scale-[0.98] transition-all hover:shadow-diffused-lg dark:hover:shadow-diffused-dark hover:-translate-y-0.5",e),children:t});function If(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function t$(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const n$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class zv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class r$ extends zv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ab extends zv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cb extends zv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Wm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Wm||(Wm={}));class i${constructor(e,{headers:n={},customFetch:r,region:i=Wm.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=n$(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return t$(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let b=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(b=a.signal,c.addEventListener("abort",()=>a.abort())):b=a.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:w,signal:b}).catch(S=>{throw new r$(S)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new Ab(v);if(!v.ok)throw new Cb(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield v.json():_==="application/octet-stream"||_==="application/pdf"?T=yield v.blob():_==="text/event-stream"?T=v:_==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof Cb||s instanceof Ab?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var o$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},a$=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var m;const v=await o.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=v:s=JSON.parse(v))}const w=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;const w=await o.text();try{a=JSON.parse(w),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new o$(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,d,h;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${y}`,w&&(s+=` (${w})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},s$=class extends a${select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const kb=new RegExp("[,()]");var To=class extends s${eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&kb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&kb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},l$=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new To({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new To({method:i,url:o,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&s.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);s.searchParams.set("columns",c.join(","))}}return new To({method:a,url:s,headers:l,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new To({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new To({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},u$=class VC{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new l$(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new VC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=r&&Object.values(n).some(c);d?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{l.searchParams.append(m,y)})):(s="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new To({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class c${constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const d$="2.90.1",f$=`realtime-js/${d$}`,HC="1.0.0",h$="2.0.0",Pb=HC,Km=1e4,p$=1e3,m$=100;var Vr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vr||(Vr={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var Ln;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ln||(Ln={}));var Jm;(function(t){t.websocket="websocket"})(Jm||(Jm={}));var Ni;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ni||(Ni={}));class g${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,s.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,d.length),y.setUint8(w++,n),Array.from(l,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(d,v=>y.setUint8(w++,v.charCodeAt(0)));var b=new Uint8Array(m.byteLength+r.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(r),m.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class qC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Re||(Re={}));const Ib=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=y$(a,t,e,i),o),{}):{}},y$=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?WC(o,a):Ym(a)},WC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return x$(e,n)}switch(t){case Re.bool:return v$(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return w$(e);case Re.json:case Re.jsonb:return b$(e);case Re.timestamp:return _$(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Ym(e);default:return Ym(e)}},Ym=t=>t,v$=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},w$=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},b$=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},x$=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>WC(e,s))}return t},_$=t=>typeof t=="string"?t.replace(" ","T"):t,KC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class dp{constructor(e,n,r={},i=Km){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nb||(Nb={}));class Js{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Js.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Js.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Js.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(b=>b.presence_ref),m=d.map(b=>b.presence_ref),y=c.filter(b=>m.indexOf(b.presence_ref)<0),w=d.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(s[u]=y),w.length>0&&(l[u]=w)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ob;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ob||(Ob={}));var Ys;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ys||(Ys={}));var pr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pr||(pr={}));class Go{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dp(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new qC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Js(this),this.broadcastEndpointURL=KC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ys.PRESENCE]&&this.bindings[Ys.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(pr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(pr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(pr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let x=0;x<b;x++){const _=w[x],{filter:{event:T,schema:S,table:E,filter:A}}=_,C=m&&m[x];if(C&&C.event===T&&Go.isFilterValueEqual(C.schema,S)&&Go.isFilterValueEqual(C.table,E)&&Go.isFilterValueEqual(C.filter,A))v.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(pr.SUBSCRIBED);return}}).receive("error",m=>{this.state=st.errored,e==null||e(pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===st.joined&&e===Ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new dp(this,Ln.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>m$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Ln;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,w,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=m.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var y,w,b,v,x,_,T,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,A=(y=m.filter)===null||y===void 0?void 0:y.event;return E&&((w=n.ids)===null||w===void 0?void 0:w.includes(E))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((v=m.filter)===null||v===void 0)&&v.table)||m.filter.table===((x=n.data)===null||x===void 0?void 0:x.table))}else{const E=(T=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:b,commit_timestamp:v,type:x,errors:_}=y;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:v,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Go.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ln.close,{},e)}_onError(e){this._on(Ln.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ib(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ib(e.columns,e.old_record)),n}}const fp=()=>{},Vu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S$=[1e3,2e3,5e3,1e4],E$=1e4,T$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class A${constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Km,this.transport=null,this.heartbeatIntervalMs=Vu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fp,this.ref=0,this.reconnectTimer=null,this.vsn=Pb,this.logger=fp,this.conn=null,this.sendBuffer=[],this.serializer=new g$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Jm.websocket}`,this.httpEndpoint=KC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=c$.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vr.connecting:return Ni.Connecting;case Vr.open:return Ni.Open;case Vr.closing:return Ni.Closing;default:return Ni.Closed}}isConnected(){return this.connectionState()===Ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Go(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(p$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Vr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vr.open||this.conn.readyState===Vr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ln.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([T$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:f$};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ln.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new qC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Km,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Vu.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:fp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Pb,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>S$[y-1]||E$,this.vsn){case HC:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,w)=>w(JSON.parse(y));break;case h$:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var xl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function C$(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function k$(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function P$(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=C$(t.baseUrl,r,i),l=await k$(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,y=m==null?void 0:m.error;throw new xl((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Hu(t){return t.join("")}var I$=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Hu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hu(t.namespace)}`}),!0}catch(e){if(e instanceof xl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof xl&&n.status===409)return;throw n}}};function go(t){return t.join("")}var N$=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${go(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${go(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${go(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${go(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${go(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${go(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof xl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof xl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},O$=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=P$({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new I$(this.client,e),this.tableOps=new N$(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Nf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function He(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var R$=class extends Nf{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xm=class extends Nf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Vv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),M$=()=>Response,Qm=t=>{if(Array.isArray(t))return t.map(n=>Qm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Qm(r)}),e},$$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},D$=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function L$(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j$(t){var e=L$(t,"string");return _l(e)=="symbol"?e:e+""}function U$(t,e,n){return(e=j$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rb(Object(n),!0).forEach(function(r){U$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const hp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},F$=async(t,e,n)=>{t instanceof await M$()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new R$(hp(r),i,o))}).catch(r=>{e(new Xm(hp(r),r))}):e(new Xm(hp(t),t))},B$=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:($$(r)?(i.headers=oe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),oe(oe({},i),n))};async function yu(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,B$(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>F$(l,s,r))})}async function Sl(t,e,n,r){return yu(t,"GET",e,n,r)}async function $n(t,e,n,r,i){return yu(t,"POST",e,r,i,n)}async function Zm(t,e,n,r,i){return yu(t,"PUT",e,r,i,n)}async function G$(t,e,n,r){return yu(t,"HEAD",e,oe(oe({},n),{},{noResolveJson:!0}),r)}async function Hv(t,e,n,r,i){return yu(t,"DELETE",e,r,i,n)}var z$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}}};let JC;JC=Symbol.toStringTag;var V$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[JC]="BlobDownloadBuilder",this.promise=null}asStream(){return new z$(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}}};const H$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var q$=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Vv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=oe(oe({},Mb),r);let s=oe(oe({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=oe(oe({},s),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),d=await(t=="PUT"?Zm:$n)(i.fetch,`${i.url}/object/${c}`,o,oe({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=oe({upsert:Mb.upsert},r),c=oe(oe({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:o,fullPath:(await Zm(i.fetch,s.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=oe({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await $n(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new Nf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await $n(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await $n(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await $n(r.fetch,`${r.url}/object/sign/${i}`,oe({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await $n(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>oe(oe({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>Sl(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new V$(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Qm(await Sl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await G$(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(He(r)&&r instanceof Xm){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await Hv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=oe(oe(oe({},H$),e),{},{prefix:t||""});return{data:await $n(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=oe({},t);return{data:await $n(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const YC="2.90.1",XC={"X-Client-Info":`storage-js/${YC}`};var W$=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=oe(oe({},XC),e),this.fetch=Vv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Sl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Sl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await $n(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Zm(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await $n(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Hv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},K$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},XC),e),this.fetch=Vv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await $n(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Sl(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Hv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!D$(t))throw new Nf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new O$({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const qv={"X-Client-Info":`storage-js/${YC}`,"Content-Type":"application/json"};var QC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function on(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var pp=class extends QC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},J$=class extends QC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Wv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Y$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$b=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X$=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new pp($b(o),r,a))}).catch(()=>{const o=r+"";e(new pp(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new pp(i.statusText||`HTTP ${r} error`,r,o))}}else e(new J$($b(t),t))},Q$=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Y$(r)?(i.headers=oe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,oe(oe({},i),n)):i};async function Z$(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,Q$(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>X$(l,s,r))})}async function an(t,e,n,r,i){return Z$(t,"POST",e,r,i,n)}var eD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},qv),e),this.fetch=Wv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await an(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await an(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}}},tD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},qv),e),this.fetch=Wv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await an(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await an(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await an(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}},nD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},qv),e),this.fetch=Wv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await an(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}},rD=class extends nD{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new iD(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},iD=class extends eD{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new oD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},oD=class extends tD{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},aD=class extends W${constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new q$(this.url,this.headers,t,this.fetch)}get vectors(){return new rD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new K$(this.url+"/iceberg",this.headers,this.fetch)}};const ZC="2.90.1",Ao=30*1e3,eg=3,mp=eg*Ao,sD="http://localhost:9999",lD="supabase.auth.token",uD={"X-Client-Info":`gotrue-js/${ZC}`},tg="X-Supabase-Api-Version",ek={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dD=10*60*1e3;class El extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fD extends El{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function hD(t){return ee(t)&&t.name==="AuthApiError"}class Oi extends El{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Rr extends El{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Zt extends Rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pD(t){return ee(t)&&t.name==="AuthSessionMissingError"}class yo extends Rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qu extends Rr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wu extends Rr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mD(t){return ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Db extends Rr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gD extends Rr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ng extends Rr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function gp(t){return ee(t)&&t.name==="AuthRetryableFetchError"}class Lb extends Rr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class rg extends Rr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jb=` 	
\r=`.split(""),yD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jb.length;e+=1)t[jb[e].charCodeAt(0)]=-2;for(let e=0;e<ed.length;e+=1)t[ed[e].charCodeAt(0)]=e;return t})();function Ub(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ed[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ed[r]),e.queuedBits-=6}}function tk(t,e,n){const r=yD[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fb(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{bD(a,r,n)};for(let a=0;a<t.length;a+=1)tk(t.charCodeAt(a),i,o);return e.join("")}function vD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wD(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vD(r,e)}}function bD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function na(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)tk(t.charCodeAt(i),n,r);return new Uint8Array(e)}function xD(t){const e=[];return wD(t,n=>e.push(n)),new Uint8Array(e)}function Di(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Ub(i,n,r)),Ub(null,n,r),e.join("")}function _D(t){return Math.round(Date.now()/1e3)+t}function SD(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",xi={tested:!1,writable:!1},nk=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function ED(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const rk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),TD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Co=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_i=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bt=async(t,e)=>{await t.removeItem(e)};class Of{constructor(){this.promise=new Of.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Of.promiseConstructor=Promise;function yp(t){const e=t.split(".");if(e.length!==3)throw new rg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!cD.test(e[r]))throw new rg("JWT not in base64url format");return{header:JSON.parse(Fb(e[0])),payload:JSON.parse(Fb(e[1])),signature:na(e[2]),raw:{header:e[0],payload:e[1]}}}async function AD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function CD(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function kD(t){return("0"+t.toString(16)).substr(-2)}function PD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,kD).join("")}async function ID(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function ND(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ID(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vo(t,e,n=!1){const r=PD();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Co(t,`${e}-code-verifier`,i);const o=await ND(r);return[o,r===o?"plain":"s256"]}const OD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RD(t){const e=t.headers.get(tg);if(!e||!e.match(OD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $D(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wo(t){if(!DD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LD(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function Bb(t){return JSON.parse(JSON.stringify(t))}const Ai=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jD=[502,503,504];async function Gb(t){var e;if(!TD(t))throw new ng(Ai(t),0);if(jD.includes(t.status))throw new ng(Ai(t),t.status);let n;try{n=await t.json()}catch(o){throw new Oi(Ai(o),o)}let r;const i=RD(t);if(i&&i.getTime()>=ek["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lb(Ai(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Lb(Ai(n),t.status,n.weak_password.reasons);throw new fD(Ai(n),t.status||500,r)}const UD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ie(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[tg]||(o[tg]=ek["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await FD(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function FD(t,e,n,r,i,o){const a=UD(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new ng(Ai(l),0)}if(s.ok||await Gb(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Gb(l)}}function Rn(t){var e;let n=null;zD(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_D(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function zb(t){const e=Rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Kr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function BD(t){return{data:t,error:null}}function GD(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=If(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Vb(t){return t}function zD(t){return t.access_token&&t.refresh_token&&t.expires_in}const wp=["global","local","others"];class VD{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=rk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=wp[0]){if(wp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wp.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=If(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:GD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vb});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){wo(e);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){wo(e);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Kr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){wo(e);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){wo(e.userId);try{const{data:n,error:r}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(e){wo(e.userId),wo(e.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vb});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ee(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}}function Hb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const bo={debug:!!(globalThis&&nk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ik extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HD extends ik{}async function qD(t,e,n){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new HD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function WD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ok(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function KD(t){return parseInt(t,16)}function JD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function YD(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=ok(t.address),y=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}v+=x}return`${b}
${v}`}class tt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class td extends tt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function XD({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(ak(a)){if(o.rp.id!==a)return new tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function QD({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(ak(r)){if(n.rpId!==r)return new tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ZD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const eL=new ZD;function tL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=If(t,["challenge","user","excludeCredentials"]),o=na(e).buffer,a=Object.assign(Object.assign({},n),{id:na(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:na(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function nL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=If(t,["challenge","allowCredentials"]),i=na(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:na(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function rL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Di(new Uint8Array(t.response.attestationObject)),clientDataJSON:Di(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Di(new Uint8Array(i.authenticatorData)),clientDataJSON:Di(new Uint8Array(i.clientDataJSON)),signature:Di(new Uint8Array(i.signature)),userHandle:i.userHandle?Di(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ak(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qb(){var t,e;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oL(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new td("Browser returned unexpected credential type",e)}:{data:null,error:new td("Empty credential response",e)}}catch(e){return{data:null,error:XD({error:e,options:t})}}}async function aL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new td("Browser returned unexpected credential type",e)}:{data:null,error:new td("Empty credential response",e)}}catch(e){return{data:null,error:QD({error:e,options:t})}}}const sL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=nd(s,a):r[o]=nd(a)}else r[o]=a}return r}function uL(t,e){return nd(sL,t,e||{})}function cL(t,e){return nd(lL,t,e||{})}class dL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??eL.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=uL(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await oL({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=cL(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await aL(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return ee(a)?{data:null,error:a}:{data:null,error:new Oi("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new El("rpId is required for WebAuthn authentication")};try{if(!qb())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ee(a)?{data:null,error:a}:{data:null,error:new Oi("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new El("rpId is required for WebAuthn registration")};try{if(!qb())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ee(a)?{data:null,error:a}:{data:null,error:new Oi("Unexpected error in register",a)}}}}WD();const fL={url:sD,storageKey:lD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wb(t,e,n){return await n()}const xo={};class Tl{get jwks(){var e,n;return(n=(e=xo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){xo[this.storageKey]=Object.assign(Object.assign({},xo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=xo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xo[this.storageKey]=Object.assign(Object.assign({},xo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},fL),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Tl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Tl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&_t()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new VD({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=rk(o.fetch),this.lock=o.lock||Wb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&_t()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=qD:this.lock=Wb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:nk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Hb(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ZC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(_t()&&(n=ED(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),_t()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),mD(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?this._returnResult({error:n}):this._returnResult({error:new Oi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Rn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await vo(this.storage,this.storageKey)),o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:Rn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rn})}else throw new qu("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zb})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zb})}else throw new qu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new yo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:b,statement:v,options:x}=e;let _;if(_t())if(typeof b=="object")_=b;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=ok(S[0]);let A=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const k=await _.request({method:"eth_chainId"});A=KD(k)}const C={domain:T.host,address:E,statement:v,uri:T.href,version:"1",chainId:A,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=YD(C),y=await _.request({method:"personal_sign",params:[JD(m),E]})}try{const{data:w,error:b}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Rn});if(b)throw b;if(!w||!w.session||!w.user){const v=new yo;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(ee(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:b,wallet:v,statement:x,options:_}=e;let T;if(_t())if(typeof v=="object")T=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),w=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:b,error:v}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Di(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Rn});if(v)throw v;if(!b||!b.session||!b.user){const x=new yo;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(ee(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await _i(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new gD;const{data:o,error:a}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rn});if(await bt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new yo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new yo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await vo(this.storage,this.storageKey));const{error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new qu("You must provide either an email or phone number.")}catch(s){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Rn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await vo(this.storage,this.storageKey));const u=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:BD});return!((o=u.data)===null||o===void 0)&&o.url&&_t()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Zt;const{error:i}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new qu("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _i(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await _i(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=vp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=LD(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Kr})})}catch(n){if(ee(n))return pD(n)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Zt;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await vo(this.storage,this.storageKey));const{data:u,error:c}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Kr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=yp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Zt;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!_t())throw new Wu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Db("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Wu("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=Ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:w,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _i(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(hD(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=SD(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await vo(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return _t()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ee(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rn}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new yo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await CD(async i=>(i>0&&await AD(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&gp(o)&&Date.now()+a-r<Ao})}catch(r){if(this._debug(n,"error",r),ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),_t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await _i(this.storage,this.storageKey);if(i&&this.userStorage){let a=await _i(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Co(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:vp()}else if(i&&!i.user&&!i.user){const a=await _i(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await bt(this.storage,this.storageKey+"-user"),await Co(this.storage,this.storageKey,i)):i.user=vp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<mp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${mp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),gp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Of;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Zt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ee(o)){const a={data:null,error:o};return gp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Co(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Bb(i);await Co(this.storage,this.storageKey,o)}else{const i=Bb(n);await Co(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ao);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ao}ms, refresh threshold is ${eg} ticks`),i<=eg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ik)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await vo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?rL(e.webauthn.credential_response):iL(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:tL(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:nL(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yp(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Zt});const a=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&_t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Zt});const a=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&_t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+dD>i)return r;const{data:o,error:a}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=yp(r);n!=null&&n.allowExpired||MD(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=$D(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,xD(`${s}.${l}`)))throw new rg("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}}Tl.nextInstanceID={};const hL=Tl,pL="2.90.1";let Ds="";typeof Deno<"u"?Ds="deno":typeof document<"u"?Ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ds="react-native":Ds="node";const mL={"X-Client-Info":`supabase-js-${Ds}/${pL}`},gL={headers:mL},yL={schema:"public"},vL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wL={};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function bL(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xL(t){var e=bL(t,"string");return Al(e)=="symbol"?e:e+""}function _L(t,e,n){return(e=xL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kb(Object(n),!0).forEach(function(r){_L(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const SL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EL=()=>Headers,TL=(t,e,n)=>{const r=SL(n),i=EL();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Je(Je({},a),{},{headers:u}))}};function AL(t){return t.endsWith("/")?t:t+"/"}function CL(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Je(Je({},l),i),auth:Je(Je({},u),o),realtime:Je(Je({},c),a),storage:{},global:Je(Je(Je({},d),s),{},{headers:Je(Je({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function kL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var PL=class extends hL{constructor(t){super(t)}},IL=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=kL(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:yL,realtime:wL,auth:Je(Je({},vL),{},{storageKey:a}),global:gL},l=CL(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=TL(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new u$(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new aD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new i$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PL({url:this.authUrl.href,headers:Je(Je({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new A$(this.realtimeUrl.href,Je(Je({},t),{},{params:Je(Je({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const NL=(t,e,n)=>new IL(t,e,n);function OL(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}OL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Kv="https://vsqytdzbxxhketbvcoif.supabase.co",sk=`sb_publishable_m-b7gwiZtZu4k0eaXHPoTg_mM_qFuvG
`;console.log("Supabase URL Detected:","Yes",`(Length: ${Kv.length})`);console.log("Supabase Key Detected:","Yes",`(Length: ${sk.length})`);const va=Kv.startsWith("http"),lk="snapcal_mode_preference",ig=()=>va?localStorage.getItem(lk)==="local"?"local":"cloud":"local",RL=t=>{localStorage.setItem(lk,t),window.location.reload()},be=va&&ig()==="cloud";va?be||console.log("Supabase configured but user prefers Local Storage."):console.log("Supabase is not configured. Using Mock Auth & Local Storage.");const Be=NL(va?Kv:"https://placeholder.supabase.co",va?sk:"placeholder"),Rf="snapcal_mock_session",rd="snapcal_auth_change",ML=t=>new Promise(e=>setTimeout(e,t)),uk=async(t,e)=>{var n,r;if(be){const{data:i,error:o}=await Be.auth.signInWithPassword({email:t,password:e});if(o)throw new Error(o.message);return{user:{id:((n=i.user)==null?void 0:n.id)||"",email:(r=i.user)==null?void 0:r.email}}}else{await ML(600);const i={id:btoa(t.toLowerCase()),email:t};return localStorage.setItem(Rf,JSON.stringify(i)),window.dispatchEvent(new Event(rd)),{user:i}}},$L=async(t,e)=>{var n,r;if(be){const{data:i,error:o}=await Be.auth.signUp({email:t,password:e});if(o)throw new Error(o.message);return{user:{id:((n=i.user)==null?void 0:n.id)||"",email:(r=i.user)==null?void 0:r.email}}}else return uk(t,e)},DL=async()=>{if(be){const{error:t}=await Be.auth.signOut();if(t)throw t}else localStorage.removeItem(Rf),window.dispatchEvent(new Event(rd))},$t=async()=>{if(be){const{data:t}=await Be.auth.getUser();return t.user?{id:t.user.id,email:t.user.email}:null}else{const t=localStorage.getItem(Rf);return t?JSON.parse(t):null}},LL=t=>{if(be){const{data:e}=Be.auth.onAuthStateChange((n,r)=>{r!=null&&r.user?t({id:r.user.id,email:r.user.email}):t(null)});return()=>e.subscription.unsubscribe()}else{const e=()=>{const n=localStorage.getItem(Rf);t(n?JSON.parse(n):null)};return window.addEventListener(rd,e),window.addEventListener("storage",e),()=>{window.removeEventListener(rd,e),window.removeEventListener("storage",e)}}};class jL{constructor(){jh(this,"cache",new Map);jh(this,"defaultTTL",5*60*1e3)}get(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),null):n.data:null}set(e,n,r){this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r||this.defaultTTL})}has(e){return this.get(e)!==null}invalidate(e){this.cache.delete(e)}invalidatePattern(e){const n=[];this.cache.forEach((r,i)=>{e.test(i)&&n.push(i)}),n.forEach(r=>this.cache.delete(r))}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const ur=new jL,Cr={ENTRIES:"food:entries",ENTRIES_LITE:"food:entries:lite",DAILY_SUMMARIES_LITE:"food:summaries:lite",DAILY_GOAL:"user:goal",USER_PROFILE:"user:profile"};async function vu(t,e,n){const r=ur.get(t);if(r!==null)return r;const i=await e();return ur.set(t,i,n),i}const Jv="snapcal_data_v1",Cl="snapcal_settings_v1",kl="snapcal_profile_v1",Yv="snapcal_summaries_v1",UL="id, user_id, timestamp, date, time, food_item, calories, protein, carbs, fat, confidence, image_url, is_manual, ingredients, original_ai_response",ck="id, user_id, timestamp, date, time, food_item, calories, protein, carbs, fat, confidence, is_manual, ingredients",FL="id, date, calories, protein, carbs, fat",Kn=()=>{try{const t=localStorage.getItem(Jv);return t?JSON.parse(t):[]}catch{return[]}},Xv=t=>{try{localStorage.setItem(Jv,JSON.stringify(t))}catch(e){throw e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"||String(e).toLowerCase().includes("quota")?new Error("Browser Storage Full: Your local history (with photos) has reached the browser's 5MB limit. Please delete some old entries in the History tab or connect to Supabase for unlimited cloud storage."):e}},Qv=()=>{try{const t=localStorage.getItem(Yv);return t?JSON.parse(t):[]}catch{return[]}},BL=t=>{try{localStorage.setItem(Yv,JSON.stringify(t))}catch{throw new Error("Browser Storage Full: Cannot even save simple summaries. Please clear your browser data.")}},Mf=t=>({id:t.id,user_id:t.user_id,timestamp:t.timestamp,date:t.date,time:t.time,food_item:t.food_item,calories:t.calories,protein:t.protein||0,carbs:t.carbs||0,fat:t.fat||0,confidence:t.confidence,imageUrl:t.image_url,isManual:t.is_manual,ingredients:t.ingredients||[],originalAiResponse:t.original_ai_response}),$f=(t,e)=>{console.error(`Supabase ${e} Error:`,t);const n=(t==null?void 0:t.message)||String(t)||"",r=n.toLowerCase();throw r.includes("quota")||r.includes("limit")||r.includes("tier")?new Error("Cloud Quota Reached: Your Supabase storage limit has been exceeded. Try deleting old entries."):r.includes("relation")||r.includes("column")||r.includes("does not exist")?new Error("Database Setup Required: It looks like the 'food_entries' table is missing in Supabase. Please check the Profile tab for the setup SQL script."):r.includes("policy")||r.includes("permission")||r.includes("row-level security")?new Error("Permission Denied: Supabase RLS policies are blocking this save. Ensure authenticated users have 'INSERT' and 'UPDATE' access."):new Error(`Cloud Save Failed: ${n}`)},dk=async t=>{const e=await $t();if(!e)throw new Error("User must be logged in to save.");if(!be){const r=Kn(),i=r.findIndex(a=>a.id===t.id),o={...t,user_id:e.id};i>=0?r[i]=o:r.push(o),Xv(r),ur.invalidatePattern(/^food:/);return}const{error:n}=await Be.from("food_entries").upsert({id:t.id,user_id:e.id,timestamp:t.timestamp,date:t.date,time:t.time,food_item:t.food_item,calories:t.calories,protein:t.protein,carbs:t.carbs,fat:t.fat,confidence:t.confidence,is_manual:t.isManual,image_url:t.imageUrl,ingredients:t.ingredients,original_ai_response:t.originalAiResponse});n&&$f(n,"Save Entry"),ur.invalidatePattern(/^food:/)},fk=async()=>vu(Cr.ENTRIES,async()=>{const t=await $t();if(!t)return[];if(!be)return Kn().filter(r=>r.user_id===t.id).sort((r,i)=>i.timestamp.localeCompare(r.timestamp));const{data:e,error:n}=await Be.from("food_entries").select(UL).eq("user_id",t.id).order("timestamp",{ascending:!1}).limit(200);return n?(console.error("Supabase Fetch Error:",n),n.message.includes("relation")?[]:[]):e?e.map(Mf):[]},3*60*1e3),GL=async()=>vu(Cr.ENTRIES_LITE,async()=>{const t=await $t();if(!t)return[];if(!be)return Kn().filter(r=>r.user_id===t.id).map(r=>({...r,imageUrl:void 0,originalAiResponse:void 0})).sort((r,i)=>i.timestamp.localeCompare(r.timestamp));const{data:e,error:n}=await Be.from("food_entries").select(ck).eq("user_id",t.id).order("timestamp",{ascending:!1}).limit(200);return n?(console.error("Supabase Fetch Lite Error:",n),[]):e?e.map(Mf):[]},3*60*1e3),zL=async()=>vu(Cr.DAILY_SUMMARIES_LITE,async()=>{const t=await $t();if(!t)return[];if(!be){const i=Kn().filter(l=>l.user_id===t.id),o={};i.forEach(l=>{o[l.date]||(o[l.date]=[]),o[l.date].push(l)});const a=Qv().filter(l=>l.user_id===t.id),s={};return a.forEach(l=>{s[l.date]={date:l.date,totalCalories:l.total_calories||l.totalCalories,totalProtein:l.total_protein||l.totalProtein||0,totalCarbs:l.total_carbs||l.totalCarbs||0,totalFat:l.total_fat||l.totalFat||0}}),Object.keys(o).forEach(l=>{const u=o[l];s[l]={date:l,totalCalories:u.reduce((c,d)=>c+d.calories,0),totalProtein:u.reduce((c,d)=>c+(d.protein||0),0),totalCarbs:u.reduce((c,d)=>c+(d.carbs||0),0),totalFat:u.reduce((c,d)=>c+(d.fat||0),0)}}),Object.values(s).sort((l,u)=>new Date(u.date).getTime()-new Date(l.date).getTime())}const{data:e,error:n}=await Be.from("food_entries").select("date, calories, protein, carbs, fat").eq("user_id",t.id).order("date",{ascending:!1});if(n)return console.error("Supabase summary fetch error:",n),[];const r={};(e||[]).forEach(i=>{r[i.date]||(r[i.date]={calories:0,protein:0,carbs:0,fat:0}),r[i.date].calories+=i.calories||0,r[i.date].protein+=i.protein||0,r[i.date].carbs+=i.carbs||0,r[i.date].fat+=i.fat||0});try{const{data:i}=await Be.from("daily_summaries").select("date, total_calories, total_protein, total_carbs, total_fat").eq("user_id",t.id);(i||[]).forEach(o=>{r[o.date]||(r[o.date]={calories:o.total_calories,protein:o.total_protein,carbs:o.total_carbs,fat:o.total_fat})})}catch{}return Object.entries(r).map(([i,o])=>({date:i,totalCalories:o.calories,totalProtein:o.protein,totalCarbs:o.carbs,totalFat:o.fat})).sort((i,o)=>new Date(o.date).getTime()-new Date(i.date).getTime())},3*60*1e3),VL=async t=>{const e=await $t();if(!e)return[];if(!be)return Kn().filter(i=>i.user_id===e.id&&i.date===t).map(i=>({...i,imageUrl:void 0,originalAiResponse:void 0})).sort((i,o)=>o.timestamp.localeCompare(i.timestamp));const{data:n,error:r}=await Be.from("food_entries").select(ck).eq("user_id",e.id).eq("date",t).order("timestamp",{ascending:!1});return r?(console.error("Supabase date fetch error:",r),[]):n?n.map(Mf):[]},HL=async t=>{const e=await $t();if(!e)return null;if(!be){const o=Kn().find(a=>a.id===t&&a.user_id===e.id);return(o==null?void 0:o.imageUrl)||null}const{data:n,error:r}=await Be.from("food_entries").select("image_url").eq("id",t).eq("user_id",e.id).single();return r||!n?null:n.image_url},qL=async()=>{const t=await $t();if(!t)return[];const e=await fk(),n={};e.forEach(o=>{n[o.date]||(n[o.date]=[]),n[o.date].push(o)});let r=[];if(!be)r=Qv().filter(o=>o.user_id===t.id);else try{const{data:o,error:a}=await Be.from("daily_summaries").select("date, total_calories, total_protein, total_carbs, total_fat").eq("user_id",t.id);!a&&o&&(r=o)}catch{console.warn("Summary fetch failed, likely missing table")}const i={};return r.forEach(o=>{i[o.date]={date:o.date,totalCalories:o.total_calories,totalProtein:o.total_protein,totalCarbs:o.total_carbs,totalFat:o.total_fat,entries:[]}}),Object.keys(n).forEach(o=>{const a=n[o];i[o]={date:o,totalCalories:a.reduce((s,l)=>s+l.calories,0),totalProtein:a.reduce((s,l)=>s+(l.protein||0),0),totalCarbs:a.reduce((s,l)=>s+(l.carbs||0),0),totalFat:a.reduce((s,l)=>s+(l.fat||0),0),entries:a}}),Object.values(i).sort((o,a)=>new Date(a.date).getTime()-new Date(o.date).getTime())},Jb=async()=>{const t=await $t();if(!t)return;const e=new Date;e.setDate(e.getDate()-7);const n=e.toISOString().split("T")[0];let r=[];if(!be)r=Kn().filter(o=>o.user_id===t.id&&o.date<n);else try{const{data:o}=await Be.from("food_entries").select(FL).eq("user_id",t.id).lt("date",n);o&&(r=o.map(Mf))}catch{return}if(r.length===0)return;const i={};r.forEach(o=>{i[o.date]||(i[o.date]=[]),i[o.date].push(o)});for(const o of Object.keys(i)){const a=i[o],s={id:`${t.id}_${o}`,user_id:t.id,date:o,total_calories:a.reduce((l,u)=>l+u.calories,0),total_protein:a.reduce((l,u)=>l+(u.protein||0),0),total_carbs:a.reduce((l,u)=>l+(u.carbs||0),0),total_fat:a.reduce((l,u)=>l+(u.fat||0),0)};if(be)await Be.from("daily_summaries").upsert(s),await Be.from("food_entries").delete().eq("user_id",t.id).eq("date",o);else{const l=Qv(),u=l.findIndex(d=>d.user_id===t.id&&d.date===o);u>=0?l[u]=s:l.push(s),BL(l);const c=Kn().filter(d=>!(d.user_id===t.id&&d.date===o));Xv(c)}}},hk=async t=>{const e=await $t();if(!e)throw new Error("Not logged in");if(!be){const r=Kn().filter(i=>!(i.id===t&&i.user_id===e.id));Xv(r),ur.invalidatePattern(/^food:/);return}const{error:n}=await Be.from("food_entries").delete().eq("id",t).eq("user_id",e.id);n&&$f(n,"Delete Entry"),ur.invalidatePattern(/^food:/)},Zv=async()=>vu(Cr.DAILY_GOAL,async()=>{const t=await $t();if(!t)return 2e3;if(!be){const r=localStorage.getItem(Cl);return(r?JSON.parse(r):{})[t.id]||2e3}const{data:e,error:n}=await Be.from("user_settings").select("daily_goal").eq("user_id",t.id).single();return n||!e?2e3:e.daily_goal},10*60*1e3),Df=async t=>{const e=await $t();if(!e)throw new Error("Not logged in");if(!be){const r=localStorage.getItem(Cl),i=r?JSON.parse(r):{};i[e.id]=t,localStorage.setItem(Cl,JSON.stringify(i)),ur.invalidate(Cr.DAILY_GOAL);return}const{error:n}=await Be.from("user_settings").upsert({user_id:e.id,daily_goal:t},{onConflict:"user_id"});n&&$f(n,"Save Daily Goal"),ur.invalidate(Cr.DAILY_GOAL)},e0=async()=>vu(Cr.USER_PROFILE,async()=>{const t=await $t();if(!t)return null;if(!be){const r=localStorage.getItem(kl);return(r?JSON.parse(r):{})[t.id]||null}const{data:e,error:n}=await Be.from("user_profiles").select("name, height, weight, age, gender, activity_level, goal, equipment_access").eq("user_id",t.id).single();return n||!e?null:{name:e.name,height:e.height,weight:e.weight,age:e.age,gender:e.gender,activityLevel:e.activity_level,goal:e.goal,equipmentAccess:e.equipment_access}},10*60*1e3),t0=async t=>{const e=await $t();if(!e)throw new Error("Not logged in");if(!be){const r=localStorage.getItem(kl),i=r?JSON.parse(r):{};i[e.id]=t,localStorage.setItem(kl,JSON.stringify(i)),ur.invalidate(Cr.USER_PROFILE);return}const{error:n}=await Be.from("user_profiles").upsert({user_id:e.id,name:t.name,height:t.height,weight:t.weight,age:t.age,gender:t.gender,activity_level:t.activityLevel,goal:t.goal,equipment_access:t.equipmentAccess},{onConflict:"user_id"});n&&$f(n,"Save Profile"),ur.invalidate(Cr.USER_PROFILE)},WL=()=>Kn().length>0,KL=async()=>{if(!be)throw new Error("Must be in Cloud Mode to sync");const t=await $t();if(!t)throw new Error("Must be logged in to sync");const e=Kn();if(e.length>0){const i=e.map(a=>({id:a.id,user_id:t.id,timestamp:a.timestamp,date:a.date,time:a.time,food_item:a.food_item,calories:a.calories,protein:a.protein,carbs:a.carbs,fat:a.fat,confidence:a.confidence,is_manual:a.isManual,image_url:a.imageUrl,ingredients:a.ingredients,original_ai_response:a.originalAiResponse})),o=5;for(let a=0;a<i.length;a+=o){const s=i.slice(a,a+o),{error:l}=await Be.from("food_entries").upsert(s);if(l)throw console.error("Chunk upload failed",l),new Error(`Sync failed at item ${a+1}: `+l.message)}}const n=localStorage.getItem(Cl);if(n){const i=JSON.parse(n),o=Object.keys(i)[0];o&&i[o]&&await Df(i[o])}const r=localStorage.getItem(kl);if(r){const i=JSON.parse(r),o=Object.keys(i)[0];o&&i[o]&&await t0(i[o])}localStorage.removeItem(Jv),localStorage.removeItem(Yv),localStorage.removeItem(Cl),localStorage.removeItem(kl)},JL=async()=>{if(!be)return{ok:!0};if(!await $t())return{ok:!0};const{error:e}=await Be.from("food_entries").select("id").limit(1);return e?e.message.includes("relation")||e.code==="42P01"?{ok:!1,missingTables:!0,error:"Tables missing"}:{ok:!1,error:e.message}:{ok:!0}},id="snapcal_onboarding_v1",YL=async t=>{if(!t||!t.id)return!1;const e=localStorage.getItem(id),n=e?JSON.parse(e):{};if(n[t.id]===!0)return!0;if(!be)return!1;try{const{data:r,error:i}=await Be.from("user_settings").select("has_completed_onboarding").eq("user_id",t.id).maybeSingle(),o=(r==null?void 0:r.has_completed_onboarding)||!1;return o&&(n[t.id]=!0,localStorage.setItem(id,JSON.stringify(n))),o}catch{return!1}},pk=async t=>{if(!t||!t.id)return;const e=localStorage.getItem(id),n=e?JSON.parse(e):{};if(n[t.id]=!0,localStorage.setItem(id,JSON.stringify(n)),be)try{const{error:r}=await Be.from("user_settings").upsert({user_id:t.id,has_completed_onboarding:!0},{onConflict:"user_id"});r&&console.error("Cloud mark onboarding error:",r)}catch(r){console.error("Cloud mark onboarding exception:",r)}},XL=async t=>{await pk(t)},Ut=({className:t,variant:e="primary",isLoading:n,children:r,...i})=>{const o="inline-flex items-center justify-center px-6 py-4 rounded-[24px] font-semibold transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none text-sm tracking-wide",a={primary:"bg-royal-600 text-white hover:bg-royal-700 shadow-[0_10px_20px_-10px_rgba(124,58,237,0.5)]",secondary:"bg-royal-50 text-royal-700 hover:bg-royal-100",ghost:"bg-transparent text-gray-500 hover:text-royal-600 hover:bg-royal-50"};return g.jsx("button",{className:de(o,a[e],t),disabled:n||i.disabled,...i,children:n?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r})};var QL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZL,ej;function tj(){return{geminiUrl:ZL,vertexUrl:ej}}function nj(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=tj();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mr{}function Y(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function rj(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}og(t,i,o,0,a)}}function og(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])og(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&og(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ij(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function oj(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],sj(a)),e}function aj(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],lj(a)),e}function sj(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>uj(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function lj(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>cj(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function uj(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],gj(n)),e}function cj(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],yj(n)),e}function dj(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function fj(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function hj(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],pj(a)),e}function pj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function mk(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],mj(a)),e}function mj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function gj(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],n0(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function yj(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],n0(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yb;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Yb||(Yb={}));var Xb;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Xb||(Xb={}));var Qb;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Qb||(Qb={}));var ye;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ye||(ye={}));var Zb;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Zb||(Zb={}));var ex;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ex||(ex={}));var tx;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(tx||(tx={}));var nx;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(nx||(nx={}));var rx;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(rx||(rx={}));var ix;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ix||(ix={}));var ox;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ox||(ox={}));var ax;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(ax||(ax={}));var sx;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sx||(sx={}));var lx;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(lx||(lx={}));var ux;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ux||(ux={}));var cx;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(cx||(cx={}));var dx;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(dx||(dx={}));var fx;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(fx||(fx={}));var hx;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(hx||(hx={}));var px;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(px||(px={}));var mx;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mx||(mx={}));var od;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(od||(od={}));var gx;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gx||(gx={}));var yx;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(yx||(yx={}));var vx;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vx||(vx={}));var ag;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ag||(ag={}));var wx;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wx||(wx={}));var bx;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(bx||(bx={}));var xx;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(xx||(xx={}));var _x;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_x||(_x={}));var Sx;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Sx||(Sx={}));var Ex;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ex||(Ex={}));var Tx;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Tx||(Tx={}));var Ax;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ax||(Ax={}));var Cx;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Cx||(Cx={}));var kx;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(kx||(kx={}));var Px;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Px||(Px={}));var Ix;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ix||(Ix={}));var Nx;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Nx||(Nx={}));var Ox;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Ox||(Ox={}));var Rx;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Rx||(Rx={}));var Mx;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Mx||(Mx={}));var $x;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})($x||($x={}));var Dx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Dx||(Dx={}));var Lx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Lx||(Lx={}));var jx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(jx||(jx={}));var Ux;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ux||(Ux={}));var Fx;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Fx||(Fx={}));var Bx;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Bx||(Bx={}));var Gx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Gx||(Gx={}));var zx;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(zx||(zx={}));var Vx;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Vx||(Vx={}));var Hx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hx||(Hx={}));var qx;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(qx||(qx={}));var zo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(zo||(zo={}));class sg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class bs{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,y]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(y!==null||y!==void 0)&&d.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(d))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Wx{}class Kx{}class vj{}class wj{}class bj{}class xj{}class Jx{}class Yx{}class Xx{}class _j{}class ad{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ad;let i;const o=e;return n?i=aj(o):i=oj(o),Object.assign(r,i),r}}class Qx{}class Zx{}class e_{}class t_{}class Sj{}class Ej{}class Tj{}class r0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new r0,o=hj(e);return Object.assign(r,o),r}}class Aj{}class Cj{}class kj{}class n_{}class Pj{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Ij{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class i0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new i0,o=mk(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function gk(t,e){const n=ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function yk(t){return Array.isArray(t)?t.map(e=>sd(e)):[sd(t)]}function sd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function vk(t){const e=sd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wk(t){const e=sd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function r_(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function bk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>r_(e)):[r_(t)]}function lg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function i_(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function o_(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rt(t){if(t==null)throw new Error("ContentUnion is required");return lg(t)?t:{role:"user",parts:bk(t)}}function o0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rt(n)):[Rt(e)]}function Sn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(i_(t)||o_(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rt(t)]}const e=[],n=[],r=lg(t[0]);for(const i of t){const o=lg(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(i_(i)||o_(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:bk(n)}),e}function Nj(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ye).includes(n[0].toUpperCase())?n[0].toUpperCase():ye.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ye).includes(r.toUpperCase())?r.toUpperCase():ye.TYPE_UNSPECIFIED})}}function ra(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Nj(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ye).includes(s.toUpperCase())?s.toUpperCase():ye.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=ra(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(ra(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=ra(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function a0(t){return ra(t)}function s0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function l0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ka(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ra(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ra(e.response));return t}function Ja(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Oj(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function $r(t,e){if(typeof e!="string")throw new Error("name must be a string");return Oj(t,e,"cachedContents")}function xk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function mi(t){return n0(t)}function Rj(t){return t!=null&&typeof t=="object"&&"name"in t}function Mj(t){return t!=null&&typeof t=="object"&&"video"in t}function $j(t){return t!=null&&typeof t=="object"&&"uri"in t}function _k(t){var e;let n;if(Rj(t)&&(n=t.name),!($j(t)&&(n=t.uri,n===void 0))&&!(Mj(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Sk(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ek(t){for(const e of["models","tunedModels","publisherModels"])if(Dj(t,e))return t[e];return[]}function Dj(t,e){return t!==null&&typeof t=="object"&&e in t}function Lj(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function jj(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Lj(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function Tk(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Uj(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ak(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ya(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ck(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fj(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>bU(a))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function Bj(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Gj(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cc(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],Ck(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],Fj(Ak(u))),e}function ug(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],Ck(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],zj(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],Bj(Ak(h)));const m=f(t,["completionStats"]);return m!=null&&p(e,["completionStats"],m),e}function zj(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Vj(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>wU(t,a))),p(n,["requests","requests"],o)}return n}function Hj(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function qj(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Wj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ya(t,r)),n}function Kj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ya(t,r)),n}function Jj(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Yj(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function Yj(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function kk(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>CU(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Xj(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Qj(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],Gj(Uj(i))),n}function a_(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Vj(t,Tk(t,i)));const o=f(e,["config"]);return o!=null&&Xj(o,n),n}function Zj(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],Hj(Tk(t,i)));const o=f(e,["config"]);return o!=null&&Qj(o,n),n}function eU(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function tU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],lU(t,i));const o=f(e,["config"]);return o!=null&&eU(o,n),n}function nU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ya(t,r)),n}function rU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ya(t,r)),n}function iU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function oU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function aU(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=o0(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],sU(i,n)),rj(n,{"requests[].*":"requests[].request.*"})),n}function sU(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lU(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],aU(t,i)),n}function uU(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function cU(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dU(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fU(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],kk(Rt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],a0(v));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let $=_;Array.isArray($)&&($=$.map(L=>kU(L))),p(n,["safetySettings"],$)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let $=Ja(T);Array.isArray($)&&($=$.map(L=>IU(Ka(L)))),p(n,["tools"],$)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],PU(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],$r(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],s0(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=f(e,["thinkingConfig"]);O!=null&&p(r,["thinkingConfig"],O);const N=f(e,["imageConfig"]);N!=null&&p(r,["imageConfig"],vU(N));const I=f(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function hU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Jj(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function pU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ya(t,r)),n}function mU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ya(t,r)),n}function gU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function yU(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function vU(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let s=Sn(i);Array.isArray(s)&&(s=s.map(l=>kk(l))),p(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&p(n,["request","generationConfig"],fU(t,a,f(n,["request"],{}))),n}function bU(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],hU(n));const r=f(t,["error"]);return r!=null&&p(e,["error"],r),e}function xU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function _U(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function SU(t){const e={},n=f(t,["config"]);return n!=null&&xU(n,e),e}function EU(t){const e={},n=f(t,["config"]);return n!=null&&_U(n,e),e}function TU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cc(a))),p(e,["batchJobs"],o)}return e}function AU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ug(a))),p(e,["batchJobs"],o)}return e}function CU(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],uU(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],cU(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],qj(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function kU(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function PU(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],dU(r)),e}function IU(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],gU(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],yU(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(kr||(kr={}));class ao{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NU extends Mr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ao(kr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=a_(this.apiClient,e),r=n._url,i=Y("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const m=d.request;m.systemInstruction=h,d.request=m}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Zj(this.apiClient,e);return s=Y("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ug(c))}else{const u=a_(this.apiClient,e);return s=Y("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Cc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=tU(this.apiClient,e);return o=Y("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Cc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=mU(this.apiClient,e);return s=Y("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ug(c))}else{const u=pU(this.apiClient,e);return s=Y("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Cc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Kj(this.apiClient,e);a=Y("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Wj(this.apiClient,e);a=Y("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=EU(e);return s=Y("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=AU(c),h=new n_;return Object.assign(h,d),h})}else{const u=SU(e);return s=Y("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=TU(c),h=new n_;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=rU(this.apiClient,e);return s=Y("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>oU(c))}else{const u=nU(this.apiClient,e);return s=Y("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>iU(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OU(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function s_(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>t4(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function RU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=Sn(a);Array.isArray(c)&&(c=c.map(d=>s_(d))),p(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],s_(Rt(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>r4(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],n4(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function MU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=Sn(a);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],Rt(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>i4(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function $U(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],gk(t,r));const i=f(e,["config"]);return i!=null&&RU(i,n),n}function DU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],gk(t,r));const i=f(e,["config"]);return i!=null&&MU(i,n),n}function LU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],$r(t,r)),n}function jU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],$r(t,r)),n}function UU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function FU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function BU(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function GU(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zU(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function VU(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function HU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],$r(t,r)),n}function qU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],$r(t,r)),n}function WU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function KU(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function JU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function YU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function XU(t){const e={},n=f(t,["config"]);return n!=null&&JU(n,e),e}function QU(t){const e={},n=f(t,["config"]);return n!=null&&YU(n,e),e}function ZU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function e4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function t4(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],BU(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],GU(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],OU(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function n4(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],zU(r)),e}function r4(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],WU(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],KU(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function i4(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>VU(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function o4(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function a4(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function s4(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],$r(t,r));const i=f(e,["config"]);return i!=null&&o4(i,n),n}function l4(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],$r(t,r));const i=f(e,["config"]);return i!=null&&a4(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u4 extends Mr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ao(kr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=DU(this.apiClient,e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=$U(this.apiClient,e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=HU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=FU(c),h=new e_;return Object.assign(h,d),h})}else{const u=LU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=UU(c),h=new e_;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=l4(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=s4(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=QU(e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=e4(c),h=new t_;return Object.assign(h,d),h})}else{const u=XU(e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=ZU(c),h=new t_;return Object.assign(h,d),h})}}}function ld(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function l_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(t){return this instanceof se?(this.v=t,this):new se(t)}function Hn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(y){return Promise.resolve(y).then(m,d)}}function s(m,y){r[m]&&(i[m]=function(w){return new Promise(function(b,v){o.push([m,w,b,v])>1||l(m,w)})},y&&(i[m]=y(i[m])))}function l(m,y){try{u(r[m](y))}catch(w){h(o[0][3],w)}}function u(m){m.value instanceof se?Promise.resolve(m.value.v).then(c,d):h(o[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function h(m,y){m(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function qn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof l_=="function"?l_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c4(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Pk(n)}function Pk(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function d4(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function u_(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Pk(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class f4{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new h4(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class h4{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),d4(o)}async sendMessage(e){var n;await this.sendPromise;const r=Rt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Rt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?u_(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Hn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var d=!0,h=qn(e),m;m=yield se(h.next()),i=m.done,!i;d=!0){s=m.value,d=!1;const y=s;if(c4(y)){const w=(u=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield se(y)}}catch(y){o={error:y}}finally{try{!d&&!i&&(a=h.return)&&(yield se(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...u_(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Lf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p4(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function m4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function g4(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],_k(n)),e}function y4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function v4(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],_k(n)),e}function w4(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function b4(t){const e={},n=f(t,["config"]);return n!=null&&w4(n,e),e}function x4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _4 extends Mr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ao(kr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=b4(e);return o=Y("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=x4(l),c=new Aj;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=p4(e);return o=Y("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=m4(l),c=new Cj;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=v4(e);return o=Y("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=g4(e);return o=Y("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=y4(l),c=new kj;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kc(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function S4(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>U4(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function E4(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function T4(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function A4(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function C4(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=f(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const w=f(t,["responseSchema"]);w!=null&&p(e,["responseSchema"],w);const b=f(t,["routingConfig"]);b!=null&&p(e,["routingConfig"],b);const v=f(t,["seed"]);v!=null&&p(e,["seed"],v);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],x);const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function k4(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function P4(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function I4(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],l0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],S4(Rt(y)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let E=Ja(w);Array.isArray(E)&&(E=E.map(A=>B4(Ka(A)))),p(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],F4(b));const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function N4(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],C4(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],l0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],Rt(y));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let A=Ja(w);Array.isArray(A)&&(A=A.map(C=>G4(Ka(C)))),p(e,["setup","tools"],A)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],b);const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);e!==void 0&&S!=null&&p(e,["setup","proactivity"],S);const E=f(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&p(e,["setup","explicitVadSignal"],E),n}function O4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],I4(i,n)),n}function R4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],N4(i,n)),n}function M4(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function $4(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function D4(t){const e={},n=f(t,["media"]);if(n!=null){let u=yk(n);Array.isArray(u)&&(u=u.map(c=>kc(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],kc(wk(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],kc(vk(o)));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function L4(t){const e={},n=f(t,["media"]);if(n!=null){let u=yk(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],wk(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],vk(o));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function j4(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],z4(a));const s=f(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);l!=null&&p(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);return u!=null&&p(e,["voiceActivityDetectionSignal"],u),e}function U4(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],E4(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],T4(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],kc(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function F4(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function B4(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],k4(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],P4(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function G4(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>A4(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function z4(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["promptTokensDetails"],m)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["cacheTokensDetails"],m)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["responseTokensDetails"],m)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["toolUsePromptTokensDetails"],m)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V4(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function H4(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],q4(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function q4(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function W4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let o=Sn(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function K4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function J4(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&p(e,["statistics"],Y4(r)),e}function Y4(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function jf(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oB(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function X4(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function Q4(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Z4(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],Rt(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Rk(s))),p(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],VF(o)),n}function eF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=Sn(i);Array.isArray(a)&&(a=a.map(s=>jf(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&Q4(o),n}function tF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=Sn(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&Z4(o,n),n}function nF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function rF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function iF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function oF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function aF(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function sF(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function lF(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=f(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","compressionQuality"],w);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&p(e,["parameters","addWatermark"],b);const v=f(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const x=f(t,["editMode"]);e!==void 0&&x!=null&&p(e,["parameters","editMode"],x);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&p(e,["parameters","editConfig","baseSteps"],_),n}function uF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>dB(l))),p(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&lF(a,n),n}function cF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Uf(o))),p(e,["generatedImages"],i)}return e}function dF(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fF(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function hF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let s=o0(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&dF(o,n);const a=f(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],ve(t,a)),n}function pF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=o0(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&fF(o,n),n}function mF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function gF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>J4(a))),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function yF(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function vF(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function wF(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bF(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xF(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function _F(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],jf(Rt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],a0(v));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let $=_;Array.isArray($)&&($=$.map(L=>fB(L))),p(n,["safetySettings"],$)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let $=Ja(T);Array.isArray($)&&($=$.map(L=>wB(Ka(L)))),p(n,["tools"],$)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],vB(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],$r(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],s0(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=f(e,["thinkingConfig"]);O!=null&&p(r,["thinkingConfig"],O);const N=f(e,["imageConfig"]);N!=null&&p(r,["imageConfig"],JF(N));const I=f(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function SF(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Rt(i));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],a0(v));const x=f(e,["responseJsonSchema"]);x!=null&&p(r,["responseJsonSchema"],x);const _=f(e,["routingConfig"]);_!=null&&p(r,["routingConfig"],_);const T=f(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let j=S;Array.isArray(j)&&(j=j.map(G=>G)),p(n,["safetySettings"],j)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let j=Ja(E);Array.isArray(j)&&(j=j.map(G=>Rk(Ka(G)))),p(n,["tools"],j)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const C=f(e,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],$r(t,k));const O=f(e,["responseModalities"]);O!=null&&p(r,["responseModalities"],O);const N=f(e,["mediaResolution"]);N!=null&&p(r,["mediaResolution"],N);const I=f(e,["speechConfig"]);I!=null&&p(r,["speechConfig"],s0(I));const $=f(e,["audioTimestamp"]);$!=null&&p(r,["audioTimestamp"],$);const L=f(e,["thinkingConfig"]);L!=null&&p(r,["thinkingConfig"],L);const U=f(e,["imageConfig"]);if(U!=null&&p(r,["imageConfig"],YF(U)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function c_(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=Sn(i);Array.isArray(a)&&(a=a.map(s=>jf(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],_F(t,o,n)),n}function d_(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=Sn(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],SF(t,o,n)),n}function f_(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>H4(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function h_(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function EF(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=f(t,["imageSize"]);if(e!==void 0&&m!=null&&p(e,["parameters","sampleImageSize"],m),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function TF(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=f(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","compressionQuality"],w);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&p(e,["parameters","addWatermark"],b);const v=f(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const x=f(t,["imageSize"]);e!==void 0&&x!=null&&p(e,["parameters","sampleImageSize"],x);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&p(e,["parameters","enhancePrompt"],_),n}function AF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&EF(o,n),n}function CF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&TF(o,n),n}function kF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>FF(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Nk(i)),e}function PF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Uf(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Ok(i)),e}function IF(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Ff(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>OB(m))),p(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function NF(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&p(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=f(t,["enhancePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m);const y=f(t,["generateAudio"]);e!==void 0&&y!=null&&p(e,["parameters","generateAudio"],y);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&p(e,["instances[0]","lastFrame"],Yn(w));const b=f(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(T=>RB(T))),p(e,["instances[0]","referenceImages"],_)}const v=f(t,["mask"]);e!==void 0&&v!=null&&p(e,["instances[0]","mask"],NB(v));const x=f(t,["compressionQuality"]);return e!==void 0&&x!=null&&p(e,["parameters","compressionQuality"],x),n}function OF(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],DF(a)),e}function RF(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],LF(a)),e}function MF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Ff(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],Mk(a));const s=f(e,["source"]);s!=null&&jF(s,n);const l=f(e,["config"]);return l!=null&&IF(l,n),n}function $F(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Yn(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],$k(a));const s=f(e,["source"]);s!=null&&UF(s,n);const l=f(e,["config"]);return l!=null&&NF(l,n),n}function DF(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>GF(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function LF(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>zF(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function jF(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Ff(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],Mk(o)),n}function UF(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Yn(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],$k(o)),n}function FF(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],XF(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],Nk(i)),e}function Uf(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],Ik(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&p(e,["safetyAttributes"],Ok(i));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function BF(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],Ik(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function GF(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],PB(n)),e}function zF(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],IB(n)),e}function VF(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=f(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const w=f(t,["responseSchema"]);w!=null&&p(e,["responseSchema"],w);const b=f(t,["routingConfig"]);b!=null&&p(e,["routingConfig"],b);const v=f(t,["seed"]);v!=null&&p(e,["seed"],v);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],x);const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function HF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function qF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function WF(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function KF(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function JF(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function YF(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=f(t,["personGeneration"]);i!=null&&p(e,["personGeneration"],i);const o=f(t,["outputMimeType"]);o!=null&&p(e,["imageOutputOptions","mimeType"],o);const a=f(t,["outputCompressionQuality"]);return a!=null&&p(e,["imageOutputOptions","compressionQuality"],a),e}function XF(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],mi(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Ik(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],mi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Ff(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],mi(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Yn(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],mi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function QF(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],Sk(t,s)),r}function ZF(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],Sk(t,s)),r}function eB(t,e){const n={},r=f(e,["config"]);return r!=null&&QF(t,r,n),n}function tB(t,e){const n={},r=f(e,["config"]);return r!=null&&ZF(t,r,n),n}function nB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=Ek(i);Array.isArray(o)&&(o=o.map(a=>cg(a))),p(e,["models"],o)}return e}function rB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=Ek(i);Array.isArray(o)&&(o=o.map(a=>dg(a))),p(e,["models"],o)}return e}function iB(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function cg(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const a=f(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],bB(a));const s=f(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&p(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&p(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&p(e,["topP"],h);const m=f(t,["topK"]);m!=null&&p(e,["topK"],m);const y=f(t,["thinking"]);return y!=null&&p(e,["thinking"],y),e}function dg(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>yF(h))),p(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&p(e,["labels"],s);const l=f(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],xB(l));const u=f(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["checkpoints"],d)}return e}function oB(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],vF(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],wF(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],V4(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function aB(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],Yn(n)),e}function sB(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const m=f(t,["labels"]);return e!==void 0&&m!=null&&p(e,["labels"],m),n}function lB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["source"]);i!=null&&cB(i,n);const o=f(e,["config"]);return o!=null&&sB(o,n),n}function uB(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Uf(i))),p(e,["generatedImages"],r)}return e}function cB(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Yn(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>aB(s))),p(e,["instances[0]","productImages"],a)}return n}function dB(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Yn(n));const r=f(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],iB(o));const a=f(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],X4(a));const s=f(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function Nk(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function Ok(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function fB(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function hB(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],Yn(n)),e}function pB(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function mB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["source"]);i!=null&&yB(i,n);const o=f(e,["config"]);return o!=null&&pB(o,n),n}function gB(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BF(i))),p(e,["generatedMasks"],r)}return e}function yB(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Yn(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],hB(o)),n}function vB(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],bF(r)),e}function wB(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],WF(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],KF(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Rk(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>xF(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function bB(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function xB(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function _B(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function SB(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function EB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","name"],ve(t,r));const i=f(e,["config"]);return i!=null&&_B(i,n),n}function TB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&SB(i,n),n}function AB(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const m=f(t,["mode"]);return e!==void 0&&m!=null&&p(e,["parameters","mode"],m),n}function CB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["image"]);i!=null&&p(n,["instances[0]","image"],Yn(i));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&AB(a,n),n}function kB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Uf(o))),p(e,["generatedImages"],i)}return e}function PB(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],mi(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function IB(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],mi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function NB(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],Yn(n));const r=f(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function OB(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Ff(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function RB(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Yn(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Mk(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],mi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function $k(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],mi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MB(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function $B(t){const e={},n=f(t,["config"]);return n!=null&&MB(n,e),e}function DB(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function LB(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&DB(r,e),e}function jB(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function UB(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function FB(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],GB(a)),e}function BB(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&UB(i,e),e}function GB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function zB(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function VB(t){const e={},n=f(t,["config"]);return n!=null&&zB(n,e),e}function HB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function Dk(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function qB(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&Dk(r,e),e}function WB(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KB="Content-Type",JB="X-Server-Timeout",YB="User-Agent",fg="x-goog-api-client",XB="1.35.0",QB=`google-genai-sdk/${XB}`,ZB="v1beta1",e5="v1beta";class t5{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ZB,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:e5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&n5(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await p_(i),new sg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await p_(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Hn(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield se(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const y=JSON.parse(d);if("error"in y){const w=JSON.parse(JSON.stringify(y.error)),b=w.status,v=w.code,x=`got status: ${b}. ${JSON.stringify(y)}`;if(v>=400&&v<600)throw new Lf({message:x,status:v})}}catch(y){if(y.name==="ApiError")throw y}a+=d;let h=-1,m=0;for(;;){h=-1,m=0;for(const b of l){const v=a.indexOf(b);v!==-1&&(h===-1||v<h)&&(h=v,m=b.length)}if(h===-1)break;const y=a.substring(0,h);a=a.substring(h+m);const w=y.trim();if(w.startsWith(s)){const b=w.substring(s.length).trim();try{const v=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield se(new sg(v))}catch(v){throw new Error(`exception parsing stream chunk ${b}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=QB+" "+this.clientOptions.userAgentExtra;return e[YB]=n,e[fg]=n,e[KB]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(JB,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=Y("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&Dk(r,d);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function p_(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Lf({message:i,status:n}):new Error(i)}}function n5(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r5="mcp_used/unknown";let i5=!1;function Lk(t){for(const e of t)if(o5(e)||typeof e=="object"&&"inputSchema"in e)return!0;return i5}function jk(t){var e;const n=(e=t[fg])!==null&&e!==void 0?e:"";t[fg]=(n+` ${r5}`).trimStart()}function o5(t){return t!==null&&typeof t=="object"&&t instanceof u0}function a5(t){return Hn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield se(n.listTools({cursor:i}));for(const s of a.tools)yield yield se(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class u0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new u0(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,qn(a5(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),jj(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function s5(t,e,n){const r=new Ij;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class l5{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=d5(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},m=this.apiClient,y={onopen:h,onmessage:_=>{s5(m,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},w=this.webSocketFactory.create(l,c5(a),y);w.connect(),await c;const x={setup:{model:ve(this.apiClient,e.model)}};return w.send(JSON.stringify(x)),new u5(w,this.apiClient)}}class u5{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=$4(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=M4(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(zo.PLAY)}pause(){this.sendPlaybackControl(zo.PAUSE)}stop(){this.sendPlaybackControl(zo.STOP)}resetContext(){this.sendPlaybackControl(zo.RESET_CONTEXT)}close(){this.conn.close()}}function c5(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function d5(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function h5(t,e,n){const r=new Pj;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=j4(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class p5{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new l5(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&Lk(e.config.tools)&&jk(d);const h=v5(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const k=this.apiClient.getApiKey();let O="BidiGenerateContent",N="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",N="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${O}?${N}=${k}`}let m=()=>{};const y=new Promise(k=>{m=k}),w=e.callbacks,b=function(){var k;(k=w==null?void 0:w.onopen)===null||k===void 0||k.call(w),m({})},v=this.apiClient,x={onopen:b,onmessage:k=>{h5(v,w.onmessage,k)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(k){}},_=this.webSocketFactory.create(c,y5(h),x);_.connect(),await y;let T=ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const k=this.apiClient.getProject(),O=this.apiClient.getLocation();T=`projects/${k}/locations/${O}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[od.AUDIO]}:e.config.responseModalities=[od.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const k of E)if(this.isCallableTool(k)){const O=k;A.push(await O.tool())}else A.push(k);A.length>0&&(e.config.tools=A);const C={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=R4(this.apiClient,C):S=O4(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new g5(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const m5={turnComplete:!0};class g5{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Sn(n.turns),e.isVertexAI()||(r=r.map(i=>jf(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(f5)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},m5),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:L4(e)}:n={realtimeInput:D4(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function y5(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function v5(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m_=10;function g_(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ia(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ia(t){return"callTool"in t&&typeof t.callTool=="function"}function w5(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ia(i)))!==null&&r!==void 0?r:!1}function y_(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ia(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function v_(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b5 extends Mr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!w5(n)||g_(n.config))return await this.generateContentInternal(l);const u=y_(n);if(u.length>0){const w=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,d;const h=Sn(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:m_;let y=0;for(;y<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,b=[];for(const v of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(ia(v)){const _=await v.callTool(c.functionCalls);b.push(..._)}y++,d={role:"user",parts:b},l.contents=Sn(l.contents),l.contents.push(w),l.contents.push(d),v_(l.config)&&(h.push(w),h.push(d))}return v_(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),g_(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=y_(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new ao(kr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>ia(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&Lk(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),jk(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ia(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:m_;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Hn(this,arguments,function*(){for(var h,m,y,w,b,v;s<o;){a&&(s++,a=!1);const S=yield se(u.processParamsMaybeAddMcpUsage(d)),E=yield se(u.generateContentStreamInternal(S)),A=[],C=[];try{for(var x=!0,_=(m=void 0,qn(E)),T;T=yield se(_.next()),h=T.done,!h;x=!0){w=T.value,x=!1;const k=w;if(yield yield se(k),k.candidates&&(!((b=k.candidates[0])===null||b===void 0)&&b.content)){C.push(k.candidates[0].content);for(const O of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(s<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(O.functionCall.name)){const N=yield se(c.get(O.functionCall.name).callTool([O.functionCall]));A.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(k){m={error:k}}finally{try{!x&&!h&&(y=_.return)&&(yield se(y.call(_)))}finally{if(m)throw m.error}}if(A.length>0){a=!0;const k=new bs;k.candidates=[{content:{role:"user",parts:A}}],yield yield se(k);const O=[];O.push(...C),O.push({role:"user",parts:A});const N=Sn(d.contents).concat(O);d.contents=N}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=d_(this.apiClient,e);return s=Y("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=h_(c),h=new bs;return Object.assign(h,d),h})}else{const u=c_(this.apiClient,e);return s=Y("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=f_(c),h=new bs;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=d_(this.apiClient,e);return s=Y("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return Hn(this,arguments,function*(){var h,m,y,w;try{for(var b=!0,v=qn(d),x;x=yield se(v.next()),h=x.done,!h;b=!0){w=x.value,b=!1;const _=w,T=h_(yield se(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new bs;Object.assign(S,T),yield yield se(S)}}catch(_){m={error:_}}finally{try{!b&&!h&&(y=v.return)&&(yield se(y.call(v)))}finally{if(m)throw m.error}}})})}else{const u=c_(this.apiClient,e);return s=Y("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return Hn(this,arguments,function*(){var h,m,y,w;try{for(var b=!0,v=qn(d),x;x=yield se(v.next()),h=x.done,!h;b=!0){w=x.value,b=!1;const _=w,T=f_(yield se(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new bs;Object.assign(S,T),yield yield se(S)}}catch(_){m={error:_}}finally{try{!b&&!h&&(y=v.return)&&(yield se(y.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=pF(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=gF(c),h=new Wx;return Object.assign(h,d),h})}else{const u=hF(this.apiClient,e);return s=Y("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=mF(c),h=new Wx;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=CF(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=PF(c),h=new Kx;return Object.assign(h,d),h})}else{const u=AF(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=kF(c),h=new Kx;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=uF(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=cF(l),c=new vj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=CB(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=kB(l),c=new wj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=lB(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=uB(l),c=new bj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=mB(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=gB(l),c=new xj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qF(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>dg(c))}else{const u=HF(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>cg(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tB(this.apiClient,e);return s=Y("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=rB(c),h=new Jx;return Object.assign(h,d),h})}else{const u=eB(this.apiClient,e);return s=Y("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=nB(c),h=new Jx;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=TB(this.apiClient,e);return s=Y("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>dg(c))}else{const u=EB(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>cg(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=oF(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=sF(c),h=new Yx;return Object.assign(h,d),h})}else{const u=iF(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=aF(c),h=new Yx;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tF(this.apiClient,e);return s=Y("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=rF(c),h=new Xx;return Object.assign(h,d),h})}else{const u=eF(this.apiClient,e);return s=Y("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=nF(c),h=new Xx;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=W4(this.apiClient,e);return o=Y("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=K4(l),c=new _j;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$F(this.apiClient,e);return s=Y("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=RF(c),h=new ad;return Object.assign(h,d),h})}else{const u=MF(this.apiClient,e);return s=Y("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=OF(c),h=new ad;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x5 extends Mr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=fj(e);return s=Y("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=dj(e);return s=Y("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=ij(e);return o=Y("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _5(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function S5(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>O5(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function E5(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],N5(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function T5(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],E5(t,r,n)),n}function A5(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function C5(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function k5(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function P5(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function I5(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],l0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],S5(Rt(y)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let E=Ja(w);Array.isArray(E)&&(E=E.map(A=>M5(Ka(A)))),p(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],R5(b));const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function N5(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],I5(i,n)),n}function O5(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],A5(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],C5(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],_5(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function R5(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function M5(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],k5(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],P5(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $5(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function D5(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=$5(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class L5 extends Mr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=T5(this.apiClient,e);o=Y("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=D5(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j5(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function U5(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&j5(r,e),e}function F5(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function B5(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function G5(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&B5(r,e),e}function z5(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V5 extends Mr{constructor(e){super(),this.apiClient=e,this.list=async n=>new ao(kr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=F5(e);return o=Y("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=U5(e);i=Y("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=G5(e);return o=Y("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=z5(l),c=new Sj;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H5 extends Mr{constructor(e,n=new V5(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ao(kr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$B(e);return o=Y("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jB(e);return o=Y("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=LB(e);i=Y("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=VB(e);return o=Y("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=HB(l),c=new Ej;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=qB(e);return o=Y("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=WB(l),c=new Tj;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=BB(e);return o=Y("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=FB(l),c=new r0;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Uk=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Uk=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const q5=()=>Uk();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hg(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const pg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cn extends Error{}class Gt extends Cn{constructor(e,n,r,i){super(`${Gt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Bf({message:r,cause:pg(n)});const o=n;return e===400?new Bk(e,o,r,i):e===401?new Gk(e,o,r,i):e===403?new zk(e,o,r,i):e===404?new Vk(e,o,r,i):e===409?new Hk(e,o,r,i):e===422?new qk(e,o,r,i):e===429?new Wk(e,o,r,i):e>=500?new Kk(e,o,r,i):new Gt(e,o,r,i)}}class mg extends Gt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Bf extends Gt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Fk extends Bf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Bk extends Gt{}class Gk extends Gt{}class zk extends Gt{}class Vk extends Gt{}class Hk extends Gt{}class qk extends Gt{}class Wk extends Gt{}class Kk extends Gt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W5=/^[a-z][a-z0-9+.-]*:/i,K5=t=>W5.test(t);let gg=t=>(gg=Array.isArray,gg(t));const J5=gg;let Y5=J5;const w_=Y5;function X5(t){if(!t)return!0;for(const e in t)return!1;return!0}function Q5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Z5=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Cn(`${t} must be an integer`);if(e<0)throw new Cn(`${t} must be a positive integer`);return e},e3=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t3=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ko="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const r3=()=>{var t,e,n,r,i;const o=n3();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":x_(Deno.build.os),"X-Stainless-Arch":b_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":x_((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":b_((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=i3();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function i3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const b_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",x_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ku;const o3=()=>Ku??(Ku=r3());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Jk(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function s3(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Jk({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Yk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function l3(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u3=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xk=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function bp(t,e,n){return Xk(),new File(t,e??"unknown_file",n)}function c3(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const d3=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qk=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",f3=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Qk(t),h3=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function p3(t,e,n){if(Xk(),t=await t,f3(t))return t instanceof File?t:bp([await t.arrayBuffer()],t.name);if(h3(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),bp(await yg(i),e,n)}const r=await yg(t);if(e||(e=c3(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return bp(r,e,n)}async function yg(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(Qk(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(d3(t))try{for(var s=!0,l=qn(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;a.push(...await yg(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${m3(t)}`)}return a}function m3(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zk{constructor(e){this._client=e}}Zk._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eP(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const __=Object.freeze(Object.create(null)),g3=(t=eP)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,d,h)=>{var m,y,w;/[?#]/.test(d)&&(i=!0);const b=r[h];let v=(i?encodeURIComponent:t)(""+b);return h!==r.length&&(b==null||typeof b=="object"&&b.toString===((w=Object.getPrototypeOf((y=Object.getPrototypeOf((m=b.hasOwnProperty)!==null&&m!==void 0?m:__))!==null&&y!==void 0?y:__))===null||w===void 0?void 0:w.toString))&&(v=b+"",o.push({start:c.length+d.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":v)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,m)=>{const y=" ".repeat(m.start-c),w="^".repeat(m.length);return c=m.start+m.length,h+y+w},"");throw new Cn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},Ju=g3(eP);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tP extends Zk{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=ld(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Cn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Cn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ju`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Ju`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Ju`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=ld(o,["api_version"]);return this._client.get(Ju`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}tP._key=Object.freeze(["interactions"]);class nP extends tP{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y3(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Yu;function c0(t){let e;return(Yu??(e=new globalThis.TextEncoder,Yu=e.encode.bind(e)))(t)}let Xu;function S_(t){let e;return(Xu??(e=new globalThis.TextDecoder,Xu=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?c0(e):e;this.buffer=y3([this.buffer,n]);const r=[];let i;for(;(i=v3(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(S_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=S_(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Gf.NEWLINE_CHARS=new Set([`
`,"\r"]);Gf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function v3(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function w3(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ud={off:0,error:200,warn:300,info:400,debug:500},E_=(t,e,n)=>{if(t){if(Q5(ud,t))return t;Lt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ud))}`)}};function Ls(){}function Qu(t,e,n){return!e||ud[t]>ud[n]?Ls:e[t].bind(e)}const b3={error:Ls,warn:Ls,info:Ls,debug:Ls};let T_=new WeakMap;function Lt(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return b3;const i=T_.get(n);if(i&&i[0]===r)return i[1];const o={error:Qu("error",n,r),warn:Qu("warn",n,r),info:Qu("info",n,r),debug:Qu("debug",n,r)};return T_.set(n,[r,o]),o}const Ci=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vo{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Lt(r):console;function a(){return Hn(this,arguments,function*(){var l,u,c,d;if(i)throw new Cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,y=qn(x3(e,n)),w;w=yield se(y.next()),l=w.done,!l;m=!0){d=w.value,m=!1;const b=d;if(!h)if(b.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield se(JSON.parse(b.data))}catch(v){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),v}}}catch(b){u={error:b}}finally{try{!m&&!l&&(c=y.return)&&(yield se(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(b){if(hg(b))return yield se(void 0);throw b}finally{h||n.abort()}})}return new Vo(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Hn(this,arguments,function*(){var l,u,c,d;const h=new Gf,m=Yk(e);try{for(var y=!0,w=qn(m),b;b=yield se(w.next()),l=b.done,!l;y=!0){d=b.value,y=!1;const v=d;for(const x of h.decode(v))yield yield se(x)}}catch(v){u={error:v}}finally{try{!y&&!l&&(c=w.return)&&(yield se(c.call(w)))}finally{if(u)throw u.error}}for(const v of h.flush())yield yield se(v)})}function a(){return Hn(this,arguments,function*(){var l,u,c,d;if(i)throw new Cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,y=qn(o()),w;w=yield se(y.next()),l=w.done,!l;m=!0){d=w.value,m=!1;const b=d;h||b&&(yield yield se(JSON.parse(b)))}}catch(b){u={error:b}}finally{try{!m&&!l&&(c=y.return)&&(yield se(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(b){if(hg(b))return yield se(void 0);throw b}finally{h||n.abort()}})}return new Vo(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Vo(()=>i(e),this.controller,this.client),new Vo(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Jk({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=c0(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function x3(t,e){return Hn(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Cn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Cn("Attempted to iterate over a response with no body");const s=new S3,l=new Gf,u=Yk(t.body);try{for(var c=!0,d=qn(_3(u)),h;h=yield se(d.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const y of l.decode(m)){const w=s.decode(y);w&&(yield yield se(w))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=d.return)&&(yield se(o.call(d)))}finally{if(i)throw i.error}}for(const m of l.flush()){const y=s.decode(m);y&&(yield yield se(y))}})}function _3(t){return Hn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=qn(t),u;u=yield se(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?c0(c):c;let h=new Uint8Array(a.length+d.length);h.set(a),h.set(d,a.length),a=h;let m;for(;(m=w3(a))!==-1;)yield yield se(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield se(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield se(a))})}class S3{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=E3(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function E3(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function T3(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return Lt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Vo.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Lt(t).debug(`[${r}] response parsed`,Ci({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d0 extends Promise{constructor(e,n,r=T3){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new d0(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rP=Symbol("brand.privateNullableHeaders");function*A3(t){if(!t)return;if(rP in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():w_(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=w_(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const xs=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of A3(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[rP]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xp=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=QL)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var iP;class zf{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=xp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=xp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=ld(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:zf.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(a=(o=E_(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:E_(xp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:a3(),this.encoder=u3,this._options=m,this.apiKey=c,this.apiVersion=d,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=xs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return xs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return xs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Cn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ko}`}defaultIdempotencyKey(){return`stainless-node-retry-${q5()}`}makeStatusError(e,n,r,i){return Gt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=K5(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return X5(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new d0(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(Lt(this).debug(`[${h}] sending request`,Ci({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new mg;const w=new AbortController,b=await this.fetchWithTimeout(c,u,d,w).catch(pg),v=Date.now();if(b instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new mg;const T=hg(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Lt(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${_}`),Lt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${_})`,Ci({retryOfRequestLogID:r,url:c,durationMs:v-y,message:b.message})),this.retryRequest(s,n,r??h);throw Lt(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Lt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,Ci({retryOfRequestLogID:r,url:c,durationMs:v-y,message:b.message})),T?new Fk:new Bf({cause:b})}const x=`[${h}${m}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${v-y}ms`;if(!b.ok){const _=await this.shouldRetry(b);if(n&&_){const k=`retrying, ${n} attempts remaining`;return await l3(b.body),Lt(this).info(`${x} - ${k}`),Lt(this).debug(`[${h}] response error (${k})`,Ci({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:v-y})),this.retryRequest(s,n,r??h,b.headers)}const T=_?"error; no more retries left":"error; not retryable";Lt(this).info(`${x} - ${T}`);const S=await b.text().catch(k=>pg(k).message),E=e3(S),A=E?void 0:S;throw Lt(this).debug(`[${h}] response error (${T})`,Ci({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:A,durationMs:Date.now()-y})),this.makeStatusError(b.status,E,A,b.headers)}return Lt(this).info(x),Lt(this).debug(`[${h}] response start`,Ci({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:v-y})),{response:b,options:s,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=ld(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(d.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await t3(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=a,d=this.buildURL(l,u,c);"timeout"in a&&Z5("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),y=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:y},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=xs([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),o3()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=xs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:s3(e)}:this.encoder({body:e,headers:r})}}zf.DEFAULT_TIMEOUT=6e4;class yt extends zf{constructor(){super(...arguments),this.interactions=new nP(this)}}iP=yt;yt.GeminiNextGenAPIClient=iP;yt.GeminiNextGenAPIClientError=Cn;yt.APIError=Gt;yt.APIConnectionError=Bf;yt.APIConnectionTimeoutError=Fk;yt.APIUserAbortError=mg;yt.NotFoundError=Vk;yt.ConflictError=Hk;yt.RateLimitError=Wk;yt.BadRequestError=Bk;yt.AuthenticationError=Gk;yt.InternalServerError=Kk;yt.PermissionDeniedError=zk;yt.UnprocessableEntityError=qk;yt.toFile=p3;yt.Interactions=nP;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function k3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function P3(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function I3(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function N3(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function O3(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=f(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec"],A_(m))}else if(i==="PREFERENCE_TUNING"){const m=f(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec"],A_(m))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=f(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=f(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=f(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=f(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=f(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(c==="PREFERENCE_TUNING"){const m=f(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function R3(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&V3(o);const a=f(t,["config"]);return a!=null&&N3(a,n),n}function M3(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&H3(o,n,e);const a=f(t,["config"]);return a!=null&&O3(a,n,e),n}function $3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function D3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function L3(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function j3(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function U3(t,e){const n={},r=f(t,["config"]);return r!=null&&L3(r,n),n}function F3(t,e){const n={},r=f(t,["config"]);return r!=null&&j3(r,n),n}function B3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>oP(s))),p(n,["tuningJobs"],a)}return n}function G3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>vg(s))),p(n,["tuningJobs"],a)}return n}function z3(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function V3(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function H3(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function oP(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],xk(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],z3(h)),n}function vg(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],xk(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=f(t,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const y=f(t,["preTunedModel"]);y!=null&&p(n,["preTunedModel"],y);const w=f(t,["supervisedTuningSpec"]);w!=null&&p(n,["supervisedTuningSpec"],w);const b=f(t,["preferenceOptimizationSpec"]);b!=null&&p(n,["preferenceOptimizationSpec"],b);const v=f(t,["tuningDataStats"]);v!=null&&p(n,["tuningDataStats"],v);const x=f(t,["encryptionSpec"]);x!=null&&p(n,["encryptionSpec"],x);const _=f(t,["partnerModelTuningSpec"]);_!=null&&p(n,["partnerModelTuningSpec"],_);const T=f(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&p(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&p(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const C=f(t,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const k=f(t,["serviceAccount"]);k!=null&&p(n,["serviceAccount"],k);const O=f(t,["tunedModelDisplayName"]);O!=null&&p(n,["tunedModelDisplayName"],O);const N=f(t,["veoTuningSpec"]);return N!=null&&p(n,["veoTuningSpec"],N),n}function q3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["done"]);a!=null&&p(n,["done"],a);const s=f(t,["error"]);return s!=null&&p(n,["error"],s),n}function A_(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W3 extends Mr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ao(kr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:ag.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=D3(e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>vg(c))}else{const u=$3(e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>oP(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=F3(e);return s=Y("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=G3(c),h=new Qx;return Object.assign(h,d),h})}else{const u=U3(e);return s=Y("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=B3(c),h=new Qx;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=k3(e);return s=Y("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=I3(c),h=new Zx;return Object.assign(h,d),h})}else{const u=C3(e);return s=Y("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=P3(c),h=new Zx;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=M3(e,e);return o=Y("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>vg(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=R3(e);return o=Y("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>q3(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const J3=1024*1024*8,Y3=3,X3=1e3,Q3=2,cd="x-goog-upload-status";async function Z3(t,e,n){var r;const i=await aP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[cd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function eG(t,e,n){var r;const i=await aP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[cd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=mk(o),s=new i0;return Object.assign(s,a),s}async function aP(t,e,n){var r,i;let o=0,a=0,s=new sg(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(J3,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=X3;for(;d<Y3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[cd]));)d++,await nG(h),h=h*Q3;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[cd])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function tG(t){return{size:t.size,type:t.type}}function nG(t){return new Promise(e=>setTimeout(e,t))}class rG{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Z3(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eG(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tG(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iG{create(e,n,r){return new oG(e,n,r)}}class oG{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C_="x-goog-api-key";class aG{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(C_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(C_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sG="gl-node/";class sP{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new yt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=nj(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new aG(this.apiKey);this.apiClient=new t5({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:sG+"web",uploader:new rG,downloader:new K3}),this.models=new b5(this.apiClient),this.live=new p5(this.apiClient,i,new iG),this.batches=new NU(this.apiClient),this.chats=new f4(this.models,this.apiClient),this.caches=new u4(this.apiClient),this.files=new _4(this.apiClient),this.operations=new x5(this.apiClient),this.authTokens=new L5(this.apiClient),this.tunings=new W3(this.apiClient),this.fileSearchStores=new H5(this.apiClient)}}const lG=()=>"AIzaSyBe0v3rn4bATheRJCE77AmY58Op-tiJJVU",lP=()=>{const t=lG();return console.log("Gemini Key Detected:","Yes",`(Length: ${t.length})`),new sP({apiKey:t})},uP=`
You are an expert AI nutritionist and mathematical calculator. 

SCENARIO 1: IMAGE/TEXT ESTIMATION
- Analyze food descriptions or images.
- Provide a detailed "receipt" breakdown of every ingredient.
- Estimate weights in grams (g) and calculate nutrition.

SCENARIO 2: STRICT RECALCULATION (User provided weights)
- If a list of ingredients with specific weights (grams) is provided, you MUST act as a precise calculator.
- IGNORE your previous estimations.
- Use the provided weights as the ABSOLUTE GROUND TRUTH.
- Calculate calories and macros strictly based on these weights.
- Return the recalculated totals.
`,cP=t=>{const e=(t==null?void 0:t.message)||String(t)||"",n=e.toLowerCase();return e.includes("429")||n.includes("quota")||n.includes("limit")||n.includes("exhausted")?"AI Limit Reached: You've sent too many requests. Please wait about 60 seconds for the quota to reset.":n.includes("api key")?"Configuration Error: Invalid API key. Please check your settings.":n.includes("network")||n.includes("fetch")?"Connection Error: Please check your internet connection and try again.":e||"An unexpected AI error occurred."};async function f0(t,e=2,n=2e3){try{return await t()}catch(r){const i=(r==null?void 0:r.message)||"";if((i.includes("429")||i.toLowerCase().includes("quota"))&&e>0)return console.warn(`Gemini Quota hit. Retrying in ${n}ms... (${e} retries left)`),await new Promise(a=>setTimeout(a,n)),f0(t,e-1,n*2);throw r}}const uG=async t=>{try{return await f0(async()=>{const n=await lP().models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:"Analyze this image. Breakdown into ingredients, weights in grams, calories, and total nutrition."}]},config:{systemInstruction:uP,responseMimeType:"application/json",responseSchema:{type:ye.OBJECT,properties:{item:{type:ye.STRING},calories:{type:ye.INTEGER},protein:{type:ye.INTEGER},carbs:{type:ye.INTEGER},fat:{type:ye.INTEGER},confidence:{type:ye.NUMBER},ingredients:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{name:{type:ye.STRING},grams:{type:ye.INTEGER},calories:{type:ye.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(n.text||"{}")})}catch(e){throw console.error("Gemini Analysis Error:",e),new Error(cP(e))}},k_=async(t,e)=>{try{return await f0(async()=>{let n="";e&&e.length>0?n=`USER MANUAL WEIGHT CORRECTION:
        The following ingredients have been updated with exact weights. 
        Perform a mathematical calculation for the nutrition of each item based strictly on these grams:
        
        ${e.map(a=>`- ${a.name}: ${a.grams}g`).join(`
`)}
        
        CRITICAL: 
        1. Calculate calories/macros from scratch for each item.
        2. Sum the totals.
        3. Do not adjust the weights provided.
        4. Return the new AnalysisResult.`:n=`Estimate nutrition for: "${t}".`;const i=await lP().models.generateContent({model:"gemini-3-flash-preview",contents:[{parts:[{text:n}]}],config:{systemInstruction:uP,responseMimeType:"application/json",responseSchema:{type:ye.OBJECT,properties:{item:{type:ye.STRING},calories:{type:ye.INTEGER},protein:{type:ye.INTEGER},carbs:{type:ye.INTEGER},fat:{type:ye.INTEGER},confidence:{type:ye.NUMBER},ingredients:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{name:{type:ye.STRING},grams:{type:ye.INTEGER},calories:{type:ye.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(i.text||"{}")})}catch(n){throw console.error("Gemini Text Analysis Error:",n),new Error(cP(n))}};let Zu;const cG=new Uint8Array(16);function dG(){if(!Zu&&(Zu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zu(cG)}const xt=[];for(let t=0;t<256;++t)xt.push((t+256).toString(16).slice(1));function fG(t,e=0){return xt[t[e+0]]+xt[t[e+1]]+xt[t[e+2]]+xt[t[e+3]]+"-"+xt[t[e+4]]+xt[t[e+5]]+"-"+xt[t[e+6]]+xt[t[e+7]]+"-"+xt[t[e+8]]+xt[t[e+9]]+"-"+xt[t[e+10]]+xt[t[e+11]]+xt[t[e+12]]+xt[t[e+13]]+xt[t[e+14]]+xt[t[e+15]]}const hG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),P_={randomUUID:hG};function pG(t,e,n){if(P_.randomUUID&&!t)return P_.randomUUID();t=t||{};const r=t.random||(t.rng||dG)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,fG(r)}const mG=(t,e=600,n=150,r=!1)=>new Promise((i,o)=>{const a=t.size/1048576,s=new FileReader;s.readAsDataURL(t),s.onload=l=>{var c;const u=new Image;u.src=(c=l.target)==null?void 0:c.result,u.onload=()=>{const d=document.createElement("canvas");let h=u.width,m=u.height;h>e&&(m=e/h*m,h=e),d.width=h,d.height=m;const y=d.getContext("2d");y==null||y.drawImage(u,0,0,h,m);let w=.5,b=d.toDataURL("image/jpeg",w);const v=n*1024;if(b.split(",")[1].length*3/4>v&&(w=.35,b=d.toDataURL("image/jpeg",w),b.split(",")[1].length*3/4>v&&(w=.25,b=d.toDataURL("image/jpeg",w))),r){const T=b.split(",")[1].length*3/4/1024,S=(a*1024-T)/(a*1024)*100;console.log(` Image Optimization:
  Original: ${a.toFixed(2)}MB (${u.width}${u.height}px)
  Optimized: ${T.toFixed(0)}KB (${Math.round(h)}${Math.round(m)}px)
  Quality: ${(w*100).toFixed(0)}%
  Saved: ${S.toFixed(0)}% `)}i(b)},u.onerror=d=>o(d)},s.onerror=l=>o(l)}),dP=({onClose:t,onSuccess:e,editEntry:n})=>{const[r,i]=M.useState("scan"),[o,a]=M.useState(n?"details":"upload"),[s,l]=M.useState((n==null?void 0:n.imageUrl)||null),[u,c]=M.useState(!1),[d,h]=M.useState(!1),[m,y]=M.useState(!1),[w,b]=M.useState(null),v=M.useRef(null),[x,_]=M.useState(""),T=new Date,S=`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}`,[E,A]=M.useState((n==null?void 0:n.date)||T.toISOString().split("T")[0]),[C,k]=M.useState((n==null?void 0:n.time)||S),[O,N]=M.useState((n==null?void 0:n.food_item)||""),[I,$]=M.useState((n==null?void 0:n.calories.toString())||""),[L,U]=M.useState((n==null?void 0:n.protein.toString())||""),[j,G]=M.useState((n==null?void 0:n.carbs.toString())||""),[P,D]=M.useState((n==null?void 0:n.fat.toString())||""),[B,W]=M.useState((n==null?void 0:n.ingredients)||[]),[V,te]=M.useState((n==null?void 0:n.confidence)||null),[he,Ee]=M.useState((n==null?void 0:n.originalAiResponse)||null),Oe=async Z=>{if(Z.target.files&&Z.target.files[0]){const ke=Z.target.files[0];try{const it=await mG(ke,600,150,!0);l(it),b(null)}catch{b("Failed to process image.")}}},wt=async()=>{if(s){c(!0),b(null);try{const Z=s.split(",")[1],ke=await uG(Z);J(ke),Ee(ke),a("details")}catch(Z){b(Z.message)}finally{c(!1)}}},ht=async()=>{if(x.trim()){c(!0),b(null);try{const Z=await k_(x);J(Z),Ee(Z),a("details")}catch(Z){b(Z.message)}finally{c(!1)}}},J=Z=>{N(Z.item),$(Z.calories.toString()),U(Z.protein.toString()),G(Z.carbs.toString()),D(Z.fat.toString()),W(Z.ingredients||[]),te(Z.confidence)},ae=async()=>{h(!0),b(null);try{const Z=await k_(O,B);J(Z)}catch(Z){b(Z.message)}finally{h(!1)}},ue=(Z,ke,it)=>{const Dt=[...B];if(ke==="grams"||ke==="calories"){const hn=it===""?0:parseInt(it);Dt[Z]={...Dt[Z],[ke]:isNaN(hn)?0:hn}}else Dt[Z]={...Dt[Z],[ke]:it};W(Dt)},z=Z=>{W(B.filter((ke,it)=>it!==Z))},Ce=()=>{W([...B,{name:"",grams:100,calories:0}])},pe=async()=>{if(!O.trim()||!I){b("Please fill required fields.");return}try{const[Z,ke,it]=E.split("-").map(Number),[Dt,hn]=C.split(":").map(Number),po=new Date(Z,ke-1,it,Dt,hn);if(isNaN(po.getTime()))throw new Error("Invalid date or time selected.");const Tu=po.toISOString(),ds=Number(I),XO=Number(L)||0,QO=Number(j)||0,ZO=Number(P)||0;if(isNaN(ds))throw new Error("Calories must be a valid number.");const eR={id:(n==null?void 0:n.id)||pG(),timestamp:Tu,date:E,time:C,food_item:O,calories:ds,protein:XO,carbs:QO,fat:ZO,confidence:V||1,imageUrl:s||void 0,ingredients:B,originalAiResponse:he};y(!0),b(null),await dk(eR),e()}catch(Z){console.error("Save failed:",Z),b(Z.message||"Failed to save record.")}finally{y(!1)}},_e=w==null?void 0:w.includes("Limit Reached"),q=w==null?void 0:w.includes("Database Quota"),Ie=w==null?void 0:w.includes("Browser Storage Full");return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] p-6 shadow-2xl border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[o==="details"&&!n&&g.jsx("button",{onClick:()=>a("upload"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:g.jsx($C,{size:24,className:"text-gray-900 dark:text-gray-50"})}),g.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-gray-50 tracking-tight",children:n?"Edit Record":o==="upload"?"Track Meal":"Meal Receipt"})]}),g.jsx("button",{onClick:t,className:"p-2 bg-gray-100 dark:bg-white/5 rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:g.jsx(ya,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),w&&g.jsxs("div",{className:`mb-4 p-4 rounded-3xl flex flex-col gap-3 animate-in shake-1 duration-300 ${_e?"bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/30 text-amber-700 dark:text-amber-400":q||Ie?"bg-orange-50 dark:bg-orange-950/30 border border-orange-100 dark:border-orange-900/30 text-orange-700 dark:text-orange-400":"bg-red-50 dark:bg-red-950/20 border border-red-100 dark:border-red-900/30 text-red-600 dark:text-red-400"}`,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[_e?g.jsx(F2,{className:"shrink-0 mt-0.5",size:18}):q||Ie?g.jsx(LC,{className:"shrink-0 mt-0.5",size:18}):g.jsx(OC,{className:"shrink-0 mt-0.5",size:18}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:_e?"AI limit reached":Ie?"Phone Storage Full":q?"Cloud Storage Full":"Action Failed"}),g.jsx("p",{className:"text-xs font-semibold leading-relaxed",children:w})]})]}),!Ie&&(_e||!q)&&g.jsxs("button",{onClick:()=>{b(null),o==="upload"?wt():ae()},className:"w-full py-2 bg-white/50 dark:bg-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/80 dark:hover:bg-white/20 transition-all",children:[g.jsx(J2,{size:14})," Try Again"]}),Ie&&g.jsx("div",{className:"pt-2 border-t border-orange-200 dark:border-orange-900/40",children:g.jsx("p",{className:"text-[10px] font-medium text-orange-600/70 dark:text-orange-400/70 italic",children:"Tip: Photos take up the most space. Delete old entries in the History tab to free up browser storage."})})]}),o==="upload"?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-[20px]",children:[g.jsxs("button",{onClick:()=>i("scan"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="scan"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(Ks,{size:16}),"Scan"]}),g.jsxs("button",{onClick:()=>i("chat"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="chat"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(V2,{size:16}),"Chat"]}),g.jsxs("button",{onClick:()=>i("recipe"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="recipe"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(Zc,{size:16}),"Recipe"]})]}),r==="scan"&&g.jsxs(g.Fragment,{children:[s?g.jsxs("div",{className:"rounded-[32px] overflow-hidden h-64 relative mb-6 shadow-xl border border-white/10",children:[g.jsx("img",{src:s,className:"w-full h-full object-cover"}),g.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 bg-black/40 text-white p-2 rounded-full backdrop-blur-md",children:g.jsx(ya,{size:20})})]}):g.jsxs("div",{onClick:()=>{var Z;return(Z=v.current)==null?void 0:Z.click()},className:"border-2 border-dashed border-gray-200 dark:border-white/10 rounded-[32px] h-64 flex flex-col items-center justify-center cursor-pointer hover:border-royal-400 hover:bg-royal-50 dark:hover:bg-white/5 transition-all group",children:[g.jsx(Ks,{size:48,className:"text-gray-300 group-hover:text-royal-600 mb-4 transition-colors"}),g.jsx("p",{className:"text-gray-900 dark:text-gray-50 font-bold",children:"Snap or Upload Photo"}),g.jsx("p",{className:"text-gray-400 text-xs mt-1 italic",children:"Let AI do the calorie math"})]}),g.jsx("input",{type:"file",ref:v,accept:"image/*",onChange:Oe,className:"hidden"}),g.jsx(Ut,{className:"w-full py-5 text-lg font-black",disabled:!s||u,isLoading:u,onClick:wt,children:"Analyze Plate"})]}),r==="chat"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[g.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/40 p-5 rounded-[32px] border border-royal-100 dark:border-royal-900/30 transition-colors",children:[g.jsxs("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[g.jsx(li,{size:14})," Describe your meal"]}),g.jsx("textarea",{value:x,onChange:Z=>_(Z.target.value),placeholder:"e.g. I had two slices of pepperoni pizza and a small Caesar salad with Italian dressing.",rows:4,className:"w-full bg-transparent border-none outline-none text-gray-900 dark:text-white font-medium text-sm resize-none placeholder-gray-400 dark:placeholder-gray-600"})]}),g.jsx(Ut,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",disabled:!x.trim()||u,isLoading:u,onClick:ht,children:"Ask AI"})]}),r==="recipe"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 text-center py-6",children:[g.jsx(Zc,{size:40,className:"mx-auto text-royal-400 mb-2"}),g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Recipe Mode Coming Soon"}),g.jsx("p",{className:"text-xs font-medium text-gray-400 px-8",children:"For now, use Chat mode to describe your recipe ingredients for estimation."}),g.jsx(Ut,{className:"w-full py-3 mt-4 text-xs font-bold text-gray-400 hover:text-royal-500 bg-gray-50 dark:bg-white/5",onClick:()=>a("details"),children:"Enter Details Manually"})]}),r!=="recipe"&&g.jsx("button",{onClick:()=>a("details"),className:"w-full py-3 text-sm font-bold text-gray-400 dark:text-gray-600 hover:text-royal-500",children:"Enter Details Manually"})]}):g.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[g.jsxs("div",{className:"bg-royal-600 rounded-[32px] p-6 text-white shadow-xl shadow-royal-200 dark:shadow-none",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-royal-100 text-[10px] font-black uppercase tracking-widest mb-1",children:"Estimated Calories"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("input",{type:"number",value:I,onChange:Z=>$(Z.target.value),className:"bg-transparent text-4xl font-black w-24 outline-none border-b-2 border-white/20 focus:border-white transition-colors"}),g.jsx("span",{className:"text-xl font-bold opacity-70",children:"kcal"})]})]}),g.jsx("div",{className:"bg-white/20 p-3 rounded-2xl backdrop-blur-md",children:g.jsx(Bv,{size:24})})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[g.jsxs("span",{className:"text-xs font-black",children:[L,"g"]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Protein"})]}),g.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[g.jsxs("span",{className:"text-xs font-black",children:[j,"g"]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Carbs"})]}),g.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[g.jsxs("span",{className:"text-xs font-black",children:[P,"g"]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Fat"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[g.jsx(gu,{size:18,className:"text-royal-400"}),g.jsx("input",{type:"date",value:E,onChange:Z=>A(Z.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[g.jsx(DC,{size:18,className:"text-royal-400"}),g.jsx("input",{type:"time",value:C,onChange:Z=>k(Z.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Meal Title"}),g.jsx("input",{type:"text",value:O,onChange:Z=>N(Z.target.value),className:"w-full p-4 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-2xl font-bold dark:text-white mt-1"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-[32px] p-5 border border-gray-100 dark:border-white/5",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[g.jsx(li,{size:14,className:"text-royal-500"})," Ingredient Receipt"]}),g.jsx("button",{onClick:Ce,className:"text-royal-500 hover:text-royal-600",children:g.jsx(W2,{size:18})})]}),g.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto no-scrollbar pr-1",children:B.map((Z,ke)=>g.jsxs("div",{className:"flex items-center gap-2 group animate-in slide-in-from-left duration-200",children:[g.jsx("input",{type:"text",value:Z.name,onChange:it=>ue(ke,"name",it.target.value),className:"flex-1 bg-white dark:bg-white/10 p-2.5 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none focus:border-royal-300 dark:text-white",placeholder:"Ingredient"}),g.jsxs("div",{className:"relative w-20",children:[g.jsx("input",{type:"number",value:Z.grams===0?"":Z.grams,onChange:it=>ue(ke,"grams",it.target.value),className:"w-full bg-white dark:bg-white/10 p-2.5 pr-6 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none text-right dark:text-white"}),g.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[8px] font-black text-gray-400",children:"g"})]}),g.jsx("button",{onClick:()=>z(ke),className:"text-red-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(FC,{size:16})})]},ke))}),g.jsxs(Ut,{variant:"ghost",className:"w-full mt-4 py-3 text-[10px] font-black uppercase tracking-widest text-royal-600 bg-royal-100/50 hover:bg-royal-100",onClick:ae,isLoading:d,children:[g.jsx(Hm,{size:14,className:`mr-2 ${d?"animate-spin":""}`}),"Recalculate Totals"]})]}),g.jsx(Ut,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",onClick:pe,isLoading:m,disabled:m,children:n?"Update Record":"Save & Track"})]})]})})},gG=({currentGoal:t,onClose:e,onSave:n})=>{const[r,i]=M.useState(t.toString()),o=()=>{const a=parseInt(r,10);!isNaN(a)&&a>0&&n(a)};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white w-full max-w-xs rounded-[32px] p-6 shadow-2xl border border-white/50 animate-in zoom-in-95 duration-200",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-lg font-extrabold text-gray-900",children:"Daily Calorie Goal"}),g.jsx("button",{onClick:e,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:g.jsx(ya,{size:18,className:"text-gray-600"})})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Target Calories"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:r,onChange:a=>i(a.target.value),className:"w-full p-5 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 transition-all font-extrabold text-3xl text-center text-gray-900",autoFocus:!0}),g.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-bold",children:"kcal"})]})]}),g.jsx(Ut,{className:"w-full py-4 shadow-lg shadow-royal-200",onClick:o,children:"Update Goal"})]})})},fP=({entry:t,onClose:e,onDelete:n,onEdit:r})=>{const[i,o]=M.useState(!1),[a,s]=M.useState(!1),l=async()=>{confirm("Permanently remove this record?")&&(o(!0),await n(t.id),e())},u=async()=>{if(confirm("Remove the photo to save storage space? Nutritional data will be kept.")){s(!0);try{const c={...t,imageUrl:void 0};await dk(c),e(),window.dispatchEvent(new CustomEvent("food-entry-updated"))}catch(c){console.error("Failed to clear image",c)}finally{s(!1)}}};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 dark:bg-black/60 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl dark:shadow-black border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"relative h-64 bg-gray-100 dark:bg-white/5",children:[t.imageUrl?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"}),g.jsxs("button",{onClick:u,disabled:a,className:"absolute bottom-4 right-4 p-2.5 bg-white/20 hover:bg-white/40 text-white rounded-full backdrop-blur-md border border-white/20 transition-all flex items-center gap-2",title:"Remove photo to save space",children:[a?g.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):g.jsx(B2,{size:18}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Clear Image"})]})]}):g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 dark:text-gray-700",children:[g.jsx(Zc,{size:48,className:"mb-2 opacity-50"}),g.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"No Photo Attached"})]}),g.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 dark:bg-black/40 text-gray-900 dark:text-white rounded-full backdrop-blur-md hover:bg-white dark:hover:bg-black/60 shadow-lg transition-colors z-10",children:g.jsx(ya,{size:20})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent pointer-events-none"}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white pointer-events-none",children:[g.jsx("h2",{className:"text-3xl font-black leading-tight tracking-tight",children:t.food_item}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-white/70 font-bold mt-2",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(gu,{size:14})," ",t.date]}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(DC,{size:14})," ",t.time]})]})]})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[g.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/20 p-3 rounded-2xl flex flex-col items-center border border-royal-100/50",children:[g.jsx("span",{className:"text-lg font-black text-royal-600",children:t.calories}),g.jsx("span",{className:"text-[8px] font-black uppercase text-royal-400",children:"kcal"})]}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/20 p-3 rounded-2xl flex flex-col items-center border border-emerald-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-emerald-600",children:[t.protein,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-emerald-400",children:"Prot"})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-2xl flex flex-col items-center border border-blue-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-blue-600",children:[t.carbs,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-blue-400",children:"Carb"})]}),g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 p-3 rounded-2xl flex flex-col items-center border border-orange-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-orange-600",children:[t.fat,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-orange-400",children:"Fat"})]})]}),t.ingredients&&t.ingredients.length>0&&g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-3xl p-6 border border-gray-100 dark:border-white/5",children:[g.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[g.jsx(G2,{size:14})," Ingredient Receipt"]}),g.jsx("div",{className:"space-y-3",children:t.ingredients.map((c,d)=>g.jsxs("div",{className:"flex justify-between items-center text-sm font-bold border-b border-gray-100 dark:border-white/5 pb-2 last:border-0 last:pb-0",children:[g.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c.name}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:"text-gray-400",children:[c.grams,"g"]}),g.jsxs("span",{className:"text-royal-500 text-xs w-12 text-right",children:[c.calories,"cal"]})]})]},d))})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs(Ut,{variant:"ghost",className:"flex-1 text-red-500 py-4 font-black",onClick:l,isLoading:i,children:[g.jsx(FC,{size:18,className:"mr-2"})," Delete"]}),g.jsxs(Ut,{className:"flex-[2] py-4 font-black shadow-lg shadow-royal-200",onClick:()=>r(t),children:[g.jsx(jC,{size:18,className:"mr-2"})," Edit Meal"]})]})]})]})})};var yG=Array.isArray,Qt=yG,vG=typeof Au=="object"&&Au&&Au.Object===Object&&Au,hP=vG,wG=hP,bG=typeof self=="object"&&self&&self.Object===Object&&self,xG=wG||bG||Function("return this")(),dr=xG,_G=dr,SG=_G.Symbol,wu=SG,I_=wu,pP=Object.prototype,EG=pP.hasOwnProperty,TG=pP.toString,_s=I_?I_.toStringTag:void 0;function AG(t){var e=EG.call(t,_s),n=t[_s];try{t[_s]=void 0;var r=!0}catch{}var i=TG.call(t);return r&&(e?t[_s]=n:delete t[_s]),i}var CG=AG,kG=Object.prototype,PG=kG.toString;function IG(t){return PG.call(t)}var NG=IG,N_=wu,OG=CG,RG=NG,MG="[object Null]",$G="[object Undefined]",O_=N_?N_.toStringTag:void 0;function DG(t){return t==null?t===void 0?$G:MG:O_&&O_ in Object(t)?OG(t):RG(t)}var Dr=DG;function LG(t){return t!=null&&typeof t=="object"}var Lr=LG,jG=Dr,UG=Lr,FG="[object Symbol]";function BG(t){return typeof t=="symbol"||UG(t)&&jG(t)==FG}var Xa=BG,GG=Qt,zG=Xa,VG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HG=/^\w*$/;function qG(t,e){if(GG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||zG(t)?!0:HG.test(t)||!VG.test(t)||e!=null&&t in Object(e)}var h0=qG;function WG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gi=WG;const Qa=De(gi);var KG=Dr,JG=gi,YG="[object AsyncFunction]",XG="[object Function]",QG="[object GeneratorFunction]",ZG="[object Proxy]";function ez(t){if(!JG(t))return!1;var e=KG(t);return e==XG||e==QG||e==YG||e==ZG}var p0=ez;const fe=De(p0);var tz=dr,nz=tz["__core-js_shared__"],rz=nz,_p=rz,R_=function(){var t=/[^.]+$/.exec(_p&&_p.keys&&_p.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function iz(t){return!!R_&&R_ in t}var oz=iz,az=Function.prototype,sz=az.toString;function lz(t){if(t!=null){try{return sz.call(t)}catch{}try{return t+""}catch{}}return""}var mP=lz,uz=p0,cz=oz,dz=gi,fz=mP,hz=/[\\^$.*+?()[\]{}|]/g,pz=/^\[object .+?Constructor\]$/,mz=Function.prototype,gz=Object.prototype,yz=mz.toString,vz=gz.hasOwnProperty,wz=RegExp("^"+yz.call(vz).replace(hz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bz(t){if(!dz(t)||cz(t))return!1;var e=uz(t)?wz:pz;return e.test(fz(t))}var xz=bz;function _z(t,e){return t==null?void 0:t[e]}var Sz=_z,Ez=xz,Tz=Sz;function Az(t,e){var n=Tz(t,e);return Ez(n)?n:void 0}var so=Az,Cz=so,kz=Cz(Object,"create"),Vf=kz,M_=Vf;function Pz(){this.__data__=M_?M_(null):{},this.size=0}var Iz=Pz;function Nz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Oz=Nz,Rz=Vf,Mz="__lodash_hash_undefined__",$z=Object.prototype,Dz=$z.hasOwnProperty;function Lz(t){var e=this.__data__;if(Rz){var n=e[t];return n===Mz?void 0:n}return Dz.call(e,t)?e[t]:void 0}var jz=Lz,Uz=Vf,Fz=Object.prototype,Bz=Fz.hasOwnProperty;function Gz(t){var e=this.__data__;return Uz?e[t]!==void 0:Bz.call(e,t)}var zz=Gz,Vz=Vf,Hz="__lodash_hash_undefined__";function qz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Vz&&e===void 0?Hz:e,this}var Wz=qz,Kz=Iz,Jz=Oz,Yz=jz,Xz=zz,Qz=Wz;function Za(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Za.prototype.clear=Kz;Za.prototype.delete=Jz;Za.prototype.get=Yz;Za.prototype.has=Xz;Za.prototype.set=Qz;var Zz=Za;function eV(){this.__data__=[],this.size=0}var tV=eV;function nV(t,e){return t===e||t!==t&&e!==e}var m0=nV,rV=m0;function iV(t,e){for(var n=t.length;n--;)if(rV(t[n][0],e))return n;return-1}var Hf=iV,oV=Hf,aV=Array.prototype,sV=aV.splice;function lV(t){var e=this.__data__,n=oV(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():sV.call(e,n,1),--this.size,!0}var uV=lV,cV=Hf;function dV(t){var e=this.__data__,n=cV(e,t);return n<0?void 0:e[n][1]}var fV=dV,hV=Hf;function pV(t){return hV(this.__data__,t)>-1}var mV=pV,gV=Hf;function yV(t,e){var n=this.__data__,r=gV(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var vV=yV,wV=tV,bV=uV,xV=fV,_V=mV,SV=vV;function es(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}es.prototype.clear=wV;es.prototype.delete=bV;es.prototype.get=xV;es.prototype.has=_V;es.prototype.set=SV;var qf=es,EV=so,TV=dr,AV=EV(TV,"Map"),g0=AV,$_=Zz,CV=qf,kV=g0;function PV(){this.size=0,this.__data__={hash:new $_,map:new(kV||CV),string:new $_}}var IV=PV;function NV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var OV=NV,RV=OV;function MV(t,e){var n=t.__data__;return RV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Wf=MV,$V=Wf;function DV(t){var e=$V(this,t).delete(t);return this.size-=e?1:0,e}var LV=DV,jV=Wf;function UV(t){return jV(this,t).get(t)}var FV=UV,BV=Wf;function GV(t){return BV(this,t).has(t)}var zV=GV,VV=Wf;function HV(t,e){var n=VV(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var qV=HV,WV=IV,KV=LV,JV=FV,YV=zV,XV=qV;function ts(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ts.prototype.clear=WV;ts.prototype.delete=KV;ts.prototype.get=JV;ts.prototype.has=YV;ts.prototype.set=XV;var y0=ts,gP=y0,QV="Expected a function";function v0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(QV);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(v0.Cache||gP),n}v0.Cache=gP;var yP=v0;const ZV=De(yP);var eH=yP,tH=500;function nH(t){var e=eH(t,function(r){return n.size===tH&&n.clear(),r}),n=e.cache;return e}var rH=nH,iH=rH,oH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aH=/\\(\\)?/g,sH=iH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(oH,function(n,r,i,o){e.push(i?o.replace(aH,"$1"):r||n)}),e}),lH=sH;function uH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var w0=uH,D_=wu,cH=w0,dH=Qt,fH=Xa,L_=D_?D_.prototype:void 0,j_=L_?L_.toString:void 0;function vP(t){if(typeof t=="string")return t;if(dH(t))return cH(t,vP)+"";if(fH(t))return j_?j_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var hH=vP,pH=hH;function mH(t){return t==null?"":pH(t)}var wP=mH,gH=Qt,yH=h0,vH=lH,wH=wP;function bH(t,e){return gH(t)?t:yH(t,e)?[t]:vH(wH(t))}var bP=bH,xH=Xa;function _H(t){if(typeof t=="string"||xH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Kf=_H,SH=bP,EH=Kf;function TH(t,e){e=SH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[EH(e[n++])];return n&&n==r?t:void 0}var b0=TH,AH=b0;function CH(t,e,n){var r=t==null?void 0:AH(t,e);return r===void 0?n:r}var xP=CH;const En=De(xP);function kH(t){return t==null}var PH=kH;const le=De(PH);var IH=Dr,NH=Qt,OH=Lr,RH="[object String]";function MH(t){return typeof t=="string"||!NH(t)&&OH(t)&&IH(t)==RH}var $H=MH;const Zi=De($H);var _P={exports:{}},Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0=Symbol.for("react.element"),_0=Symbol.for("react.portal"),Jf=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),Qf=Symbol.for("react.provider"),Zf=Symbol.for("react.context"),DH=Symbol.for("react.server_context"),eh=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),nh=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),ih=Symbol.for("react.lazy"),LH=Symbol.for("react.offscreen"),SP;SP=Symbol.for("react.module.reference");function Pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case x0:switch(t=t.type,t){case Jf:case Xf:case Yf:case th:case nh:return t;default:switch(t=t&&t.$$typeof,t){case DH:case Zf:case eh:case ih:case rh:case Qf:return t;default:return e}}case _0:return e}}}Ae.ContextConsumer=Zf;Ae.ContextProvider=Qf;Ae.Element=x0;Ae.ForwardRef=eh;Ae.Fragment=Jf;Ae.Lazy=ih;Ae.Memo=rh;Ae.Portal=_0;Ae.Profiler=Xf;Ae.StrictMode=Yf;Ae.Suspense=th;Ae.SuspenseList=nh;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(t){return Pn(t)===Zf};Ae.isContextProvider=function(t){return Pn(t)===Qf};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===x0};Ae.isForwardRef=function(t){return Pn(t)===eh};Ae.isFragment=function(t){return Pn(t)===Jf};Ae.isLazy=function(t){return Pn(t)===ih};Ae.isMemo=function(t){return Pn(t)===rh};Ae.isPortal=function(t){return Pn(t)===_0};Ae.isProfiler=function(t){return Pn(t)===Xf};Ae.isStrictMode=function(t){return Pn(t)===Yf};Ae.isSuspense=function(t){return Pn(t)===th};Ae.isSuspenseList=function(t){return Pn(t)===nh};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jf||t===Xf||t===Yf||t===th||t===nh||t===LH||typeof t=="object"&&t!==null&&(t.$$typeof===ih||t.$$typeof===rh||t.$$typeof===Qf||t.$$typeof===Zf||t.$$typeof===eh||t.$$typeof===SP||t.getModuleId!==void 0)};Ae.typeOf=Pn;_P.exports=Ae;var jH=_P.exports,UH=Dr,FH=Lr,BH="[object Number]";function GH(t){return typeof t=="number"||FH(t)&&UH(t)==BH}var EP=GH;const zH=De(EP);var VH=EP;function HH(t){return VH(t)&&t!=+t}var qH=HH;const ns=De(qH);var Gn=function(e){return e===0?0:e>0?1:-1},Li=function(e){return Zi(e)&&e.indexOf("%")===e.length-1},K=function(e){return zH(e)&&!ns(e)},WH=function(e){return le(e)},ct=function(e){return K(e)||Zi(e)},KH=0,lo=function(e){var n=++KH;return"".concat(e||"").concat(n)},eo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!K(e)&&!Zi(e))return r;var o;if(Li(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ns(o)&&(o=r),i&&o>n&&(o=n),o},Po=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},JH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ze=function(e,n){return K(e)&&K(n)?function(r){return e+r*(n-e)}:function(){return n}};function dd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):En(r,e))===n})}var YH=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,l=-1/0,u=0,c=0,d=0;d<n;d++)u=e[d].cx||0,c=e[d].cy||0,r+=u,i+=c,o+=u*c,a+=u*u,s=Math.min(s,u),l=Math.max(l,u);var h=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:l,a:h,b:(i-h*r)/n}},XH=function(e,n){return K(e)&&K(n)?e-n:Zi(e)&&Zi(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function oa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}var QH=["viewBox","children"],ZH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],U_=["points","pathLength"],Sp={svg:QH,polygon:U_,polyline:U_},S0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!Qa(r))return null;var i={};return Object.keys(r).forEach(function(o){S0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},eq=function(e,n,r){return function(i){return e(n,r,i),null}},Pl=function(e,n,r){if(!Qa(e)||wg(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];S0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=eq(a,n,r))}),i},tq=["children"],nq=["children"];function F_(t,e){if(t==null)return{};var n=rq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}var B_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},G_=null,Ep=null,E0=function t(e){if(e===G_&&Array.isArray(Ep))return Ep;var n=[];return M.Children.forEach(e,function(r){le(r)||(jH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ep=n,G_=e,n};function Xt(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return xr(i)}):r=[xr(e)],E0(t).forEach(function(i){var o=En(i,"type.displayName")||En(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function rn(t,e){var n=Xt(t,e);return n&&n[0]}var z_=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!K(r)||r<=0||!K(i)||i<=0)},iq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oq=function(e){return e&&e.type&&Zi(e.type)&&iq.indexOf(e.type)>=0},TP=function(e){return e&&bg(e)==="object"&&"clipDot"in e},aq=function(e,n,r,i){var o,a=(o=Sp==null?void 0:Sp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!fe(e)&&(i&&a.includes(n)||ZH.includes(n))||r&&S0.includes(n)},ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!Qa(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;aq((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},xg=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return V_(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!V_(o,a))return!1}return!0},V_=function(e,n){if(le(e)&&le(n))return!0;if(!le(e)&&!le(n)){var r=e.props||{},i=r.children,o=F_(r,tq),a=n.props||{},s=a.children,l=F_(a,nq);return i&&s?oa(o,l)&&xg(i,s):!i&&!s?oa(o,l):!1}return!1},H_=function(e,n){var r=[],i={};return E0(e).forEach(function(o,a){if(oq(o))r.push(o);else if(o){var s=xr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},sq=function(e){var n=e&&e.type;return n&&B_[n]?B_[n]:null},lq=function(e,n){return E0(n).indexOf(e)},uq=["children","width","height","viewBox","className","style","title","desc"];function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(this,arguments)}function cq(t,e){if(t==null)return{};var n=dq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sg(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=cq(t,uq),c=i||{width:n,height:r,x:0,y:0},d=de("recharts-surface",o);return R.createElement("svg",_g({},ce(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),R.createElement("title",null,s),R.createElement("desc",null,l),e)}var fq=["children","className"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function hq(t,e){if(t==null)return{};var n=pq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xe=R.forwardRef(function(t,e){var n=t.children,r=t.className,i=hq(t,fq),o=de("recharts-layer",r);return R.createElement("g",Eg({className:o},ce(i,!0),{ref:e}),n)}),Vi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function mq(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var gq=mq,yq=gq;function vq(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:yq(t,e,n)}var wq=vq,bq="\\ud800-\\udfff",xq="\\u0300-\\u036f",_q="\\ufe20-\\ufe2f",Sq="\\u20d0-\\u20ff",Eq=xq+_q+Sq,Tq="\\ufe0e\\ufe0f",Aq="\\u200d",Cq=RegExp("["+Aq+bq+Eq+Tq+"]");function kq(t){return Cq.test(t)}var AP=kq;function Pq(t){return t.split("")}var Iq=Pq,CP="\\ud800-\\udfff",Nq="\\u0300-\\u036f",Oq="\\ufe20-\\ufe2f",Rq="\\u20d0-\\u20ff",Mq=Nq+Oq+Rq,$q="\\ufe0e\\ufe0f",Dq="["+CP+"]",Tg="["+Mq+"]",Ag="\\ud83c[\\udffb-\\udfff]",Lq="(?:"+Tg+"|"+Ag+")",kP="[^"+CP+"]",PP="(?:\\ud83c[\\udde6-\\uddff]){2}",IP="[\\ud800-\\udbff][\\udc00-\\udfff]",jq="\\u200d",NP=Lq+"?",OP="["+$q+"]?",Uq="(?:"+jq+"(?:"+[kP,PP,IP].join("|")+")"+OP+NP+")*",Fq=OP+NP+Uq,Bq="(?:"+[kP+Tg+"?",Tg,PP,IP,Dq].join("|")+")",Gq=RegExp(Ag+"(?="+Ag+")|"+Bq+Fq,"g");function zq(t){return t.match(Gq)||[]}var Vq=zq,Hq=Iq,qq=AP,Wq=Vq;function Kq(t){return qq(t)?Wq(t):Hq(t)}var Jq=Kq,Yq=wq,Xq=AP,Qq=Jq,Zq=wP;function e6(t){return function(e){e=Zq(e);var n=Xq(e)?Qq(e):void 0,r=n?n[0]:e.charAt(0),i=n?Yq(n,1).join(""):e.slice(1);return r[t]()+i}}var t6=e6,n6=t6,r6=n6("toUpperCase"),i6=r6;const oh=De(i6);function Me(t){return function(){return t}}const RP=Math.cos,hd=Math.sin,Xn=Math.sqrt,pd=Math.PI,ah=2*pd,Cg=Math.PI,kg=2*Cg,ki=1e-6,o6=kg-ki;function MP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function a6(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class s6{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MP:a6(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ki)if(!(Math.abs(d*l-u*c)>ki)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=i-s,w=l*l+u*u,b=m*m+y*y,v=Math.sqrt(w),x=Math.sqrt(h),_=o*Math.tan((Cg-Math.acos((w+h-b)/(2*v*x)))/2),T=_/x,S=_/v;Math.abs(T-1)>ki&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*m>c*y)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ki||Math.abs(this._y1-c)>ki)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%kg+kg),h>o6?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>ki&&this._append`A${r},${r},0,${+(h>=Cg)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function T0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new s6(e)}function A0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $P(t){this._context=t}$P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sh(t){return new $P(t)}function DP(t){return t[0]}function LP(t){return t[1]}function jP(t,e){var n=Me(!0),r=null,i=sh,o=null,a=T0(s);t=typeof t=="function"?t:t===void 0?DP:Me(t),e=typeof e=="function"?e:e===void 0?LP:Me(e);function s(l){var u,c=(l=A0(l)).length,d,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Me(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function ec(t,e,n){var r=null,i=Me(!0),o=null,a=sh,s=null,l=T0(u);t=typeof t=="function"?t:t===void 0?DP:Me(+t),e=typeof e=="function"?e:Me(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?LP:Me(+n);function u(d){var h,m,y,w=(d=A0(d)).length,b,v=!1,x,_=new Array(w),T=new Array(w);for(o==null&&(s=a(x=l())),h=0;h<=w;++h){if(!(h<w&&i(b=d[h],h,d))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=m;--y)s.point(_[y],T[y]);s.lineEnd(),s.areaEnd()}v&&(_[h]=+t(b,h,d),T[h]=+e(b,h,d),s.point(r?+r(b,h,d):_[h],n?+n(b,h,d):T[h]))}if(x)return s=null,x+""||null}function c(){return jP().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Me(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Me(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Me(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class UP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function l6(t){return new UP(t,!0)}function u6(t){return new UP(t,!1)}const C0={draw(t,e){const n=Xn(e/pd);t.moveTo(n,0),t.arc(0,0,n,0,ah)}},c6={draw(t,e){const n=Xn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},FP=Xn(1/3),d6=FP*2,f6={draw(t,e){const n=Xn(e/d6),r=n*FP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},h6={draw(t,e){const n=Xn(e),r=-n/2;t.rect(r,r,n,n)}},p6=.8908130915292852,BP=hd(pd/10)/hd(7*pd/10),m6=hd(ah/10)*BP,g6=-RP(ah/10)*BP,y6={draw(t,e){const n=Xn(e*p6),r=m6*n,i=g6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ah*o/5,s=RP(a),l=hd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Tp=Xn(3),v6={draw(t,e){const n=-Xn(e/(Tp*3));t.moveTo(0,n*2),t.lineTo(-Tp*n,-n),t.lineTo(Tp*n,-n),t.closePath()}},pn=-.5,mn=Xn(3)/2,Pg=1/Xn(12),w6=(Pg/2+1)*3,b6={draw(t,e){const n=Xn(e/w6),r=n/2,i=n*Pg,o=r,a=n*Pg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(pn*r-mn*i,mn*r+pn*i),t.lineTo(pn*o-mn*a,mn*o+pn*a),t.lineTo(pn*s-mn*l,mn*s+pn*l),t.lineTo(pn*r+mn*i,pn*i-mn*r),t.lineTo(pn*o+mn*a,pn*a-mn*o),t.lineTo(pn*s+mn*l,pn*l-mn*s),t.closePath()}};function x6(t,e){let n=null,r=T0(i);t=typeof t=="function"?t:Me(t||C0),e=typeof e=="function"?e:Me(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Me(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Me(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function md(){}function gd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function GP(t){this._context=t}GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _6(t){return new GP(t)}function zP(t){this._context=t}zP.prototype={areaStart:md,areaEnd:md,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function S6(t){return new zP(t)}function VP(t){this._context=t}VP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function E6(t){return new VP(t)}function HP(t){this._context=t}HP.prototype={areaStart:md,areaEnd:md,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function T6(t){return new HP(t)}function q_(t){return t<0?-1:1}function W_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(q_(o)+q_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function K_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ap(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function yd(t){this._context=t}yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ap(this,this._t0,K_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ap(this,K_(this,n=W_(this,t,e)),n);break;default:Ap(this,this._t0,n=W_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function qP(t){this._context=new WP(t)}(qP.prototype=Object.create(yd.prototype)).point=function(t,e){yd.prototype.point.call(this,e,t)};function WP(t){this._context=t}WP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function A6(t){return new yd(t)}function C6(t){return new qP(t)}function KP(t){this._context=t}KP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=J_(t),i=J_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function J_(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function k6(t){return new KP(t)}function lh(t,e){this._context=t,this._t=e}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function P6(t){return new lh(t,.5)}function I6(t){return new lh(t,0)}function N6(t){return new lh(t,1)}function wa(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ig(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function O6(t,e){return t[e]}function R6(t){const e=[];return e.key=t,e}function M6(){var t=Me([]),e=Ig,n=wa,r=O6;function i(o){var a=Array.from(t.apply(this,arguments),R6),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=A0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Me(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Me(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ig:typeof o=="function"?o:Me(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??wa,i):n},i}function $6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}wa(t,e)}}function D6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}wa(t,e)}}function L6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,m=(d-h)/2,y=0;y<s;++y){var w=t[e[y]],b=w[r][1]||0,v=w[r-1][1]||0;m+=b-v}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,wa(t,e)}}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}var j6=["type","size","sizeType"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function Y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(n),!0).forEach(function(r){U6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U6(t,e,n){return e=F6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F6(t){var e=B6(t,"string");return Il(e)=="symbol"?e:e+""}function B6(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G6(t,e){if(t==null)return{};var n=z6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var JP={symbolCircle:C0,symbolCross:c6,symbolDiamond:f6,symbolSquare:h6,symbolStar:y6,symbolTriangle:v6,symbolWye:b6},V6=Math.PI/180,H6=function(e){var n="symbol".concat(oh(e));return JP[n]||C0},q6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*V6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},W6=function(e,n){JP["symbol".concat(oh(e))]=n},uh=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=G6(e,j6),u=X_(X_({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=H6(r),v=x6().type(b).size(q6(o,s,r));return v()},d=u.className,h=u.cx,m=u.cy,y=ce(u,!0);return h===+h&&m===+m&&o===+o?R.createElement("path",Ng({},y,{className:de("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};uh.registerSymbol=W6;function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){Nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XP(r.key),r)}}function X6(t,e,n){return e&&Y6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q6(t,e,n){return e=vd(e),Z6(t,YP()?Reflect.construct(e,n||[],vd(t).constructor):e.apply(t,n))}function Z6(t,e){if(e&&(ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e8(t)}function e8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!t})()}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(t)}function t8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rg(t,e)}function Rg(t,e){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rg(t,e)}function Nl(t,e,n){return e=XP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XP(t){var e=n8(t,"string");return ba(e)=="symbol"?e:e+""}function n8(t,e){if(ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gn=32,k0=function(t){function e(){return J6(this,e),Q6(this,e,arguments)}return t8(e,t),X6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=gn/2,a=gn/6,s=gn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:gn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(gn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return R.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(gn/8,"h").concat(gn,"v").concat(gn*3/4,"h").concat(-gn,"z"),className:"recharts-legend-icon"});if(R.isValidElement(r.legendIcon)){var u=K6({},r);return delete u.legendIcon,R.cloneElement(r.legendIcon,u)}return R.createElement(uh,{fill:l,cx:o,cy:o,size:gn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:gn,height:gn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var w=m.formatter||l,b=de(Nl(Nl({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=fe(m.value)?null:m.value;Vi(!fe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return R.createElement("li",Og({className:b,style:d,key:"legend-item-".concat(y)},Pl(r.props,m,y)),R.createElement(Sg,{width:a,height:a,viewBox:c,style:h},r.renderIcon(m)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w?w(v,m,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);Nl(k0,"displayName","Legend");Nl(k0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var r8=qf;function i8(){this.__data__=new r8,this.size=0}var o8=i8;function a8(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var s8=a8;function l8(t){return this.__data__.get(t)}var u8=l8;function c8(t){return this.__data__.has(t)}var d8=c8,f8=qf,h8=g0,p8=y0,m8=200;function g8(t,e){var n=this.__data__;if(n instanceof f8){var r=n.__data__;if(!h8||r.length<m8-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new p8(r)}return n.set(t,e),this.size=n.size,this}var y8=g8,v8=qf,w8=o8,b8=s8,x8=u8,_8=d8,S8=y8;function rs(t){var e=this.__data__=new v8(t);this.size=e.size}rs.prototype.clear=w8;rs.prototype.delete=b8;rs.prototype.get=x8;rs.prototype.has=_8;rs.prototype.set=S8;var QP=rs,E8="__lodash_hash_undefined__";function T8(t){return this.__data__.set(t,E8),this}var A8=T8;function C8(t){return this.__data__.has(t)}var k8=C8,P8=y0,I8=A8,N8=k8;function wd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new P8;++e<n;)this.add(t[e])}wd.prototype.add=wd.prototype.push=I8;wd.prototype.has=N8;var ZP=wd;function O8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var eI=O8;function R8(t,e){return t.has(e)}var tI=R8,M8=ZP,$8=eI,D8=tI,L8=1,j8=2;function U8(t,e,n,r,i,o){var a=n&L8,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,m=n&j8?new M8:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var y=t[d],w=e[d];if(r)var b=a?r(w,y,d,e,t,o):r(y,w,d,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(m){if(!$8(e,function(v,x){if(!D8(m,x)&&(y===v||i(y,v,n,r,o)))return m.push(x)})){h=!1;break}}else if(!(y===w||i(y,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var nI=U8,F8=dr,B8=F8.Uint8Array,G8=B8;function z8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var V8=z8;function H8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var P0=H8,Z_=wu,eS=G8,q8=m0,W8=nI,K8=V8,J8=P0,Y8=1,X8=2,Q8="[object Boolean]",Z8="[object Date]",eW="[object Error]",tW="[object Map]",nW="[object Number]",rW="[object RegExp]",iW="[object Set]",oW="[object String]",aW="[object Symbol]",sW="[object ArrayBuffer]",lW="[object DataView]",tS=Z_?Z_.prototype:void 0,Cp=tS?tS.valueOf:void 0;function uW(t,e,n,r,i,o,a){switch(n){case lW:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case sW:return!(t.byteLength!=e.byteLength||!o(new eS(t),new eS(e)));case Q8:case Z8:case nW:return q8(+t,+e);case eW:return t.name==e.name&&t.message==e.message;case rW:case oW:return t==e+"";case tW:var s=K8;case iW:var l=r&Y8;if(s||(s=J8),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=X8,a.set(t,e);var c=W8(s(t),s(e),r,i,o,a);return a.delete(t),c;case aW:if(Cp)return Cp.call(t)==Cp.call(e)}return!1}var cW=uW;function dW(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var rI=dW,fW=rI,hW=Qt;function pW(t,e,n){var r=e(t);return hW(t)?r:fW(r,n(t))}var mW=pW;function gW(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var yW=gW;function vW(){return[]}var wW=vW,bW=yW,xW=wW,_W=Object.prototype,SW=_W.propertyIsEnumerable,nS=Object.getOwnPropertySymbols,EW=nS?function(t){return t==null?[]:(t=Object(t),bW(nS(t),function(e){return SW.call(t,e)}))}:xW,TW=EW;function AW(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var CW=AW,kW=Dr,PW=Lr,IW="[object Arguments]";function NW(t){return PW(t)&&kW(t)==IW}var OW=NW,rS=OW,RW=Lr,iI=Object.prototype,MW=iI.hasOwnProperty,$W=iI.propertyIsEnumerable,DW=rS(function(){return arguments}())?rS:function(t){return RW(t)&&MW.call(t,"callee")&&!$W.call(t,"callee")},I0=DW,bd={exports:{}};function LW(){return!1}var jW=LW;bd.exports;(function(t,e){var n=dr,r=jW,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(bd,bd.exports);var oI=bd.exports,UW=9007199254740991,FW=/^(?:0|[1-9]\d*)$/;function BW(t,e){var n=typeof t;return e=e??UW,!!e&&(n=="number"||n!="symbol"&&FW.test(t))&&t>-1&&t%1==0&&t<e}var N0=BW,GW=9007199254740991;function zW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=GW}var O0=zW,VW=Dr,HW=O0,qW=Lr,WW="[object Arguments]",KW="[object Array]",JW="[object Boolean]",YW="[object Date]",XW="[object Error]",QW="[object Function]",ZW="[object Map]",e9="[object Number]",t9="[object Object]",n9="[object RegExp]",r9="[object Set]",i9="[object String]",o9="[object WeakMap]",a9="[object ArrayBuffer]",s9="[object DataView]",l9="[object Float32Array]",u9="[object Float64Array]",c9="[object Int8Array]",d9="[object Int16Array]",f9="[object Int32Array]",h9="[object Uint8Array]",p9="[object Uint8ClampedArray]",m9="[object Uint16Array]",g9="[object Uint32Array]",je={};je[l9]=je[u9]=je[c9]=je[d9]=je[f9]=je[h9]=je[p9]=je[m9]=je[g9]=!0;je[WW]=je[KW]=je[a9]=je[JW]=je[s9]=je[YW]=je[XW]=je[QW]=je[ZW]=je[e9]=je[t9]=je[n9]=je[r9]=je[i9]=je[o9]=!1;function y9(t){return qW(t)&&HW(t.length)&&!!je[VW(t)]}var v9=y9;function w9(t){return function(e){return t(e)}}var aI=w9,xd={exports:{}};xd.exports;(function(t,e){var n=hP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(xd,xd.exports);var b9=xd.exports,x9=v9,_9=aI,iS=b9,oS=iS&&iS.isTypedArray,S9=oS?_9(oS):x9,sI=S9,E9=CW,T9=I0,A9=Qt,C9=oI,k9=N0,P9=sI,I9=Object.prototype,N9=I9.hasOwnProperty;function O9(t,e){var n=A9(t),r=!n&&T9(t),i=!n&&!r&&C9(t),o=!n&&!r&&!i&&P9(t),a=n||r||i||o,s=a?E9(t.length,String):[],l=s.length;for(var u in t)(e||N9.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||k9(u,l)))&&s.push(u);return s}var R9=O9,M9=Object.prototype;function $9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||M9;return t===n}var D9=$9;function L9(t,e){return function(n){return t(e(n))}}var lI=L9,j9=lI,U9=j9(Object.keys,Object),F9=U9,B9=D9,G9=F9,z9=Object.prototype,V9=z9.hasOwnProperty;function H9(t){if(!B9(t))return G9(t);var e=[];for(var n in Object(t))V9.call(t,n)&&n!="constructor"&&e.push(n);return e}var q9=H9,W9=p0,K9=O0;function J9(t){return t!=null&&K9(t.length)&&!W9(t)}var ch=J9,Y9=R9,X9=q9,Q9=ch;function Z9(t){return Q9(t)?Y9(t):X9(t)}var R0=Z9,eK=mW,tK=TW,nK=R0;function rK(t){return eK(t,nK,tK)}var iK=rK,aS=iK,oK=1,aK=Object.prototype,sK=aK.hasOwnProperty;function lK(t,e,n,r,i,o){var a=n&oK,s=aS(t),l=s.length,u=aS(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:sK.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var w=!0;o.set(t,e),o.set(e,t);for(var b=a;++d<l;){h=s[d];var v=t[h],x=e[h];if(r)var _=a?r(x,v,h,e,t,o):r(v,x,h,t,e,o);if(!(_===void 0?v===x||i(v,x,n,r,o):_)){w=!1;break}b||(b=h=="constructor")}if(w&&!b){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(w=!1)}return o.delete(t),o.delete(e),w}var uK=lK,cK=so,dK=dr,fK=cK(dK,"DataView"),hK=fK,pK=so,mK=dr,gK=pK(mK,"Promise"),yK=gK,vK=so,wK=dr,bK=vK(wK,"Set"),uI=bK,xK=so,_K=dr,SK=xK(_K,"WeakMap"),EK=SK,Mg=hK,$g=g0,Dg=yK,Lg=uI,jg=EK,cI=Dr,is=mP,sS="[object Map]",TK="[object Object]",lS="[object Promise]",uS="[object Set]",cS="[object WeakMap]",dS="[object DataView]",AK=is(Mg),CK=is($g),kK=is(Dg),PK=is(Lg),IK=is(jg),Pi=cI;(Mg&&Pi(new Mg(new ArrayBuffer(1)))!=dS||$g&&Pi(new $g)!=sS||Dg&&Pi(Dg.resolve())!=lS||Lg&&Pi(new Lg)!=uS||jg&&Pi(new jg)!=cS)&&(Pi=function(t){var e=cI(t),n=e==TK?t.constructor:void 0,r=n?is(n):"";if(r)switch(r){case AK:return dS;case CK:return sS;case kK:return lS;case PK:return uS;case IK:return cS}return e});var NK=Pi,kp=QP,OK=nI,RK=cW,MK=uK,fS=NK,hS=Qt,pS=oI,$K=sI,DK=1,mS="[object Arguments]",gS="[object Array]",tc="[object Object]",LK=Object.prototype,yS=LK.hasOwnProperty;function jK(t,e,n,r,i,o){var a=hS(t),s=hS(e),l=a?gS:fS(t),u=s?gS:fS(e);l=l==mS?tc:l,u=u==mS?tc:u;var c=l==tc,d=u==tc,h=l==u;if(h&&pS(t)){if(!pS(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new kp),a||$K(t)?OK(t,e,n,r,i,o):RK(t,e,l,n,r,i,o);if(!(n&DK)){var m=c&&yS.call(t,"__wrapped__"),y=d&&yS.call(e,"__wrapped__");if(m||y){var w=m?t.value():t,b=y?e.value():e;return o||(o=new kp),i(w,b,n,r,o)}}return h?(o||(o=new kp),MK(t,e,n,r,i,o)):!1}var UK=jK,FK=UK,vS=Lr;function dI(t,e,n,r,i){return t===e?!0:t==null||e==null||!vS(t)&&!vS(e)?t!==t&&e!==e:FK(t,e,n,r,dI,i)}var M0=dI,BK=QP,GK=M0,zK=1,VK=2;function HK(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new BK;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?GK(c,u,zK|VK,r,d):h))return!1}}return!0}var qK=HK,WK=gi;function KK(t){return t===t&&!WK(t)}var fI=KK,JK=fI,YK=R0;function XK(t){for(var e=YK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,JK(i)]}return e}var QK=XK;function ZK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var hI=ZK,e7=qK,t7=QK,n7=hI;function r7(t){var e=t7(t);return e.length==1&&e[0][2]?n7(e[0][0],e[0][1]):function(n){return n===t||e7(n,t,e)}}var i7=r7;function o7(t,e){return t!=null&&e in Object(t)}var a7=o7,s7=bP,l7=I0,u7=Qt,c7=N0,d7=O0,f7=Kf;function h7(t,e,n){e=s7(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=f7(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&d7(i)&&c7(a,i)&&(u7(t)||l7(t)))}var p7=h7,m7=a7,g7=p7;function y7(t,e){return t!=null&&g7(t,e,m7)}var v7=y7,w7=M0,b7=xP,x7=v7,_7=h0,S7=fI,E7=hI,T7=Kf,A7=1,C7=2;function k7(t,e){return _7(t)&&S7(e)?E7(T7(t),e):function(n){var r=b7(n,t);return r===void 0&&r===e?x7(n,t):w7(e,r,A7|C7)}}var P7=k7;function I7(t){return t}var os=I7;function N7(t){return function(e){return e==null?void 0:e[t]}}var O7=N7,R7=b0;function M7(t){return function(e){return R7(e,t)}}var $7=M7,D7=O7,L7=$7,j7=h0,U7=Kf;function F7(t){return j7(t)?D7(U7(t)):L7(t)}var B7=F7,G7=i7,z7=P7,V7=os,H7=Qt,q7=B7;function W7(t){return typeof t=="function"?t:t==null?V7:typeof t=="object"?H7(t)?z7(t[0],t[1]):G7(t):q7(t)}var as=W7;function K7(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var J7=K7;function Y7(t){return t!==t}var X7=Y7;function Q7(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Z7=Q7,eJ=J7,tJ=X7,nJ=Z7;function rJ(t,e,n){return e===e?nJ(t,e,n):eJ(t,tJ,n)}var iJ=rJ,oJ=iJ;function aJ(t,e){var n=t==null?0:t.length;return!!n&&oJ(t,e,0)>-1}var sJ=aJ;function lJ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var uJ=lJ;function cJ(){}var dJ=cJ,Pp=uI,fJ=dJ,hJ=P0,pJ=1/0,mJ=Pp&&1/hJ(new Pp([,-0]))[1]==pJ?function(t){return new Pp(t)}:fJ,gJ=mJ,yJ=ZP,vJ=sJ,wJ=uJ,bJ=tI,xJ=gJ,_J=P0,SJ=200;function EJ(t,e,n){var r=-1,i=vJ,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=wJ;else if(o>=SJ){var u=e?null:xJ(t);if(u)return _J(u);a=!1,i=bJ,l=new yJ}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var TJ=EJ,AJ=as,CJ=TJ;function kJ(t,e){return t&&t.length?CJ(t,AJ(e)):[]}var PJ=kJ;const wS=De(PJ);function pI(t,e,n){return e===!0?wS(t,n):fe(e)?wS(t,e):t}function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}var IJ=["ref"];function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(r){dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gI(r.key),r)}}function OJ(t,e,n){return e&&xS(t.prototype,e),n&&xS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RJ(t,e,n){return e=_d(e),MJ(t,mI()?Reflect.construct(e,n||[],_d(t).constructor):e.apply(t,n))}function MJ(t,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(t)}function $J(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mI=function(){return!!t})()}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_d(t)}function DJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ug(t,e)}function Ug(t,e){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ug(t,e)}function dh(t,e,n){return e=gI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gI(t){var e=LJ(t,"string");return xa(e)=="symbol"?e:e+""}function LJ(t,e){if(xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jJ(t,e){if(t==null)return{};var n=UJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FJ(t){return t.value}function BJ(t,e){if(R.isValidElement(t))return R.cloneElement(t,e);if(typeof t=="function")return R.createElement(t,e);e.ref;var n=jJ(e,IJ);return R.createElement(k0,n)}var _S=1,aa=function(t){function e(){var n;NJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=RJ(this,e,[].concat(i)),dh(n,"lastBoundingBox",{width:-1,height:-1}),n}return DJ(e,t),OJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>_S||Math.abs(i.height-this.lastBoundingBox.height)>_S)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fr(fr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=fr(fr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return R.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},BJ(o,fr(fr({},this.props),{},{payload:pI(c,u,FJ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fr(fr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&K(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);dh(aa,"displayName","Legend");dh(aa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SS=wu,GJ=I0,zJ=Qt,ES=SS?SS.isConcatSpreadable:void 0;function VJ(t){return zJ(t)||GJ(t)||!!(ES&&t&&t[ES])}var HJ=VJ,qJ=rI,WJ=HJ;function yI(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=WJ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?yI(s,e-1,n,r,i):qJ(i,s):r||(i[i.length]=s)}return i}var vI=yI;function KJ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var JJ=KJ,YJ=JJ,XJ=YJ(),QJ=XJ,ZJ=QJ,eY=R0;function tY(t,e){return t&&ZJ(t,e,eY)}var wI=tY,nY=ch;function rY(t,e){return function(n,r){if(n==null)return n;if(!nY(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var iY=rY,oY=wI,aY=iY,sY=aY(oY),$0=sY,lY=$0,uY=ch;function cY(t,e){var n=-1,r=uY(t)?Array(t.length):[];return lY(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var bI=cY;function dY(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var fY=dY,TS=Xa;function hY(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=TS(t),a=e!==void 0,s=e===null,l=e===e,u=TS(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var pY=hY,mY=pY;function gY(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=mY(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var yY=gY,Ip=w0,vY=b0,wY=as,bY=bI,xY=fY,_Y=aI,SY=yY,EY=os,TY=Qt;function AY(t,e,n){e.length?e=Ip(e,function(o){return TY(o)?function(a){return vY(a,o.length===1?o[0]:o)}:o}):e=[EY];var r=-1;e=Ip(e,_Y(wY));var i=bY(t,function(o,a,s){var l=Ip(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return xY(i,function(o,a){return SY(o,a,n)})}var CY=AY;function kY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var PY=kY,IY=PY,AS=Math.max;function NY(t,e,n){return e=AS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=AS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),IY(t,this,s)}}var OY=NY;function RY(t){return function(){return t}}var MY=RY,$Y=so,DY=function(){try{var t=$Y(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xI=DY,LY=MY,CS=xI,jY=os,UY=CS?function(t,e){return CS(t,"toString",{configurable:!0,enumerable:!1,value:LY(e),writable:!0})}:jY,FY=UY,BY=800,GY=16,zY=Date.now;function VY(t){var e=0,n=0;return function(){var r=zY(),i=GY-(r-n);if(n=r,i>0){if(++e>=BY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var HY=VY,qY=FY,WY=HY,KY=WY(qY),JY=KY,YY=os,XY=OY,QY=JY;function ZY(t,e){return QY(XY(t,e,YY),t+"")}var eX=ZY,tX=m0,nX=ch,rX=N0,iX=gi;function oX(t,e,n){if(!iX(n))return!1;var r=typeof e;return(r=="number"?nX(n)&&rX(e,n.length):r=="string"&&e in n)?tX(n[e],t):!1}var fh=oX,aX=vI,sX=CY,lX=eX,kS=fh,uX=lX(function(t,e){if(t==null)return[];var n=e.length;return n>1&&kS(t,e[0],e[1])?e=[]:n>2&&kS(e[0],e[1],e[2])&&(e=[e[0]]),sX(t,aX(e,1),[])}),cX=uX;const D0=De(cX);function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function dX(t,e){return mX(t)||pX(t,e)||hX(t,e)||fX()}function fX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hX(t,e){if(t){if(typeof t=="string")return PS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(t,e)}}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mX(t){if(Array.isArray(t))return t}function IS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(n),!0).forEach(function(r){gX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gX(t,e,n){return e=yX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yX(t){var e=vX(t,"string");return Ol(e)=="symbol"?e:e+""}function vX(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wX(t){return Array.isArray(t)&&ct(t[0])&&ct(t[1])?t.join(" ~ "):t}var bX=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,w=e.label,b=e.labelFormatter,v=e.accessibilityLayer,x=v===void 0?!1:v,_=function(){if(c&&c.length){var I={padding:0,margin:0},$=(h?D0(c,h):c).map(function(L,U){if(L.type==="none")return null;var j=Np({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),G=L.formatter||d||wX,P=L.value,D=L.name,B=P,W=D;if(G&&B!=null&&W!=null){var V=G(P,D,L,U,c);if(Array.isArray(V)){var te=dX(V,2);B=te[0],W=te[1]}else B=V}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:j},ct(W)?R.createElement("span",{className:"recharts-tooltip-item-name"},W):null,ct(W)?R.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,R.createElement("span",{className:"recharts-tooltip-item-value"},B),R.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:I},$)}return null},T=Np({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Np({margin:0},u),E=!le(w),A=E?w:"",C=de("recharts-default-tooltip",m),k=de("recharts-tooltip-label",y);E&&b&&c!==void 0&&c!==null&&(A=b(w,c));var O=x?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Fg({className:C,style:T},O),R.createElement("p",{className:k,style:S},R.isValidElement(A)?A:"".concat(A)),_())};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function nc(t,e,n){return e=xX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xX(t){var e=_X(t,"string");return Rl(e)=="symbol"?e:e+""}function _X(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ss="recharts-tooltip-wrapper",SX={visibility:"hidden"};function EX(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return de(Ss,nc(nc(nc(nc({},"".concat(Ss,"-right"),K(n)&&e&&K(e.x)&&n>=e.x),"".concat(Ss,"-left"),K(n)&&e&&K(e.x)&&n<e.x),"".concat(Ss,"-bottom"),K(r)&&e&&K(e.y)&&r>=e.y),"".concat(Ss,"-top"),K(r)&&e&&K(e.y)&&r<e.y))}function NS(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&K(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,m=l[r];return h<m?Math.max(d,l[r]):Math.max(c,l[r])}var y=d+s,w=l[r]+u;return y>w?Math.max(c,l[r]):Math.max(d,l[r])}function TX(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function AX(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=NS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=NS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=TX({translateX:c,translateY:d,useTranslate3d:s})):u=SX,{cssProperties:u,cssClasses:EX({translateX:c,translateY:d,coordinate:n})}}function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){Gg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SI(r.key),r)}}function PX(t,e,n){return e&&kX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IX(t,e,n){return e=Sd(e),NX(t,_I()?Reflect.construct(e,n||[],Sd(t).constructor):e.apply(t,n))}function NX(t,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OX(t)}function OX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_I=function(){return!!t})()}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sd(t)}function RX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bg(t,e)}function Bg(t,e){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bg(t,e)}function Gg(t,e,n){return e=SI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SI(t){var e=MX(t,"string");return _a(e)=="symbol"?e:e+""}function MX(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MS=1,$X=function(t){function e(){var n;CX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=IX(this,e,[].concat(i)),Gg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return RX(e,t),PX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>MS||Math.abs(r.height-this.state.lastBoundingBox.height)>MS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,w=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,_=AX({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:y,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),T=_.cssClasses,S=_.cssProperties,E=RS(RS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return R.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(C){r.wrapperNode=C}},u)}}])}(M.PureComponent),DX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yi={isSsr:DX()};function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(n),!0).forEach(function(r){L0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TI(r.key),r)}}function UX(t,e,n){return e&&jX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FX(t,e,n){return e=Ed(e),BX(t,EI()?Reflect.construct(e,n||[],Ed(t).constructor):e.apply(t,n))}function BX(t,e){if(e&&(Sa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(t)}function GX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EI=function(){return!!t})()}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ed(t)}function zX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zg(t,e)}function zg(t,e){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zg(t,e)}function L0(t,e,n){return e=TI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TI(t){var e=VX(t,"string");return Sa(e)=="symbol"?e:e+""}function VX(t,e){if(Sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HX(t){return t.dataKey}function qX(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(bX,e)}var er=function(t){function e(){return LX(this,e),FX(this,e,arguments)}return zX(e,t),UX(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,w=i.payloadUniqBy,b=i.position,v=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=y??[];d&&S.length&&(S=pI(y.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),w,HX));var E=S.length>0;return R.createElement($X,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:m,position:b,reverseDirection:v,useTranslate3d:x,viewBox:_,wrapperStyle:T},qX(u,DS(DS({},this.props),{},{payload:S})))}}])}(M.PureComponent);L0(er,"displayName","Tooltip");L0(er,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var WX=dr,KX=function(){return WX.Date.now()},JX=KX,YX=/\s/;function XX(t){for(var e=t.length;e--&&YX.test(t.charAt(e)););return e}var QX=XX,ZX=QX,eQ=/^\s+/;function tQ(t){return t&&t.slice(0,ZX(t)+1).replace(eQ,"")}var nQ=tQ,rQ=nQ,LS=gi,iQ=Xa,jS=NaN,oQ=/^[-+]0x[0-9a-f]+$/i,aQ=/^0b[01]+$/i,sQ=/^0o[0-7]+$/i,lQ=parseInt;function uQ(t){if(typeof t=="number")return t;if(iQ(t))return jS;if(LS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=LS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rQ(t);var n=aQ.test(t);return n||sQ.test(t)?lQ(t.slice(2),n?2:8):oQ.test(t)?jS:+t}var AI=uQ,cQ=gi,Op=JX,US=AI,dQ="Expected a function",fQ=Math.max,hQ=Math.min;function pQ(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(dQ);e=US(e)||0,cQ(n)&&(c=!!n.leading,d="maxWait"in n,o=d?fQ(US(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(E){var A=r,C=i;return r=i=void 0,u=E,a=t.apply(C,A),a}function y(E){return u=E,s=setTimeout(v,e),c?m(E):a}function w(E){var A=E-l,C=E-u,k=e-A;return d?hQ(k,o-C):k}function b(E){var A=E-l,C=E-u;return l===void 0||A>=e||A<0||d&&C>=o}function v(){var E=Op();if(b(E))return x(E);s=setTimeout(v,w(E))}function x(E){return s=void 0,h&&r?m(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:x(Op())}function S(){var E=Op(),A=b(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return y(l);if(d)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),a}return S.cancel=_,S.flush=T,S}var mQ=pQ,gQ=mQ,yQ=gi,vQ="Expected a function";function wQ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(vQ);return yQ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),gQ(t,e,{leading:r,maxWait:e,trailing:i})}var bQ=wQ;const CI=De(bQ);function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){xQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xQ(t,e,n){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=SQ(t,"string");return Ml(e)=="symbol"?e:e+""}function SQ(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EQ(t,e){return kQ(t)||CQ(t,e)||AQ(t,e)||TQ()}function TQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AQ(t,e){if(t){if(typeof t=="string")return BS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BS(t,e)}}function BS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kQ(t){if(Array.isArray(t))return t}var kI=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,w=y===void 0?0:y,b=t.id,v=t.className,x=t.onResize,_=t.style,T=_===void 0?{}:_,S=M.useRef(null),E=M.useRef();E.current=x,M.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=M.useState({containerWidth:i.width,containerHeight:i.height}),C=EQ(A,2),k=C[0],O=C[1],N=M.useCallback(function($,L){O(function(U){var j=Math.round($),G=Math.round(L);return U.containerWidth===j&&U.containerHeight===G?U:{containerWidth:j,containerHeight:G}})},[]);M.useEffect(function(){var $=function(D){var B,W=D[0].contentRect,V=W.width,te=W.height;N(V,te),(B=E.current)===null||B===void 0||B.call(E,V,te)};w>0&&($=CI($,w,{trailing:!0,leading:!1}));var L=new ResizeObserver($),U=S.current.getBoundingClientRect(),j=U.width,G=U.height;return N(j,G),L.observe(S.current),function(){L.disconnect()}},[N,w]);var I=M.useMemo(function(){var $=k.containerWidth,L=k.containerHeight;if($<0||L<0)return null;Vi(Li(a)||Li(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Vi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Li(a)?$:a,j=Li(l)?L:l;n&&n>0&&(U?j=U/n:j&&(U=j*n),h&&j>h&&(j=h)),Vi(U>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,j,a,l,c,d,n);var G=!Array.isArray(m)&&xr(m.type).endsWith("Chart");return R.Children.map(m,function(P){return R.isValidElement(P)?M.cloneElement(P,rc({width:U,height:j},G?{style:rc({height:"100%",width:"100%",maxHeight:j,maxWidth:U},P.props.style)}:{})):P})},[n,m,l,h,d,c,k,a]);return R.createElement("div",{id:b?"".concat(b):void 0,className:de("recharts-responsive-container",v),style:rc(rc({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},I)}),hh=function(e){return null};hh.displayName="Cell";function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(n),!0).forEach(function(r){PQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n){return e=IQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=NQ(t,"string");return $l(e)=="symbol"?e:e+""}function NQ(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _o={widthCache:{},cacheCount:0},OQ=2e3,RQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zS="recharts_measurement_span";function MQ(t){var e=Vg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Xs=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yi.isSsr)return{width:0,height:0};var r=MQ(n),i=JSON.stringify({text:e,copyStyle:r});if(_o.widthCache[i])return _o.widthCache[i];try{var o=document.getElementById(zS);o||(o=document.createElement("span"),o.setAttribute("id",zS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Vg(Vg({},RQ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return _o.widthCache[i]=l,++_o.cacheCount>OQ&&(_o.cacheCount=0,_o.widthCache={}),l}catch{return{width:0,height:0}}},$Q=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Td(t,e){return UQ(t)||jQ(t,e)||LQ(t,e)||DQ()}function DQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(t,e){if(t){if(typeof t=="string")return VS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VS(t,e)}}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function UQ(t){if(Array.isArray(t))return t}function FQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GQ(r.key),r)}}function BQ(t,e,n){return e&&HS(t.prototype,e),n&&HS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GQ(t){var e=zQ(t,"string");return Dl(e)=="symbol"?e:e+""}function zQ(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qQ=Object.keys(PI),Ho="NaN";function WQ(t,e){return t*PI[e]}var ic=function(){function t(e,n){FQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!VQ.test(n)&&(this.num=NaN,this.unit=""),qQ.includes(n)&&(this.num=WQ(e,n),this.unit="px")}return BQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=HQ.exec(n))!==null&&r!==void 0?r:[],o=Td(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function II(t){if(t.includes(Ho))return Ho;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=qS.exec(e))!==null&&n!==void 0?n:[],i=Td(r,4),o=i[1],a=i[2],s=i[3],l=ic.parse(o??""),u=ic.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ho;e=e.replace(qS,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=WS.exec(e))!==null&&d!==void 0?d:[],m=Td(h,4),y=m[1],w=m[2],b=m[3],v=ic.parse(y??""),x=ic.parse(b??""),_=w==="+"?v.add(x):v.subtract(x);if(_.isNaN())return Ho;e=e.replace(WS,_.toString())}return e}var KS=/\(([^()]*)\)/;function KQ(t){for(var e=t;e.includes("(");){var n=KS.exec(e),r=Td(n,2),i=r[1];e=e.replace(KS,II(i))}return e}function JQ(t){var e=t.replace(/\s+/g,"");return e=KQ(e),e=II(e),e}function YQ(t){try{return JQ(t)}catch{return Ho}}function Rp(t){var e=YQ(t.slice(5,-1));return e===Ho?"":e}var XQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QQ=["dx","dy","angle","className","breakAll"];function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function JS(t,e){if(t==null)return{};var n=ZQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YS(t,e){return rZ(t)||nZ(t,e)||tZ(t,e)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(t,e){if(t){if(typeof t=="string")return XS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XS(t,e)}}function XS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rZ(t){if(Array.isArray(t))return t}var NI=/[ \f\n\r\t\v\u2028\u2029]+/,OI=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];le(n)||(r?o=n.toString().split(""):o=n.toString().split(NI));var a=o.map(function(l){return{word:l,width:Xs(l,i).width}}),s=r?0:Xs("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},iZ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=K(a),d=s,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(j,G){var P=G.word,D=G.width,B=j[j.length-1];if(B&&(i==null||o||B.width+D+r<Number(i)))B.words.push(P),B.width+=D+r;else{var W={words:[P],width:D};j.push(W)}return j},[])},m=h(n),y=function(U){return U.reduce(function(j,G){return j.width>G.width?j:G})};if(!c)return m;for(var w="",b=function(U){var j=d.slice(0,U),G=OI({breakAll:u,style:l,children:j+w}).wordsWithComputedWidth,P=h(G),D=P.length>a||y(P).width>Number(i);return[D,P]},v=0,x=d.length-1,_=0,T;v<=x&&_<=d.length-1;){var S=Math.floor((v+x)/2),E=S-1,A=b(E),C=YS(A,2),k=C[0],O=C[1],N=b(S),I=YS(N,1),$=I[0];if(!k&&!$&&(v=S+1),k&&$&&(x=S-1),!k&&$){T=O;break}_++}return T||m},QS=function(e){var n=le(e)?[]:e.toString().split(NI);return[{words:n}]},oZ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!yi.isSsr){var l,u,c=OI({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return QS(i);return iZ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return QS(i)},ZS="#808080",Ad=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,w=y===void 0?"end":y,b=e.fill,v=b===void 0?ZS:b,x=JS(e,XQ),_=M.useMemo(function(){return oZ({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),T=x.dx,S=x.dy,E=x.angle,A=x.className,C=x.breakAll,k=JS(x,QQ);if(!ct(r)||!ct(o))return null;var O=r+(K(T)?T:0),N=o+(K(S)?S:0),I;switch(w){case"start":I=Rp("calc(".concat(u,")"));break;case"middle":I=Rp("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=Rp("calc(".concat(_.length-1," * -").concat(s,")"));break}var $=[];if(d){var L=_[0].width,U=x.width;$.push("scale(".concat((K(U)?U/L:1)/L,")"))}return E&&$.push("rotate(".concat(E,", ").concat(O,", ").concat(N,")")),$.length&&(k.transform=$.join(" ")),R.createElement("text",Hg({},ce(k,!0),{x:O,y:N,className:de("recharts-text",A),textAnchor:m,fill:v.includes("url")?ZS:v}),_.map(function(j,G){var P=j.words.join(C?"":" ");return R.createElement("tspan",{x:O,dy:G===0?I:s,key:"".concat(P,"-").concat(G)},P)}))};function ui(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j0(t){let e,n,r;t.length!==2?(e=ui,n=(s,l)=>ui(t(s),l),r=(s,l)=>t(s)-l):(e=t===ui||t===aZ?t:sZ,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function sZ(){return 0}function RI(t){return t===null?NaN:+t}function*lZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const uZ=j0(ui),bu=uZ.right;j0(RI).center;class eE extends Map{constructor(e,n=fZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(tE(this,e))}has(e){return super.has(tE(this,e))}set(e,n){return super.set(cZ(this,e),n)}delete(e){return super.delete(dZ(this,e))}}function tE({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hZ(t=ui){if(t===ui)return MI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function MI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const pZ=Math.sqrt(50),mZ=Math.sqrt(10),gZ=Math.sqrt(2);function Cd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=pZ?10:o>=mZ?5:o>=gZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Cd(t,e,n*2):[s,l,u]}function qg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Cd(e,t,n):Cd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Wg(t,e,n){return e=+e,t=+t,n=+n,Cd(t,e,n)[2]}function Kg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Wg(e,t,n):Wg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function nE(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rE(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $I(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?MI:hZ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+h)),y=Math.min(r,Math.floor(e+(l-u)*d/l+h));$I(t,e,m,y,i)}const o=t[e];let a=n,s=r;for(Es(t,n,e),i(t[r],o)>0&&Es(t,n,r);a<s;){for(Es(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Es(t,n,s):(++s,Es(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Es(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yZ(t,e,n){if(t=Float64Array.from(lZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return rE(t);if(e>=1)return nE(t);var r,i=(r-1)*e,o=Math.floor(i),a=nE($I(t,o).subarray(0,o+1)),s=rE(t.subarray(o+1));return a+(s-a)*(i-o)}}function vZ(t,e,n=RI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function wZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function In(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function jr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Jg=Symbol("implicit");function U0(){var t=new eE,e=[],n=[],r=Jg;function i(o){let a=t.get(o);if(a===void 0){if(r!==Jg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new eE;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return U0(e,n).unknown(r)},In.apply(i,arguments),i}function Ll(){var t=U0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,m=i<r,y=m?i:r,w=m?r:i;o=(w-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(w-y-o*(h-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var b=wZ(h).map(function(v){return y+o*v});return n(m?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Ll(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},In.apply(d(),arguments)}function DI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DI(e())},t}function Qs(){return DI(Ll.apply(null,arguments).paddingInner(1))}function F0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function LI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xu(){}var jl=.7,kd=1/jl,sa="\\s*([+-]?\\d+)\\s*",Ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bZ=/^#([0-9a-f]{3,8})$/,xZ=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),_Z=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),SZ=new RegExp(`^rgba\\(${sa},${sa},${sa},${Ul}\\)$`),EZ=new RegExp(`^rgba\\(${ar},${ar},${ar},${Ul}\\)$`),TZ=new RegExp(`^hsl\\(${Ul},${ar},${ar}\\)$`),AZ=new RegExp(`^hsla\\(${Ul},${ar},${ar},${Ul}\\)$`),iE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F0(xu,Fl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oE,formatHex:oE,formatHex8:CZ,formatHsl:kZ,formatRgb:aE,toString:aE});function oE(){return this.rgb().formatHex()}function CZ(){return this.rgb().formatHex8()}function kZ(){return jI(this).formatHsl()}function aE(){return this.rgb().formatRgb()}function Fl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sE(e):n===3?new Wt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xZ.exec(t))?new Wt(e[1],e[2],e[3],1):(e=_Z.exec(t))?new Wt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=SZ.exec(t))?oc(e[1],e[2],e[3],e[4]):(e=EZ.exec(t))?oc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TZ.exec(t))?cE(e[1],e[2]/100,e[3]/100,1):(e=AZ.exec(t))?cE(e[1],e[2]/100,e[3]/100,e[4]):iE.hasOwnProperty(t)?sE(iE[t]):t==="transparent"?new Wt(NaN,NaN,NaN,0):null}function sE(t){return new Wt(t>>16&255,t>>8&255,t&255,1)}function oc(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wt(t,e,n,r)}function PZ(t){return t instanceof xu||(t=Fl(t)),t?(t=t.rgb(),new Wt(t.r,t.g,t.b,t.opacity)):new Wt}function Yg(t,e,n,r){return arguments.length===1?PZ(t):new Wt(t,e,n,r??1)}function Wt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}F0(Wt,Yg,LI(xu,{brighter(t){return t=t==null?kd:Math.pow(kd,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jl:Math.pow(jl,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wt(Hi(this.r),Hi(this.g),Hi(this.b),Pd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lE,formatHex:lE,formatHex8:IZ,formatRgb:uE,toString:uE}));function lE(){return`#${ji(this.r)}${ji(this.g)}${ji(this.b)}`}function IZ(){return`#${ji(this.r)}${ji(this.g)}${ji(this.b)}${ji((isNaN(this.opacity)?1:this.opacity)*255)}`}function uE(){const t=Pd(this.opacity);return`${t===1?"rgb(":"rgba("}${Hi(this.r)}, ${Hi(this.g)}, ${Hi(this.b)}${t===1?")":`, ${t})`}`}function Pd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ji(t){return t=Hi(t),(t<16?"0":"")+t.toString(16)}function cE(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bn(t,e,n,r)}function jI(t){if(t instanceof Bn)return new Bn(t.h,t.s,t.l,t.opacity);if(t instanceof xu||(t=Fl(t)),!t)return new Bn;if(t instanceof Bn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Bn(a,s,l,t.opacity)}function NZ(t,e,n,r){return arguments.length===1?jI(t):new Bn(t,e,n,r??1)}function Bn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}F0(Bn,NZ,LI(xu,{brighter(t){return t=t==null?kd:Math.pow(kd,t),new Bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jl:Math.pow(jl,t),new Bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wt(Mp(t>=240?t-240:t+120,i,r),Mp(t,i,r),Mp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bn(dE(this.h),ac(this.s),ac(this.l),Pd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pd(this.opacity);return`${t===1?"hsl(":"hsla("}${dE(this.h)}, ${ac(this.s)*100}%, ${ac(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dE(t){return t=(t||0)%360,t<0?t+360:t}function ac(t){return Math.max(0,Math.min(1,t||0))}function Mp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const B0=t=>()=>t;function OZ(t,e){return function(n){return t+n*e}}function RZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function MZ(t){return(t=+t)==1?UI:function(e,n){return n-e?RZ(e,n,t):B0(isNaN(e)?n:e)}}function UI(t,e){var n=e-t;return n?OZ(t,n):B0(isNaN(t)?e:t)}const fE=function t(e){var n=MZ(e);function r(i,o){var a=n((i=Yg(i)).r,(o=Yg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=UI(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function $Z(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function DZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function LZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ss(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function jZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Id(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function UZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ss(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Xg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$p=new RegExp(Xg.source,"g");function FZ(t){return function(){return t}}function BZ(t){return function(e){return t(e)+""}}function GZ(t,e){var n=Xg.lastIndex=$p.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Xg.exec(t))&&(i=$p.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Id(r,i)})),n=$p.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?BZ(l[0].x):FZ(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ss(t,e){var n=typeof e,r;return e==null||n==="boolean"?B0(e):(n==="number"?Id:n==="string"?(r=Fl(e))?(e=r,fE):GZ:e instanceof Fl?fE:e instanceof Date?jZ:DZ(e)?$Z:Array.isArray(e)?LZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?UZ:Id)(t,e)}function G0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zZ(t,e){e===void 0&&(e=t,t=ss);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function VZ(t){return function(){return t}}function Nd(t){return+t}var hE=[0,1];function Ft(t){return t}function Qg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:VZ(isNaN(e)?NaN:.5)}function HZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Qg(i,r),o=n(a,o)):(r=Qg(r,i),o=n(o,a)),function(s){return o(r(s))}}function WZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Qg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=bu(t,s,1,r)-1;return o[l](i[l](s))}}function _u(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ph(){var t=hE,e=hE,n=ss,r,i,o,a=Ft,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Ft&&(a=HZ(t[0],t[h-1])),s=h>2?WZ:qZ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),Id)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Nd),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=G0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Ft,c()):a!==Ft},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,m){return r=h,i=m,c()}}function z0(){return ph()(Ft,Ft)}function KZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Od(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ea(t){return t=Od(Math.abs(t)),t?t[1]:NaN}function JZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function YZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var XZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bl(t){if(!(e=XZ.exec(t)))throw new Error("invalid format: "+t);var e;return new V0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bl.prototype=V0.prototype;function V0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}V0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var FI;function ZZ(t,e){var n=Od(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(FI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Od(t,Math.max(0,e+o-1))[0]}function pE(t,e){var n=Od(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:KZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pE(t*100,e),r:pE,s:ZZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gE(t){return t}var yE=Array.prototype.map,vE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eee(t){var e=t.grouping===void 0||t.thousands===void 0?gE:JZ(yE.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?gE:YZ(yE.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Bl(d);var h=d.fill,m=d.align,y=d.sign,w=d.symbol,b=d.zero,v=d.width,x=d.comma,_=d.precision,T=d.trim,S=d.type;S==="n"?(x=!0,S="g"):mE[S]||(_===void 0&&(_=12),T=!0,S="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var E=w==="$"?n:w==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=w==="$"?r:/[%p]/.test(S)?a:"",C=mE[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(N){var I=E,$=A,L,U,j;if(S==="c")$=C(N)+$,N="";else{N=+N;var G=N<0||1/N<0;if(N=isNaN(N)?l:C(Math.abs(N),_),T&&(N=QZ(N)),G&&+N==0&&y!=="+"&&(G=!1),I=(G?y==="("?y:s:y==="-"||y==="("?"":y)+I,$=(S==="s"?vE[8+FI/3]:"")+$+(G&&y==="("?")":""),k){for(L=-1,U=N.length;++L<U;)if(j=N.charCodeAt(L),48>j||j>57){$=(j===46?i+N.slice(L+1):N.slice(L))+$,N=N.slice(0,L);break}}}x&&!b&&(N=e(N,1/0));var P=I.length+N.length+$.length,D=P<v?new Array(v-P+1).join(h):"";switch(x&&b&&(N=e(D+N,D.length?v-$.length:1/0),D=""),m){case"<":N=I+N+$+D;break;case"=":N=I+D+N+$;break;case"^":N=D.slice(0,P=D.length>>1)+I+N+$+D.slice(P);break;default:N=D+I+N+$;break}return o(N)}return O.toString=function(){return d+""},O}function c(d,h){var m=u((d=Bl(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Ea(h)/3)))*3,w=Math.pow(10,-y),b=vE[8+y/3];return function(v){return m(w*v)+b}}return{format:u,formatPrefix:c}}var sc,H0,BI;tee({thousands:",",grouping:[3],currency:["$",""]});function tee(t){return sc=eee(t),H0=sc.format,BI=sc.formatPrefix,sc}function nee(t){return Math.max(0,-Ea(Math.abs(t)))}function ree(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ea(e)/3)))*3-Ea(Math.abs(t)))}function iee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ea(e)-Ea(t))+1}function GI(t,e,n,r){var i=Kg(t,e,n),o;switch(r=Bl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=ree(i,a))&&(r.precision=o),BI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=iee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=nee(i))&&(r.precision=o-(r.type==="%")*2);break}}return H0(r)}function vi(t){var e=t.domain;return t.ticks=function(n){var r=e();return qg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return GI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Wg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Rd(){var t=z0();return t.copy=function(){return _u(t,Rd())},In.apply(t,arguments),vi(t)}function zI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Nd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return zI(t).unknown(e)},t=arguments.length?Array.from(t,Nd):[0,1],vi(n)}function VI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function wE(t){return Math.log(t)}function bE(t){return Math.exp(t)}function oee(t){return-Math.log(-t)}function aee(t){return-Math.exp(-t)}function see(t){return isFinite(t)?+("1e"+t):t<0?0:t}function lee(t){return t===10?see:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xE(t){return(e,n)=>-t(-e,n)}function q0(t){const e=t(wE,bE),n=e.domain;let r=10,i,o;function a(){return i=uee(r),o=lee(r),n()[0]<0?(i=xE(i),o=xE(o),t(oee,aee)):t(wE,bE),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),m=i(c),y,w;const b=s==null?10:+s;let v=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<r;++y)if(w=h<0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;v.push(w)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(w=h>0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;v.push(w)}v.length*2<b&&(v=qg(u,c,b))}else v=qg(h,m,Math.min(m-h,b)).map(o);return d?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Bl(l)).precision==null&&(l.trim=!0),l=H0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(VI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function HI(){const t=q0(ph()).domain([1,10]);return t.copy=()=>_u(t,HI()).base(t.base()),In.apply(t,arguments),t}function _E(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function SE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function W0(t){var e=1,n=t(_E(e),SE(e));return n.constant=function(r){return arguments.length?t(_E(e=+r),SE(e)):e},vi(n)}function qI(){var t=W0(ph());return t.copy=function(){return _u(t,qI()).constant(t.constant())},In.apply(t,arguments)}function EE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dee(t){return t<0?-t*t:t*t}function K0(t){var e=t(Ft,Ft),n=1;function r(){return n===1?t(Ft,Ft):n===.5?t(cee,dee):t(EE(n),EE(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},vi(e)}function J0(){var t=K0(ph());return t.copy=function(){return _u(t,J0()).exponent(t.exponent())},In.apply(t,arguments),t}function fee(){return J0.apply(null,arguments).exponent(.5)}function TE(t){return Math.sign(t)*t*t}function hee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WI(){var t=z0(),e=[0,1],n=!1,r;function i(o){var a=hee(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(TE(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Nd)).map(TE)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return WI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},In.apply(i,arguments),vi(i)}function KI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=vZ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[bu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ui),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return KI().domain(t).range(e).unknown(r)},In.apply(o,arguments)}function JI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[bu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return JI().domain([t,e]).range(i).unknown(o)},In.apply(vi(a),arguments)}function YI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[bu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return YI().domain(t).range(e).unknown(n)},In.apply(i,arguments)}const Dp=new Date,Lp=new Date;function ft(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>ft(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Dp.setTime(+o),Lp.setTime(+a),t(Dp),t(Lp),Math.floor(n(Dp,Lp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Md=ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Md.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Md);Md.range;const vr=1e3,xn=vr*60,wr=xn*60,Pr=wr*24,Y0=Pr*7,AE=Pr*30,jp=Pr*365,Ui=ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vr)},(t,e)=>(e-t)/vr,t=>t.getUTCSeconds());Ui.range;const X0=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vr)},(t,e)=>{t.setTime(+t+e*xn)},(t,e)=>(e-t)/xn,t=>t.getMinutes());X0.range;const Q0=ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xn)},(t,e)=>(e-t)/xn,t=>t.getUTCMinutes());Q0.range;const Z0=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vr-t.getMinutes()*xn)},(t,e)=>{t.setTime(+t+e*wr)},(t,e)=>(e-t)/wr,t=>t.getHours());Z0.range;const ew=ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wr)},(t,e)=>(e-t)/wr,t=>t.getUTCHours());ew.range;const Su=ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xn)/Pr,t=>t.getDate()-1);Su.range;const mh=ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pr,t=>t.getUTCDate()-1);mh.range;const XI=ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pr,t=>Math.floor(t/Pr));XI.range;function uo(t){return ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xn)/Y0)}const gh=uo(0),$d=uo(1),pee=uo(2),mee=uo(3),Ta=uo(4),gee=uo(5),yee=uo(6);gh.range;$d.range;pee.range;mee.range;Ta.range;gee.range;yee.range;function co(t){return ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Y0)}const yh=co(0),Dd=co(1),vee=co(2),wee=co(3),Aa=co(4),bee=co(5),xee=co(6);yh.range;Dd.range;vee.range;wee.range;Aa.range;bee.range;xee.range;const tw=ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tw.range;const nw=ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nw.range;const Ir=ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ir.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ir.range;const Nr=ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Nr.range;function QI(t,e,n,r,i,o){const a=[[Ui,1,vr],[Ui,5,5*vr],[Ui,15,15*vr],[Ui,30,30*vr],[o,1,xn],[o,5,5*xn],[o,15,15*xn],[o,30,30*xn],[i,1,wr],[i,3,3*wr],[i,6,6*wr],[i,12,12*wr],[r,1,Pr],[r,2,2*Pr],[n,1,Y0],[e,1,AE],[e,3,3*AE],[t,1,jp]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),y=m?m.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,d){const h=Math.abs(c-u)/d,m=j0(([,,b])=>b).right(a,h);if(m===a.length)return t.every(Kg(u/jp,c/jp,d));if(m===0)return Md.every(Math.max(Kg(u,c,d),1));const[y,w]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return y.every(w)}return[s,l]}const[_ee,See]=QI(Nr,nw,yh,XI,ew,Q0),[Eee,Tee]=QI(Ir,tw,gh,Su,Z0,X0);function Up(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ts(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Aee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=As(i),c=Cs(i),d=As(o),h=Cs(o),m=As(a),y=Cs(a),w=As(s),b=Cs(s),v=As(l),x=Cs(l),_={a:G,A:P,b:D,B,c:null,d:OE,e:OE,f:Jee,g:ote,G:ste,H:qee,I:Wee,j:Kee,L:ZI,m:Yee,M:Xee,p:W,q:V,Q:$E,s:DE,S:Qee,u:Zee,U:ete,V:tte,w:nte,W:rte,x:null,X:null,y:ite,Y:ate,Z:lte,"%":ME},T={a:te,A:he,b:Ee,B:Oe,c:null,d:RE,e:RE,f:fte,g:_te,G:Ete,H:ute,I:cte,j:dte,L:tN,m:hte,M:pte,p:wt,q:ht,Q:$E,s:DE,S:mte,u:gte,U:yte,V:vte,w:wte,W:bte,x:null,X:null,y:xte,Y:Ste,Z:Tte,"%":ME},S={a:O,A:N,b:I,B:$,c:L,d:IE,e:IE,f:Gee,g:PE,G:kE,H:NE,I:NE,j:jee,L:Bee,m:Lee,M:Uee,p:k,q:Dee,Q:Vee,s:Hee,S:Fee,u:Nee,U:Oee,V:Ree,w:Iee,W:Mee,x:U,X:j,y:PE,Y:kE,Z:$ee,"%":zee};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(J,ae){return function(ue){var z=[],Ce=-1,pe=0,_e=J.length,q,Ie,Z;for(ue instanceof Date||(ue=new Date(+ue));++Ce<_e;)J.charCodeAt(Ce)===37&&(z.push(J.slice(pe,Ce)),(Ie=CE[q=J.charAt(++Ce)])!=null?q=J.charAt(++Ce):Ie=q==="e"?" ":"0",(Z=ae[q])&&(q=Z(ue,Ie)),z.push(q),pe=Ce+1);return z.push(J.slice(pe,Ce)),z.join("")}}function A(J,ae){return function(ue){var z=Ts(1900,void 0,1),Ce=C(z,J,ue+="",0),pe,_e;if(Ce!=ue.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ae&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(pe=Fp(Ts(z.y,0,1)),_e=pe.getUTCDay(),pe=_e>4||_e===0?Dd.ceil(pe):Dd(pe),pe=mh.offset(pe,(z.V-1)*7),z.y=pe.getUTCFullYear(),z.m=pe.getUTCMonth(),z.d=pe.getUTCDate()+(z.w+6)%7):(pe=Up(Ts(z.y,0,1)),_e=pe.getDay(),pe=_e>4||_e===0?$d.ceil(pe):$d(pe),pe=Su.offset(pe,(z.V-1)*7),z.y=pe.getFullYear(),z.m=pe.getMonth(),z.d=pe.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),_e="Z"in z?Fp(Ts(z.y,0,1)).getUTCDay():Up(Ts(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(_e+5)%7:z.w+z.U*7-(_e+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Fp(z)):Up(z)}}function C(J,ae,ue,z){for(var Ce=0,pe=ae.length,_e=ue.length,q,Ie;Ce<pe;){if(z>=_e)return-1;if(q=ae.charCodeAt(Ce++),q===37){if(q=ae.charAt(Ce++),Ie=S[q in CE?ae.charAt(Ce++):q],!Ie||(z=Ie(J,ue,z))<0)return-1}else if(q!=ue.charCodeAt(z++))return-1}return z}function k(J,ae,ue){var z=u.exec(ae.slice(ue));return z?(J.p=c.get(z[0].toLowerCase()),ue+z[0].length):-1}function O(J,ae,ue){var z=m.exec(ae.slice(ue));return z?(J.w=y.get(z[0].toLowerCase()),ue+z[0].length):-1}function N(J,ae,ue){var z=d.exec(ae.slice(ue));return z?(J.w=h.get(z[0].toLowerCase()),ue+z[0].length):-1}function I(J,ae,ue){var z=v.exec(ae.slice(ue));return z?(J.m=x.get(z[0].toLowerCase()),ue+z[0].length):-1}function $(J,ae,ue){var z=w.exec(ae.slice(ue));return z?(J.m=b.get(z[0].toLowerCase()),ue+z[0].length):-1}function L(J,ae,ue){return C(J,e,ae,ue)}function U(J,ae,ue){return C(J,n,ae,ue)}function j(J,ae,ue){return C(J,r,ae,ue)}function G(J){return a[J.getDay()]}function P(J){return o[J.getDay()]}function D(J){return l[J.getMonth()]}function B(J){return s[J.getMonth()]}function W(J){return i[+(J.getHours()>=12)]}function V(J){return 1+~~(J.getMonth()/3)}function te(J){return a[J.getUTCDay()]}function he(J){return o[J.getUTCDay()]}function Ee(J){return l[J.getUTCMonth()]}function Oe(J){return s[J.getUTCMonth()]}function wt(J){return i[+(J.getUTCHours()>=12)]}function ht(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ae=E(J+="",_);return ae.toString=function(){return J},ae},parse:function(J){var ae=A(J+="",!1);return ae.toString=function(){return J},ae},utcFormat:function(J){var ae=E(J+="",T);return ae.toString=function(){return J},ae},utcParse:function(J){var ae=A(J+="",!0);return ae.toString=function(){return J},ae}}}var CE={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,Cee=/^%/,kee=/[\\^$*+?|[\]().{}]/g;function we(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Pee(t){return t.replace(kee,"\\$&")}function As(t){return new RegExp("^(?:"+t.map(Pee).join("|")+")","i")}function Cs(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Iee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Nee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Oee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ree(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Mee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kE(t,e,n){var r=vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function PE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $ee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Dee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Lee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function IE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jee(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function NE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Uee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Bee(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Gee(t,e,n){var r=vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zee(t,e,n){var r=Cee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Vee(t,e,n){var r=vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Hee(t,e,n){var r=vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OE(t,e){return we(t.getDate(),e,2)}function qee(t,e){return we(t.getHours(),e,2)}function Wee(t,e){return we(t.getHours()%12||12,e,2)}function Kee(t,e){return we(1+Su.count(Ir(t),t),e,3)}function ZI(t,e){return we(t.getMilliseconds(),e,3)}function Jee(t,e){return ZI(t,e)+"000"}function Yee(t,e){return we(t.getMonth()+1,e,2)}function Xee(t,e){return we(t.getMinutes(),e,2)}function Qee(t,e){return we(t.getSeconds(),e,2)}function Zee(t){var e=t.getDay();return e===0?7:e}function ete(t,e){return we(gh.count(Ir(t)-1,t),e,2)}function eN(t){var e=t.getDay();return e>=4||e===0?Ta(t):Ta.ceil(t)}function tte(t,e){return t=eN(t),we(Ta.count(Ir(t),t)+(Ir(t).getDay()===4),e,2)}function nte(t){return t.getDay()}function rte(t,e){return we($d.count(Ir(t)-1,t),e,2)}function ite(t,e){return we(t.getFullYear()%100,e,2)}function ote(t,e){return t=eN(t),we(t.getFullYear()%100,e,2)}function ate(t,e){return we(t.getFullYear()%1e4,e,4)}function ste(t,e){var n=t.getDay();return t=n>=4||n===0?Ta(t):Ta.ceil(t),we(t.getFullYear()%1e4,e,4)}function lte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+we(e/60|0,"0",2)+we(e%60,"0",2)}function RE(t,e){return we(t.getUTCDate(),e,2)}function ute(t,e){return we(t.getUTCHours(),e,2)}function cte(t,e){return we(t.getUTCHours()%12||12,e,2)}function dte(t,e){return we(1+mh.count(Nr(t),t),e,3)}function tN(t,e){return we(t.getUTCMilliseconds(),e,3)}function fte(t,e){return tN(t,e)+"000"}function hte(t,e){return we(t.getUTCMonth()+1,e,2)}function pte(t,e){return we(t.getUTCMinutes(),e,2)}function mte(t,e){return we(t.getUTCSeconds(),e,2)}function gte(t){var e=t.getUTCDay();return e===0?7:e}function yte(t,e){return we(yh.count(Nr(t)-1,t),e,2)}function nN(t){var e=t.getUTCDay();return e>=4||e===0?Aa(t):Aa.ceil(t)}function vte(t,e){return t=nN(t),we(Aa.count(Nr(t),t)+(Nr(t).getUTCDay()===4),e,2)}function wte(t){return t.getUTCDay()}function bte(t,e){return we(Dd.count(Nr(t)-1,t),e,2)}function xte(t,e){return we(t.getUTCFullYear()%100,e,2)}function _te(t,e){return t=nN(t),we(t.getUTCFullYear()%100,e,2)}function Ste(t,e){return we(t.getUTCFullYear()%1e4,e,4)}function Ete(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Aa(t):Aa.ceil(t),we(t.getUTCFullYear()%1e4,e,4)}function Tte(){return"+0000"}function ME(){return"%"}function $E(t){return+t}function DE(t){return Math.floor(+t/1e3)}var So,rN,iN;Ate({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ate(t){return So=Aee(t),rN=So.format,So.parse,iN=So.utcFormat,So.utcParse,So}function Cte(t){return new Date(t)}function kte(t){return t instanceof Date?+t:+new Date(+t)}function rw(t,e,n,r,i,o,a,s,l,u){var c=z0(),d=c.invert,h=c.domain,m=u(".%L"),y=u(":%S"),w=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),x=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?m:s(E)<E?y:a(E)<E?w:o(E)<E?b:r(E)<E?i(E)<E?v:x:n(E)<E?_:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,kte)):h().map(Cte)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(VI(A,E)):c},c.copy=function(){return _u(c,rw(t,e,n,r,i,o,a,s,l,u))},c}function Pte(){return In.apply(rw(Eee,Tee,Ir,tw,gh,Su,Z0,X0,Ui,rN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ite(){return In.apply(rw(_ee,See,Nr,nw,yh,mh,ew,Q0,Ui,iN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vh(){var t=0,e=1,n,r,i,o,a=Ft,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var m,y;return arguments.length?([m,y]=h,a=d(m,y),u):[a(0),a(1)]}}return u.range=c(ss),u.rangeRound=c(G0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function wi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oN(){var t=vi(vh()(Ft));return t.copy=function(){return wi(t,oN())},jr.apply(t,arguments)}function aN(){var t=q0(vh()).domain([1,10]);return t.copy=function(){return wi(t,aN()).base(t.base())},jr.apply(t,arguments)}function sN(){var t=W0(vh());return t.copy=function(){return wi(t,sN()).constant(t.constant())},jr.apply(t,arguments)}function iw(){var t=K0(vh());return t.copy=function(){return wi(t,iw()).exponent(t.exponent())},jr.apply(t,arguments)}function Nte(){return iw.apply(null,arguments).exponent(.5)}function lN(){var t=[],e=Ft;function n(r){if(r!=null&&!isNaN(r=+r))return e((bu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ui),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>yZ(t,o/r))},n.copy=function(){return lN(e).domain(t)},jr.apply(n,arguments)}function wh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Ft,c,d=!1,h;function m(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?s:l),u(d?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(d=!!w,m):d},m.interpolator=function(w){return arguments.length?(u=w,m):u};function y(w){return function(b){var v,x,_;return arguments.length?([v,x,_]=b,u=zZ(w,[v,x,_]),m):[u(0),u(.5),u(1)]}}return m.range=y(ss),m.rangeRound=y(G0),m.unknown=function(w){return arguments.length?(h=w,m):h},function(w){return c=w,i=w(t),o=w(e),a=w(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function uN(){var t=vi(wh()(Ft));return t.copy=function(){return wi(t,uN())},jr.apply(t,arguments)}function cN(){var t=q0(wh()).domain([.1,1,10]);return t.copy=function(){return wi(t,cN()).base(t.base())},jr.apply(t,arguments)}function dN(){var t=W0(wh());return t.copy=function(){return wi(t,dN()).constant(t.constant())},jr.apply(t,arguments)}function ow(){var t=K0(wh());return t.copy=function(){return wi(t,ow()).exponent(t.exponent())},jr.apply(t,arguments)}function Ote(){return ow.apply(null,arguments).exponent(.5)}const LE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ll,scaleDiverging:uN,scaleDivergingLog:cN,scaleDivergingPow:ow,scaleDivergingSqrt:Ote,scaleDivergingSymlog:dN,scaleIdentity:zI,scaleImplicit:Jg,scaleLinear:Rd,scaleLog:HI,scaleOrdinal:U0,scalePoint:Qs,scalePow:J0,scaleQuantile:KI,scaleQuantize:JI,scaleRadial:WI,scaleSequential:oN,scaleSequentialLog:aN,scaleSequentialPow:iw,scaleSequentialQuantile:lN,scaleSequentialSqrt:Nte,scaleSequentialSymlog:sN,scaleSqrt:fee,scaleSymlog:qI,scaleThreshold:YI,scaleTime:Pte,scaleUtc:Ite,tickFormat:GI},Symbol.toStringTag,{value:"Module"}));var Rte=Xa;function Mte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Rte(a):n(a,s)))var s=a,l=o}return l}var fN=Mte;function $te(t,e){return t>e}var Dte=$te,Lte=fN,jte=Dte,Ute=os;function Fte(t){return t&&t.length?Lte(t,Ute,jte):void 0}var Bte=Fte;const Xr=De(Bte);function Gte(t,e){return t<e}var zte=Gte,Vte=fN,Hte=zte,qte=os;function Wte(t){return t&&t.length?Vte(t,qte,Hte):void 0}var Kte=Wte;const bh=De(Kte);var Jte=w0,Yte=as,Xte=bI,Qte=Qt;function Zte(t,e){var n=Qte(t)?Jte:Xte;return n(t,Yte(e))}var ene=Zte,tne=vI,nne=ene;function rne(t,e){return tne(nne(t,e),1)}var ine=rne;const one=De(ine);var ane=M0;function sne(t,e){return ane(t,e)}var lne=sne;const to=De(lne);var ls=1e9,une={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sw,Ve=!0,kn="[DecimalError] ",qi=kn+"Invalid argument: ",aw=kn+"Exponent out of range: ",us=Math.floor,Ii=Math.pow,cne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sn,pt=1e7,Ue=7,hN=9007199254740991,Ld=us(hN/Ue),Q={};Q.absoluteValue=Q.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Q.comparedTo=Q.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ue;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Q.dividedBy=Q.div=function(t){return _r(this,new this.constructor(t))};Q.dividedToIntegerBy=Q.idiv=function(t){var e=this,n=e.constructor;return Ne(_r(e,new n(t),0,1),n.precision)};Q.equals=Q.eq=function(t){return!this.cmp(t)};Q.exponent=function(){return rt(this)};Q.greaterThan=Q.gt=function(t){return this.cmp(t)>0};Q.greaterThanOrEqualTo=Q.gte=function(t){return this.cmp(t)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(t){return this.cmp(t)<0};Q.lessThanOrEqualTo=Q.lte=function(t){return this.cmp(t)<1};Q.logarithm=Q.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(sn))throw Error(kn+"NaN");if(n.s<1)throw Error(kn+(n.s?"NaN":"-Infinity"));return n.eq(sn)?new r(0):(Ve=!1,e=_r(Gl(n,o),Gl(t,o),o),Ve=!0,Ne(e,i))};Q.minus=Q.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gN(e,t):pN(e,(t.s=-t.s,t))};Q.modulo=Q.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(kn+"NaN");return n.s?(Ve=!1,e=_r(n,t,0,1).times(t),Ve=!0,n.minus(e)):Ne(new r(n),i)};Q.naturalExponential=Q.exp=function(){return mN(this)};Q.naturalLogarithm=Q.ln=function(){return Gl(this)};Q.negated=Q.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Q.plus=Q.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pN(e,t):gN(e,(t.s=-t.s,t))};Q.precision=Q.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qi+t);if(e=rt(i)+1,r=i.d.length-1,n=r*Ue+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Q.squareRoot=Q.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(kn+"NaN")}for(t=rt(s),Ve=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=nr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=us((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(_r(s,o,a+2)).times(.5),nr(o.d).slice(0,a)===(e=nr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ne(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ve=!0,Ne(r,n)};Q.times=Q.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%pt|0,e=s/pt|0;o[i]=(o[i]+e)%pt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ve?Ne(t,d.precision):t};Q.toDecimalPlaces=Q.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(cr(t,0,ls),e===void 0?e=r.rounding:cr(e,0,8),Ne(n,t+rt(n)+1,e))};Q.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=no(r,!0):(cr(t,0,ls),e===void 0?e=i.rounding:cr(e,0,8),r=Ne(new i(r),t+1,e),n=no(r,!0,t+1)),n};Q.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?no(i):(cr(t,0,ls),e===void 0?e=o.rounding:cr(e,0,8),r=Ne(new o(i),t+rt(i)+1,e),n=no(r.abs(),!1,t+rt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Q.toInteger=Q.toint=function(){var t=this,e=t.constructor;return Ne(new e(t),rt(t)+1,e.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(sn);if(s=new l(s),!s.s){if(t.s<1)throw Error(kn+"Infinity");return s}if(s.eq(sn))return s;if(r=l.precision,t.eq(sn))return Ne(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=hN){for(i=new l(sn),e=Math.ceil(r/Ue+4),Ve=!1;n%2&&(i=i.times(s),UE(i.d,e)),n=us(n/2),n!==0;)s=s.times(s),UE(s.d,e);return Ve=!0,t.s<0?new l(sn).div(i):Ne(i,r)}}else if(o<0)throw Error(kn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ve=!1,i=t.times(Gl(s,r+u)),Ve=!0,i=mN(i),i.s=o,i};Q.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=rt(i),r=no(i,n<=o.toExpNeg||n>=o.toExpPos)):(cr(t,1,ls),e===void 0?e=o.rounding:cr(e,0,8),i=Ne(new o(i),t,e),n=rt(i),r=no(i,t<=n||n<=o.toExpNeg,t)),r};Q.toSignificantDigits=Q.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(cr(t,1,ls),e===void 0?e=r.rounding:cr(e,0,8)),Ne(new r(n),t,e)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rt(t),n=t.constructor;return no(t,e<=n.toExpNeg||e>=n.toExpPos)};function pN(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ve?Ne(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Ue),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/pt|0,l[o]%=pt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ve?Ne(e,d):e}function cr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(qi+t)}function nr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ue-r.length,n&&(o+=Hr(n)),o+=r;a=t[e],r=a+"",n=Ue-r.length,n&&(o+=Hr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var _r=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%pt|0,a=o/pt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,m,y,w,b,v,x,_,T,S,E,A,C,k=r.constructor,O=r.s==i.s?1:-1,N=r.d,I=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(kn+"Division by zero");for(l=r.e-i.e,A=I.length,S=N.length,m=new k(O),y=m.d=[],u=0;I[u]==(N[u]||0);)++u;if(I[u]>(N[u]||0)&&--l,o==null?x=o=k.precision:a?x=o+(rt(r)-rt(i))+1:x=o,x<0)return new k(0);if(x=x/Ue+2|0,u=0,A==1)for(c=0,I=I[0],x++;(u<S||c)&&x--;u++)_=c*pt+(N[u]||0),y[u]=_/I|0,c=_%I|0;else{for(c=pt/(I[0]+1)|0,c>1&&(I=t(I,c),N=t(N,c),A=I.length,S=N.length),T=A,w=N.slice(0,A),b=w.length;b<A;)w[b++]=0;C=I.slice(),C.unshift(0),E=I[0],I[1]>=pt/2&&++E;do c=0,s=e(I,w,A,b),s<0?(v=w[0],A!=b&&(v=v*pt+(w[1]||0)),c=v/E|0,c>1?(c>=pt&&(c=pt-1),d=t(I,c),h=d.length,b=w.length,s=e(d,w,h,b),s==1&&(c--,n(d,A<h?C:I,h))):(c==0&&(s=c=1),d=I.slice()),h=d.length,h<b&&d.unshift(0),n(w,d,b),s==-1&&(b=w.length,s=e(I,w,A,b),s<1&&(c++,n(w,A<b?C:I,b))),b=w.length):s===0&&(c++,w=[0]),y[u++]=c,s&&w[0]?w[b++]=N[T]||0:(w=[N[T]],b=1);while((T++<S||w[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=l,Ne(m,a?o+rt(m)+1:o)}}();function mN(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(rt(t)>16)throw Error(aw+rt(t));if(!t.s)return new c(sn);for(Ve=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ii(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(sn),c.precision=s;;){if(i=Ne(i.times(t),s),n=n.times(++l),a=o.plus(_r(i,n,s)),nr(a.d).slice(0,s)===nr(o.d).slice(0,s)){for(;u--;)o=Ne(o.times(o),s);return c.precision=d,e==null?(Ve=!0,Ne(o,d)):o}o=a}}function rt(t){for(var e=t.e*Ue,n=t.d[0];n>=10;n/=10)e++;return e}function Bp(t,e,n){if(e>t.LN10.sd())throw Ve=!0,n&&(t.precision=n),Error(kn+"LN10 precision limit exceeded");return Ne(new t(t.LN10),e)}function Hr(t){for(var e="";t--;)e+="0";return e}function Gl(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,m=t,y=m.d,w=m.constructor,b=w.precision;if(m.s<1)throw Error(kn+(m.s?"NaN":"-Infinity"));if(m.eq(sn))return new w(0);if(e==null?(Ve=!1,u=b):u=e,m.eq(10))return e==null&&(Ve=!0),Bp(w,u);if(u+=h,w.precision=u,n=nr(y),r=n.charAt(0),o=rt(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=nr(m.d),r=n.charAt(0),d++;o=rt(m),r>1?(m=new w("0."+n),o++):m=new w(r+"."+n.slice(1))}else return l=Bp(w,u+2,b).times(o+""),m=Gl(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=b,e==null?(Ve=!0,Ne(m,b)):m;for(s=a=m=_r(m.minus(sn),m.plus(sn),u),c=Ne(m.times(m),u),i=3;;){if(a=Ne(a.times(c),u),l=s.plus(_r(a,new w(i),u)),nr(l.d).slice(0,u)===nr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Bp(w,u+2,b).times(o+""))),s=_r(s,new w(d),u),w.precision=b,e==null?(Ve=!0,Ne(s,b)):s;s=l,i+=2}}function jE(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=us(n/Ue),t.d=[],r=(n+1)%Ue,n<0&&(r+=Ue),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ue;r<i;)t.d.push(+e.slice(r,r+=Ue));e=e.slice(r),r=Ue-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ve&&(t.e>Ld||t.e<-Ld))throw Error(aw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ne(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ue,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Ue),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Ue,i=r-Ue+a}if(n!==void 0&&(o=Ii(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ii(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=rt(t),d.length=1,e=e-o-1,d[0]=Ii(10,(Ue-e%Ue)%Ue),t.e=us(-e/Ue)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Ii(10,Ue-r),d[c]=i>0?(u/Ii(10,a-i)%Ii(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==pt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=pt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Ve&&(t.e>Ld||t.e<-Ld))throw Error(aw+rt(t));return t}function gN(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ve?Ne(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/Ue),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=pt-1;--l[o],l[i]+=pt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ve?Ne(e,m):e):new h(0)}function no(t,e,n){var r,i=rt(t),o=nr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Hr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Hr(-i-1)+o,n&&(r=n-a)>0&&(o+=Hr(r))):i>=a?(o+=Hr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Hr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Hr(r))),t.s<0?"-"+o:o}function UE(t,e){if(t.length>e)return t.length=e,!0}function yN(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(qi+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return jE(a,o.toString())}else if(typeof o!="string")throw Error(qi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,cne.test(o))jE(a,o);else throw Error(qi+o)}if(i.prototype=Q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yN,i.config=i.set=dne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dne(t){if(!t||typeof t!="object")throw Error(kn+"Object expected");var e,n,r,i=["precision",1,ls,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(us(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(qi+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(qi+n+": "+r);return this}var sw=yN(une);sn=new sw(1);const Pe=sw;function fne(t){return gne(t)||mne(t)||pne(t)||hne()}function hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(t,e){if(t){if(typeof t=="string")return Zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zg(t,e)}}function mne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gne(t){if(Array.isArray(t))return Zg(t)}function Zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yne=function(e){return e},vN={},wN=function(e){return e===vN},FE=function(e){return function n(){return arguments.length===0||arguments.length===1&&wN(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},vne=function t(e,n){return e===1?n:FE(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==vN}).length;return a>=e?n.apply(void 0,i):t(e-a,FE(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return wN(d)?l.shift():d});return n.apply(void 0,fne(c).concat(l))}))})},xh=function(e){return vne(e.length,e)},ey=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},wne=xh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),bne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return yne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},ty=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},bN=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function xne(t){var e;return t===0?e=1:e=Math.floor(new Pe(t).abs().log(10).toNumber())+1,e}function _ne(t,e,n){for(var r=new Pe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Sne=xh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ene=xh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Tne=xh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const _h={rangeStep:_ne,getDigitCount:xne,interpolateNumber:Sne,uninterpolateNumber:Ene,uninterpolateTruncation:Tne};function ny(t){return kne(t)||Cne(t)||xN(t)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kne(t){if(Array.isArray(t))return ry(t)}function zl(t,e){return Nne(t)||Ine(t,e)||xN(t,e)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xN(t,e){if(t){if(typeof t=="string")return ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ry(t,e)}}function ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ine(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Nne(t){if(Array.isArray(t))return t}function _N(t){var e=zl(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function SN(t,e,n){if(t.lte(0))return new Pe(0);var r=_h.getDigitCount(t.toNumber()),i=new Pe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Pe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Pe(Math.ceil(l))}function One(t,e,n){var r=1,i=new Pe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Pe(10).pow(_h.getDigitCount(t)-1),i=new Pe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pe(Math.floor(t)))}else t===0?i=new Pe(Math.floor((e-1)/2)):n||(i=new Pe(Math.floor(t)));var a=Math.floor((e-1)/2),s=bne(wne(function(l){return i.add(new Pe(l-a).mul(r)).toNumber()}),ey);return s(0,e)}function EN(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var o=SN(new Pe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Pe(0):(a=new Pe(t).add(e).div(2),a=a.sub(new Pe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Pe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?EN(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Pe(s).mul(o)),tickMax:a.add(new Pe(l).mul(o))})}function Rne(t){var e=zl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=_N([n,r]),l=zl(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(ny(ey(0,i-1).map(function(){return 1/0}))):[].concat(ny(ey(0,i-1).map(function(){return-1/0})),[c]);return n>r?ty(d):d}if(u===c)return One(u,i,o);var h=EN(u,c,a,o),m=h.step,y=h.tickMin,w=h.tickMax,b=_h.rangeStep(y,w.add(new Pe(.1).mul(m)),m);return n>r?ty(b):b}function Mne(t,e){var n=zl(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=_N([r,i]),s=zl(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=SN(new Pe(u).sub(l).div(c-1),o,0),h=[].concat(ny(_h.rangeStep(new Pe(l),new Pe(u).sub(new Pe(.99).mul(d)),d)),[u]);return r>i?ty(h):h}var $ne=bN(Rne),Dne=bN(Mne),Lne="Invariant failed";function ro(t,e){throw new Error(Lne)}var jne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(this,arguments)}function Une(t,e){return zne(t)||Gne(t,e)||Bne(t,e)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(t,e){if(t){if(typeof t=="string")return BE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(t,e)}}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zne(t){if(Array.isArray(t))return t}function Vne(t,e){if(t==null)return{};var n=Hne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CN(r.key),r)}}function Kne(t,e,n){return e&&Wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jne(t,e,n){return e=Ud(e),Yne(t,TN()?Reflect.construct(e,n||[],Ud(t).constructor):e.apply(t,n))}function Yne(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xne(t)}function Xne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TN=function(){return!!t})()}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ud(t)}function Qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iy(t,e)}function iy(t,e){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iy(t,e)}function AN(t,e,n){return e=CN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CN(t){var e=Zne(t,"string");return Ca(e)=="symbol"?e:e+""}function Zne(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cs=function(t){function e(){return qne(this,e),Jne(this,e,arguments)}return Qne(e,t),Kne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Vne(r,jne),m=ce(h,!1);this.props.direction==="x"&&c.type!=="number"&&ro();var y=l.map(function(w){var b=u(w,s),v=b.x,x=b.y,_=b.value,T=b.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var C=Une(T,2);E=C[0],A=C[1]}else E=A=T;if(o==="vertical"){var k=c.scale,O=x+i,N=O+a,I=O-a,$=k(_-E),L=k(_+A);S.push({x1:L,y1:N,x2:L,y2:I}),S.push({x1:$,y1:O,x2:L,y2:O}),S.push({x1:$,y1:N,x2:$,y2:I})}else if(o==="horizontal"){var U=d.scale,j=v+i,G=j-a,P=j+a,D=U(_-E),B=U(_+A);S.push({x1:G,y1:B,x2:P,y2:B}),S.push({x1:j,y1:D,x2:j,y2:B}),S.push({x1:G,y1:D,x2:P,y2:D})}return R.createElement(xe,jd({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},m),S.map(function(W){return R.createElement("line",jd({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return R.createElement(xe,{className:"recharts-errorBars"},y)}}])}(R.Component);AN(cs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AN(cs,"displayName","ErrorBar");function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return e=tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return Vl(e)=="symbol"?e:e+""}function nre(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kN=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=rn(n,aa);if(!a)return null;var s=aa.defaultProps,l=s!==void 0?Si(Si({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,m=d.props,y=m.sectors||m.data||[];return c.concat(y.map(function(w){return{type:a.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,m=h!==void 0?Si(Si({},h),d.props):{},y=m.dataKey,w=m.name,b=m.legendType,v=m.hide;return{inactive:v,dataKey:y,type:l.iconType||b||"square",color:lw(d),value:w||y,payload:m}}),Si(Si(Si({},l),aa.getWithHeight(a,i)),{},{payload:u,item:a})};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function zE(t){return are(t)||ore(t)||ire(t)||rre()}function rre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(t,e){if(t){if(typeof t=="string")return oy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oy(t,e)}}function ore(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function are(t){if(Array.isArray(t))return oy(t)}function oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){la(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function la(t,e,n){return e=sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sre(t){var e=lre(t,"string");return Hl(e)=="symbol"?e:e+""}function lre(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dt(t,e,n){return le(t)||le(e)?n:ct(e)?En(t,e,n):fe(e)?e(t):n}function Zs(t,e,n,r){var i=one(t,function(s){return dt(s,e)});if(n==="number"){var o=i.filter(function(s){return K(s)||parseFloat(s)});return o.length?[bh(o),Xr(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!le(s)}):i;return a.map(function(s){return ct(s)||s instanceof Date?s:""})}var ure=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Gn(d-c)!==Gn(h-d)){var y=[];if(Gn(h-d)===Gn(l[1]-l[0])){m=h;var w=d+l[1]-l[0];y[0]=Math.min(w,(w+c)/2),y[1]=Math.max(w,(w+c)/2)}else{m=c;var b=h+l[1]-l[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(e>(x+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},lw=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Xe(Xe({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},cre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,m=d.length;h<m;h++){var y=c[d[h]],w=y.items,b=y.cateAxisId,v=w.filter(function(A){return xr(A.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,_=x!==void 0?Xe(Xe({},x),v[0].props):v[0].props,T=_.barSize,S=_[b];a[S]||(a[S]=[]);var E=le(T)?n:T;a[S].push({item:v[0],stackList:v.slice(1),barSize:le(E)?void 0:eo(E,r,0)})}}return a},dre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=eo(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,y=a.reduce(function(T,S){return T+S.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var w=(i-y)/2>>0,b={offset:w-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:b.offset+b.size+u,size:h?m:S.barSize}},A=[].concat(zE(T),[E]);return b=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:b})}),A},d)}else{var v=eo(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var x=(i-2*v-(l-1)*u)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;c=a.reduce(function(T,S,E){var A=[].concat(zE(T),[{item:S.item,position:{offset:v+(x+u)*E+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return c},fre=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=kN({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,m=u.align,y=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&y==="middle")&&m!=="center"&&K(e[m]))return Xe(Xe({},e),{},la({},m,e[m]+(d||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&y!=="middle"&&K(e[y]))return Xe(Xe({},e),{},la({},y,e[y]+(h||0)))}return e},hre=function(e,n,r){return le(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},PN=function(e,n,r,i,o){var a=n.props.children,s=Xt(a,cs).filter(function(u){return hre(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=dt(c,r);if(le(d))return u;var h=Array.isArray(d)?[bh(d),Xr(d)]:[d,d],m=l.reduce(function(y,w){var b=dt(c,w,0),v=h[0]-Math.abs(Array.isArray(b)?b[0]:b),x=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},pre=function(e,n,r,i,o){var a=n.map(function(s){return PN(e,s,r,o,i)}).filter(function(s){return!le(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},IN=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&PN(e,l,u,i)||Zs(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},NN=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Fi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Gn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!ns(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Gp=new WeakMap,lc=function(e,n){if(typeof n!="function")return e;Gp.has(e)||Gp.set(e,new WeakMap);var r=Gp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},mre=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Ll(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Rd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Qs(),realScaleType:"point"}:o==="category"?{scale:Ll(),realScaleType:"band"}:{scale:Rd(),realScaleType:"linear"};if(Zi(i)){var l="scale".concat(oh(i));return{scale:(LE[l]||Qs)(),realScaleType:LE[l]?l:"point"}}return fe(i)?{scale:i}:{scale:Qs(),realScaleType:"point"}},HE=1e-4,gre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-HE,a=Math.max(i[0],i[1])+HE,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},yre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},vre=function(e,n){if(!n||n.length!==2||!K(n[0])||!K(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!K(e[0])||e[0]<r)&&(o[0]=r),(!K(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},wre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=ns(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},bre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=ns(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},xre={sign:wre,expand:$6,none:wa,silhouette:D6,wiggle:L6,positive:bre},_re=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=xre[r],a=M6().keys(i).value(function(s,l){return+dt(s,l,0)}).order(Ig).offset(o);return a(e)},Sre=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Xe(Xe({},h.type.defaultProps),h.props):h.props,w=y.stackId,b=y.hide;if(b)return d;var v=y[r],x=d[v]||{hasStack:!1,stackGroups:{}};if(ct(w)){var _=x.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[w]=_}else x.stackGroups[lo("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Xe(Xe({},d),{},la({},v,x))},l),c={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,b){var v=m.stackGroups[b];return Xe(Xe({},w),{},la({},b,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:_re(e,v.items,o)}))},y)}return Xe(Xe({},d),{},la({},h,m))},c)},Ere=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=$ne(u,o,s);return e.domain([bh(c),Xr(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=Dne(d,o,s);return{niceTicks:h}}return null};function ka(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!le(i[e.dataKey])){var s=dd(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=dt(i,le(a)?e.dataKey:a);return le(l)?null:e.scale(l)}var qE=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=dt(a,n.dataKey,n.domain[s]);return le(l)?null:n.scale(l)-o/2+i},Tre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Are=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Xe(Xe({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(ct(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Cre=function(e){return e.reduce(function(n,r){return[bh(r.concat([n[0]]).filter(K)),Xr(r.concat([n[1]]).filter(K))]},[1/0,-1/0])},ON=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=Cre(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},WE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ay=function(e,n,r){if(fe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(K(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(WE.test(e[0])){var o=+WE.exec(e[0])[1];i[0]=n[0]-o}else fe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(K(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(KE.test(e[1])){var a=+KE.exec(e[1])[1];i[1]=n[1]+a}else fe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Fd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=D0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},JE=function(e,n,r){return!e||!e.length||to(e,En(r,"type.defaultProps.domain"))?n:e},RN=function(e,n){var r=e.type.defaultProps?Xe(Xe({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Xe(Xe({},ce(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:lw(e),value:dt(n,i),type:l,payload:n,chartType:u,hide:c})};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(r){kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kre(t,e,n){return e=Pre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=Ire(t,"string");return ql(e)=="symbol"?e:e+""}function Ire(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bd=Math.PI/180,Nre=function(e){return e*180/Math.PI},Tt=function(e,n,r,i){return{x:e+Math.cos(-Bd*i)*r,y:n+Math.sin(-Bd*i)*r}},Ore=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Rre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Ore({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Nre(u),angleInRadian:u}},Mre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},$re=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},QE=function(e,n){var r=e.x,i=e.y,o=Rre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Mre(n),d=c.startAngle,h=c.endAngle,m=s,y;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}return y?XE(XE({},n),{},{radius:a,angle:$re(m,n)}):null};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var Dre=["offset"];function Lre(t){return Bre(t)||Fre(t)||Ure(t)||jre()}function jre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ure(t,e){if(t){if(typeof t=="string")return sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sy(t,e)}}function Fre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bre(t){if(Array.isArray(t))return sy(t)}function sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gre(t,e){if(t==null)return{};var n=zre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=qre(t,"string");return Wl(e)=="symbol"?e:e+""}function qre(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}var Wre=function(e){var n=e.value,r=e.formatter,i=le(e.children)?n:e.children;return fe(r)?r(i):i},Kre=function(e,n){var r=Gn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Jre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,w=l.clockWise,b=(d+h)/2,v=Kre(m,y),x=v>=0?1:-1,_,T;i==="insideStart"?(_=m+x*a,T=w):i==="insideEnd"?(_=y-x*a,T=!w):i==="end"&&(_=y+x*a,T=w),T=v<=0?T:!T;var S=Tt(u,c,b,_),E=Tt(u,c,b,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),C=le(e.id)?lo("recharts-radial-line-"):e.id;return R.createElement("text",Kl({},r,{dominantBaseline:"central",className:de("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:C,d:A})),R.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Yre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var m=Tt(a,s,u+r,h),y=m.x,w=m.y;return{x:y,y:w,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,v=Tt(a,s,b,h),x=v.x,_=v.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Xre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,m=d>0?"end":"start",y=d>0?"start":"end",w=u>=0?1:-1,b=w*i,v=w>0?"end":"start",x=w>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return at(at({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return at(at({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return at(at({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return at(at({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?at({x:s+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideRight"?at({x:s+u-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},A):o==="insideTop"?at({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},A):o==="insideBottom"?at({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},A):o==="insideTopLeft"?at({x:s+b,y:l+h,textAnchor:x,verticalAnchor:y},A):o==="insideTopRight"?at({x:s+u-b,y:l+h,textAnchor:v,verticalAnchor:y},A):o==="insideBottomLeft"?at({x:s+b,y:l+c-h,textAnchor:x,verticalAnchor:m},A):o==="insideBottomRight"?at({x:s+u-b,y:l+c-h,textAnchor:v,verticalAnchor:m},A):Qa(o)&&(K(o.x)||Li(o.x))&&(K(o.y)||Li(o.y))?at({x:s+eo(o.x,u),y:l+eo(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):at({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Qre=function(e){return"cx"in e&&K(e.cx)};function Ot(t){var e=t.offset,n=e===void 0?5:e,r=Gre(t,Dre),i=at({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||le(s)&&le(l)&&!M.isValidElement(u)&&!fe(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var m;if(fe(u)){if(m=M.createElement(u,i),M.isValidElement(m))return m}else m=Wre(i);var y=Qre(o),w=ce(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Jre(i,m,w);var b=y?Yre(i):Xre(i);return R.createElement(Ad,Kl({className:de("recharts-label",d)},w,b,{breakAll:h}),m)}Ot.displayName="Label";var MN=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,m=e.top,y=e.left,w=e.width,b=e.height,v=e.clockWise,x=e.labelViewBox;if(x)return x;if(K(w)&&K(b)){if(K(d)&&K(h))return{x:d,y:h,width:w,height:b};if(K(m)&&K(y))return{x:m,y,width:w,height:b}}return K(d)&&K(h)?{x:d,y:h,width:0,height:0}:K(n)&&K(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},Zre=function(e,n){return e?e===!0?R.createElement(Ot,{key:"label-implicit",viewBox:n}):ct(e)?R.createElement(Ot,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===Ot?M.cloneElement(e,{key:"label-implicit",viewBox:n}):R.createElement(Ot,{key:"label-implicit",content:e,viewBox:n}):fe(e)?R.createElement(Ot,{key:"label-implicit",content:e,viewBox:n}):Qa(e)?R.createElement(Ot,Kl({viewBox:n},e,{key:"label-implicit"})):null:null},eie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=MN(e),a=Xt(i,Ot).map(function(l,u){return M.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Zre(e.label,n||o);return[s].concat(Lre(a))};Ot.parseViewBox=MN;Ot.renderCallByParent=eie;function tie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nie=tie;const rie=De(nie);function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}var iie=["valueAccessor"],oie=["data","dataKey","clockWise","id","textBreakAll"];function aie(t){return cie(t)||uie(t)||lie(t)||sie()}function sie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(t,e){if(t){if(typeof t=="string")return ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ly(t,e)}}function uie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cie(t){if(Array.isArray(t))return ly(t)}function ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function die(t,e,n){return e=fie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=hie(t,"string");return Jl(e)=="symbol"?e:e+""}function hie(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nT(t,e){if(t==null)return{};var n=pie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mie=function(e){return Array.isArray(e.value)?rie(e.value):e.value};function sr(t){var e=t.valueAccessor,n=e===void 0?mie:e,r=nT(t,iie),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=nT(r,oie);return!i||!i.length?null:R.createElement(xe,{className:"recharts-label-list"},i.map(function(c,d){var h=le(o)?n(c,d):dt(c&&c.payload,o),m=le(s)?{}:{id:"".concat(s,"-").concat(d)};return R.createElement(Ot,Gd({},ce(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Ot.parseViewBox(le(a)?c:tT(tT({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}sr.displayName="LabelList";function gie(t,e){return t?t===!0?R.createElement(sr,{key:"labelList-implicit",data:e}):R.isValidElement(t)||fe(t)?R.createElement(sr,{key:"labelList-implicit",data:e,content:t}):Qa(t)?R.createElement(sr,Gd({data:e},t,{key:"labelList-implicit"})):null:null}function yie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Xt(r,sr).map(function(a,s){return M.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=gie(t.label,e);return[o].concat(aie(i))}sr.renderCallByParent=yie;function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(n),!0).forEach(function(r){vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t,e,n){return e=wie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=bie(t,"string");return Yl(e)=="symbol"?e:e+""}function bie(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xie=function(e,n){var r=Gn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},uc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Bd,h=u?o:o+a*d,m=Tt(n,r,c,h),y=Tt(n,r,i,h),w=u?o-a*d:o,b=Tt(n,r,c*Math.cos(d*Bd),w);return{center:m,circleTangency:y,lineTangency:b,theta:d}},$N=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=xie(a,s),u=a+l,c=Tt(n,r,o,a),d=Tt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Tt(n,r,i,a),y=Tt(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},_ie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Gn(c-u),h=uc({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,w=h.theta,b=uc({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),v=b.circleTangency,x=b.lineTangency,_=b.theta,T=l?Math.abs(u-c):Math.abs(u-c)-w-_;if(T<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):$N({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=uc({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,C=E.lineTangency,k=E.theta,O=uc({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=O.circleTangency,I=O.lineTangency,$=O.theta,L=l?Math.abs(u-c):Math.abs(u-c)-k-$;if(L<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Sie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DN=function(e){var n=iT(iT({},Sie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var m=de("recharts-sector",h),y=a-o,w=eo(s,y,0,!0),b;return w>0&&Math.abs(c-d)<360?b=_ie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):b=$N({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),R.createElement("path",uy({},ce(n,!0),{className:m,d:b,role:"img"}))};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(this,arguments)}function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=Aie(t,"string");return Xl(e)=="symbol"?e:e+""}function Aie(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sT={curveBasisClosed:S6,curveBasisOpen:E6,curveBasis:_6,curveBumpX:l6,curveBumpY:u6,curveLinearClosed:T6,curveLinear:sh,curveMonotoneX:A6,curveMonotoneY:C6,curveNatural:k6,curveStep:P6,curveStepAfter:N6,curveStepBefore:I6},cc=function(e){return e.x===+e.x&&e.y===+e.y},ks=function(e){return e.x},Ps=function(e){return e.y},Cie=function(e,n){if(fe(e))return e;var r="curve".concat(oh(e));return(r==="curveMonotone"||r==="curveBump")&&n?sT["".concat(r).concat(n==="vertical"?"Y":"X")]:sT[r]||sh},kie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Cie(r,s),d=u?o.filter(function(w){return cc(w)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(w){return cc(w)}):a,y=d.map(function(w,b){return aT(aT({},w),{},{base:m[b]})});return s==="vertical"?h=ec().y(Ps).x1(ks).x0(function(w){return w.base.x}):h=ec().x(ks).y1(Ps).y0(function(w){return w.base.y}),h.defined(cc).curve(c),h(y)}return s==="vertical"&&K(a)?h=ec().y(Ps).x1(ks).x0(a):K(a)?h=ec().x(ks).y1(Ps).y0(a):h=jP().x(ks).y(Ps),h.defined(cc).curve(c),h(d)},Wi=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?kie(e):i;return M.createElement("path",cy({},ce(e,!1),fd(e),{className:de("recharts-curve",n),d:a,ref:o}))},LN={exports:{}},Pie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Iie=Pie,Nie=Iie;function jN(){}function UN(){}UN.resetWarningCache=jN;var Oie=function(){function t(r,i,o,a,s,l){if(l!==Nie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UN,resetWarningCache:jN};return n.PropTypes=n,n};LN.exports=Oie();var Rie=LN.exports;const Se=De(Rie),{getOwnPropertyNames:Mie,getOwnPropertySymbols:$ie}=Object,{hasOwnProperty:Die}=Object.prototype;function zp(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function dc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Lie(t){return t!=null?t[Symbol.toStringTag]:void 0}function lT(t){return Mie(t).concat($ie(t))}const jie=Object.hasOwn||((t,e)=>Die.call(t,e));function fo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Uie="__v",Fie="__o",Bie="_owner",{getOwnPropertyDescriptor:uT,keys:cT}=Object;function Gie(t,e){return t.byteLength===e.byteLength&&zd(new Uint8Array(t),new Uint8Array(e))}function zie(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Vie(t,e){return t.byteLength===e.byteLength&&zd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Hie(t,e){return fo(t.getTime(),e.getTime())}function qie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Wie(t,e){return t===e}function dT(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,d=0;for(;(s=u.next())&&!s.done;){if(i[d]){d++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,d,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const Kie=fo;function Jie(t,e,n){const r=cT(t);let i=r.length;if(cT(e).length!==i)return!1;for(;i-- >0;)if(!FN(t,e,n,r[i]))return!1;return!0}function Is(t,e,n){const r=lT(t);let i=r.length;if(lT(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!FN(t,e,n,o)||(a=uT(t,o),s=uT(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Yie(t,e){return fo(t.valueOf(),e.valueOf())}function Xie(t,e){return t.source===e.source&&t.flags===e.flags}function fT(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function zd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Qie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function FN(t,e,n,r){return(r===Bie||r===Fie||r===Uie)&&(t.$$typeof||e.$$typeof)?!0:jie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Zie="[object ArrayBuffer]",eoe="[object Arguments]",toe="[object Boolean]",noe="[object DataView]",roe="[object Date]",ioe="[object Error]",ooe="[object Map]",aoe="[object Number]",soe="[object Object]",loe="[object RegExp]",uoe="[object Set]",coe="[object String]",doe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},foe="[object URL]",hoe=Object.prototype.toString;function poe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:y}){return function(b,v,x){if(b===v)return!0;if(b==null||v==null)return!1;const _=typeof b;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?s(b,v,x):_==="function"?o(b,v,x):!1;const T=b.constructor;if(T!==v.constructor)return!1;if(T===Object)return l(b,v,x);if(Array.isArray(b))return e(b,v,x);if(T===Date)return r(b,v,x);if(T===RegExp)return c(b,v,x);if(T===Map)return a(b,v,x);if(T===Set)return d(b,v,x);const S=hoe.call(b);if(S===roe)return r(b,v,x);if(S===loe)return c(b,v,x);if(S===ooe)return a(b,v,x);if(S===uoe)return d(b,v,x);if(S===soe)return typeof b.then!="function"&&typeof v.then!="function"&&l(b,v,x);if(S===foe)return m(b,v,x);if(S===ioe)return i(b,v,x);if(S===eoe)return l(b,v,x);if(doe[S])return h(b,v,x);if(S===Zie)return t(b,v,x);if(S===noe)return n(b,v,x);if(S===toe||S===aoe||S===coe)return u(b,v,x);if(y){let E=y[S];if(!E){const A=Lie(b);A&&(E=y[A])}if(E)return E(b,v,x)}return!1}}function moe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Gie,areArraysEqual:n?Is:zie,areDataViewsEqual:Vie,areDatesEqual:Hie,areErrorsEqual:qie,areFunctionsEqual:Wie,areMapsEqual:n?zp(dT,Is):dT,areNumbersEqual:Kie,areObjectsEqual:n?Is:Jie,arePrimitiveWrappersEqual:Yie,areRegExpsEqual:Xie,areSetsEqual:n?zp(fT,Is):fT,areTypedArraysEqual:n?zp(zd,Is):zd,areUrlsEqual:Qie,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=dc(r.areArraysEqual),o=dc(r.areMapsEqual),a=dc(r.areObjectsEqual),s=dc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function goe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function yoe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const voe=bi();bi({strict:!0});bi({circular:!0});bi({circular:!0,strict:!0});bi({createInternalComparator:()=>fo});bi({strict:!0,createInternalComparator:()=>fo});bi({circular:!0,createInternalComparator:()=>fo});bi({circular:!0,createInternalComparator:()=>fo,strict:!0});function bi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=moe(t),a=poe(o),s=n?n(a):goe(a);return yoe({circular:e,comparator:a,createState:r,equals:s,strict:i})}function woe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function hT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):woe(i)};requestAnimationFrame(r)}function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function boe(t){return Eoe(t)||Soe(t)||_oe(t)||xoe()}function xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _oe(t,e){if(t){if(typeof t=="string")return pT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pT(t,e)}}function pT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eoe(t){if(Array.isArray(t))return t}function Toe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=boe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){hT(i.bind(null,u),l);return}i(l),hT(i.bind(null,u));return}dy(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function mT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(n),!0).forEach(function(r){BN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BN(t,e,n){return e=Aoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aoe(t){var e=Coe(t,"string");return Ql(e)==="symbol"?e:String(e)}function Coe(t,e){if(Ql(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var koe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Poe=function(e){return e},Ioe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},el=function(e,n){return Object.keys(n).reduce(function(r,i){return gT(gT({},r),{},BN({},i,e(i,n[i])))},{})},yT=function(e,n,r){return e.map(function(i){return"".concat(Ioe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Noe(t,e){return Moe(t)||Roe(t,e)||GN(t,e)||Ooe()}function Ooe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Roe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Moe(t){if(Array.isArray(t))return t}function $oe(t){return joe(t)||Loe(t)||GN(t)||Doe()}function Doe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GN(t,e){if(t){if(typeof t=="string")return fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fy(t,e)}}function Loe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function joe(t){if(Array.isArray(t))return fy(t)}function fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vd=1e-4,zN=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},VN=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},vT=function(e,n){return function(r){var i=zN(e,n);return VN(i,r)}},Uoe=function(e,n){return function(r){var i=zN(e,n),o=[].concat($oe(i.map(function(a,s){return a*s}).slice(1)),[0]);return VN(o,r)}},wT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=Noe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=vT(i,a),h=vT(o,s),m=Uoe(i,a),y=function(v){return v>1?1:v<0?0:v},w=function(v){for(var x=v>1?1:v,_=x,T=0;T<8;++T){var S=d(_)-x,E=m(_);if(Math.abs(S-x)<Vd||E<Vd)return h(_);_=y(_-S/E)}return h(_)};return w.isStepper=!1,w},Foe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var m=-(c-d)*r,y=h*o,w=h+(m-y)*s/1e3,b=h*s/1e3+c;return Math.abs(b-d)<Vd&&Math.abs(w)<Vd?[d,0]:[b,w]};return l.isStepper=!0,l.dt=s,l},Boe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wT(i);case"spring":return Foe();default:if(i.split("(")[0]==="cubic-bezier")return wT(i)}return typeof i=="function"?i:null};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function bT(t){return Voe(t)||zoe(t)||HN(t)||Goe()}function Goe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Voe(t){if(Array.isArray(t))return py(t)}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hy(t,e,n){return e=Hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hoe(t){var e=qoe(t,"string");return Zl(e)==="symbol"?e:String(e)}function qoe(t,e){if(Zl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Woe(t,e){return Yoe(t)||Joe(t,e)||HN(t,e)||Koe()}function Koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HN(t,e){if(t){if(typeof t=="string")return py(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return py(t,e)}}function py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Joe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Yoe(t){if(Array.isArray(t))return t}var Hd=function(e,n,r){return e+(n-e)*r},my=function(e){var n=e.from,r=e.to;return n!==r},Xoe=function t(e,n,r){var i=el(function(o,a){if(my(a)){var s=e(a.from,a.to,a.velocity),l=Woe(s,2),u=l[0],c=l[1];return St(St({},a),{},{from:u,velocity:c})}return a},n);return r<1?el(function(o,a){return my(a)?St(St({},a),{},{velocity:Hd(a.velocity,i[o].velocity,r),from:Hd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Qoe=function(t,e,n,r,i){var o=koe(t,e),a=o.reduce(function(b,v){return St(St({},b),{},hy({},v,[t[v],e[v]]))},{}),s=o.reduce(function(b,v){return St(St({},b),{},hy({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return el(function(v,x){return x.from},s)},m=function(){return!Object.values(s).filter(my).length},y=function(v){u||(u=v);var x=v-u,_=x/n.dt;s=Xoe(n,s,_),i(St(St(St({},t),e),h())),u=v,m()||(l=requestAnimationFrame(d))},w=function(v){c||(c=v);var x=(v-c)/r,_=el(function(S,E){return Hd.apply(void 0,bT(E).concat([n(x)]))},a);if(i(St(St(St({},t),e),_)),x<1)l=requestAnimationFrame(d);else{var T=el(function(S,E){return Hd.apply(void 0,bT(E).concat([n(1)]))},a);i(St(St(St({},t),e),T))}};return d=n.isStepper?y:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}var Zoe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function eae(t,e){if(t==null)return{};var n=tae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vp(t){return oae(t)||iae(t)||rae(t)||nae()}function nae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(t,e){if(t){if(typeof t=="string")return gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gy(t,e)}}function iae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oae(t){if(Array.isArray(t))return gy(t)}function gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function js(t,e,n){return e=qN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qN(r.key),r)}}function lae(t,e,n){return e&&sae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qN(t){var e=uae(t,"string");return Pa(e)==="symbol"?e:String(e)}function uae(t,e){if(Pa(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yy(t,e)}function yy(t,e){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yy(t,e)}function dae(t){var e=fae();return function(){var r=qd(t),i;if(e){var o=qd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vy(this,i)}}function vy(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wy(t)}function wy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qd(t)}var Jn=function(t){cae(n,t);var e=dae(n);function n(r,i){var o;aae(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(wy(o)),o.changeStyle=o.changeStyle.bind(wy(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),vy(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},vy(o);o.state={style:l?js({},l,u):u}}else o.state={style:{}};return o}return lae(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var m={style:l?js({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(voe(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=y||u?d:i.to;if(this.state&&h){var b={style:l?js({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(b)}this.runAnimation(On(On({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,m=Qoe(a,s,Boe(u),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,c,y,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,m=function(w,b,v){if(v===0)return w;var x=b.duration,_=b.easing,T=_===void 0?"ease":_,S=b.style,E=b.properties,A=b.onAnimationEnd,C=v>0?a[v-1]:b,k=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Vp(w),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:x,easing:T}),x]);var O=yT(k,x,T),N=On(On(On({},C.style),S),{},{transition:O});return[].concat(Vp(w),[N,x,A]).filter(Poe)};return this.manager.start([l].concat(Vp(a.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Toe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=s?js({},s,l):l,b=yT(Object.keys(w),a,u);y.start([c,o,On(On({},w),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=eae(i,Zoe),u=M.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(m){var y=m.props,w=y.style,b=w===void 0?{}:w,v=y.className,x=M.cloneElement(m,On(On({},l),{},{style:On(On({},b),c),className:v}));return x};return u===1?d(M.Children.only(o)):R.createElement("div",null,M.Children.map(o,function(h){return d(h)}))}}]),n}(M.PureComponent);Jn.displayName="Animate";Jn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Jn.propTypes={from:Se.oneOfType([Se.object,Se.string]),to:Se.oneOfType([Se.object,Se.string]),attributeName:Se.string,duration:Se.number,begin:Se.number,easing:Se.oneOfType([Se.string,Se.func]),steps:Se.arrayOf(Se.shape({duration:Se.number.isRequired,style:Se.object.isRequired,easing:Se.oneOfType([Se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Se.func]),properties:Se.arrayOf("string"),onAnimationEnd:Se.func})),children:Se.oneOfType([Se.node,Se.func]),isActive:Se.bool,canBegin:Se.bool,onAnimationEnd:Se.func,shouldReAnimate:Se.bool,onAnimationStart:Se.func,onAnimationReStart:Se.func};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}function hae(t,e){return yae(t)||gae(t,e)||mae(t,e)||pae()}function pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yae(t){if(Array.isArray(t))return t}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e,n){return e=wae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wae(t){var e=bae(t,"string");return eu(e)=="symbol"?e:e+""}function bae(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AT=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},xae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},_ae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uw=function(e){var n=TT(TT({},_ae),e),r=M.useRef(),i=M.useState(-1),o=hae(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,m=n.className,y=n.animationEasing,w=n.animationDuration,b=n.animationBegin,v=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=de("recharts-rectangle",m);return x?R.createElement(Jn,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:y,isActive:x},function(T){var S=T.width,E=T.height,A=T.x,C=T.y;return R.createElement(Jn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:v,easing:y},R.createElement("path",Wd({},ce(n,!0),{className:_,d:AT(A,C,S,E,h),ref:r})))}):R.createElement("path",Wd({},ce(n,!0),{className:_,d:AT(l,u,c,d,h)}))};function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}var Sh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=de("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",by({},ce(e,!1),fd(e),{className:a,cx:n,cy:r,r:i})):null};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}var Sae=["x","y","top","left","width","height","className"];function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(this,arguments)}function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){Tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tae(t,e,n){return e=Aae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Cae(t,"string");return tu(e)=="symbol"?e:e+""}function Cae(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kae(t,e){if(t==null)return{};var n=Pae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Iae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Nae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,m=h===void 0?0:h,y=e.className,w=kae(e,Sae),b=Eae({x:r,y:o,top:s,left:u,width:d,height:m},w);return!K(r)||!K(o)||!K(d)||!K(m)||!K(s)||!K(u)?null:R.createElement("path",xy({},ce(b,!0),{className:de("recharts-cross",y),d:Iae(r,o,d,m,s,u)}))},Oae=lI,Rae=Oae(Object.getPrototypeOf,Object),Mae=Rae,$ae=Dr,Dae=Mae,Lae=Lr,jae="[object Object]",Uae=Function.prototype,Fae=Object.prototype,WN=Uae.toString,Bae=Fae.hasOwnProperty,Gae=WN.call(Object);function zae(t){if(!Lae(t)||$ae(t)!=jae)return!1;var e=Dae(t);if(e===null)return!0;var n=Bae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&WN.call(n)==Gae}var Vae=zae;const Hae=De(Vae);var qae=Dr,Wae=Lr,Kae="[object Boolean]";function Jae(t){return t===!0||t===!1||Wae(t)&&qae(t)==Kae}var Yae=Jae;const Xae=De(Yae);function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function Qae(t,e){return nse(t)||tse(t,e)||ese(t,e)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(t,e){if(t){if(typeof t=="string")return kT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kT(t,e)}}function kT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nse(t){if(Array.isArray(t))return t}function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rse(t,e,n){return e=ise(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ise(t){var e=ose(t,"string");return nu(e)=="symbol"?e:e+""}function ose(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NT=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},ase={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sse=function(e){var n=IT(IT({},ase),e),r=M.useRef(),i=M.useState(-1),o=Qae(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,w=n.animationDuration,b=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=de("recharts-trapezoid",m);return v?R.createElement(Jn,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:w,animationEasing:y,isActive:v},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,C=_.y;return R.createElement(Jn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:y},R.createElement("path",Kd({},ce(n,!0),{className:x,d:NT(A,C,T,S,E),ref:r})))}):R.createElement("g",null,R.createElement("path",Kd({},ce(n,!0),{className:x,d:NT(l,u,c,d,h)})))},lse=["option","shapeType","propTransformer","activeClassName","isActive"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function use(t,e){if(t==null)return{};var n=cse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dse(t,e,n){return e=fse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=hse(t,"string");return ru(e)=="symbol"?e:e+""}function hse(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pse(t,e){return Jd(Jd({},e),t)}function mse(t,e){return t==="symbols"}function RT(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return R.createElement(uw,n);case"trapezoid":return R.createElement(sse,n);case"sector":return R.createElement(DN,n);case"symbols":if(mse(e))return R.createElement(uh,n);break;default:return null}}function gse(t){return M.isValidElement(t)?t.props:t}function _y(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?pse:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=use(t,lse),u;if(M.isValidElement(e))u=M.cloneElement(e,Jd(Jd({},l),gse(e)));else if(fe(e))u=e(l);else if(Hae(e)&&!Xae(e)){var c=i(e,l);u=R.createElement(RT,{shapeType:n,elementProps:c})}else{var d=l;u=R.createElement(RT,{shapeType:n,elementProps:d})}return s?R.createElement(xe,{className:a},u):u}function Eh(t,e){return e!=null&&"trapezoids"in t.props}function Th(t,e){return e!=null&&"sectors"in t.props}function iu(t,e){return e!=null&&"points"in t.props}function yse(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function vse(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function wse(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function bse(t,e){var n;return Eh(t,e)?n=yse:Th(t,e)?n=vse:iu(t,e)&&(n=wse),n}function xse(t,e){var n;return Eh(t,e)?n="trapezoids":Th(t,e)?n="sectors":iu(t,e)&&(n="points"),n}function _se(t,e){if(Eh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Th(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return iu(t,e)?e.payload:{}}function Sse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=xse(n,e),o=_se(n,e),a=r.filter(function(l,u){var c=to(o,l),d=n.props[i].filter(function(y){var w=bse(n,e);return w(y,e)}),h=n.props[i].indexOf(d[d.length-1]),m=u===h;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var Ese=Math.ceil,Tse=Math.max;function Ase(t,e,n,r){for(var i=-1,o=Tse(Ese((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Cse=Ase,kse=AI,MT=1/0,Pse=17976931348623157e292;function Ise(t){if(!t)return t===0?t:0;if(t=kse(t),t===MT||t===-MT){var e=t<0?-1:1;return e*Pse}return t===t?t:0}var Nse=Ise,Ose=Cse,Rse=fh,Hp=Nse;function Mse(t){return function(e,n,r){return r&&typeof r!="number"&&Rse(e,n,r)&&(n=r=void 0),e=Hp(e),n===void 0?(n=e,e=0):n=Hp(n),r=r===void 0?e<n?1:-1:Hp(r),Ose(e,n,r,t)}}var $se=Mse,Dse=$se,Lse=Dse(),jse=Lse;const Yd=De(jse);function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(r){KN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KN(t,e,n){return e=Use(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Use(t){var e=Fse(t,"string");return ou(e)=="symbol"?e:e+""}function Fse(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bse=["Webkit","Moz","O","ms"],Gse=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Bse.reduce(function(o,a){return DT(DT({},o),{},KN({},a+r,n))},{});return i[e]=n,i};function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(n),!0).forEach(function(r){tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YN(r.key),r)}}function Vse(t,e,n){return e&&jT(t.prototype,e),n&&jT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hse(t,e,n){return e=Qd(e),qse(t,JN()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function qse(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wse(t)}function Wse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JN=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function Kse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sy(t,e)}function tn(t,e,n){return e=YN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YN(t){var e=Jse(t,"string");return Ia(e)=="symbol"?e:e+""}function Jse(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Qs().domain(Yd(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},UT=function(e){return e.changedTouches&&!!e.changedTouches.length},Na=function(t){function e(n){var r;return zse(this,e),r=Hse(this,e,[n]),tn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),tn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),tn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),tn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),tn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),tn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),tn(r,"handleSlideDragStart",function(i){var o=UT(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Kse(e,t),Vse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,d),y=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=dt(o[r],s,r);return fe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-d-s,u+c-d-a):w<0&&(w=Math.max(w,u-a,u-s));var b=this.getIndex({startX:a+w,endX:s+w});(b.startIndex!==h||b.endIndex!==m)&&y&&y(b),this.setState({startX:a+w,endX:s+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=UT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,m=c.travellerWidth,y=c.onChange,w=c.gap,b=c.data,v={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-m-u):x<0&&(x=Math.max(x,d-u)),v[a]=u+x;var _=this.getIndex(v),T=_.startIndex,S=_.endIndex,E=function(){var C=b.length-1;return a==="startX"&&(s>l?T%w===0:S%w===0)||s<l&&S===C||a==="endX"&&(s>l?S%w===0:T%w===0)||s>l&&S===C};this.setState(tn(tn({},a,u+x),"brushMoveStartX",r.pageX),function(){y&&E()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(tn({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return R.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=M.Children.only(u);return d?R.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,w=l.startIndex,b=l.endIndex,v=Math.max(r,this.props.x),x=qp(qp({},ce(this.props,!1)),{},{x:v,y:u,width:c,height:d}),_=m||"Min value: ".concat((o=y[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[b])===null||a===void 0?void 0:a.name);return R.createElement(xe,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,m=5,y={pointerEvents:"none",fill:u};return R.createElement(xe,{className:"recharts-brush-texts"},R.createElement(Ad,Xd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:a+s/2},y),this.getTextOfTick(i)),R.createElement(Ad,Xd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+m,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,w=h.isTextActive,b=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!K(s)||!K(l)||!K(u)||!K(c)||u<=0||c<=0)return null;var _=de("recharts-brush",o),T=R.Children.count(a)===1,S=Gse("userSelect","none");return R.createElement(xe,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(w||b||v||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),R.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return R.isValidElement(r)?o=R.cloneElement(r,i):fe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return qp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Yse({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(M.PureComponent);tn(Na,"displayName","Brush");tn(Na,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Xse=$0;function Qse(t,e){var n;return Xse(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Zse=Qse,ele=eI,tle=as,nle=Zse,rle=Qt,ile=fh;function ole(t,e,n){var r=rle(t)?ele:nle;return n&&ile(t,e,n)&&(e=void 0),r(t,tle(e))}var ale=ole;const sle=De(ale);var lr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},FT=xI;function lle(t,e,n){e=="__proto__"&&FT?FT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ule=lle,cle=ule,dle=wI,fle=as;function hle(t,e){var n={};return e=fle(e),dle(t,function(r,i,o){cle(n,i,e(r,i,o))}),n}var ple=hle;const mle=De(ple);function gle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var yle=gle,vle=$0;function wle(t,e){var n=!0;return vle(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var ble=wle,xle=yle,_le=ble,Sle=as,Ele=Qt,Tle=fh;function Ale(t,e,n){var r=Ele(t)?xle:_le;return n&&Tle(t,e,n)&&(e=void 0),r(t,Sle(e))}var Cle=Ale;const kle=De(Cle);var Ple=["x","y"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ey.apply(this,arguments)}function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(r){Ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ile(t,e,n){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Ole(t,"string");return au(e)=="symbol"?e:e+""}function Ole(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rle(t,e){if(t==null)return{};var n=Mle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $le(t,e){var n=t.x,r=t.y,i=Rle(t,Ple),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ns(Ns(Ns(Ns(Ns({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function GT(t){return R.createElement(_y,Ey({shapeType:"rectangle",propTransformer:$le,activeClassName:"recharts-active-bar"},t))}var Dle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=K(r)||WH(r);return o?e(r,i):(o||ro(),n)}},Lle=["value","background"],XN;function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function jle(t,e){if(t==null)return{};var n=Ule(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ule(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function zT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZN(r.key),r)}}function Ble(t,e,n){return e&&VT(t.prototype,e),n&&VT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gle(t,e,n){return e=ef(e),zle(t,QN()?Reflect.construct(e,n||[],ef(t).constructor):e.apply(t,n))}function zle(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vle(t)}function Vle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QN=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(t)}function Hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ty(t,e)}function Ty(t,e){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ty(t,e)}function Qr(t,e,n){return e=ZN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZN(t){var e=qle(t,"string");return Oa(e)=="symbol"?e:e+""}function qle(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ho=function(t){function e(){var n;Fle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Gle(this,e,[].concat(i)),Qr(n,"state",{isAnimationFinished:!1}),Qr(n,"id",lo("recharts-bar-")),Qr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Qr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Hle(e,t),Ble(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ce(this.props,!1);return r&&r.map(function(d,h){var m=h===l,y=m?u:a,w=et(et(et({},c),d),{},{isActive:m,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return R.createElement(xe,Zd({className:"recharts-bar-rectangle"},Pl(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),R.createElement(GT,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return R.createElement(Jn,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,w=o.map(function(b,v){var x=h&&h[v];if(x){var _=Ze(x.x,b.x),T=Ze(x.y,b.y),S=Ze(x.width,b.width),E=Ze(x.height,b.height);return et(et({},b),{},{x:_(y),y:T(y),width:S(y),height:E(y)})}if(a==="horizontal"){var A=Ze(0,b.height),C=A(y);return et(et({},b),{},{y:b.y+b.height-C,height:C})}var k=Ze(0,b.width),O=k(y);return et(et({},b),{},{width:O})});return R.createElement(xe,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!to(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ce(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=jle(u,Lle);if(!d)return null;var m=et(et(et(et(et({},h),{},{fill:"#eee"},d),l),Pl(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return R.createElement(GT,Zd({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Xt(c,cs);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(b,v){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:dt(b,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(xe,y,d.map(function(w){return R.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,m=r.isAnimationActive,y=r.background,w=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=de("recharts-bar",a),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=x||_,S=le(w)?this.id:w;return R.createElement(xe,{className:v},x||_?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(S)},R.createElement("rect",{x:x?u:u-d/2,y:_?c:c-h/2,width:x?d:d*2,height:_?h:h*2}))):null,R.createElement(xe,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!m||b)&&sr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);XN=ho;Qr(ho,"displayName","Bar");Qr(ho,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qr(ho,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=yre(r,n);if(!m)return null;var y=e.layout,w=n.type.defaultProps,b=w!==void 0?et(et({},w),n.props):n.props,v=b.dataKey,x=b.children,_=b.minPointSize,T=y==="horizontal"?a:o,S=u?T.scale.domain():null,E=Tre({numericAxis:T}),A=Xt(x,hh),C=d.map(function(k,O){var N,I,$,L,U,j;u?N=vre(u[c+O],S):(N=dt(k,v),Array.isArray(N)||(N=[E,N]));var G=Dle(_,XN.defaultProps.minPointSize)(N[1],O);if(y==="horizontal"){var P,D=[a.scale(N[0]),a.scale(N[1])],B=D[0],W=D[1];I=qE({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:k,index:O}),$=(P=W??B)!==null&&P!==void 0?P:void 0,L=m.size;var V=B-W;if(U=Number.isNaN(V)?0:V,j={x:I,y:a.y,width:L,height:a.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var te=Gn(U||G)*(Math.abs(G)-Math.abs(U));$-=te,U+=te}}else{var he=[o.scale(N[0]),o.scale(N[1])],Ee=he[0],Oe=he[1];if(I=Ee,$=qE({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:k,index:O}),L=Oe-Ee,U=m.size,j={x:o.x,y:$,width:o.width,height:U},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var wt=Gn(L||G)*(Math.abs(G)-Math.abs(L));L+=wt}}return et(et(et({},k),{},{x:I,y:$,width:L,height:U,value:u?N:N[1],payload:k,background:j},A&&A[O]&&A[O].props),{},{tooltipPayload:[RN(n,k)],tooltipPosition:{x:I+L/2,y:$+U/2}})});return et({data:C,layout:y},h)});function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eO(r.key),r)}}function Kle(t,e,n){return e&&HT(t.prototype,e),n&&HT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){Ah(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ah(t,e,n){return e=eO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eO(t){var e=Jle(t,"string");return su(e)=="symbol"?e:e+""}function Jle(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tO=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!rn(u,ho);return c.reduce(function(m,y){var w=n[y],b=w.orientation,v=w.domain,x=w.padding,_=x===void 0?{}:x,T=w.mirror,S=w.reversed,E="".concat(b).concat(T?"Mirror":""),A,C,k,O,N;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var I=v[1]-v[0],$=1/0,L=w.categoricalDomain.sort(XH);if(L.forEach(function(he,Ee){Ee>0&&($=Math.min((he||0)-(L[Ee-1]||0),$))}),Number.isFinite($)){var U=$/I,j=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(A=U*j/2),w.padding==="no-gap"){var G=eo(e.barCategoryGap,U*j),P=U*j/2;A=P-G-(P-G)/j*G}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=w.range,S&&(C=[C[1],C[0]]);var D=mre(w,o,h),B=D.scale,W=D.realScaleType;B.domain(v).range(C),gre(B);var V=Ere(B,jn(jn({},w),{},{realScaleType:W}));i==="xAxis"?(N=b==="top"&&!T||b==="bottom"&&T,k=r.left,O=d[E]-N*w.height):i==="yAxis"&&(N=b==="left"&&!T||b==="right"&&T,k=d[E]-N*w.width,O=r.top);var te=jn(jn(jn({},w),V),{},{realScaleType:W,x:k,y:O,scale:B,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return te.bandSize=Fd(te,V),!w.hide&&i==="xAxis"?d[E]+=(N?-1:1)*te.height:w.hide||(d[E]+=(N?-1:1)*te.width),jn(jn({},m),{},Ah({},y,te))},{})},nO=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Yle=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return nO({x:n,y:r},{x:i,y:o})},rO=function(){function t(e){Wle(this,t),this.scale=e}return Kle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ah(rO,"EPS",1e-4);var cw=function(e){var n=Object.keys(e).reduce(function(r,i){return jn(jn({},r),{},Ah({},i,rO.create(e[i])))},{});return jn(jn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return mle(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return kle(i,function(o,a){return n[a].isInRange(o)})}})};function Xle(t){return(t%180+180)%180}var Qle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Xle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Zle=ZV(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),iO=M.createContext(void 0),oO=M.createContext(void 0),aO=M.createContext(void 0),eue=M.createContext({}),sO=M.createContext(void 0),lO=M.createContext(0),uO=M.createContext(0),WT=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Zle(o);return R.createElement(iO.Provider,{value:r},R.createElement(oO.Provider,{value:i},R.createElement(eue.Provider,{value:o},R.createElement(aO.Provider,{value:c},R.createElement(sO.Provider,{value:a},R.createElement(lO.Provider,{value:u},R.createElement(uO.Provider,{value:l},s)))))))},tue=function(){return M.useContext(sO)},cO=function(e){var n=M.useContext(iO);n==null&&ro();var r=n[e];return r==null&&ro(),r},dO=function(e){var n=M.useContext(oO);n==null&&ro();var r=n[e];return r==null&&ro(),r},nue=function(){var e=M.useContext(aO);return e},fO=function(){return M.useContext(uO)},hO=function(){return M.useContext(lO)};function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function rue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mO(r.key),r)}}function oue(t,e,n){return e&&iue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aue(t,e,n){return e=tf(e),sue(t,pO()?Reflect.construct(e,n||[],tf(t).constructor):e.apply(t,n))}function sue(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lue(t)}function lue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!t})()}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tf(t)}function uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ay(t,e)}function Ay(t,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ay(t,e)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dw(t,e,n){return e=mO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mO(t){var e=cue(t,"string");return Ra(e)=="symbol"?e:e+""}function cue(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function due(t,e){return mue(t)||pue(t,e)||hue(t,e)||fue()}function fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hue(t,e){if(t){if(typeof t=="string")return YT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YT(t,e)}}function YT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mue(t){if(Array.isArray(t))return t}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}var gue=function(e,n){var r;return R.isValidElement(e)?r=R.cloneElement(e,n):fe(e)?r=e(n):r=R.createElement("line",Cy({},n,{className:"recharts-reference-line-line"})),r},yue=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,m=o.height;if(r){var y=u.y,w=e.y.apply(y,{position:a});if(lr(u,"discard")&&!e.y.isInRange(w))return null;var b=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?b.reverse():b}if(n){var v=u.x,x=e.x.apply(v,{position:a});if(lr(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:d+m},{x,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return lr(u,"discard")&&sle(S,function(E){return!e.isInRange(E)})?null:S}return null};function vue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=tue(),c=cO(i),d=dO(o),h=nue();if(!u||!h)return null;Vi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=cw({x:c.scale,y:d.scale}),y=ct(e),w=ct(n),b=r&&r.length===2,v=yue(m,y,w,b,h,t.position,c.orientation,d.orientation,t);if(!v)return null;var x=due(v,2),_=x[0],T=_.x,S=_.y,E=x[1],A=E.x,C=E.y,k=lr(t,"hidden")?"url(#".concat(u,")"):void 0,O=JT(JT({clipPath:k},ce(t,!0)),{},{x1:T,y1:S,x2:A,y2:C});return R.createElement(xe,{className:de("recharts-reference-line",s)},gue(a,O),Ot.renderCallByParent(t,Yle({x1:T,y1:S,x2:A,y2:C})))}var Ch=function(t){function e(){return rue(this,e),aue(this,e,arguments)}return uue(e,t),oue(e,[{key:"render",value:function(){return R.createElement(vue,this.props)}}])}(R.Component);dw(Ch,"displayName","ReferenceLine");dw(Ch,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(this,arguments)}function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yO(r.key),r)}}function xue(t,e,n){return e&&bue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ue(t,e,n){return e=nf(e),Sue(t,gO()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function Sue(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eue(t)}function Eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}function Tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Py(t,e)}function kh(t,e,n){return e=yO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yO(t){var e=Aue(t,"string");return Ma(e)=="symbol"?e:e+""}function Aue(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=cw({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return lr(e,"discard")&&!a.isInRange(s)?null:s},Ph=function(t){function e(){return wue(this,e),_ue(this,e,arguments)}return Tue(e,t),xue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=ct(i),c=ct(o);if(Vi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Cue(this.props);if(!d)return null;var h=d.x,m=d.y,y=this.props,w=y.shape,b=y.className,v=lr(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=QT(QT({clipPath:v},ce(this.props,!0)),{},{cx:h,cy:m});return R.createElement(xe,{className:de("recharts-reference-dot",b)},e.renderDot(w,x),Ot.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(R.Component);kh(Ph,"displayName","ReferenceDot");kh(Ph,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kh(Ph,"renderDot",function(t,e){var n;return R.isValidElement(t)?n=R.cloneElement(t,e):fe(t)?n=t(e):n=R.createElement(Sh,ky({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(this,arguments)}function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function ZT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(r){Ih(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wO(r.key),r)}}function Iue(t,e,n){return e&&Pue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nue(t,e,n){return e=rf(e),Oue(t,vO()?Reflect.construct(e,n||[],rf(t).constructor):e.apply(t,n))}function Oue(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rue(t)}function Rue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!t})()}function rf(t){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rf(t)}function Mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ny(t,e)}function Ny(t,e){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ny(t,e)}function Ih(t,e,n){return e=wO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wO(t){var e=$ue(t,"string");return $a(e)=="symbol"?e:e+""}function $ue(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Due=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=cw({x:c.scale,y:d.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return lr(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:nO(m,y)},Nh=function(t){function e(){return kue(this,e),Nue(this,e,arguments)}return Mue(e,t),Iue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Vi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ct(i),h=ct(o),m=ct(a),y=ct(s),w=this.props.shape;if(!d&&!h&&!m&&!y&&!w)return null;var b=Due(d,h,m,y,this.props);if(!b&&!w)return null;var v=lr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return R.createElement(xe,{className:de("recharts-reference-area",l)},e.renderRect(w,e1(e1({clipPath:v},ce(this.props,!0)),b)),Ot.renderCallByParent(this.props,b))}}])}(R.Component);Ih(Nh,"displayName","ReferenceArea");Ih(Nh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ih(Nh,"renderRect",function(t,e){var n;return R.isValidElement(t)?n=R.cloneElement(t,e):fe(t)?n=t(e):n=R.createElement(uw,Iy({},e,{className:"recharts-reference-area-rect"})),n});function bO(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Lue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Qle(r,n)}function jue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function of(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Uue(t,e){return bO(t,e+1)}function Fue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:bO(r,u)};var w=l,b,v=function(){return b===void 0&&(b=n(y,w)),b},x=y.coordinate,_=l===0||of(t,x,v,c,s);_||(l=0,c=a,u+=1),_&&(c=x+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(r){Bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bue(t,e,n){return e=Gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gue(t){var e=zue(t,"string");return lu(e)=="symbol"?e:e+""}function zue(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var m=o[h],y,w=function(){return y===void 0&&(y=n(m,h)),y};if(h===a-1){var b=t*(m.coordinate+t*w()/2-l);o[h]=m=It(It({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else o[h]=m=It(It({},m),{},{tickCoord:m.coordinate});var v=of(t,m.tickCoord,w,s,l);v&&(l=m.tickCoord-t*(w()/2+i),o[h]=It(It({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Hue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=It(It({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var m=of(t,c.tickCoord,function(){return d},l,u);m&&(u=c.tickCoord-t*(d/2+i),a[s-1]=It(It({},c),{},{isShow:!0}))}for(var y=o?s-1:s,w=function(x){var _=a[x],T,S=function(){return T===void 0&&(T=n(_,x)),T};if(x===0){var E=t*(_.coordinate-t*S()/2-l);a[x]=_=It(It({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[x]=_=It(It({},_),{},{tickCoord:_.coordinate});var A=of(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[x]=It(It({},_),{},{isShow:!0}))},b=0;b<y;b++)w(b);return a}function que(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(K(l)||yi.isSsr)return Uue(i,typeof l=="number"&&K(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",y=c&&m==="width"?Xs(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(_,T){var S=fe(u)?u(_.value,T):_.value;return m==="width"?Lue(Xs(S,{fontSize:e,letterSpacing:n}),y,d):Xs(S,{fontSize:e,letterSpacing:n})[m]},b=i.length>=2?Gn(i[1].coordinate-i[0].coordinate):1,v=jue(o,b,m);return l==="equidistantPreserveStart"?Fue(b,v,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Hue(b,v,w,i,a,l==="preserveStartEnd"):h=Vue(b,v,w,i,a),h.filter(function(x){return x.isShow}))}var Wue=["viewBox"],Kue=["viewBox"],Jue=["ticks"];function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wp(t,e){if(t==null)return{};var n=Yue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_O(r.key),r)}}function Que(t,e,n){return e&&r1(t.prototype,e),n&&r1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zue(t,e,n){return e=af(e),ece(t,xO()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function ece(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tce(t)}function tce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(t)}function nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Oy(t,e)}function fw(t,e,n){return e=_O(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _O(t){var e=rce(t,"string");return Da(e)=="symbol"?e:e+""}function rce(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oh=function(t){function e(n){var r;return Xue(this,e),r=Zue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return nce(e,t),Que(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Wp(r,Wue),s=this.props,l=s.viewBox,u=Wp(s,Kue);return!oa(o,l)||!oa(a,u)||!oa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,m,y,w,b,v,x,_=d?-1:1,T=r.tickSize||c,S=K(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,b=a+ +!d*l,w=b-_*T,x=w-_*h,v=S;break;case"left":w=b=r.coordinate,y=o+ +!d*s,m=y-_*T,v=m-_*h,x=S;break;case"right":w=b=r.coordinate,y=o+ +d*s,m=y+_*T,v=m+_*h,x=S;break;default:m=y=r.coordinate,b=a+ +d*l,w=b+_*T,x=w+_*h,v=S;break}return{line:{x1:m,y1:w,x2:y,y2:b},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=ot(ot(ot({},ce(this.props,!1)),ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=ot(ot({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=ot(ot({},d),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return R.createElement("line",qo({},d,{className:de("recharts-cartesian-axis-line",En(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,m=que(ot(ot({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=ce(this.props,!1),v=ce(c,!1),x=ot(ot({},b),{},{fill:"none"},ce(l,!1)),_=m.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,C=E.tick,k=ot(ot(ot(ot({textAnchor:y,verticalAnchor:w},b),{},{stroke:"none",fill:u},v),C),{},{index:S,payload:T,visibleTicksCount:m.length,tickFormatter:d});return R.createElement(xe,qo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Pl(a.props,T,S)),l&&R.createElement("line",qo({},x,A,{className:de("recharts-cartesian-axis-tick-line",En(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(fe(d)?d(T.value,S):T.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,m=Wp(d,Jue),y=h;return fe(l)&&(y=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!y||!y.length?null:R.createElement(xe,{className:de("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ot.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=de(i.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(r)?a=R.cloneElement(r,ot(ot({},i),{},{className:s})):fe(r)?a=r(ot(ot({},i),{},{className:s})):a=R.createElement(Ad,qo({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(M.Component);fw(Oh,"displayName","CartesianAxis");fw(Oh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ice=["type","layout","connectNulls","ref"],oce=["key"];function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function i1(t,e){if(t==null)return{};var n=ace(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ace(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eo(t){return cce(t)||uce(t)||lce(t)||sce()}function sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return Ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(t,e)}}function uce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cce(t){if(Array.isArray(t))return Ry(t)}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EO(r.key),r)}}function fce(t,e,n){return e&&a1(t.prototype,e),n&&a1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t,e,n){return e=sf(e),pce(t,SO()?Reflect.construct(e,n||[],sf(t).constructor):e.apply(t,n))}function pce(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(t)}function mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SO=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(t)}function gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&My(t,e)}function My(t,e){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},My(t,e)}function Un(t,e,n){return e=EO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EO(t){var e=yce(t,"string");return La(e)=="symbol"?e:e+""}function yce(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rh=function(t){function e(){var n;dce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hce(this,e,[].concat(i)),Un(n,"state",{isAnimationFinished:!0,totalLength:0}),Un(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Un(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(v,x){return v+x});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,m=[],y=0,w=0;y<l.length;w+=l[y],++y)if(w+l[y]>d){m=[].concat(Eo(l.slice(0,y)),[d-w]);break}var b=m.length%2===0?[0,h]:[h];return[].concat(Eo(e.repeat(l,c)),Eo(m),b).map(function(v){return"".concat(v,"px")}).join(", ")}),Un(n,"id",lo("recharts-line-")),Un(n,"pathRef",function(a){n.mainCurve=a}),Un(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Un(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return gce(e,t),fce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Xt(c,cs);if(!d)return null;var h=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:dt(w.payload,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(xe,m,d.map(function(y){return R.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=ce(this.props,!1),h=ce(l,!0),m=u.map(function(w,b){var v=en(en(en({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:c,payload:w.payload,points:u});return e.renderDotItem(l,v)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return R.createElement(xe,tl({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=i1(s,ice),h=en(en(en({},ce(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return R.createElement(Wi,tl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,y=a.animateNewValues,w=a.width,b=a.height,v=this.state,x=v.prevPoints,_=v.totalLength;return R.createElement(Jn,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(x){var E=x.length/s.length,A=s.map(function(I,$){var L=Math.floor($*E);if(x[L]){var U=x[L],j=Ze(U.x,I.x),G=Ze(U.y,I.y);return en(en({},I),{},{x:j(S),y:G(S)})}if(y){var P=Ze(w*2,I.x),D=Ze(b/2,I.y);return en(en({},I),{},{x:P(S),y:D(S)})}return en(en({},I),{},{x:I.x,y:I.y})});return o.renderCurveStatically(A,r,i)}var C=Ze(0,_),k=C(S),O;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});O=o.getStrokeDasharray(k,_,N)}else O=o.generateSimpleStrokeDasharray(_,k);return o.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!to(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,m=i.width,y=i.height,w=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,_=de("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=le(b)?this.id:b,C=(r=ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,O=k===void 0?3:k,N=C.strokeWidth,I=N===void 0?2:N,$=TP(a)?a:{},L=$.clipDot,U=L===void 0?!0:L,j=O*2+I;return R.createElement(xe,{className:_},T||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(A)},R.createElement("rect",{x:T?h:h-m/2,y:S?d:d-y/2,width:T?m:m*2,height:S?y:y*2})),!U&&R.createElement("clipPath",{id:"clipPath-dots-".concat(A)},R.createElement("rect",{x:h-j/2,y:d-j/2,width:m+j,height:y+j}))):null,!x&&this.renderCurve(E,A),this.renderErrorBar(E,A),(x||a)&&this.renderDots(E,U,A),(!w||v)&&sr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Eo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Eo(a),Eo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(R.isValidElement(r))o=R.cloneElement(r,i);else if(fe(r))o=r(i);else{var a=i.key,s=i1(i,oce),l=de("recharts-line-dot",typeof r!="boolean"?r.className:"");o=R.createElement(Sh,tl({key:a},s,{className:l}))}return o}}])}(M.PureComponent);Un(Rh,"displayName","Line");Un(Rh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!yi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Un(Rh,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,m){var y=dt(h,a);return c==="horizontal"?{x:ka({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:le(y)?null:r.scale(y),value:y,payload:h}:{x:le(y)?null:n.scale(y),y:ka({axis:r,ticks:o,bandSize:s,entry:h,index:m}),value:y,payload:h}});return en({points:d,layout:c},u)});var vce=["layout","type","stroke","connectNulls","isRange","ref"],wce=["key"],TO;function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function AO(t,e){if(t==null)return{};var n=bce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bi.apply(this,arguments)}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kO(r.key),r)}}function _ce(t,e,n){return e&&l1(t.prototype,e),n&&l1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sce(t,e,n){return e=lf(e),Ece(t,CO()?Reflect.construct(e,n||[],lf(t).constructor):e.apply(t,n))}function Ece(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tce(t)}function Tce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(t)}function Ace(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$y(t,e)}function $y(t,e){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$y(t,e)}function rr(t,e,n){return e=kO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kO(t){var e=Cce(t,"string");return ja(e)=="symbol"?e:e+""}function Cce(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ur=function(t){function e(){var n;xce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Sce(this,e,[].concat(i)),rr(n,"state",{isAnimationFinished:!0}),rr(n,"id",lo("recharts-area-")),rr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),fe(a)&&a()}),rr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),fe(a)&&a()}),n}return Ace(e,t),_ce(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=ce(this.props,!1),m=ce(u,!0),y=c.map(function(b,v){var x=Br(Br(Br({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:b.x,cy:b.y,dataKey:d,value:b.value,payload:b.payload,points:c});return e.renderDotItem(u,x)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return R.createElement(xe,Bi({className:"recharts-area-dots"},w),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),d=Xr(a.map(function(h){return h.y||0}));return K(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Xr(o.map(function(h){return h.y||0})),d)),K(d)?R.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),d=Xr(a.map(function(h){return h.x||0}));return K(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Xr(o.map(function(h){return h.x||0})),d)),K(d)?R.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var m=AO(s,vce);return R.createElement(xe,{clipPath:o?"url(#clipPath-".concat(a,")"):null},R.createElement(Wi,Bi({},ce(m,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&R.createElement(Wi,Bi({},ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&R.createElement(Wi,Bi({},ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,y=this.state,w=y.prevPoints,b=y.prevBaseLine;return R.createElement(Jn,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(w){var _=w.length/s.length,T=s.map(function(C,k){var O=Math.floor(k*_);if(w[O]){var N=w[O],I=Ze(N.x,C.x),$=Ze(N.y,C.y);return Br(Br({},C),{},{x:I(x),y:$(x)})}return C}),S;if(K(l)&&typeof l=="number"){var E=Ze(b,l);S=E(x)}else if(le(l)||ns(l)){var A=Ze(b,0);S=A(x)}else S=l.map(function(C,k){var O=Math.floor(k*_);if(b[O]){var N=b[O],I=Ze(N.x,C.x),$=Ze(N.y,C.y);return Br(Br({},C),{},{x:I(x),y:$(x)})}return C});return o.renderAreaStatically(T,S,r,i)}return R.createElement(xe,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(x))),R.createElement(xe,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!to(c,a)||!to(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,m=i.width,y=i.height,w=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,_=de("recharts-area",l),T=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,E=T||S,A=le(b)?this.id:b,C=(r=ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,O=k===void 0?3:k,N=C.strokeWidth,I=N===void 0?2:N,$=TP(a)?a:{},L=$.clipDot,U=L===void 0?!0:L,j=O*2+I;return R.createElement(xe,{className:_},T||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(A)},R.createElement("rect",{x:T?c:c-m/2,y:S?u:u-y/2,width:T?m:m*2,height:S?y:y*2})),!U&&R.createElement("clipPath",{id:"clipPath-dots-".concat(A)},R.createElement("rect",{x:c-j/2,y:u-j/2,width:m+j,height:y+j}))):null,x?null:this.renderArea(E,A),(a||x)&&this.renderDots(E,U,A),(!w||v)&&sr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(M.PureComponent);TO=Ur;rr(Ur,"displayName","Area");rr(Ur,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!yi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});rr(Ur,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(K(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});rr(Ur,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=e.layout,y=u&&u.length,w=TO.getBaseValue(e,n,r,i),b=m==="horizontal",v=!1,x=d.map(function(T,S){var E;y?E=u[c+S]:(E=dt(T,l),Array.isArray(E)?v=!0:E=[w,E]);var A=E[1]==null||y&&dt(T,l)==null;return b?{x:ka({axis:r,ticks:o,bandSize:s,entry:T,index:S}),y:A?null:i.scale(E[1]),value:E,payload:T}:{x:A?null:r.scale(E[1]),y:ka({axis:i,ticks:a,bandSize:s,entry:T,index:S}),value:E,payload:T}}),_;return y||v?_=x.map(function(T){var S=Array.isArray(T.value)?T.value[0]:null;return b?{x:T.x,y:S!=null&&T.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:T.y}}):_=b?i.scale(w):r.scale(w),Br({points:x,baseLine:_,layout:m,isRange:v},h)});rr(Ur,"renderDotItem",function(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(fe(t))n=t(e);else{var r=de("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=AO(e,wce);n=R.createElement(Sh,Bi({},o,{key:i,className:r}))}return n});function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NO(r.key),r)}}function Ice(t,e,n){return e&&Pce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nce(t,e,n){return e=uf(e),Oce(t,PO()?Reflect.construct(e,n||[],uf(t).constructor):e.apply(t,n))}function Oce(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rce(t)}function Rce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!t})()}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(t)}function Mce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dy(t,e)}function IO(t,e,n){return e=NO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NO(t){var e=$ce(t,"string");return Ua(e)=="symbol"?e:e+""}function $ce(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mh=function(t){function e(){return kce(this,e),Nce(this,e,arguments)}return Mce(e,t),Ice(e,[{key:"render",value:function(){return null}}])}(M.Component);IO(Mh,"displayName","ZAxis");IO(Mh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Dce=["option","isActive"];function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function Lce(t,e){if(t==null)return{};var n=jce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uce(t){var e=t.option,n=t.isActive,r=Lce(t,Dce);return typeof e=="string"?M.createElement(_y,nl({option:M.createElement(uh,nl({type:e},r)),isActive:n,shapeType:"symbols"},r)):M.createElement(_y,nl({option:e,isActive:n,shapeType:"symbols"},r))}function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){Zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RO(r.key),r)}}function Bce(t,e,n){return e&&c1(t.prototype,e),n&&c1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gce(t,e,n){return e=cf(e),zce(t,OO()?Reflect.construct(e,n||[],cf(t).constructor):e.apply(t,n))}function zce(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vce(t)}function Vce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OO=function(){return!!t})()}function cf(t){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(t)}function Hce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ly(t,e)}function Zr(t,e,n){return e=RO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RO(t){var e=qce(t,"string");return Fa(e)=="symbol"?e:e+""}function qce(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $h=function(t){function e(){var n;Fce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Gce(this,e,[].concat(i)),Zr(n,"state",{isAnimationFinished:!1}),Zr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Zr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Zr(n,"id",lo("recharts-scatter-")),n}return Hce(e,t),Bce(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,u=ce(this.props,!1);return r.map(function(c,d){var h=l===d,m=h?s:a,y=yn(yn({},u),c);return R.createElement(xe,rl({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(d)},Pl(i.props,c,d),{role:"img"}),R.createElement(Uce,rl({option:m,isActive:h,key:"symbol-".concat(d)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state.prevPoints;return R.createElement(Jn,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,y=o.map(function(w,b){var v=d&&d[b];if(v){var x=Ze(v.cx,w.cx),_=Ze(v.cy,w.cy),T=Ze(v.size,w.size);return yn(yn({},w),{},{cx:x(m),cy:_(m),size:T(m)})}var S=Ze(0,w.size);return yn(yn({},w),{},{size:S(m)})});return R.createElement(xe,null,r.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!to(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,u=Xt(l,cs);return u?u.map(function(c,d){var h=c.props,m=h.direction,y=h.dataKey;return R.cloneElement(c,{key:"".concat(m,"-").concat(y,"-").concat(o[d]),data:o,xAxis:a,yAxis:s,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(b,v){return{x:b.cx,y:b.cy,value:m==="x"?+b.node.x:+b.node.y,errorVal:dt(b,v)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,l=ce(this.props,!1),u=ce(o,!1),c,d;if(a==="joint")c=i.map(function(_){return{x:_.cx,y:_.cy}});else if(a==="fitting"){var h=YH(i),m=h.xmin,y=h.xmax,w=h.a,b=h.b,v=function(T){return w*T+b};c=[{x:m,y:v(m)},{x:y,y:v(y)}]}var x=yn(yn(yn({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:c});return R.isValidElement(o)?d=R.cloneElement(o,x):fe(o)?d=o(x):d=R.createElement(Wi,rl({},x,{type:s})),R.createElement(xe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,l=r.xAxis,u=r.yAxis,c=r.left,d=r.top,h=r.width,m=r.height,y=r.id,w=r.isAnimationActive;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=de("recharts-scatter",s),x=l&&l.allowDataOverflow,_=u&&u.allowDataOverflow,T=x||_,S=le(y)?this.id:y;return R.createElement(xe,{className:v,clipPath:T?"url(#clipPath-".concat(S,")"):null},x||_?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(S)},R.createElement("rect",{x:x?c:c-h/2,y:_?d:d-m/2,width:x?h:h*2,height:_?m:m*2}))):null,a&&this.renderLine(),this.renderErrorBar(),R.createElement(xe,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!w||b)&&sr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(M.PureComponent);Zr($h,"displayName","Scatter");Zr($h,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!yi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Zr($h,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,c=Xt(i.props.children,hh),d=le(e.dataKey)?i.props.dataKey:e.dataKey,h=le(n.dataKey)?i.props.dataKey:n.dataKey,m=r&&r.dataKey,y=r?r.range:Mh.defaultProps.range,w=y&&y[0],b=e.scale.bandwidth?e.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0,x=o.map(function(_,T){var S=dt(_,d),E=dt(_,h),A=!le(m)&&dt(_,m)||"-",C=[{name:le(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:S,payload:_,dataKey:d,type:u},{name:le(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:_,dataKey:h,type:u}];A!=="-"&&C.push({name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:_,dataKey:m,type:u});var k=ka({axis:e,ticks:a,bandSize:b,entry:_,index:T,dataKey:d}),O=ka({axis:n,ticks:s,bandSize:v,entry:_,index:T,dataKey:h}),N=A!=="-"?r.scale(A):w,I=Math.sqrt(Math.max(N,0)/Math.PI);return yn(yn({},_),{},{cx:k,cy:O,x:k-I,y:O-I,xAxis:e,yAxis:n,zAxis:r,width:2*I,height:2*I,size:N,node:{x:S,y:E,z:A},tooltipPayload:C,tooltipPosition:{x:k,y:O},payload:_},c&&c[T]&&c[T].props)});return yn({points:x},l)});function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function Wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DO(r.key),r)}}function Jce(t,e,n){return e&&Kce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yce(t,e,n){return e=df(e),Xce(t,MO()?Reflect.construct(e,n||[],df(t).constructor):e.apply(t,n))}function Xce(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qce(t)}function Qce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MO=function(){return!!t})()}function df(t){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(t)}function Zce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jy(t,e)}function $O(t,e,n){return e=DO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DO(t){var e=ede(t,"string");return Ba(e)=="symbol"?e:e+""}function ede(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(this,arguments)}function tde(t){var e=t.xAxisId,n=fO(),r=hO(),i=cO(e);return i==null?null:M.createElement(Oh,Uy({},i,{className:de("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Fi(a,!0)}}))}var Eu=function(t){function e(){return Wce(this,e),Yce(this,e,arguments)}return Zce(e,t),Jce(e,[{key:"render",value:function(){return M.createElement(tde,this.props)}}])}(M.Component);$O(Eu,"displayName","XAxis");$O(Eu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function nde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UO(r.key),r)}}function ide(t,e,n){return e&&rde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ode(t,e,n){return e=ff(e),ade(t,LO()?Reflect.construct(e,n||[],ff(t).constructor):e.apply(t,n))}function ade(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sde(t)}function sde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(t)}function lde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fy(t,e)}function Fy(t,e){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fy(t,e)}function jO(t,e,n){return e=UO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UO(t){var e=ude(t,"string");return Ga(e)=="symbol"?e:e+""}function ude(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(this,arguments)}var cde=function(e){var n=e.yAxisId,r=fO(),i=hO(),o=dO(n);return o==null?null:M.createElement(Oh,By({},o,{className:de("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Fi(s,!0)}}))},Dh=function(t){function e(){return nde(this,e),ode(this,e,arguments)}return lde(e,t),ide(e,[{key:"render",value:function(){return M.createElement(cde,this.props)}}])}(M.Component);jO(Dh,"displayName","YAxis");jO(Dh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function d1(t){return pde(t)||hde(t)||fde(t)||dde()}function dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fde(t,e){if(t){if(typeof t=="string")return Gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gy(t,e)}}function hde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pde(t){if(Array.isArray(t))return Gy(t)}function Gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zy=function(e,n,r,i,o){var a=Xt(e,Ch),s=Xt(e,Ph),l=[].concat(d1(a),d1(s)),u=Xt(e,Nh),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(w,b){if(b.props[c]===r&&lr(b.props,"extendDomain")&&K(b.props[d])){var v=b.props[d];return[Math.min(w[0],v),Math.max(w[1],v)]}return w},h)),u.length){var m="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(w,b){if(b.props[c]===r&&lr(b.props,"extendDomain")&&K(b.props[m])&&K(b.props[y])){var v=b.props[m],x=b.props[y];return[Math.min(w[0],v,x),Math.max(w[1],v,x)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,b){return K(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},h)),h},FO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,y=new Array(m);h<m;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,m,y){var w=n?n+u:u;if(!this._events[w])return!1;var b=this._events[w],v=arguments.length,x,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,h),!0;case 5:return b.fn.call(b.context,c,d,h,m),!0;case 6:return b.fn.call(b.context,c,d,h,m,y),!0}for(_=1,x=new Array(v-1);_<v;_++)x[_-1]=arguments[_];b.fn.apply(b.context,x)}else{var T=b.length,S;for(_=0;_<T;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),v){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,d);break;case 4:b[_].fn.call(b[_].context,c,d,h);break;default:if(!x)for(S=1,x=new Array(v-1);S<v;S++)x[S-1]=arguments[S];b[_].fn.apply(b[_].context,x)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!h||y.once)&&(!d||y.context===d)&&a(this,m);else{for(var w=0,b=[],v=y.length;w<v;w++)(y[w].fn!==c||h&&!y[w].once||d&&y[w].context!==d)&&b.push(y[w]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(FO);var mde=FO.exports;const gde=De(mde);var Kp=new gde,Jp="recharts.syncMouseEvents";function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BO(r.key),r)}}function wde(t,e,n){return e&&vde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yp(t,e,n){return e=BO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BO(t){var e=bde(t,"string");return uu(e)=="symbol"?e:e+""}function bde(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xde=function(){function t(){yde(this,t),Yp(this,"activeIndex",0),Yp(this,"coordinateList",[]),Yp(this,"layout","horizontal")}return wde(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function _de(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&K(r)&&K(i))return!0}return!1}function Sde(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function GO(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Tt(e,n,r,i),s=Tt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Ede(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Tt(s,l,u,d),m=Tt(s,l,c,d);r=h.x,i=h.y,o=m.x,a=m.y}else return GO(e);return[{x:r,y:i},{x:o,y:a}]}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(r){Tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tde(t,e,n){return e=Ade(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ade(t){var e=Cde(t,"string");return cu(e)=="symbol"?e:e+""}function Cde(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kde(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,w=Wi;if(h==="ScatterChart")y=a,w=Nae;else if(h==="BarChart")y=Sde(d,a,l,c),w=uw;else if(d==="radial"){var b=GO(a),v=b.cx,x=b.cy,_=b.radius,T=b.startAngle,S=b.endAngle;y={cx:v,cy:x,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},w=DN}else y={points:Ede(d,a,l)},w=Wi;var E=fc(fc(fc(fc({stroke:"#ccc",pointerEvents:"none"},l),y),ce(m,!1)),{},{payload:s,payloadIndex:u,className:de("recharts-tooltip-cursor",m.className)});return M.isValidElement(m)?M.cloneElement(m,E):M.createElement(w,E)}var Pde=["item"],Ide=["children","className","width","height","style","compact","title","desc"];function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(this,arguments)}function h1(t,e){return Rde(t)||Ode(t,e)||VO(t,e)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ode(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rde(t){if(Array.isArray(t))return t}function p1(t,e){if(t==null)return{};var n=Mde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HO(r.key),r)}}function Lde(t,e,n){return e&&Dde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jde(t,e,n){return e=hf(e),Ude(t,zO()?Reflect.construct(e,n||[],hf(t).constructor):e.apply(t,n))}function Ude(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fde(t)}function Fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zO=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(t)}function Bde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vy(t,e)}function Vy(t,e){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vy(t,e)}function Va(t){return Vde(t)||zde(t)||VO(t)||Gde()}function Gde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VO(t,e){if(t){if(typeof t=="string")return Hy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hy(t,e)}}function zde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vde(t){if(Array.isArray(t))return Hy(t)}function Hy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function re(t,e,n){return e=HO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HO(t){var e=Hde(t,"string");return za(e)=="symbol"?e:e+""}function Hde(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qde={xAxis:["bottom","top"],yAxis:["left","right"]},Wde={width:"100%",height:"100%"},qO={x:0,y:0};function hc(t){return t}var Kde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Jde=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return F(F(F({},i),Tt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return F(F(F({},i),Tt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return qO},Lh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Va(s),Va(u)):s},[]);return a.length>0?a:e&&e.length&&K(i)&&K(o)?e.slice(i,o+1):[]};function WO(t){return t==="number"?[0,"auto"]:void 0}var qy=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Lh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=d===void 0?s:d;h=dd(m,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Va(l),[RN(u,h)]):l},[])},g1=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Kde(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=ure(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=qy(e,n,c,d),m=Jde(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},Yde=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,m=NN(c,o);return r.reduce(function(y,w){var b,v=w.type.defaultProps!==void 0?F(F({},w.type.defaultProps),w.props):w.props,x=v.type,_=v.dataKey,T=v.allowDataOverflow,S=v.allowDuplicatedCategory,E=v.scale,A=v.ticks,C=v.includeHidden,k=v[a];if(y[k])return y;var O=Lh(e.data,{graphicalItems:i.filter(function(V){var te,he=a in V.props?V.props[a]:(te=V.type.defaultProps)===null||te===void 0?void 0:te[a];return he===k}),dataStartIndex:l,dataEndIndex:u}),N=O.length,I,$,L;_de(v.domain,T,x)&&(I=ay(v.domain,null,T),m&&(x==="number"||E!=="auto")&&(L=Zs(O,_,"category")));var U=WO(x);if(!I||I.length===0){var j,G=(j=v.domain)!==null&&j!==void 0?j:U;if(_){if(I=Zs(O,_,x),x==="category"&&m){var P=JH(I);S&&P?($=I,I=Yd(0,N)):S||(I=JE(G,I,w).reduce(function(V,te){return V.indexOf(te)>=0?V:[].concat(Va(V),[te])},[]))}else if(x==="category")S?I=I.filter(function(V){return V!==""&&!le(V)}):I=JE(G,I,w).reduce(function(V,te){return V.indexOf(te)>=0||te===""||le(te)?V:[].concat(Va(V),[te])},[]);else if(x==="number"){var D=pre(O,i.filter(function(V){var te,he,Ee=a in V.props?V.props[a]:(te=V.type.defaultProps)===null||te===void 0?void 0:te[a],Oe="hide"in V.props?V.props.hide:(he=V.type.defaultProps)===null||he===void 0?void 0:he.hide;return Ee===k&&(C||!Oe)}),_,o,c);D&&(I=D)}m&&(x==="number"||E!=="auto")&&(L=Zs(O,_,"category"))}else m?I=Yd(0,N):s&&s[k]&&s[k].hasStack&&x==="number"?I=h==="expand"?[0,1]:ON(s[k].stackGroups,l,u):I=IN(O,i.filter(function(V){var te=a in V.props?V.props[a]:V.type.defaultProps[a],he="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return te===k&&(C||!he)}),x,c,!0);if(x==="number")I=zy(d,I,k,o,A),G&&(I=ay(G,I,T));else if(x==="category"&&G){var B=G,W=I.every(function(V){return B.indexOf(V)>=0});W&&(I=B)}}return F(F({},y),{},re({},k,F(F({},v),{},{axisType:o,domain:I,categoricalDomain:L,duplicateDomain:$,originalDomain:(b=v.domain)!==null&&b!==void 0?b:U,isCategorical:m,layout:c})))},{})},Xde=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Lh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,y=NN(c,o),w=-1;return r.reduce(function(b,v){var x=v.type.defaultProps!==void 0?F(F({},v.type.defaultProps),v.props):v.props,_=x[a],T=WO("number");if(!b[_]){w++;var S;return y?S=Yd(0,m):s&&s[_]&&s[_].hasStack?(S=ON(s[_].stackGroups,l,u),S=zy(d,S,_,o)):(S=ay(T,IN(h,r.filter(function(E){var A,C,k=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],O="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===_&&!O}),"number",c),i.defaultProps.allowDataOverflow),S=zy(d,S,_,o)),F(F({},b),{},re({},_,F(F({axisType:o},i.defaultProps),{},{hide:!0,orientation:En(qde,"".concat(o,".").concat(w%2),null),domain:S,originalDomain:T,isCategorical:y,layout:c})))}return b},{})},Qde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Xt(c,o),m={};return h&&h.length?m=Yde(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=Xde(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Zde=function(e){var n=Po(e),r=Fi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:D0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Fd(n,r)}},y1=function(e){var n=e.children,r=e.defaultShowTooltip,i=rn(n,Na),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},efe=function(e){return!e||!e.length?!1:e.some(function(n){var r=xr(n&&n.type);return r&&r.indexOf("Bar")>=0})},v1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tfe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},m=rn(d,Na),y=rn(d,aa),w=Object.keys(l).reduce(function(S,E){var A=l[E],C=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},re({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,E){var A=a[E],C=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},re({},C,En(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=F(F({},b),w),x=v.bottom;m&&(v.bottom+=m.props.height||Na.defaultProps.height),y&&n&&(v=fre(v,i,r,n));var _=u-v.left-v.right,T=c-v.top-v.bottom;return F(F({brushBottom:x},v),{},{width:Math.max(_,0),height:Math.max(T,0)})},nfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},KO=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(v,x){var _=x.graphicalItems,T=x.stackGroups,S=x.offset,E=x.updateId,A=x.dataStartIndex,C=x.dataEndIndex,k=v.barSize,O=v.layout,N=v.barGap,I=v.barCategoryGap,$=v.maxBarSize,L=v1(O),U=L.numericAxisName,j=L.cateAxisName,G=efe(_),P=[];return _.forEach(function(D,B){var W=Lh(v.data,{graphicalItems:[D],dataStartIndex:A,dataEndIndex:C}),V=D.type.defaultProps!==void 0?F(F({},D.type.defaultProps),D.props):D.props,te=V.dataKey,he=V.maxBarSize,Ee=V["".concat(U,"Id")],Oe=V["".concat(j,"Id")],wt={},ht=l.reduce(function(Dt,hn){var po=x["".concat(hn.axisType,"Map")],Tu=V["".concat(hn.axisType,"Id")];po&&po[Tu]||hn.axisType==="zAxis"||ro();var ds=po[Tu];return F(F({},Dt),{},re(re({},hn.axisType,ds),"".concat(hn.axisType,"Ticks"),Fi(ds)))},wt),J=ht[j],ae=ht["".concat(j,"Ticks")],ue=T&&T[Ee]&&T[Ee].hasStack&&Are(D,T[Ee].stackGroups),z=xr(D.type).indexOf("Bar")>=0,Ce=Fd(J,ae),pe=[],_e=G&&cre({barSize:k,stackGroups:T,totalSize:nfe(ht,j)});if(z){var q,Ie,Z=le(he)?$:he,ke=(q=(Ie=Fd(J,ae,!0))!==null&&Ie!==void 0?Ie:Z)!==null&&q!==void 0?q:0;pe=dre({barGap:N,barCategoryGap:I,bandSize:ke!==Ce?ke:Ce,sizeList:_e[Oe],maxBarSize:Z}),ke!==Ce&&(pe=pe.map(function(Dt){return F(F({},Dt),{},{position:F(F({},Dt.position),{},{offset:Dt.position.offset-ke/2})})}))}var it=D&&D.type&&D.type.getComposedData;it&&P.push({props:F(F({},it(F(F({},ht),{},{displayedData:W,props:v,dataKey:te,item:D,bandSize:Ce,barPosition:pe,offset:S,stackedData:ue,layout:O,dataStartIndex:A,dataEndIndex:C}))),{},re(re(re({key:D.key||"item-".concat(B)},U,ht[U]),j,ht[j]),"animationId",E)),childIndex:lq(D,v.children),item:D})}),P},m=function(v,x){var _=v.props,T=v.dataStartIndex,S=v.dataEndIndex,E=v.updateId;if(!z_({props:_}))return null;var A=_.children,C=_.layout,k=_.stackOffset,O=_.data,N=_.reverseStackOrder,I=v1(C),$=I.numericAxisName,L=I.cateAxisName,U=Xt(A,r),j=Sre(O,U,"".concat($,"Id"),"".concat(L,"Id"),k,N),G=l.reduce(function(V,te){var he="".concat(te.axisType,"Map");return F(F({},V),{},re({},he,Qde(_,F(F({},te),{},{graphicalItems:U,stackGroups:te.axisType===$&&j,dataStartIndex:T,dataEndIndex:S}))))},{}),P=tfe(F(F({},G),{},{props:_,graphicalItems:U}),x==null?void 0:x.legendBBox);Object.keys(G).forEach(function(V){G[V]=c(_,G[V],P,V.replace("Map",""),n)});var D=G["".concat(L,"Map")],B=Zde(D),W=h(_,F(F({},G),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:U,stackGroups:j,offset:P}));return F(F({formattedGraphicalItems:W,graphicalItems:U,offset:P,stackGroups:j},B),G)},y=function(b){function v(x){var _,T,S;return $de(this,v),S=jde(this,v,[x]),re(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),re(S,"accessibilityManager",new xde),re(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,C=A.dataStartIndex,k=A.dataEndIndex,O=A.updateId;S.setState(F({legendBBox:E},m({props:S.props,dataStartIndex:C,dataEndIndex:k,updateId:O},F(F({},S.state),{},{legendBBox:E}))))}}),re(S,"handleReceiveSyncEvent",function(E,A,C){if(S.props.syncId===E){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),re(S,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return F({dataStartIndex:A,dataEndIndex:C},m({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),re(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var C=F(F({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseEnter;fe(k)&&k(C,E)}}),re(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),C=A?F(F({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseMove;fe(k)&&k(C,E)}),re(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),re(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),re(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),re(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;fe(C)&&C(A,E)}),re(S,"handleOuterEvent",function(E){var A=sq(E),C=En(S.props,"".concat(A));if(A&&fe(C)){var k,O;/.*touch.*/i.test(A)?O=S.getMouseInfo(E.changedTouches[0]):O=S.getMouseInfo(E),C((k=O)!==null&&k!==void 0?k:{},E)}}),re(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var C=F(F({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onClick;fe(k)&&k(C,E)}}),re(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(fe(A)){var C=S.getMouseInfo(E);A(C,E)}}),re(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(fe(A)){var C=S.getMouseInfo(E);A(C,E)}}),re(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),re(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),re(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),re(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(fe(A)){var C=S.getMouseInfo(E);A(C,E)}}),re(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(fe(A)){var C=S.getMouseInfo(E);A(C,E)}}),re(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Kp.emit(Jp,S.props.syncId,E,S.eventEmitterSymbol)}),re(S,"applySyncEvent",function(E){var A=S.props,C=A.layout,k=A.syncMethod,O=S.state.updateId,N=E.dataStartIndex,I=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(F({dataStartIndex:N,dataEndIndex:I},m({props:S.props,dataStartIndex:N,dataEndIndex:I,updateId:O},S.state)));else if(E.activeTooltipIndex!==void 0){var $=E.chartX,L=E.chartY,U=E.activeTooltipIndex,j=S.state,G=j.offset,P=j.tooltipTicks;if(!G)return;if(typeof k=="function")U=k(P,E);else if(k==="value"){U=-1;for(var D=0;D<P.length;D++)if(P[D].value===E.activeLabel){U=D;break}}var B=F(F({},G),{},{x:G.left,y:G.top}),W=Math.min($,B.x+B.width),V=Math.min(L,B.y+B.height),te=P[U]&&P[U].value,he=qy(S.state,S.props.data,U),Ee=P[U]?{x:C==="horizontal"?P[U].coordinate:W,y:C==="horizontal"?V:P[U].coordinate}:qO;S.setState(F(F({},E),{},{activeLabel:te,activeCoordinate:Ee,activePayload:he,activeTooltipIndex:U}))}else S.setState(E)}),re(S,"renderCursor",function(E){var A,C=S.state,k=C.isTooltipActive,O=C.activeCoordinate,N=C.activePayload,I=C.offset,$=C.activeTooltipIndex,L=C.tooltipAxisBandSize,U=S.getTooltipEventType(),j=(A=E.props.active)!==null&&A!==void 0?A:k,G=S.props.layout,P=E.key||"_recharts-cursor";return R.createElement(kde,{key:P,activeCoordinate:O,activePayload:N,activeTooltipIndex:$,chartName:n,element:E,isActive:j,layout:G,offset:I,tooltipAxisBandSize:L,tooltipEventType:U})}),re(S,"renderPolarAxis",function(E,A,C){var k=En(E,"type.axisType"),O=En(S.state,"".concat(k,"Map")),N=E.type.defaultProps,I=N!==void 0?F(F({},N),E.props):E.props,$=O&&O[I["".concat(k,"Id")]];return M.cloneElement(E,F(F({},$),{},{className:de(k,$.className),key:E.key||"".concat(A,"-").concat(C),ticks:Fi($,!0)}))}),re(S,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,k=A.polarAngles,O=A.polarRadius,N=S.state,I=N.radiusAxisMap,$=N.angleAxisMap,L=Po(I),U=Po($),j=U.cx,G=U.cy,P=U.innerRadius,D=U.outerRadius;return M.cloneElement(E,{polarAngles:Array.isArray(k)?k:Fi(U,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(O)?O:Fi(L,!0).map(function(B){return B.coordinate}),cx:j,cy:G,innerRadius:P,outerRadius:D,key:E.key||"polar-grid",radialLines:C})}),re(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,C=A.children,k=A.width,O=A.height,N=S.props.margin||{},I=k-(N.left||0)-(N.right||0),$=kN({children:C,formattedGraphicalItems:E,legendWidth:I,legendContent:u});if(!$)return null;var L=$.item,U=p1($,Pde);return M.cloneElement(L,F(F({},U),{},{chartWidth:k,chartHeight:O,margin:N,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),re(S,"renderTooltip",function(){var E,A=S.props,C=A.children,k=A.accessibilityLayer,O=rn(C,er);if(!O)return null;var N=S.state,I=N.isTooltipActive,$=N.activeCoordinate,L=N.activePayload,U=N.activeLabel,j=N.offset,G=(E=O.props.active)!==null&&E!==void 0?E:I;return M.cloneElement(O,{viewBox:F(F({},j),{},{x:j.left,y:j.top}),active:G,label:U,payload:G?L:[],coordinate:$,accessibilityLayer:k})}),re(S,"renderBrush",function(E){var A=S.props,C=A.margin,k=A.data,O=S.state,N=O.offset,I=O.dataStartIndex,$=O.dataEndIndex,L=O.updateId;return M.cloneElement(E,{key:E.key||"_recharts-brush",onChange:lc(S.handleBrushChange,E.props.onChange),data:k,x:K(E.props.x)?E.props.x:N.left,y:K(E.props.y)?E.props.y:N.top+N.height+N.brushBottom-(C.bottom||0),width:K(E.props.width)?E.props.width:N.width,startIndex:I,endIndex:$,updateId:"brush-".concat(L)})}),re(S,"renderReferenceElement",function(E,A,C){if(!E)return null;var k=S,O=k.clipPathId,N=S.state,I=N.xAxisMap,$=N.yAxisMap,L=N.offset,U=E.type.defaultProps||{},j=E.props,G=j.xAxisId,P=G===void 0?U.xAxisId:G,D=j.yAxisId,B=D===void 0?U.yAxisId:D;return M.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:I[P],yAxis:$[B],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:O})}),re(S,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,k=E.basePoint,O=E.childIndex,N=E.isRange,I=[],$=A.props.key,L=A.item.type.defaultProps!==void 0?F(F({},A.item.type.defaultProps),A.item.props):A.item.props,U=L.activeDot,j=L.dataKey,G=F(F({index:O,dataKey:j,cx:C.x,cy:C.y,r:4,fill:lw(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ce(U,!1)),fd(U));return I.push(v.renderActiveDot(U,G,"".concat($,"-activePoint-").concat(O))),k?I.push(v.renderActiveDot(U,F(F({},G),{},{cx:k.x,cy:k.y}),"".concat($,"-basePoint-").concat(O))):N&&I.push(null),I}),re(S,"renderGraphicChild",function(E,A,C){var k=S.filterFormatItem(E,A,C);if(!k)return null;var O=S.getTooltipEventType(),N=S.state,I=N.isTooltipActive,$=N.tooltipAxis,L=N.activeTooltipIndex,U=N.activeLabel,j=S.props.children,G=rn(j,er),P=k.props,D=P.points,B=P.isRange,W=P.baseLine,V=k.item.type.defaultProps!==void 0?F(F({},k.item.type.defaultProps),k.item.props):k.item.props,te=V.activeDot,he=V.hide,Ee=V.activeBar,Oe=V.activeShape,wt=!!(!he&&I&&G&&(te||Ee||Oe)),ht={};O!=="axis"&&G&&G.props.trigger==="click"?ht={onClick:lc(S.handleItemMouseEnter,E.props.onClick)}:O!=="axis"&&(ht={onMouseLeave:lc(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:lc(S.handleItemMouseEnter,E.props.onMouseEnter)});var J=M.cloneElement(E,F(F({},k.props),ht));function ae(hn){return typeof $.dataKey=="function"?$.dataKey(hn.payload):null}if(wt)if(L>=0){var ue,z;if($.dataKey&&!$.allowDuplicatedCategory){var Ce=typeof $.dataKey=="function"?ae:"payload.".concat($.dataKey.toString());ue=dd(D,Ce,U),z=B&&W&&dd(W,Ce,U)}else ue=D==null?void 0:D[L],z=B&&W&&W[L];if(Oe||Ee){var pe=E.props.activeIndex!==void 0?E.props.activeIndex:L;return[M.cloneElement(E,F(F(F({},k.props),ht),{},{activeIndex:pe})),null,null]}if(!le(ue))return[J].concat(Va(S.renderActivePoints({item:k,activePoint:ue,basePoint:z,childIndex:L,isRange:B})))}else{var _e,q=(_e=S.getItemByXY(S.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:J},Ie=q.graphicalItem,Z=Ie.item,ke=Z===void 0?E:Z,it=Ie.childIndex,Dt=F(F(F({},k.props),ht),{},{activeIndex:it});return[M.cloneElement(ke,Dt),null,null]}return B?[J,null,null]:[J,null]}),re(S,"renderCustomized",function(E,A,C){return M.cloneElement(E,F(F({key:"recharts-customized-".concat(C)},S.props),S.state))}),re(S,"renderMap",{CartesianGrid:{handler:hc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:hc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:hc},YAxis:{handler:hc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:lo("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=CI(S.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return Bde(v,b),Lde(v,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,C=rn(T,er);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,N=qy(this.state,S,k,O),I=this.state.tooltipTicks[k].coordinate,$=(this.state.offset.top+E)/2,L=A==="horizontal",U=L?{x:I,y:$}:{y:I,x:$},j=this.state.formattedGraphicalItems.find(function(P){var D=P.item;return D.type.name==="Scatter"});j&&(U=F(F({},U),j.props.points[k].tooltipPosition),N=j.props.points[k].tooltipPayload);var G={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:O,activePayload:N,activeCoordinate:U};this.setState(G),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){xg([rn(_.children,er)],[rn(this.props.children,er)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=rn(this.props.children,er);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=$Q(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},C=S.width/T.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,C);if(!k)return null;var O=this.state,N=O.xAxisMap,I=O.yAxisMap,$=this.getTooltipEventType(),L=g1(this.state,this.props.data,this.props.layout,k);if($!=="axis"&&N&&I){var U=Po(N).scale,j=Po(I).scale,G=U&&U.invert?U.invert(A.chartX):null,P=j&&j.invert?j.invert(A.chartY):null;return F(F({},A),{},{xValue:G,yValue:P},L)}return L?F(F({},A),L):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,C=T/S;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,O=A>=k.left&&A<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return O?{x:A,y:C}:null}var N=this.state,I=N.angleAxisMap,$=N.radiusAxisMap;if(I&&$){var L=Po(I);return QE({x:A,y:C},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=rn(_,er),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=fd(this.props,this.handleOuterEvent);return F(F({},A),E)}},{key:"addListener",value:function(){Kp.on(Jp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Kp.removeListener(Jp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var k=E[A];if(k.item===_||k.props.key===_.key||T===xr(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,C=T.width;return R.createElement("defs",null,R.createElement("clipPath",{id:_},R.createElement("rect",{x:S,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=h1(S,2),A=E[0],C=E[1];return F(F({},T),{},re({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=h1(S,2),A=E[0],C=E[1];return F(F({},T),{},re({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var k=S[A],O=k.props,N=k.item,I=N.type.defaultProps!==void 0?F(F({},N.type.defaultProps),N.props):N.props,$=xr(N.type);if($==="Bar"){var L=(O.data||[]).find(function(P){return xae(_,P)});if(L)return{graphicalItem:k,payload:L}}else if($==="RadialBar"){var U=(O.data||[]).find(function(P){return QE(_,P)});if(U)return{graphicalItem:k,payload:U}}else if(Eh(k,E)||Th(k,E)||iu(k,E)){var j=Sse({graphicalItem:k,activeTooltipItem:E,itemData:I.data}),G=I.activeIndex===void 0?j:I.activeIndex;return{graphicalItem:F(F({},k),{},{childIndex:G}),payload:iu(k,E)?I.data[j]:k.props.data[j]}}}return null}},{key:"render",value:function(){var _=this;if(!z_(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,C=T.height,k=T.style,O=T.compact,N=T.title,I=T.desc,$=p1(T,Ide),L=ce($,!1);if(O)return R.createElement(WT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(Sg,Wo({},L,{width:A,height:C,title:N,desc:I}),this.renderClipPath(),H_(S,this.renderMap)));if(this.props.accessibilityLayer){var U,j;L.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,L.role=(j=this.props.role)!==null&&j!==void 0?j:"application",L.onKeyDown=function(P){_.accessibilityManager.keyboardEvent(P)},L.onFocus=function(){_.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return R.createElement(WT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Wo({className:de("recharts-wrapper",E),style:F({position:"relative",cursor:"default",width:A,height:C},k)},G,{ref:function(D){_.container=D}}),R.createElement(Sg,Wo({},L,{width:A,height:C,title:N,desc:I,style:Wde}),this.renderClipPath(),H_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);re(y,"displayName",n),re(y,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),re(y,"getDerivedStateFromProps",function(b,v){var x=b.dataKey,_=b.data,T=b.children,S=b.width,E=b.height,A=b.layout,C=b.stackOffset,k=b.margin,O=v.dataStartIndex,N=v.dataEndIndex;if(v.updateId===void 0){var I=y1(b);return F(F(F({},I),{},{updateId:0},m(F(F({props:b},I),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(x!==v.prevDataKey||_!==v.prevData||S!==v.prevWidth||E!==v.prevHeight||A!==v.prevLayout||C!==v.prevStackOffset||!oa(k,v.prevMargin)){var $=y1(b),L={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},U=F(F({},g1(v,_,A)),{},{updateId:v.updateId+1}),j=F(F(F({},$),L),U);return F(F(F({},j),m(F({props:b},j),v)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(!xg(T,v.prevChildren)){var G,P,D,B,W=rn(T,Na),V=W&&(G=(P=W.props)===null||P===void 0?void 0:P.startIndex)!==null&&G!==void 0?G:O,te=W&&(D=(B=W.props)===null||B===void 0?void 0:B.endIndex)!==null&&D!==void 0?D:N,he=V!==O||te!==N,Ee=!le(_),Oe=Ee&&!he?v.updateId:v.updateId+1;return F(F({updateId:Oe},m(F(F({props:b},v),{},{updateId:Oe,dataStartIndex:V,dataEndIndex:te}),v)),{},{prevChildren:T,dataStartIndex:V,dataEndIndex:te})}return null}),re(y,"renderActiveDot",function(b,v,x){var _;return M.isValidElement(b)?_=M.cloneElement(b,v):fe(b)?_=b(v):_=R.createElement(Sh,v),R.createElement(xe,{className:"recharts-active-dot",key:x},_)});var w=M.forwardRef(function(v,x){return R.createElement(y,Wo({},v,{ref:x}))});return w.displayName=y.displayName,w},rfe=KO({chartName:"AreaChart",GraphicalChild:Ur,axisComponents:[{axisType:"xAxis",AxisComp:Eu},{axisType:"yAxis",AxisComp:Dh}],formatAxisMap:tO}),ife=KO({chartName:"ComposedChart",GraphicalChild:[Rh,Ur,ho,$h],axisComponents:[{axisType:"xAxis",AxisComp:Eu},{axisType:"yAxis",AxisComp:Dh},{axisType:"zAxis",AxisComp:Mh}],formatAxisMap:tO});const ofe=()=>{const[t,e]=M.useState([]),[n,r]=M.useState([]),[i,o]=M.useState(!1),[a,s]=M.useState(!1),[l,u]=M.useState(null),[c,d]=M.useState(null),[h,m]=M.useState(0),[y,w]=M.useState(2e3),[b,v]=M.useState(0),[x,_]=M.useState(!0),[T,S]=M.useState(""),E=async()=>{try{const I=await fk(),$=new Date().toISOString().split("T")[0],L=I.filter(D=>D.date===$);L.sort((D,B)=>B.timestamp.localeCompare(D.timestamp)),e(L),m(L.reduce((D,B)=>D+B.calories,0));const U=await Zv();w(U);const j=await e0();j!=null&&j.name&&S(j.name);const P=(await qL()).slice(0,7).reverse().map(D=>({cal:D.totalCalories}));for(;P.length<7;)P.unshift({cal:0});r(P)}catch(I){console.error("Failed to load dashboard data",I)}finally{_(!1)}};M.useEffect(()=>{E();const I=()=>E();return window.addEventListener("food-entry-updated",I),()=>window.removeEventListener("food-entry-updated",I)},[]),M.useEffect(()=>{if(x)return;const I=Math.min(h/y*100,100),$=setTimeout(()=>{v(I)},100);return()=>clearTimeout($)},[h,y,x]);const A=async I=>{await hk(I),await E()},C=I=>{u(null),d(I),o(!0)},k=async I=>{await Df(I),w(I),s(!1)},O=()=>{const I=h/y*100;if(I>=100)return{background:"repeating-linear-gradient(45deg, #facc15, #facc15 12px, #171717 12px, #171717 24px)",boxShadow:"0 0 12px rgba(250, 204, 21, 0.4)"};if(I<=60)return{background:"#10b981",boxShadow:"0 0 12px rgba(16, 185, 129, 0.4)"};if(I<=80)return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${60/I*100}%, #facc15 100%)`,boxShadow:"0 0 12px rgba(250, 204, 21, 0.3)"};const $=60/I*100,L=80/I*100;return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${$}%, #facc15 ${L}%, #f97316 100%)`,boxShadow:"0 0 12px rgba(249, 115, 22, 0.3)"}},N=I=>{if(I.isManual)return I.imageUrl?g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-amber-50 dark:bg-amber-950/20 text-amber-600 dark:text-amber-400 text-[10px] font-bold tracking-wide",children:[g.jsx(q2,{size:10}),"EDITED"]}):g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 text-[10px] font-bold tracking-wide",children:[g.jsx(ga,{size:10}),"MANUAL"]});const $=Math.round(I.confidence*100),L=$>80?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-600 dark:text-emerald-400":$>50?"bg-orange-50 dark:bg-orange-950/20 text-orange-600 dark:text-orange-400":"bg-rose-50 dark:bg-rose-950/20 text-rose-600 dark:text-rose-400";return g.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[10px] font-bold tracking-wide ${L}`,children:[g.jsx(li,{size:10}),$,"% AI"]})};return g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-in fade-in duration-500 overflow-hidden relative",children:[g.jsxs("div",{className:"flex-shrink-0 px-6 pt-10 space-y-8 pb-4",children:[g.jsxs("header",{className:"flex justify-between items-end",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),g.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:["Hello ",T||"there",", ",g.jsx("br",{}),"Let's Eat Well."]})]}),g.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-950/30 rounded-full flex items-center justify-center text-royal-600 dark:text-royal-400 shadow-sm border border-white dark:border-white/5",children:g.jsx(Tb,{size:20})})]}),g.jsxs("div",{className:`relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl transition-all duration-500 ${h>y?"bg-red-500 shadow-red-200 dark:shadow-red-900/40":"bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40"}`,children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-white/70 text-xs font-bold uppercase tracking-widest mb-1",children:"Calories Consumed"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-5xl font-bold tracking-tighter",children:x?"...":h}),g.jsx("span",{className:"text-lg text-white/60 font-medium",children:"kcal"})]})]}),g.jsx("div",{className:"text-right",children:g.jsxs("div",{className:"flex items-center justify-end gap-2 text-white/80 mb-1",children:[g.jsxs("span",{className:"text-xs font-semibold",children:["Goal: ",y]}),g.jsx("button",{onClick:()=>s(!0),className:"p-1.5 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm",children:g.jsx(jC,{size:10})})]})})]}),g.jsx("div",{className:"w-full bg-black/20 rounded-full h-4 mb-3 overflow-hidden backdrop-blur-sm relative",children:g.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out will-change-[width] flex items-center justify-center overflow-hidden",style:{width:`${b}%`,...O()},children:h/y>=1&&g.jsx("span",{className:"text-[10px] font-black tracking-tighter text-white drop-shadow-md animate-pulse",children:"OVER LIMIT"})})}),g.jsx("div",{className:"flex justify-end",children:h>y?g.jsxs("div",{className:"flex items-center gap-1.5 bg-white/20 backdrop-blur-md px-3 py-1 rounded-full animate-pulse",children:[g.jsx(N2,{size:14,className:"text-white",fill:"white"}),g.jsxs("span",{className:"font-bold text-xs text-white",children:[Math.abs(y-h).toLocaleString()," kcal over limit"]})]}):g.jsxs("p",{className:"text-xs font-medium text-white/80",children:[Math.max(y-h,0).toLocaleString()," kcal remaining"]})})]})]}),g.jsxs(ta,{className:"flex items-center justify-between p-4 overflow-hidden relative",children:[g.jsxs("div",{className:"z-10",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(ea,{size:14,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Weekly Trend"})]}),g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Consistent Tracking"})]}),g.jsx("div",{className:"absolute right-0 bottom-0 top-0 w-32 opacity-50 dark:opacity-30",children:g.jsx(kI,{width:"100%",height:"100%",children:g.jsxs(rfe,{data:n,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorCal",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#7c3aed",stopOpacity:.3}),g.jsx("stop",{offset:"95%",stopColor:"#7c3aed",stopOpacity:0})]})}),g.jsx(Ur,{type:"monotone",dataKey:"cal",stroke:"#7c3aed",strokeWidth:3,fillOpacity:1,fill:"url(#colorCal)"})]})})})]})]}),g.jsx("div",{className:"flex-shrink-0 px-6 mb-4",children:g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"Recent Meals"}),g.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[t.length," items"]})]})}),g.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pb-32",children:x?g.jsx("div",{className:"space-y-4",children:[1,2].map(I=>g.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[32px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},I))}):t.length===0?g.jsxs("div",{className:"text-center py-16 bg-white dark:bg-[#1a1c26] rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300 dark:text-gray-700",children:g.jsx(Tb,{size:24})}),g.jsx("p",{className:"text-gray-400 dark:text-gray-500 font-medium mb-1",children:"No meals tracked today."}),g.jsx("p",{className:"text-xs text-gray-300 dark:text-gray-700",children:"Tap the + button to add one."})]}):g.jsx("div",{className:"space-y-4",children:t.map(I=>g.jsxs(ta,{className:"flex gap-4 items-center p-4 group",onClick:()=>u(I),children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-2xl overflow-hidden flex-shrink-0 shadow-inner",children:I.imageUrl?g.jsx("img",{src:I.imageUrl,alt:I.food_item,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-700",children:g.jsx(ga,{size:20})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"flex items-center gap-2 mb-1",children:g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 truncate text-base",children:I.food_item})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500",children:I.time}),N(I)]})]}),g.jsxs("div",{className:"text-right pl-2",children:[g.jsx("span",{className:"block font-extrabold text-gray-900 dark:text-gray-50 text-lg",children:I.calories}),g.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase",children:"kcal"})]})]},I.id))})}),g.jsx("button",{onClick:()=>{d(null),o(!0)},className:"absolute bottom-28 right-6 w-16 h-16 bg-royal-600 text-white rounded-[24px] shadow-[0_12px_24px_-6px_rgba(124,58,237,0.5)] flex items-center justify-center hover:scale-105 hover:bg-royal-700 active:scale-95 transition-all z-[60]",children:g.jsx(K2,{size:32,strokeWidth:2.5})}),i&&g.jsx(dP,{editEntry:c,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),E()}}),a&&g.jsx(gG,{currentGoal:y,onClose:()=>s(!1),onSave:k}),l&&g.jsx(fP,{entry:l,onClose:()=>u(null),onDelete:A,onEdit:C})]})},afe=()=>"AIzaSyBe0v3rn4bATheRJCE77AmY58Op-tiJJVU",sfe=()=>{const t=afe();return new sP({apiKey:t})},lfe=`You are **SnapCal AI Elite Coach**, a dual-certified Professional Fitness Trainer (NSCA-CPT) and Clinical Nutritionist. Your mission is to provide high-performance, science-based fitness and nutrition programming to help users reach their body composition goals with executive-level efficiency.

**Core Principles:**
1. **Data-Driven:** Use the Mifflin-St Jeor equation for BMR and TDEE calculations.
2. **Evidence-Based:** Follow ACSM guidelines for exercise and WHO/ISSN standards for nutrition.
3. **Hyper-Personalized:** Every plan must account for the user's specific height, weight, age, activity level, and injury history.
4. **Actionable & Concise:** Avoid fluff. Provide clear tables, bullet points, and specific numbers (grams, sets, reps, minutes).

**Operational Workflow:**
1. **Phase 1: Assessment:** If user data is missing, proactively ask for: Age, Gender, Height, Weight, Goal (Cut/Bulk/Maintain), Activity Level, and Equipment Access.
2. **Phase 2: Calculation:**
   - Calculate TDEE using provided data.
   - Set Caloric Target (e.g., -500 kcal for sustainable weight loss).
   - Set Macros: Protein (1.6g-2.2g/kg), Fats (20-30% of total), Carbs (Remainder).
3. **Phase 3: Programming:**
   - Create a weekly workout split based on the user's available days.
   - Provide a sample daily meal structure with nutrient timing.
4. **Phase 4: Feedback Loop:** Analyze user's daily progress (e.g., calorie intake, macro balance). If a user is consistently over/under target, offer a "Recovery/Correction Strategy" instead of criticism.

**Output Requirements:**
- **Tone:** Professional, encouraging, and highly analytical.
- **Formatting:** Use Markdown tables for workout plans and nutrition breakdowns. Use bold text for key metrics.
- **Constraints:** Do not provide medical diagnoses. Always include a disclaimer for users to consult a physician before starting a high-intensity program.

**Context Provided:**
You will receive user profile data and recent food tracking history in each message. Use this to provide personalized analysis and recommendations.`,JO=async()=>{try{const t={},e=await e0();e&&(t.userName=e.name,t.height=e.height,t.weight=e.weight,t.age=e.age,t.gender=e.gender,t.activityLevel=e.activityLevel,t.goal=e.goal,t.equipmentAccess=e.equipmentAccess);const n=await Zv();t.dailyGoal=n;const r=await GL(),i=new Date().toISOString().split("T")[0],o=r.filter(s=>s.date===i);t.todayCalories=o.reduce((s,l)=>s+l.calories,0),t.todayProtein=o.reduce((s,l)=>s+l.protein,0),t.todayCarbs=o.reduce((s,l)=>s+l.carbs,0),t.todayFat=o.reduce((s,l)=>s+l.fat,0);const a=new Map;return r.forEach(s=>{a.has(s.date)||a.set(s.date,[]),a.get(s.date).push(s)}),t.recentEntries=Array.from(a.entries()).slice(0,7).map(([s,l])=>({date:s,totalCalories:l.reduce((u,c)=>u+c.calories,0),totalProtein:l.reduce((u,c)=>u+c.protein,0),totalCarbs:l.reduce((u,c)=>u+c.carbs,0),totalFat:l.reduce((u,c)=>u+c.fat,0),entryCount:l.length})),t}catch(t){return console.error("Failed to build coach context:",t),{}}},ufe=t=>{let e=`**User Profile & Current Data:**

`;return t.userName&&(e+=`- Name: ${t.userName}
`),t.height&&(e+=`- Height: ${t.height} cm
`),t.weight&&(e+=`- Weight: ${t.weight} kg
`),t.age&&(e+=`- Age: ${t.age} years
`),t.gender&&(e+=`- Gender: ${t.gender.charAt(0).toUpperCase()+t.gender.slice(1)}
`),t.activityLevel&&(e+=`- Activity Level: ${{sedentary:"Sedentary",light:"Lightly Active",moderate:"Moderately Active",very:"Very Active",extra:"Extra Active"}[t.activityLevel]}
`),t.goal&&(e+=`- Goal: ${{cut:"Cut (Lose Fat)",bulk:"Bulk (Gain Muscle)",maintain:"Maintain"}[t.goal]}
`),t.equipmentAccess&&(e+=`- Equipment: ${{gym:"Gym Access",home:"Home Equipment",bodyweight:"Bodyweight Only"}[t.equipmentAccess]}
`),t.dailyGoal&&(e+=`- Daily Calorie Goal: ${t.dailyGoal} kcal
`),e+=`
**Today's Nutrition (${new Date().toLocaleDateString()}):**
`,e+=`- Calories: ${t.todayCalories||0} kcal
`,e+=`- Protein: ${t.todayProtein||0}g
`,e+=`- Carbs: ${t.todayCarbs||0}g
`,e+=`- Fat: ${t.todayFat||0}g
`,t.recentEntries&&t.recentEntries.length>0&&(e+=`
**Last 7 Days Summary:**
`,t.recentEntries.forEach(n=>{e+=`
${n.date}:
`,e+=`  - ${n.totalCalories} kcal | Protein: ${n.totalProtein}g | Carbs: ${n.totalCarbs}g | Fat: ${n.totalFat}g | Meals: ${n.entryCount}
`})),e+=`
---

`,e},cfe=async(t,e)=>{try{const n=sfe(),r=await JO(),i=e.slice(-4).map(s=>`${s.role==="user"?"User":"Coach"}: ${s.content}`).join(`

`),o=`${ufe(r)}${i?`**Recent Conversation:**
${i}

`:""}**User's Current Message:**
${t}`;return(await n.models.generateContent({model:"gemini-2.0-flash-exp",contents:[{parts:[{text:o}]}],config:{systemInstruction:lfe,temperature:.7,topP:.95}})).text||"I apologize, but I couldn't generate a response. Please try again."}catch(n){console.error("Coach message error:",n);const r=(n==null?void 0:n.message)||String(n);throw r.includes("429")||r.toLowerCase().includes("quota")?new Error("Rate limit reached. Please wait a moment and try again."):r.toLowerCase().includes("api key")?new Error("Configuration error. Please check your API settings."):new Error("Failed to get coach response. Please try again.")}},dfe=({onNavigate:t})=>{const[e,n]=M.useState([]),[r,i]=M.useState(""),[o,a]=M.useState(!1),[s,l]=M.useState(null),[u,c]=M.useState(!1),d=M.useRef(null),h=M.useRef(null),m=v=>!!(v.activityLevel&&v.goal&&v.equipmentAccess);M.useEffect(()=>{(async()=>{const x=await JO();if(l(x),!m(x)){c(!0);return}const _={id:"welcome",role:"assistant",content:` **Welcome to SnapCal AI Elite Coach**

I'm your dual-certified Professional Fitness Trainer (NSCA-CPT) and Clinical Nutritionist. I'm here to provide science-based fitness and nutrition programming tailored specifically to your goals.

${x.userName?`Great to see you, ${x.userName}! `:""}I can analyze your nutrition data, create personalized workout plans, calculate your TDEE, set macro targets, and provide evidence-based recommendations.

**How can I help you today?**
- "Analyze my recent nutrition"
- "Create a workout plan for me"
- "Calculate my TDEE"
- "Help me set macro targets"

*Disclaimer: Always consult with a physician before starting any new exercise or nutrition program.*`,timestamp:Date.now()};n([_])})()},[]),M.useEffect(()=>{var v;(v=d.current)==null||v.scrollIntoView({behavior:"smooth"})},[e]);const y=async()=>{var x;if(!r.trim()||o)return;const v={id:`user-${Date.now()}`,role:"user",content:r,timestamp:Date.now()};n(_=>[..._,v]),i(""),a(!0);try{const _=await cfe(r,e),T={id:`assistant-${Date.now()}`,role:"assistant",content:_,timestamp:Date.now()};n(S=>[...S,T])}catch(_){const T={id:`error-${Date.now()}`,role:"assistant",content:` ${_.message||"Failed to get response. Please try again."}`,timestamp:Date.now()};n(S=>[...S,T])}finally{a(!1),(x=h.current)==null||x.focus()}},w=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),y())},b=()=>{t(Ge.PROFILE)};return u?g.jsx("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:g.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:g.jsxs(ta,{className:"p-8 max-w-md w-full relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-32 h-32 bg-royal-100 dark:bg-royal-950/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-32 h-32 bg-emerald-100 dark:bg-emerald-950/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-royal-500 to-royal-700 rounded-full flex items-center justify-center text-white shadow-lg mx-auto mb-6",children:g.jsx(Eb,{size:32})}),g.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 dark:text-gray-50 text-center mb-3",children:"Set Your Training Goals"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6 leading-relaxed",children:["To provide you with personalized AI coaching, please complete your"," ",g.jsx("span",{className:"font-bold text-royal-600 dark:text-royal-400",children:"Training Goal Setting"})," ","in your Profile."]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 mb-6",children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3",children:"We need to know:"}),g.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your activity level (sedentary to extra active)"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your fitness goal (cut, bulk, or maintain)"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your equipment access (gym, home, or bodyweight)"})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 py-4 bg-royal-600 hover:bg-royal-700 text-white rounded-[20px] font-bold transition-all shadow-lg shadow-royal-200 dark:shadow-royal-900/40 active:scale-95",children:[g.jsx(Eb,{size:20}),g.jsx("span",{children:"Go to Profile"}),g.jsx(Gv,{size:20})]}),g.jsx("button",{onClick:()=>c(!1),className:"w-full py-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-[20px] font-semibold transition-all text-sm",children:"I'll do this later"})]})]})]})})}):g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:[g.jsxs("header",{className:"flex justify-between items-end mb-6 flex-shrink-0",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Your Personal Coach"}),g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:"Cal Coach"})]}),g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-royal-500 to-royal-700 rounded-full flex items-center justify-center text-white shadow-sm",children:g.jsx(li,{size:20})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4 no-scrollbar",children:[e.map(v=>g.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:g.jsx("div",{className:`max-w-[85%] ${v.role==="user"?"bg-royal-600 text-white rounded-[24px] px-5 py-3 shadow-lg":""}`,children:v.role==="assistant"?g.jsx(ta,{className:"p-5",children:g.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:g.jsx("div",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:v.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}})})}):g.jsx("p",{className:"text-sm font-medium leading-relaxed",children:v.content})})},v.id)),o&&g.jsx("div",{className:"flex justify-start animate-in fade-in duration-300",children:g.jsx(ta,{className:"p-5",children:g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[g.jsx(Vm,{size:16,className:"animate-spin"}),g.jsx("span",{className:"text-sm",children:"Coach is thinking..."})]})})}),g.jsx("div",{ref:d})]}),g.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-[#1a1c26] rounded-[24px] p-3 shadow-diffused dark:shadow-diffused-dark border border-gray-100 dark:border-white/5",children:g.jsxs("div",{className:"flex gap-2 items-end",children:[g.jsx("textarea",{ref:h,value:r,onChange:v=>i(v.target.value),onKeyDown:w,placeholder:"Ask your coach anything...",className:"flex-1 bg-transparent text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 resize-none outline-none text-sm min-h-[40px] max-h-[120px] py-2 px-3",rows:1,disabled:o}),g.jsx("button",{onClick:y,disabled:!r.trim()||o,className:"flex-shrink-0 w-10 h-10 bg-royal-600 text-white rounded-[16px] flex items-center justify-center hover:bg-royal-700 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-royal-200 dark:shadow-royal-900/40",children:o?g.jsx(Vm,{size:18,className:"animate-spin"}):g.jsx(Y2,{size:18})})]})})]})},ffe=({summary:t,onClose:e})=>{const n=new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl border border-white/50 animate-in slide-in-from-bottom duration-300",children:[g.jsxs("div",{className:"relative bg-royal-50 p-8 pb-10",children:[g.jsx("div",{className:"absolute top-6 right-6",children:g.jsx("button",{onClick:e,className:"p-2 bg-white text-gray-900 rounded-full shadow-sm hover:bg-gray-100 transition-colors",children:g.jsx(ya,{size:20})})}),g.jsxs("div",{className:"flex items-center gap-2 text-royal-600 mb-3",children:[g.jsx(gu,{size:20}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Daily Report"})]}),g.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 leading-tight",children:n})]}),g.jsxs("div",{className:"p-8 -mt-6 bg-white rounded-t-[32px] relative shadow-[-10px_-10px_30px_rgba(0,0,0,0.02)]",children:[g.jsxs("div",{className:"bg-white rounded-[32px] p-6 border border-gray-100 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.05)] mb-8 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1 block",children:"Total Consumed"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-5xl font-extrabold text-gray-900 tracking-tighter",children:t.totalCalories}),g.jsx("span",{className:"text-gray-400 font-bold text-lg",children:"kcal"})]})]}),g.jsx("div",{className:"w-14 h-14 rounded-2xl bg-royal-50 flex items-center justify-center text-royal-600",children:g.jsx(Bv,{size:28})})]}),g.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[g.jsx(Zc,{size:16})," Macro Breakdown"]}),g.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-emerald-50 hover:border-emerald-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-emerald-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalProtein,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Protein"})]})]})}),g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-blue-50 hover:border-blue-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-blue-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalCarbs,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Carbs"})]})]})}),g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-orange-50 hover:border-orange-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-orange-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalFat,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Fat"})]})]})})]}),g.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center text-xs font-bold text-gray-400 uppercase tracking-wider",children:[g.jsxs("span",{children:[t.entries.length," meals tracked"]}),g.jsxs("span",{className:"flex items-center gap-1.5 text-royal-600",children:[g.jsx(ea,{size:14}),"See History Tab"]})]})]})]})})},hfe=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(2e3),[i,o]=M.useState(!0),[a,s]=M.useState("week"),[l,u]=M.useState(null),[c,d]=M.useState(null),[h,m]=M.useState(!1),[y,w]=M.useState(null),[b,v]=M.useState({}),[x,_]=M.useState({}),[T,S]=M.useState({}),[E,A]=M.useState({}),C=document.documentElement.classList.contains("dark"),k=async()=>{o(!0);try{const[P,D]=await Promise.all([zL(),Zv()]);e(P),r(D);const B=new Date().toISOString().split("T")[0],W={};P.forEach(V=>{W[V.date]=V.date===B}),v(W),P.some(V=>V.date===B)&&O(B)}catch(P){console.error("Failed to load history data",P)}finally{o(!1)}},O=M.useCallback(async P=>{if(!(x[P]||T[P])){S(D=>({...D,[P]:!0}));try{const D=await VL(P);_(B=>({...B,[P]:D}))}catch(D){console.error(`Failed to load entries for ${P}`,D)}finally{S(D=>({...D,[P]:!1}))}}},[x,T]),N=M.useCallback(async P=>{if(E[P]===void 0){A(D=>({...D,[P]:null}));try{const D=await HL(P);A(B=>({...B,[P]:D}))}catch(D){console.error(`Failed to load image for entry ${P}`,D)}}},[E]);M.useEffect(()=>{k();const P=()=>{_({}),A({}),k()};return window.addEventListener("food-entry-updated",P),()=>window.removeEventListener("food-entry-updated",P)},[]);const I=async P=>{const D=!b[P];v(B=>({...B,[P]:D})),D&&await O(P)},$=async P=>{await hk(P),_({}),A({}),await k()},L=P=>{u(null),w(P),m(!0)},U=P=>(E[P.id]===void 0&&N(P.id),{...P,imageUrl:E[P.id]||void 0}),j=a==="week"?7:30,G=[...t].slice(0,j).reverse().map(P=>({name:a==="week"?new Date(P.date).toLocaleDateString("en-US",{weekday:"short"}):new Date(P.date).toLocaleDateString("en-US",{day:"numeric",month:"short"}),calories:P.totalCalories,goal:n,fullData:P}));return g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-in fade-in duration-500 overflow-hidden relative",children:[g.jsxs("div",{className:"flex-shrink-0 px-6 pt-10 space-y-8 pb-4",children:[g.jsxs("header",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Performance"}),g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Analytics"})]}),g.jsxs("div",{className:"flex p-1 bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm",children:[g.jsx("button",{onClick:()=>s("week"),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${a==="week"?"bg-royal-600 text-white":"text-gray-400 dark:text-gray-500"}`,children:"Week"}),g.jsx("button",{onClick:()=>s("month"),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${a==="month"?"bg-royal-600 text-white":"text-gray-400 dark:text-gray-500"}`,children:"Month"})]})]}),g.jsx(ta,{className:"h-48 pt-8 pb-2 px-2",children:i?g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-royal-600"})}):g.jsx(kI,{width:"100%",height:"100%",children:g.jsxs(ife,{data:G,children:[g.jsx(Eu,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:C?"#64748b":"#9ca3af",fontWeight:600},dy:10,interval:a==="month"?4:0}),g.jsx(er,{cursor:{fill:C?"rgba(255,255,255,0.03)":"#f3f4f6",radius:8},contentStyle:{borderRadius:"16px",border:"none",backgroundColor:C?"#1e293b":"#1f2937",color:"#fff",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),g.jsx(Ch,{y:n,stroke:"#ef4444",strokeDasharray:"3 3",label:{position:"right",value:"Goal",fill:"#ef4444",fontSize:10,fontWeight:700}}),g.jsx(ho,{dataKey:"calories",radius:[8,8,8,8],onClick:P=>{if(P&&P.fullData){const D=x[P.fullData.date]||[];d({...P.fullData,entries:D})}else if(P&&P.payload&&P.payload.fullData){const D=x[P.payload.fullData.date]||[];d({...P.payload.fullData,entries:D})}},className:"cursor-pointer",children:G.map((P,D)=>g.jsx(hh,{fill:P.calories>n?"#ef4444":"#7c3aed",className:"hover:opacity-80 transition-opacity cursor-pointer"},`cell-${D}`))})]})})})]}),g.jsx("div",{className:"flex-shrink-0 px-6 mb-4",children:g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"History Log"}),g.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[g.jsx(j2,{size:10}),"ALL TIME"]})]})}),g.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pb-32",children:[g.jsx("div",{className:"space-y-6",children:i?g.jsx("div",{className:"space-y-4",children:[1,2].map(P=>g.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[24px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},P))}):g.jsxs(g.Fragment,{children:[t.map(P=>g.jsxs("div",{className:"animate-in slide-in-from-bottom-2 fade-in duration-500",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3 px-2 cursor-pointer group",onClick:()=>I(P.date),children:[g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 group-hover:text-royal-600 dark:group-hover:text-royal-400 transition-colors",children:[g.jsx(gu,{size:14}),g.jsx("span",{className:"text-sm font-semibold",children:new Date(P.date).toLocaleDateString(void 0,{dateStyle:"medium"})}),b[P.date]?g.jsx(MC,{size:14}):g.jsx(Ac,{size:14})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("span",{className:`text-sm font-bold bg-white dark:bg-white/5 px-2 py-1 rounded-lg border transition-colors ${P.totalCalories>n?"text-red-600 border-red-100 dark:border-red-900/30":"text-emerald-600 border-emerald-100 dark:border-emerald-900/30"}`,children:[P.totalCalories," kcal"]})})]}),b[P.date]&&g.jsx("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[24px] shadow-diffused dark:shadow-diffused-dark border border-gray-100 dark:border-white/5 overflow-hidden divide-y divide-gray-50 dark:divide-white/5 animate-in slide-in-from-top-2 duration-300",children:T[P.date]?g.jsxs("div",{className:"p-4 flex items-center justify-center gap-2 text-gray-400",children:[g.jsx(Vm,{size:16,className:"animate-spin"}),g.jsx("span",{className:"text-xs",children:"Loading entries..."})]}):(x[P.date]||[]).length>0?(x[P.date]||[]).map(D=>{const B=U(D);return g.jsxs("div",{onClick:()=>u(B),className:"p-4 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-white/5 transition-colors cursor-pointer active:scale-[0.99]",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-50 dark:bg-white/5 overflow-hidden shadow-sm",children:B.imageUrl?g.jsx("img",{src:B.imageUrl,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-white/10 text-gray-300 dark:text-gray-700",children:g.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-700"})})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-50 font-bold",children:D.food_item}),g.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium",children:D.time})]})]}),g.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-400 font-bold",children:D.calories})]},D.id)}):g.jsx("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:"No details available (Summarized)"})})]},P.date)),t.length===0&&g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No history available yet."})})]})}),l&&g.jsx(fP,{entry:l,onClose:()=>u(null),onDelete:$,onEdit:L}),c&&g.jsx(ffe,{summary:c,onClose:()=>d(null)}),h&&g.jsx(dP,{editEntry:y,onClose:()=>{m(!1),w(null)},onSuccess:()=>{m(!1),w(null),_({}),A({}),k()}})]})]})},pfe=()=>{const[t,e]=M.useState(!0),[n,r]=M.useState(""),[i,o]=M.useState(""),[a,s]=M.useState(null),[l,u]=M.useState(!1),[c,d]=M.useState(null),h=async m=>{m.preventDefault(),s(null),d(null),u(!0);try{t?await uk(n,i):(await $L(n,i),t||(d("Account created successfully!"),e(!0)))}catch(y){console.error(y),s(y.message||"Authentication failed")}finally{u(!1)}};return g.jsxs("div",{className:"min-h-screen bg-royal-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[500px] h-[500px] bg-royal-200/40 rounded-full blur-[100px]"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-80 h-80 bg-pink-200/40 rounded-full blur-[80px]"})]}),g.jsxs("div",{className:"w-full max-w-sm z-10",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("div",{className:"w-20 h-20 bg-white rounded-[24px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-royal-200 rotate-3 transition-transform hover:rotate-0 duration-500",children:g.jsx(GC,{size:36,className:"text-royal-600 fill-royal-600"})}),g.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-2",children:"SnapCal AI"}),g.jsx("p",{className:"text-gray-500 font-medium",children:"Track your vibe, not just calories."})]}),g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white p-8 rounded-[40px] shadow-[0_20px_40px_-12px_rgba(0,0,0,0.05)]",children:[g.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-[20px] mb-8",children:[g.jsx("button",{onClick:()=>{e(!0),s(null),d(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"bg-white text-royal-700 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Sign In"}),g.jsx("button",{onClick:()=>{e(!1),s(null),d(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"text-gray-400 hover:text-gray-600":"bg-white text-royal-700 shadow-sm"}`,children:"Sign Up"})]}),g.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a&&g.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl flex items-center gap-3 text-red-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[g.jsx(OC,{size:18}),a]}),c&&g.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-center gap-3 text-emerald-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[g.jsx(R2,{size:18}),c]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Email"}),g.jsx("input",{type:"email",required:!0,value:n,onChange:m=>r(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"hello@snapcal.ai"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Password"}),g.jsx("input",{type:"password",required:!0,value:i,onChange:m=>o(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"",minLength:6})]})]}),g.jsxs(Ut,{className:"w-full mt-4 flex justify-between items-center group py-5",isLoading:l,children:[g.jsx("span",{children:t?"Sign In":"Create Account"}),!l&&g.jsx(Gv,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),g.jsx("p",{className:"text-center text-gray-400 text-xs mt-8 font-medium",children:t?"New here? Create an account above.":"Welcome back. Sign in above."})]})]})},w1=`
-- Run this in your Supabase SQL Editor

-- 1. Create Food Entries Table
create table if not exists food_entries (
  id uuid primary key,
  user_id uuid not null references auth.users(id),
  timestamp text not null,
  date text not null,
  time text not null,
  food_item text not null,
  calories integer not null,
  protein integer default 0,
  carbs integer default 0,
  fat integer default 0,
  confidence float default 1.0,
  is_manual boolean default false,
  image_url text,
  ingredients jsonb default '[]'::jsonb,
  original_ai_response jsonb,
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 2. Create User Profiles Table
create table if not exists user_profiles (
  user_id uuid primary key references auth.users(id),
  name text,
  height float,
  weight float,
  age integer,
  gender text check (gender in ('male', 'female')),
  activity_level text check (activity_level in ('sedentary', 'light', 'moderate', 'very', 'extra')),
  goal text check (goal in ('cut', 'bulk', 'maintain')),
  equipment_access text check (equipment_access in ('gym', 'home', 'bodyweight')),
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 3. Create Settings Table
create table if not exists user_settings (
  user_id uuid primary key references auth.users(id),
  daily_goal integer default 2000,
  has_completed_onboarding boolean default false
);

-- 4. Create Summaries Table (Optional optimization)
create table if not exists daily_summaries (
  id text primary key, -- Composite key user_id + date usually
  user_id uuid not null references auth.users(id),
  date text not null,
  total_calories integer default 0,
  total_protein integer default 0,
  total_carbs integer default 0,
  total_fat integer default 0
);

-- 5. Enable Row Level Security (RLS)
alter table food_entries enable row level security;
alter table user_profiles enable row level security;
alter table user_settings enable row level security;
alter table daily_summaries enable row level security;

-- 6. Create Policies (Allow users to see/edit ONLY their own data)

-- Food Entries
create policy "Users can all own entries" on food_entries
  for all using (auth.uid() = user_id);

-- Profiles
create policy "Users can all own profile" on user_profiles
  for all using (auth.uid() = user_id);

-- Settings
create policy "Users can all own settings" on user_settings
  for all using (auth.uid() = user_id);

-- Summaries
create policy "Users can all own summaries" on daily_summaries
  for all using (auth.uid() = user_id);
`,mfe=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,o]=M.useState(""),[a,s]=M.useState(""),[l,u]=M.useState(""),[c,d]=M.useState(""),[h,m]=M.useState(""),[y,w]=M.useState(""),[b,v]=M.useState(!1),[x,_]=M.useState(!1),[T,S]=M.useState(null),[E,A]=M.useState(document.documentElement.classList.contains("dark")),[C,k]=M.useState(!1),[O,N]=M.useState(!1),[I,$]=M.useState(!1),[L,U]=M.useState("checking"),[j,G]=M.useState(!1),[P,D]=M.useState(!1);M.useEffect(()=>{te(),be?(N(WL()),B()):U("ok")},[]);const B=async()=>{const q=await JL();q.missingTables?U("missing_tables"):q.ok?U("ok"):U("error")},W=()=>{const q=!E;A(q),q?(document.documentElement.classList.add("dark"),localStorage.setItem("snapcal-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("snapcal-theme","light"))},V=q=>{if(q===ig())return;confirm(q==="local"?"Switching to Local Mode means your data will stay on this device only. You will be logged out of Cloud to create a local profile.":"Switching to Cloud Mode allows you to sync data across devices. You will be redirected to log in or sign up.")&&RL(q)},te=async()=>{const q=await e0();q&&(e(q.name),r(q.height.toString()),o(q.weight.toString()),q.age&&s(q.age.toString()),q.gender&&u(q.gender),q.activityLevel&&d(q.activityLevel),q.goal&&m(q.goal),q.equipmentAccess&&w(q.equipmentAccess))},he=()=>{const q=parseFloat(n),Ie=parseFloat(i);return!q||!Ie?null:Ie/(q/100*(q/100))},Ee=q=>q<18.5?{label:"Underweight",color:"text-blue-300"}:q<25?{label:"Healthy",color:"text-emerald-300"}:q<30?{label:"Overweight",color:"text-orange-300"}:{label:"Obese",color:"text-red-300"},Oe=q=>{const ke=(10*parseFloat(i)+6.25*parseFloat(n)-5*25+5)*1.2;return q<18.5?Math.round(ke+400):q>25?Math.round(ke-400):Math.round(ke)},wt=async()=>{if(!(!t||!n||!i)){v(!0);try{await t0({name:t,height:parseFloat(n),weight:parseFloat(i),age:a?parseInt(a):void 0,gender:l||void 0,activityLevel:c||void 0,goal:h||void 0,equipmentAccess:y||void 0}),_(!0),setTimeout(()=>_(!1),2e3);const q=he();if(q){const Ie=Oe(q);S(Ie)}}catch(q){console.error(q)}finally{v(!1)}}},ht=async()=>{T&&(await Df(T),alert(`Daily goal updated to ${T} kcal!`))},J=async()=>{if(confirm("Are you sure you want to sign out?")){k(!0);try{await DL()}catch(q){console.error(q)}finally{k(!1)}}},ae=async()=>{if(confirm("This will upload your local history to your Supabase account and clear local storage. Continue?")){$(!0);try{await KL(),N(!1),alert("Migration successful! Your local history is now in the cloud.")}catch(q){alert("Sync failed: "+q.message)}finally{$(!1)}}},ue=()=>{navigator.clipboard.writeText(w1),alert("SQL Copied to clipboard! Paste it into the Supabase SQL Editor.")},z=he(),Ce=z?Ee(z):null,pe=z?Oe(z):null,_e=ig();return g.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-10 space-y-8 animate-in fade-in duration-500",children:[g.jsxs("header",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"My Profile"}),g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Personal Details"})]}),be&&O&&g.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-100 dark:border-indigo-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/50 rounded-2xl text-indigo-600 dark:text-indigo-400",children:g.jsx(Q2,{size:24})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-extrabold text-indigo-900 dark:text-indigo-200",children:"Local Data Found"}),g.jsx("p",{className:"text-xs text-indigo-700 dark:text-indigo-300 mt-1 mb-3 leading-relaxed",children:"We found meal history on this device that isn't in the cloud yet. Sync now to secure your data."}),g.jsx(Ut,{onClick:ae,isLoading:I,className:"py-3 px-6 text-xs bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none",children:"Sync to Cloud"})]})]})}),be&&L==="missing_tables"&&g.jsx("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-100 dark:border-rose-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/50 rounded-2xl text-rose-600 dark:text-rose-400",children:g.jsx(_b,{size:24})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-sm font-extrabold text-rose-900 dark:text-rose-200",children:"Database Setup Required"}),g.jsx("p",{className:"text-xs text-rose-700 dark:text-rose-300 mt-1 mb-3 leading-relaxed",children:"Your Supabase project is connected, but the required tables don't exist yet. Saving will fail until you run the setup script."}),g.jsxs("button",{onClick:()=>G(!j),className:"flex items-center gap-2 py-2 px-4 rounded-xl text-xs font-bold bg-white dark:bg-white/10 text-rose-600 dark:text-rose-200 shadow-sm",children:[g.jsx($2,{size:14})," ",j?"Hide SQL":"View SQL Script"]}),j&&g.jsxs("div",{className:"mt-4 animate-in slide-in-from-top-2",children:[g.jsx("div",{className:"bg-gray-900 rounded-xl p-3 mb-2 overflow-x-auto border border-white/10",children:g.jsx("pre",{className:"text-[10px] text-emerald-400 font-mono leading-relaxed",children:w1})}),g.jsxs(Ut,{onClick:ue,className:"w-full py-3 text-xs bg-rose-600 hover:bg-rose-700 text-white",children:[g.jsx(D2,{size:14,className:"mr-2"})," Copy SQL to Clipboard"]}),g.jsx("p",{className:"text-[10px] text-rose-600/70 dark:text-rose-400/70 mt-2 italic text-center",children:"Paste this into the SQL Editor in your Supabase Dashboard."})]})]})]})}),g.jsx("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center text-royal-600 dark:text-royal-400",children:E?g.jsx(H2,{size:20}):g.jsx(X2,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Dark Mode"}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Optimize for low light"})]})]}),g.jsx("button",{onClick:W,className:`w-14 h-8 rounded-full transition-all duration-300 relative ${E?"bg-royal-600":"bg-gray-200 dark:bg-gray-800"}`,children:g.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-sm transition-transform duration-300 ${E?"translate-x-6":""}`})})]})}),z&&Ce&&pe&&g.jsxs("div",{className:"relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40 animate-in slide-in-from-bottom-4 duration-500",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Bv,{size:16,className:"text-royal-200"}),g.jsx("span",{className:"text-royal-200 text-xs font-bold uppercase tracking-widest",children:"Body Insight"})]}),g.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight",children:["BMI: ",z.toFixed(1)]})]}),g.jsx("div",{className:`px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/10 text-sm font-bold ${Ce.color}`,children:Ce.label})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-[24px] p-5 border border-white/5",children:[g.jsx("p",{className:"text-white/70 text-xs font-medium mb-3",children:"Based on your profile, we recommend a daily calorie limit of:"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-4xl font-extrabold tracking-tighter",children:pe}),g.jsx("span",{className:"text-lg font-bold text-white/60",children:"kcal"})]}),g.jsx("button",{onClick:ht,className:"w-10 h-10 bg-white text-royal-600 rounded-full flex items-center justify-center hover:scale-110 active:scale-95 transition-all shadow-lg",children:g.jsx(Gv,{size:20,strokeWidth:3})})]})]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:t,onChange:q=>e(q.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(ga,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:n,onChange:q=>r(q.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(UC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:i,onChange:q=>o(q.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(BC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Age"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:a,onChange:q=>s(q.target.value),placeholder:"25",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(gu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Gender"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"male",children:"Male"}),g.jsx("option",{value:"female",children:"Female"})]}),g.jsx(Z2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-white/5",children:[g.jsxs("button",{type:"button",onClick:()=>D(!P),className:"w-full flex items-center justify-between mb-3 group",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(qm,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Training Goal Setting"})]}),g.jsx(MC,{size:18,className:`text-royal-600 dark:text-royal-400 transition-transform duration-300 ${P?"rotate-180":""}`})]}),g.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-3 ml-1",children:"Optional - Fill this for personalized AI Coach recommendations"}),P&&g.jsxs("div",{className:"space-y-5 animate-in slide-in-from-top-2 duration-300",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Activity Level"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:c,onChange:q=>d(q.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"sedentary",children:"Sedentary (Little or no exercise)"}),g.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),g.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),g.jsx("option",{value:"very",children:"Very Active (6-7 days/week)"}),g.jsx("option",{value:"extra",children:"Extra Active (Intense daily)"})]}),g.jsx(ea,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Goal"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:h,onChange:q=>m(q.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"cut",children:"Cut (Lose Fat)"}),g.jsx("option",{value:"bulk",children:"Bulk (Gain Muscle)"}),g.jsx("option",{value:"maintain",children:"Maintain"})]}),g.jsx(qm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Equipment"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:y,onChange:q=>w(q.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"gym",children:"Gym Access"}),g.jsx("option",{value:"home",children:"Home Equipment"}),g.jsx("option",{value:"bodyweight",children:"Bodyweight Only"})]}),g.jsx(L2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]})]})]})]}),g.jsx(Ut,{className:"w-full py-5 text-lg shadow-lg shadow-royal-200 dark:shadow-royal-900/40",onClick:wt,isLoading:b,children:x?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(RC,{size:20})," Saved"]}):"Save Profile"})]}),va&&g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${_e==="cloud"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600":"bg-gray-100 dark:bg-white/10 text-gray-500"}`,children:_e==="cloud"?g.jsx(M2,{size:20}):g.jsx(LC,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Storage Mode"}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:_e==="cloud"?"Connected to Supabase":"Device Storage Only"})]})]}),be&&g.jsx("button",{onClick:B,className:"p-2 text-gray-400 hover:text-royal-500 transition-colors",title:"Check Connection",children:g.jsx(Hm,{size:16,className:L==="checking"?"animate-spin":""})})]}),g.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-2xl",children:[g.jsx("button",{onClick:()=>V("local"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${_e==="local"?"bg-white dark:bg-white/10 text-gray-900 dark:text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Device Only"}),g.jsx("button",{onClick:()=>V("cloud"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${_e==="cloud"?"bg-emerald-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Cloud Sync"})]})]}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{onClick:J,disabled:C,className:"w-full flex items-center justify-center gap-3 py-5 rounded-[24px] border border-red-200 dark:border-red-900/30 text-red-500 dark:text-red-400 font-bold hover:bg-red-50 dark:hover:bg-red-950/20 active:scale-95 transition-all shadow-sm",children:C?g.jsx(Hm,{size:20,className:"animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx(z2,{size:20}),g.jsx("span",{children:"Sign Out"})]})})}),g.jsx("div",{className:"text-center pt-4 pb-2",children:g.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-bold border transition-colors ${be?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-700 dark:text-emerald-400 border-emerald-100 dark:border-emerald-900/30":"bg-amber-50 dark:bg-amber-950/20 text-amber-700 dark:text-amber-400 border-amber-100 dark:border-amber-900/30"}`,children:[g.jsx(_b,{size:12}),g.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${be?"bg-emerald-500 animate-pulse":"bg-amber-500"}`}),be?"Syncing to Supabase":"Local Storage Mode"]})})]})},gfe=({user:t,onComplete:e})=>{const[n,r]=M.useState(0),[i,o]=M.useState(""),[a,s]=M.useState(""),[l,u]=M.useState(""),[c,d]=M.useState(!1),h=5,m=()=>{const E=parseFloat(a),A=parseFloat(l);return!E||!A?null:A/(E/100*(E/100))},y=E=>{const k=(10*parseFloat(l)+6.25*parseFloat(a)-5*25+5)*1.2;return E<18.5?Math.round(k+400):E>25?Math.round(k-400):Math.round(k)},w=()=>{n<h-1&&r(n+1)},b=()=>{n>0&&r(n-1)},v=async()=>{await XL(t),e()},x=async()=>{d(!0);try{if(i&&a&&l){await t0({name:i,height:parseFloat(a),weight:parseFloat(l)});const E=m();if(E){const A=y(E);await Df(A)}}await pk(t),e()}catch(E){console.error("Failed to save onboarding data:",E),alert("Failed to save your profile. Please try again.")}finally{d(!1)}},_=i&&a&&l,T=m(),S=T?y(T):null;return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface via-royal-50/30 to-royal-100/40 dark:from-surface-dark dark:via-royal-950/20 dark:to-black flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-royal-200/20 dark:bg-royal-800/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-200/20 dark:bg-purple-900/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsxs("button",{onClick:v,className:"absolute top-6 right-6 z-50 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-sm font-medium flex items-center gap-1",children:["Skip ",g.jsx(ya,{size:16})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[g.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Array.from({length:h}).map((E,A)=>g.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${A===n?"w-12 bg-royal-600 dark:bg-royal-500":A<n?"w-8 bg-royal-400 dark:bg-royal-600":"w-8 bg-gray-200 dark:bg-gray-700"}`},A))}),g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[40px] shadow-diffused-lg dark:shadow-diffused-dark p-8 md:p-12 min-h-[500px] flex flex-col",children:[n===0&&g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-royal-500 to-purple-600 rounded-[32px] flex items-center justify-center shadow-xl shadow-royal-200 dark:shadow-royal-900/40 animate-in zoom-in duration-700",children:g.jsx(li,{size:48,className:"text-white",strokeWidth:2})}),g.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-bounce"})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"Welcome to SnapCal AI"}),g.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your AI-Powered Nutrition Companion"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 max-w-md leading-relaxed",children:"Track calories effortlessly with the power of artificial intelligence. Just snap a photo of your meal and let AI do the rest."}),g.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-6 w-full max-w-md",children:[g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(Ks,{size:28,className:"text-royal-600 dark:text-royal-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Snap"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-purple-50 dark:bg-purple-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(GC,{size:28,className:"text-purple-600 dark:text-purple-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Analyze"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(ea,{size:28,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Track"})]})]})]}),n===1&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[g.jsx(Ks,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"How It Works"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Instant Nutrition Insights"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Our AI analyzes your food photos to provide accurate calorie counts and nutritional breakdowns in seconds."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(Ks,{size:24,className:"text-royal-600 dark:text-royal-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"1. Capture Your Meal"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Take a photo of any dish, snack, or beverage"})]})]}),g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(li,{size:24,className:"text-purple-600 dark:text-purple-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"2. AI Recognition"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced AI identifies ingredients and portions instantly"})]})]}),g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(ea,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"3. Get Detailed Breakdown"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Calories, protein, carbs, and fatsall automatically calculated"})]})]})]})]}),n===2&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 dark:bg-purple-950/30 rounded-full mb-4",children:[g.jsx(Sb,{size:16,className:"text-purple-600 dark:text-purple-400"}),g.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wider",children:"Personalization"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Why Your Profile Matters"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Share a few details to unlock truly personalized nutrition recommendations tailored just for you."})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(qm,{size:24,className:"text-royal-600 dark:text-royal-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Accurate Goals"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Get a science-backed daily calorie target based on your unique body metrics and health objectives."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 rounded-[28px] border border-emerald-100 dark:border-emerald-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(ea,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Smart Insights"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Receive personalized BMI analysis and recommendations to help you reach your ideal weight."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/20 dark:to-amber-950/20 rounded-[28px] border border-orange-100 dark:border-orange-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(li,{size:24,className:"text-orange-600 dark:text-orange-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Better Tracking"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"See how your intake compares to your goals and adjust your habits for optimal results."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-950/20 dark:to-rose-950/20 rounded-[28px] border border-pink-100 dark:border-pink-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(Sb,{size:24,className:"text-pink-600 dark:text-pink-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Long-term Success"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Build sustainable habits with data-driven feedback tailored to your wellness journey."})]})]})]}),n===3&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-6 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[g.jsx(ga,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Your Details"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Set Up Your Profile"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Just a few quick details to personalize your experience"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:i,onChange:E=>o(E.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(ga,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:a,onChange:E=>s(E.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(UC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:l,onChange:E=>u(E.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(BC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),T&&g.jsxs("div",{className:"p-5 bg-gradient-to-r from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[24px] border border-royal-100 dark:border-royal-900/30 animate-in slide-in-from-bottom-2",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-xs font-bold text-royal-700 dark:text-royal-300 uppercase tracking-wider",children:"Your BMI"}),g.jsx("span",{className:"text-2xl font-extrabold text-royal-900 dark:text-royal-100",children:T.toFixed(1)})]}),S&&g.jsxs("p",{className:"text-xs text-royal-600 dark:text-royal-400",children:["Recommended daily goal: ",g.jsxs("span",{className:"font-bold",children:[S," kcal"]})]})]})]})]}),n===4&&g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-500",children:[g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-2xl shadow-emerald-200 dark:shadow-emerald-900/40 animate-in zoom-in duration-700",children:g.jsx(RC,{size:56,className:"text-white",strokeWidth:3})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full animate-ping opacity-20"})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"You're All Set!"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your personalized nutrition journey begins now"}),i&&S&&g.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30 max-w-md w-full",children:[g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Welcome, ",g.jsx("span",{className:"font-bold text-royal-600 dark:text-royal-400",children:i}),"!"]}),g.jsxs("div",{className:"flex items-baseline gap-2 justify-center",children:[g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500 font-medium",children:"Daily Goal:"}),g.jsx("span",{className:"text-3xl font-extrabold text-royal-900 dark:text-royal-100",children:S}),g.jsx("span",{className:"text-sm font-bold text-gray-500 dark:text-gray-500",children:"kcal"})]})]}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-6 max-w-md leading-relaxed",children:"Start snapping photos of your meals to track your nutrition effortlessly. We'll help you stay on track!"})]}),g.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-100 dark:border-white/5",children:[g.jsxs("button",{onClick:b,disabled:n===0,className:`flex items-center gap-2 px-5 py-3 rounded-[16px] font-bold text-sm transition-all ${n===0?"opacity-0 pointer-events-none":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[g.jsx($C,{size:20}),"Back"]}),n===h-1?g.jsxs(Ut,{onClick:x,isLoading:c,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Start Tracking",g.jsx(Ac,{size:20,className:"ml-1"})]}):n===3?g.jsxs(Ut,{onClick:w,disabled:!_,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Continue",g.jsx(Ac,{size:20,className:"ml-1"})]}):g.jsxs(Ut,{onClick:w,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Next",g.jsx(Ac,{size:20,className:"ml-1"})]})]})]})]})]})};function yfe(){const[t,e]=M.useState(Ge.DASHBOARD),[n,r]=M.useState(null),[i,o]=M.useState(!0),[a,s]=M.useState(!1),[l,u]=M.useState(!0);M.useEffect(()=>{$t().then(h=>{r(h),o(!1),h&&Jb().catch(m=>console.error("Cleanup failed:",m))});const d=LL(h=>{r(h),o(!1),h&&Jb().catch(m=>console.error("Cleanup failed:",m))});return()=>d()},[]),M.useEffect(()=>{(async()=>{if(n){u(!0);const h=await YL(n);s(!h),u(!1)}else s(!1),u(!1)})()},[n]);const c=()=>{s(!1),e(Ge.DASHBOARD)};return i||l?g.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:g.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):n?a?g.jsx(gfe,{user:n,onComplete:c}):g.jsxs(e$,{currentView:t,onNavigate:e,children:[t===Ge.DASHBOARD&&g.jsx(ofe,{}),t===Ge.CAL_COACH&&g.jsx(dfe,{onNavigate:e}),t===Ge.HISTORY&&g.jsx(hfe,{}),t===Ge.PROFILE&&g.jsx(mfe,{})]}):g.jsx(pfe,{})}const YO=document.getElementById("root");if(!YO)throw new Error("Could not find root element to mount to");const vfe=Xp.createRoot(YO);vfe.render(g.jsx(R.StrictMode,{children:g.jsx(yfe,{})}));
