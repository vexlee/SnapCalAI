import{c as v,j as e,S as X,Z as ne,D as Z,q as I,C as V,n as de,r as U,t as _,u as ie}from"./index-C-GE5puo.js";import{r as d}from"./vendor-react-wGySg1uH.js";import{C as D}from"./Card-CeIScbxl.js";import{C as ee}from"./chevron-left-NAumYAN7.js";import{X as te}from"./x-BzuwmaGU.js";import{P as J,F as ce}from"./plus-DQ9s0VaG.js";import{T as K}from"./trash-2-DQhgwFBL.js";import{T as xe}from"./target-JXrSWAbo.js";import{H as me}from"./heart-D1lyo0ZM.js";import{S as ge}from"./save-DiB98Neu.js";import{C as he}from"./calendar-DJ_YdyuT.js";import{C as ye}from"./chevron-right-C_sh5X7q.js";import"./vendor-charts-Bdt_fL2G.js";import"./vendor-supabase-DfwcnzK-.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=v("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=v("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=v("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=v("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=v("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=v("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=v("PersonStanding",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=v("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=v("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=v("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),Ce=[{id:"upper-body",name:"Upper Body",icon:"Dumbbell",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-500",category:"strength",defaultExercises:[{name:"Bench Press",sets:4,reps:"8-10",rest:"90s"},{name:"Shoulder Press",sets:3,reps:"10-12",rest:"60s"},{name:"Bent Over Row",sets:4,reps:"8-10",rest:"90s"},{name:"Bicep Curls",sets:3,reps:"12-15",rest:"45s"},{name:"Tricep Dips",sets:3,reps:"10-12",rest:"45s"}]},{id:"lower-body",name:"Lower Body",icon:"Footprints",color:"text-red-600 dark:text-red-400",bgColor:"bg-red-500",category:"strength",defaultExercises:[{name:"Squats",sets:4,reps:"8-10",rest:"90s"},{name:"Romanian Deadlift",sets:3,reps:"10-12",rest:"90s"},{name:"Leg Press",sets:3,reps:"12-15",rest:"60s"},{name:"Lunges",sets:3,reps:"10 each leg",rest:"60s"},{name:"Calf Raises",sets:4,reps:"15-20",rest:"45s"}]},{id:"core",name:"Core",icon:"Target",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-500",category:"strength",defaultExercises:[{name:"Plank",sets:3,reps:"60s hold",rest:"30s"},{name:"Russian Twists",sets:3,reps:"20 total",rest:"30s"},{name:"Bicycle Crunches",sets:3,reps:"20 total",rest:"30s"},{name:"Leg Raises",sets:3,reps:"12-15",rest:"30s"},{name:"Dead Bug",sets:3,reps:"10 each side",rest:"30s"}]},{id:"full-body",name:"Full Body",icon:"Zap",color:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-500",category:"strength",defaultExercises:[{name:"Deadlift",sets:4,reps:"6-8",rest:"120s"},{name:"Pull-ups",sets:3,reps:"8-10",rest:"90s"},{name:"Push-ups",sets:3,reps:"15-20",rest:"60s"},{name:"Goblet Squat",sets:3,reps:"12-15",rest:"60s"},{name:"Plank",sets:3,reps:"45s hold",rest:"30s"}]},{id:"running",name:"Running",icon:"PersonStanding",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500",category:"cardio",defaultExercises:[{name:"Warm-up Jog",sets:1,reps:"5 min",rest:"0s"},{name:"Interval Sprints",sets:6,reps:"30s sprint",rest:"60s"},{name:"Steady Run",sets:1,reps:"15 min",rest:"0s"},{name:"Cool-down Walk",sets:1,reps:"5 min",rest:"0s"}]},{id:"hiit",name:"HIIT",icon:"Flame",color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-500",category:"cardio",defaultExercises:[{name:"Burpees",sets:4,reps:"10",rest:"30s"},{name:"Mountain Climbers",sets:4,reps:"20",rest:"30s"},{name:"Jump Squats",sets:4,reps:"15",rest:"30s"},{name:"High Knees",sets:4,reps:"30s",rest:"30s"},{name:"Box Jumps",sets:3,reps:"10",rest:"45s"}]},{id:"cycling",name:"Cycling",icon:"Bike",color:"text-cyan-600 dark:text-cyan-400",bgColor:"bg-cyan-500",category:"cardio",defaultExercises:[{name:"Warm-up Ride",sets:1,reps:"5 min",rest:"0s"},{name:"Hill Climbs",sets:4,reps:"3 min",rest:"2 min"},{name:"Flat Sprints",sets:6,reps:"1 min",rest:"1 min"},{name:"Endurance Pace",sets:1,reps:"20 min",rest:"0s"},{name:"Cool-down",sets:1,reps:"5 min",rest:"0s"}]},{id:"walking",name:"Walking",icon:"Footprints",color:"text-teal-600 dark:text-teal-400",bgColor:"bg-teal-500",category:"cardio",defaultExercises:[{name:"Brisk Walk",sets:1,reps:"30 min",rest:"0s"},{name:"Incline Walk",sets:3,reps:"5 min",rest:"2 min"},{name:"Power Walk",sets:2,reps:"10 min",rest:"5 min"}]},{id:"yoga",name:"Yoga",icon:"Leaf",color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-500",category:"flexibility",defaultExercises:[{name:"Sun Salutation",sets:3,reps:"5 breaths each",rest:"0s"},{name:"Warrior Poses",sets:2,reps:"5 breaths each",rest:"0s"},{name:"Downward Dog",sets:3,reps:"30s hold",rest:"0s"},{name:"Child's Pose",sets:2,reps:"1 min",rest:"0s"},{name:"Savasana",sets:1,reps:"5 min",rest:"0s"}]},{id:"stretching",name:"Stretching",icon:"Sparkles",color:"text-sky-600 dark:text-sky-400",bgColor:"bg-sky-500",category:"flexibility",defaultExercises:[{name:"Neck Stretches",sets:2,reps:"30s each side",rest:"0s"},{name:"Shoulder Stretch",sets:2,reps:"30s each",rest:"0s"},{name:"Hamstring Stretch",sets:2,reps:"45s each leg",rest:"0s"},{name:"Hip Flexor Stretch",sets:2,reps:"45s each",rest:"0s"},{name:"Quad Stretch",sets:2,reps:"30s each leg",rest:"0s"}]},{id:"pilates",name:"Pilates",icon:"Waves",color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-500",category:"flexibility",defaultExercises:[{name:"The Hundred",sets:1,reps:"100 pumps",rest:"30s"},{name:"Roll Up",sets:8,reps:"1 rep",rest:"0s"},{name:"Single Leg Circles",sets:2,reps:"10 each leg",rest:"0s"},{name:"Swimming",sets:3,reps:"30s",rest:"15s"},{name:"Spine Stretch",sets:3,reps:"5 reps",rest:"0s"}]},{id:"swimming",name:"Swimming",icon:"Waves",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500",category:"sports",defaultExercises:[{name:"Freestyle",sets:4,reps:"100m",rest:"30s"},{name:"Backstroke",sets:3,reps:"50m",rest:"30s"},{name:"Breaststroke",sets:3,reps:"50m",rest:"30s"},{name:"Kickboard Drills",sets:4,reps:"50m",rest:"20s"},{name:"Cool-down Swim",sets:1,reps:"200m easy",rest:"0s"}]},{id:"martial-arts",name:"Martial Arts",icon:"Sword",color:"text-slate-600 dark:text-slate-400",bgColor:"bg-slate-500",category:"sports",defaultExercises:[{name:"Shadow Boxing",sets:3,reps:"3 min",rest:"1 min"},{name:"Bag Work",sets:4,reps:"3 min",rest:"1 min"},{name:"Kicks Practice",sets:3,reps:"20 each leg",rest:"30s"},{name:"Footwork Drills",sets:3,reps:"2 min",rest:"30s"},{name:"Cool-down Stretch",sets:1,reps:"5 min",rest:"0s"}]},{id:"dance",name:"Dance",icon:"Music",color:"text-pink-600 dark:text-pink-400",bgColor:"bg-pink-500",category:"sports",defaultExercises:[{name:"Warm-up Dance",sets:1,reps:"5 min",rest:"0s"},{name:"Choreography Practice",sets:3,reps:"10 min",rest:"2 min"},{name:"Freestyle",sets:2,reps:"5 min",rest:"1 min"},{name:"Cool-down Stretch",sets:1,reps:"5 min",rest:"0s"}]}],Q=[{id:"strength",name:"Strength",icon:"Dumbbell"},{id:"cardio",name:"Cardio",icon:"Heart"},{id:"flexibility",name:"Flexibility",icon:"Leaf"},{id:"sports",name:"Sports",icon:"Trophy"}],Me={Dumbbell:Z,Heart:me,Leaf:ke,Trophy:Ne,Footprints:be,Target:xe,Zap:ne,Flame:ce,Bike:pe,PersonStanding:we,Sparkles:X,Waves:Se,Music:fe,Sword:ve},De=({isOpen:E,onClose:x,defaultDate:p,onSave:l})=>{var H;const[j,h]=d.useState("select"),[i,N]=d.useState(null),[S,P]=d.useState(p.toISOString().split("T")[0]),[u,b]=d.useState([]),[k,W]=d.useState(!1),[C,y]=d.useState("strength");if(!E)return null;const $=s=>{N(s),b([...s.defaultExercises]),h("customize")},L=()=>{h("select"),N(null),b([])},T=()=>{b([...u,{name:"",sets:3,reps:"10",rest:"60s"}])},Y=s=>{b(u.filter((m,g)=>g!==s))},R=(s,m,g)=>{const w=[...u];w[s]={...w[s],[m]:g},b(w)},O=async()=>{if(!i)return;const s=u.filter(m=>m.name.trim());if(s.length===0){alert("Please add at least one exercise");return}W(!0);try{const m=s.map((g,w)=>({...g,id:`ex-${Date.now()}-${w}`,completed:!1}));await I(S,i.name,m,void 0,i.id),h("select"),N(null),b([]),P(p.toISOString().split("T")[0]),l==null||l(),x()}catch(m){console.error("Failed to save workout:",m),alert("Failed to save workout plan")}finally{W(!1)}},M=()=>{h("select"),N(null),b([]),x()},F=Ce.filter(s=>s.category===C),A=(s,m=24,g="")=>{const w=Me[s];return w?e.jsx(w,{size:m,className:g}):null};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300 px-4",children:e.jsxs(D,{className:"w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[j==="customize"&&e.jsx("button",{onClick:L,className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-full transition-colors",children:e.jsx(ee,{size:20,className:"text-gray-500 dark:text-gray-400"})}),e.jsx("h2",{className:"text-xl font-extrabold text-gray-900 dark:text-gray-50",children:j==="select"?"Choose Workout":i==null?void 0:i.name})]}),e.jsx("button",{onClick:M,className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-full transition-colors",children:e.jsx(te,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),j==="select"?e.jsxs("div",{className:"flex-1 overflow-y-auto p-5",children:[e.jsx("div",{className:"flex gap-2 mb-5 overflow-x-auto no-scrollbar pb-1",children:Q.map(s=>e.jsxs("button",{onClick:()=>y(s.id),className:`
                                        flex items-center gap-2 px-4 py-2.5 rounded-full font-bold text-sm whitespace-nowrap transition-all
                                        ${C===s.id?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}
                                    `,children:[A(s.icon,16),e.jsx("span",{children:s.name})]},s.id))}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:F.map(s=>e.jsxs("button",{onClick:()=>$(s),className:"group relative p-5 bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-2xl transition-all hover:scale-[1.02] active:scale-[0.98] text-left border-2 border-transparent hover:border-gray-200 dark:hover:border-white/10",children:[e.jsx("div",{className:`w-12 h-12 ${s.bgColor} rounded-xl flex items-center justify-center mb-3 shadow-lg group-hover:scale-110 transition-transform`,children:A(s.icon,24,"text-white")}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.defaultExercises.length," exercises"]})]},s.id))})]}):e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[i&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-white/5 rounded-xl",children:[e.jsx("div",{className:`w-10 h-10 ${i.bgColor} rounded-lg flex items-center justify-center`,children:A(i.icon,20,"text-white")}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold uppercase tracking-wide",children:(H=Q.find(s=>s.id===i.category))==null?void 0:H.name}),e.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-50",children:i.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:S,onChange:s=>P(s.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-white/5 border-2 border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-gray-50 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400 transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Exercises"}),e.jsxs("button",{onClick:T,className:"flex items-center gap-1 px-3 py-1.5 bg-royal-600 hover:bg-royal-700 text-white text-sm font-semibold rounded-lg transition-colors",children:[e.jsx(J,{size:16}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"space-y-3",children:u.map((s,m)=>e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-white/5 rounded-xl border-2 border-gray-100 dark:border-white/5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("input",{type:"text",value:s.name,onChange:g=>R(m,"name",g.target.value),placeholder:"Exercise name",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Sets"}),e.jsx("input",{type:"number",value:s.sets,onChange:g=>R(m,"sets",parseInt(g.target.value)||0),min:"1",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Reps"}),e.jsx("input",{type:"text",value:s.reps,onChange:g=>R(m,"reps",g.target.value),placeholder:"8-10",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Rest"}),e.jsx("input",{type:"text",value:s.rest,onChange:g=>R(m,"rest",g.target.value),placeholder:"60s",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]})]})]}),u.length>1&&e.jsx("button",{onClick:()=>Y(m),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg transition-colors",children:e.jsx(K,{size:18})})]})},m))})]})]}),j==="customize"&&e.jsxs("div",{className:"flex items-center justify-end gap-3 p-5 border-t border-gray-100 dark:border-white/10",children:[e.jsx("button",{onClick:M,disabled:k,className:"px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 rounded-xl font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:O,disabled:k,className:"px-6 py-3 bg-royal-600 hover:bg-royal-700 text-white rounded-xl font-semibold transition-colors disabled:opacity-50 shadow-lg shadow-royal-200 dark:shadow-royal-900/40",children:k?"Saving...":"Save Workout"})]})]})})},Ee=({isOpen:E,onClose:x,exercise:p,onSave:l})=>{const[j,h]=d.useState(""),[i,N]=d.useState(3),[S,P]=d.useState("10"),[u,b]=d.useState("60s"),[k,W]=d.useState(!1);if(d.useEffect(()=>{p&&(h(p.name),N(p.sets),P(p.reps),b(p.rest))},[p]),!E||!p)return null;const C=async()=>{if(!j.trim()){alert("Please enter an exercise name");return}W(!0);const y={...p,name:j.trim(),sets:i,reps:S.trim(),rest:u.trim()};l(y),W(!1)};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300 px-6",children:e.jsxs(D,{className:"w-full max-w-md animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-white/10",children:[e.jsx("h2",{className:"text-xl font-extrabold text-gray-900 dark:text-gray-50",children:"Edit Exercise"}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-full transition-colors",children:e.jsx(te,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Exercise Name"}),e.jsx("input",{type:"text",value:j,onChange:y=>h(y.target.value),placeholder:"e.g., Bench Press",className:"w-full px-4 py-3 bg-gray-50 dark:bg-white/5 border-2 border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Sets"}),e.jsx("input",{type:"number",value:i,onChange:y=>N(parseInt(y.target.value)||0),min:"1",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Reps"}),e.jsx("input",{type:"text",value:S,onChange:y=>P(y.target.value),placeholder:"8-10",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Rest"}),e.jsx("input",{type:"text",value:u,onChange:y=>b(y.target.value),placeholder:"60s",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100 dark:border-white/10",children:[e.jsx("button",{onClick:x,disabled:k,className:"px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 rounded-xl font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:C,disabled:k,className:"flex items-center gap-2 px-6 py-3 bg-royal-600 hover:bg-royal-700 text-white rounded-xl font-semibold transition-colors disabled:opacity-50 shadow-lg shadow-royal-200 dark:shadow-royal-900/40",children:[e.jsx(ge,{size:18}),e.jsx("span",{children:k?"Saving...":"Save Changes"})]})]})]})})},qe=({onNavigate:E})=>{const[x,p]=d.useState(new Date),[l,j]=d.useState(new Date),[h,i]=d.useState([]),[N,S]=d.useState(new Set),[P,u]=d.useState(!1),[b,k]=d.useState(!1),[W,C]=d.useState(null),[y,$]=d.useState(null),[L,T]=d.useState(!1),Y=async()=>{const t=x.getFullYear(),r=x.getMonth()+1,o=await U(t,r);S(new Set(o));const c=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`,a=await _(c);i(a)};d.useEffect(()=>{(async()=>{const r=x.getFullYear(),o=x.getMonth()+1,c=await U(r,o);S(new Set(c))})()},[x]),d.useEffect(()=>{(async()=>{u(!0);const r=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`,o=await _(r);i(o),u(!1)})()},[l]);const O=(()=>{const t=x.getFullYear(),r=x.getMonth(),o=new Date(t,r,1),c=new Date(t,r+1,0),a=o.getDay(),n=c.getDate(),f=[];for(let z=0;z<a;z++)f.push(null);for(let z=1;z<=n;z++)f.push(new Date(t,r,z));return f})(),M=new Date;M.setHours(0,0,0,0);const F=(t,r)=>t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate(),A=()=>{p(new Date(x.getFullYear(),x.getMonth()-1))},H=()=>{p(new Date(x.getFullYear(),x.getMonth()+1))},s=t=>{j(t)},m=async(t,r)=>{const o=h.find(n=>n.id===t);if(!o)return;const c=o.exercises.map(n=>n.id===r?{...n,completed:!n.completed}:n);i(n=>n.map(f=>f.id===t?{...f,exercises:c}:f));const a=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`;await I(a,o.title,c,t)},g=(t,r)=>{$(t),C(r),T(!0)},w=async(t,r)=>{const o=h.find(c=>c.id===t);if(o&&confirm("Are you sure you want to delete this exercise?")){const c=o.exercises.filter(n=>n.id!==r);i(n=>n.map(f=>f.id===t?{...f,exercises:c}:f));const a=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`;await I(a,o.title,c,t)}},se=async t=>{confirm("Are you sure you want to delete this entire workout plan?")&&(await ie(t),await Y())},re=async t=>{if(!y)return;const r=h.find(a=>a.id===y);if(!r)return;const o=r.exercises.map(a=>a.id===t.id?t:a);i(a=>a.map(n=>n.id===y?{...n,exercises:o}:n));const c=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`;await I(c,r.title,o,y),T(!1),C(null),$(null)},G=h.flatMap(t=>t.exercises),q=G.filter(t=>t.completed).length,B=G.length,ae=B>0?q/B*100:0,oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],le=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:[e.jsxs("header",{className:"flex justify-between items-end mb-6 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Your Training Schedule"}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:"Workout Plan"})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-royal-500 to-royal-700 rounded-full flex items-center justify-center text-white shadow-sm",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 no-scrollbar",children:[e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{size:16,className:"text-royal-600 dark:text-royal-400"}),e.jsxs("h2",{className:"text-sm font-bold text-gray-900 dark:text-gray-50 uppercase tracking-wide",children:[le[x.getMonth()]," ",x.getFullYear()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:A,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ee,{size:18,className:"text-gray-600 dark:text-gray-400"})}),e.jsx("button",{onClick:H,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ye,{size:18,className:"text-gray-600 dark:text-gray-400"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:oe.map((t,r)=>e.jsx("div",{className:"text-center text-xs font-bold text-gray-400 dark:text-gray-500 py-1",children:t},r))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:O.map((t,r)=>{if(!t)return e.jsx("div",{className:"aspect-square"},`empty-${r}`);const o=F(t,l),c=F(t,M),a=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,n=N.has(a);return e.jsxs("button",{onClick:()=>s(t),className:`
                                        aspect-square flex flex-col items-center justify-center p-1 rounded-xl transition-all relative text-sm
                                        ${o?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40 scale-105 font-bold":"bg-gray-50 dark:bg-white/5 text-gray-700 dark:text-gray-300 hover:bg-royal-50 dark:hover:bg-royal-900/20 hover:scale-105"}
                                    `,children:[e.jsx("span",{children:t.getDate()}),c&&!o&&e.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-royal-600 dark:bg-royal-400 rounded-full"}),n&&e.jsx("div",{className:`absolute top-1 right-1 w-1.5 h-1.5 rounded-full ${o?"bg-white":"bg-royal-600 dark:bg-royal-400"}`})]},r)})})]}),P?e.jsx(D,{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-royal-600 border-t-transparent rounded-full animate-spin"})})}):h.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-extrabold text-gray-900 dark:text-gray-50",children:F(l,M)?"Today's Workouts":"Workout Plans"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold mt-0.5",children:[h.length," ",h.length===1?"workout":"workouts"," scheduled"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-extrabold text-royal-600 dark:text-royal-400",children:[q,"/",B]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold",children:"Overall Progress"})]})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-white/5 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-royal-500 to-royal-600 transition-all duration-500 ease-out rounded-full",style:{width:`${ae}%`}})}),h.map(t=>{const r=t.exercises.filter(a=>a.completed).length,o=t.exercises.length,c=o>0?r/o*100:0;return e.jsxs(D,{className:"p-6 border-2 border-gray-200 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-50 mb-1",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400",children:[r,"/",o," completed"]}),e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.round(c),"%"]})]})]}),e.jsx("button",{onClick:()=>se(t.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete entire workout",children:e.jsx(K,{size:16,className:"text-red-600 dark:text-red-400"})})]}),e.jsx("div",{className:"mb-4 bg-gray-100 dark:bg-white/5 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-royal-500 to-royal-600 transition-all duration-500 ease-out rounded-full",style:{width:`${c}%`}})}),e.jsx("div",{className:"space-y-3",children:t.exercises.map(a=>e.jsx("button",{onClick:()=>m(t.id,a.id),className:`
                                                    w-full text-left transition-all active:scale-[0.98]
                                                    ${a.completed?"opacity-60":""}
                                                `,children:e.jsx(D,{className:`p-4 ${a.completed?"bg-royal-50/50 dark:bg-royal-900/10":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.completed?e.jsx(V,{size:20,className:"text-royal-600 dark:text-royal-400",strokeWidth:2.5}):e.jsx(ue,{size:20,className:"text-gray-300 dark:text-gray-600",strokeWidth:2})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`
                                                                font-bold text-sm mb-1.5
                                                                ${a.completed?"text-gray-500 dark:text-gray-400 line-through":"text-gray-900 dark:text-gray-50"}
                                                            `,children:a.name}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"Sets:"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:a.sets})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"Reps:"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:a.reps})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"Rest:"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:a.rest})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2",children:[e.jsx("button",{onClick:n=>{n.stopPropagation(),g(t.id,a)},className:"p-1.5 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit exercise",children:e.jsx(je,{size:14,className:"text-blue-600 dark:text-blue-400"})}),e.jsx("button",{onClick:n=>{n.stopPropagation(),w(t.id,a.id)},className:"p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete exercise",children:e.jsx(K,{size:14,className:"text-red-600 dark:text-red-400"})})]})]})})},a.id))}),r===o&&o>0&&e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-br from-royal-50 to-royal-100 dark:from-royal-950/30 dark:to-royal-900/20 border-2 border-royal-200 dark:border-royal-800/50 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{size:20,className:"text-royal-600 dark:text-royal-400",strokeWidth:2.5}),e.jsx("p",{className:"text-sm font-bold text-royal-900 dark:text-royal-100",children:"Workout Complete! ðŸŽ‰"})]})})]},t.id)}),e.jsxs("button",{onClick:()=>k(!0),className:"w-full flex items-center justify-center gap-2 py-4 bg-white dark:bg-white/5 hover:bg-royal-50 dark:hover:bg-royal-900/20 text-gray-900 dark:text-gray-50 rounded-[20px] font-bold transition-all border-2 border-dashed border-gray-300 dark:border-white/20 hover:border-royal-400 dark:hover:border-royal-600 active:scale-95",children:[e.jsx(J,{size:20}),e.jsx("span",{children:"Add Another Workout"})]}),q===B&&B>0&&e.jsx(D,{className:"p-6 bg-gradient-to-br from-royal-50 to-royal-100 dark:from-royal-950/30 dark:to-royal-900/20 border-2 border-royal-200 dark:border-royal-800/50 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-royal-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(V,{size:32,className:"text-white",strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-extrabold text-royal-900 dark:text-royal-100 mb-2",children:"All Workouts Complete! ðŸŽ‰"}),e.jsxs("p",{className:"text-sm text-royal-700 dark:text-royal-300 font-semibold",children:["Amazing work! You've completed all exercises for ",F(l,M)?"today":"this day","."]})]})})]}):e.jsx(D,{className:"p-8",children:e.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-white/10 dark:to-white/5 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Z,{size:32,className:"text-gray-400 dark:text-gray-500"})}),e.jsx("h3",{className:"text-xl font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"No Workout Plan Yet"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:F(l,M)?"Ready to crush today's workout? Get a personalized plan from your AI coach or create your own!":"No workout plan for this date. Add one to stay on track!"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>E==null?void 0:E(de.CAL_COACH),className:"w-full flex items-center justify-center gap-2 py-4 bg-royal-600 hover:bg-royal-700 text-white rounded-[20px] font-bold transition-all shadow-lg shadow-royal-200 dark:shadow-royal-900/40 active:scale-95",children:[e.jsx(X,{size:20}),e.jsx("span",{children:"Get AI Plan from Coach"})]}),e.jsxs("button",{onClick:()=>k(!0),className:"w-full flex items-center justify-center gap-2 py-4 bg-white dark:bg-white/5 hover:bg-gray-50 dark:hover:bg-white/10 text-gray-900 dark:text-gray-50 rounded-[20px] font-bold transition-all border-2 border-gray-200 dark:border-white/10 active:scale-95",children:[e.jsx(J,{size:20}),e.jsx("span",{children:"Create Custom Plan"})]})]})]})})]}),e.jsx(Ee,{isOpen:L,onClose:()=>{T(!1),C(null),$(null)},exercise:W,onSave:re}),e.jsx(De,{isOpen:b,onClose:()=>k(!1),defaultDate:l,onSave:Y})]})};export{qe as WorkoutPlan};
