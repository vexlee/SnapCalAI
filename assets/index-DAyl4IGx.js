(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m1={exports:{}},df={},g1={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),XO=Symbol.for("react.portal"),QO=Symbol.for("react.fragment"),ZO=Symbol.for("react.strict_mode"),eR=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),nR=Symbol.for("react.context"),rR=Symbol.for("react.forward_ref"),iR=Symbol.for("react.suspense"),oR=Symbol.for("react.memo"),aR=Symbol.for("react.lazy"),sw=Symbol.iterator;function sR(t){return t===null||typeof t!="object"?null:(t=sw&&t[sw]||t["@@iterator"],typeof t=="function"?t:null)}var y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v1=Object.assign,w1={};function Va(t,e,n){this.props=t,this.context=e,this.refs=w1,this.updater=n||y1}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b1(){}b1.prototype=Va.prototype;function By(t,e,n){this.props=t,this.context=e,this.refs=w1,this.updater=n||y1}var Gy=By.prototype=new b1;Gy.constructor=By;v1(Gy,Va.prototype);Gy.isPureReactComponent=!0;var lw=Array.isArray,x1=Object.prototype.hasOwnProperty,Vy={current:null},_1={key:!0,ref:!0,__self:!0,__source:!0};function S1(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)x1.call(e,r)&&!_1.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:uu,type:t,key:o,ref:a,props:i,_owner:Vy.current}}function lR(t,e){return{$$typeof:uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zy(t){return typeof t=="object"&&t!==null&&t.$$typeof===uu}function uR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uw=/\/+/g;function Mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uR(""+t.key):e.toString(36)}function dc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case uu:case XO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Mh(a,0):r,lw(i)?(n="",t!=null&&(n=t.replace(uw,"$&/")+"/"),dc(i,e,n,"",function(u){return u})):i!=null&&(zy(i)&&(i=lR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(uw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",lw(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Mh(o,s);a+=dc(o,e,n,l,i)}else if(l=sR(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Mh(o,s++),a+=dc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Eu(t,e,n){if(t==null)return t;var r=[],i=0;return dc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function cR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},fc={transition:null},dR={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:fc,ReactCurrentOwner:Vy};function E1(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!zy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Va;me.Fragment=QO;me.Profiler=eR;me.PureComponent=By;me.StrictMode=ZO;me.Suspense=iR;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;me.act=E1;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v1({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Vy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)x1.call(e,l)&&!_1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:uu,type:t.type,key:i,ref:o,props:r,_owner:a}};me.createContext=function(t){return t={$$typeof:nR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tR,_context:t},t.Consumer=t};me.createElement=S1;me.createFactory=function(t){var e=S1.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:rR,render:t}};me.isValidElement=zy;me.lazy=function(t){return{$$typeof:aR,_payload:{_status:-1,_result:t},_init:cR}};me.memo=function(t,e){return{$$typeof:oR,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=fc.transition;fc.transition={};try{t()}finally{fc.transition=e}};me.unstable_act=E1;me.useCallback=function(t,e){return Gt.current.useCallback(t,e)};me.useContext=function(t){return Gt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Gt.current.useEffect(t,e)};me.useId=function(){return Gt.current.useId()};me.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Gt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};me.useRef=function(t){return Gt.current.useRef(t)};me.useState=function(t){return Gt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Gt.current.useTransition()};me.version="18.3.1";g1.exports=me;var R=g1.exports;const O=De(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR=R,hR=Symbol.for("react.element"),pR=Symbol.for("react.fragment"),mR=Object.prototype.hasOwnProperty,gR=fR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yR={key:!0,ref:!0,__self:!0,__source:!0};function T1(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)mR.call(e,r)&&!yR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hR,type:t,key:o,ref:a,props:i,_owner:gR.current}}df.Fragment=pR;df.jsx=T1;df.jsxs=T1;m1.exports=df;var g=m1.exports,qp={},A1={exports:{}},cn={},C1={exports:{}},k1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var G=$.length;$.push(U);e:for(;0<G;){var K=G-1>>>1,H=$[K];if(0<i(H,U))$[K]=U,$[G]=H,G=K;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],G=$.pop();if(G!==U){$[0]=G;e:for(var K=0,H=$.length,te=H>>>1;K<te;){var he=2*(K+1)-1,Se=$[he],Oe=he+1,wt=$[Oe];if(0>i(Se,G))Oe<H&&0>i(wt,Se)?($[K]=wt,$[Oe]=G,K=Oe):($[K]=Se,$[he]=G,K=he);else if(Oe<H&&0>i(wt,G))$[K]=wt,$[Oe]=G,K=Oe;else break e}}return U}function i($,U){var G=$.sortIndex-U.sortIndex;return G!==0?G:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function T($){if(w=!1,_($),!y)if(n(l)!==null)y=!0,L(S);else{var U=n(u);U!==null&&B(T,U.startTime-$)}}function S($,U){y=!1,w&&(w=!1,v(k),k=-1),m=!0;var G=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!N());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var H=K(d.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var he=n(u);he!==null&&B(T,he.startTime-U),te=!1}return te}finally{d=null,h=G,m=!1}}var E=!1,A=null,k=-1,C=5,P=-1;function N(){return!(t.unstable_now()-P<C)}function I(){if(A!==null){var $=t.unstable_now();P=$;var U=!0;try{U=A(!0,$)}finally{U?M():(E=!1,A=null)}}else E=!1}var M;if(typeof x=="function")M=function(){x(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,j=D.port2;D.port1.onmessage=I,M=function(){j.postMessage(null)}}else M=function(){b(I,0)};function L($){A=$,E||(E=!0,M())}function B($,U){k=b(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,L(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var G=h;h=U;try{return $()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=h;h=$;try{return U()}finally{h=G}},t.unstable_scheduleCallback=function($,U,G){var K=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,$={id:c++,callback:U,priorityLevel:$,startTime:G,expirationTime:H,sortIndex:-1},G>K?($.sortIndex=G,e(u,$),n(l)===null&&$===n(u)&&(w?(v(k),k=-1):w=!0,B(T,G-K))):($.sortIndex=H,e(l,$),y||m||(y=!0,L(S))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var U=h;return function(){var G=h;h=U;try{return $.apply(this,arguments)}finally{h=G}}}})(k1);C1.exports=k1;var vR=C1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR=R,un=vR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P1=new Set,nl={};function no(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(nl[t]=e,t=0;t<e.length;t++)P1.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=Object.prototype.hasOwnProperty,bR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cw={},dw={};function xR(t){return Wp.call(dw,t)?!0:Wp.call(cw,t)?!1:bR.test(t)?dw[t]=!0:(cw[t]=!0,!1)}function _R(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SR(t,e,n,r){if(e===null||typeof e>"u"||_R(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hy=/[\-:]([a-z])/g;function qy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hy,qy);Ct[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hy,qy);Ct[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hy,qy);Ct[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wy(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SR(e,n,i,r)&&(n=null),r||i===null?xR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=wR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),I1=Symbol.for("react.provider"),N1=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),Yp=Symbol.for("react.suspense_list"),Yy=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),O1=Symbol.for("react.offscreen"),fw=Symbol.iterator;function cs(t){return t===null||typeof t!="object"?null:(t=fw&&t[fw]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,$h;function Is(t){if($h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$h=e&&e[1]||""}return`
`+$h+t}var Dh=!1;function Lh(t,e){if(!t||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Is(t):""}function ER(t){switch(t.tag){case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return t=Lh(t.type,!1),t;case 11:return t=Lh(t.type.render,!1),t;case 1:return t=Lh(t.type,!0),t;default:return""}}function Xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case ko:return"Portal";case Kp:return"Profiler";case Ky:return"StrictMode";case Jp:return"Suspense";case Yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N1:return(t.displayName||"Context")+".Consumer";case I1:return(t._context.displayName||"Context")+".Provider";case Jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yy:return e=t.displayName||null,e!==null?e:Xp(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return Xp(t(e))}catch{}}return null}function TR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xp(e);case 8:return e===Ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AR(t){var e=R1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=AR(t))}function M1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qp(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $1(t,e){e=e.checked,e!=null&&Wy(t,"checked",e,!1)}function Zp(t,e){$1(t,e);var n=si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?em(t,e.type,n):e.hasOwnProperty("defaultValue")&&em(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function em(t,e,n){(e!=="number"||Ac(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ns=Array.isArray;function qo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ns(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:si(n)}}function D1(t,e){var n=si(e.value),r=si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cu,j1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CR=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(t){CR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ls[e]=Ls[t]})});function U1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ls.hasOwnProperty(t)&&Ls[t]?(""+e).trim():e+"px"}function F1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=U1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kR=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(t,e){if(e){if(kR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function im(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=null;function Xy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var am=null,Wo=null,Ko=null;function yw(t){if(t=fu(t)){if(typeof am!="function")throw Error(z(280));var e=t.stateNode;e&&(e=gf(e),am(t.stateNode,t.type,e))}}function B1(t){Wo?Ko?Ko.push(t):Ko=[t]:Wo=t}function G1(){if(Wo){var t=Wo,e=Ko;if(Ko=Wo=null,yw(t),e)for(t=0;t<e.length;t++)yw(e[t])}}function V1(t,e){return t(e)}function z1(){}var jh=!1;function H1(t,e,n){if(jh)return t(e,n);jh=!0;try{return V1(t,e,n)}finally{jh=!1,(Wo!==null||Ko!==null)&&(z1(),G1())}}function il(t,e){var n=t.stateNode;if(n===null)return null;var r=gf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var sm=!1;if(xr)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){sm=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{sm=!1}function PR(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var js=!1,Cc=null,kc=!1,lm=null,IR={onError:function(t){js=!0,Cc=t}};function NR(t,e,n,r,i,o,a,s,l){js=!1,Cc=null,PR.apply(IR,arguments)}function OR(t,e,n,r,i,o,a,s,l){if(NR.apply(this,arguments),js){if(js){var u=Cc;js=!1,Cc=null}else throw Error(z(198));kc||(kc=!0,lm=u)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vw(t){if(ro(t)!==t)throw Error(z(188))}function RR(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vw(i),t;if(o===r)return vw(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function W1(t){return t=RR(t),t!==null?K1(t):null}function K1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K1(t);if(e!==null)return e;t=t.sibling}return null}var J1=un.unstable_scheduleCallback,ww=un.unstable_cancelCallback,MR=un.unstable_shouldYield,$R=un.unstable_requestPaint,Xe=un.unstable_now,DR=un.unstable_getCurrentPriorityLevel,Qy=un.unstable_ImmediatePriority,Y1=un.unstable_UserBlockingPriority,Pc=un.unstable_NormalPriority,LR=un.unstable_LowPriority,X1=un.unstable_IdlePriority,ff=null,rr=null;function jR(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(ff,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:BR,UR=Math.log,FR=Math.LN2;function BR(t){return t>>>=0,t===0?32:31-(UR(t)/FR|0)|0}var ku=64,Pu=4194304;function Os(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ic(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Os(s):(o&=a,o!==0&&(r=Os(o)))}else a=n&~i,a!==0?r=Os(a):o!==0&&(r=Os(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function GR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Vn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=GR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Q1(){var t=ku;return ku<<=1,!(ku&4194240)&&(ku=64),t}function Uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function zR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Zy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ee=0;function Z1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eA,ev,tA,nA,rA,cm=!1,Iu=[],Xr=null,Qr=null,Zr=null,ol=new Map,al=new Map,Vr=[],HR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bw(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function fs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fu(e),e!==null&&ev(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qR(t,e,n,r,i){switch(e){case"focusin":return Xr=fs(Xr,t,e,n,r,i),!0;case"dragenter":return Qr=fs(Qr,t,e,n,r,i),!0;case"mouseover":return Zr=fs(Zr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ol.set(o,fs(ol.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,al.set(o,fs(al.get(o)||null,t,e,n,r,i)),!0}return!1}function iA(t){var e=Ii(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=q1(n),e!==null){t.blockedOn=e,rA(t.priority,function(){tA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);om=r,n.target.dispatchEvent(r),om=null}else return e=fu(n),e!==null&&ev(e),t.blockedOn=n,!1;e.shift()}return!0}function xw(t,e,n){hc(t)&&n.delete(e)}function WR(){cm=!1,Xr!==null&&hc(Xr)&&(Xr=null),Qr!==null&&hc(Qr)&&(Qr=null),Zr!==null&&hc(Zr)&&(Zr=null),ol.forEach(xw),al.forEach(xw)}function hs(t,e){t.blockedOn===e&&(t.blockedOn=null,cm||(cm=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,WR)))}function sl(t){function e(i){return hs(i,t)}if(0<Iu.length){hs(Iu[0],t);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&hs(Xr,t),Qr!==null&&hs(Qr,t),Zr!==null&&hs(Zr,t),ol.forEach(e),al.forEach(e),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)iA(n),n.blockedOn===null&&Vr.shift()}var Jo=Pr.ReactCurrentBatchConfig,Nc=!0;function KR(t,e,n,r){var i=Ee,o=Jo.transition;Jo.transition=null;try{Ee=1,tv(t,e,n,r)}finally{Ee=i,Jo.transition=o}}function JR(t,e,n,r){var i=Ee,o=Jo.transition;Jo.transition=null;try{Ee=4,tv(t,e,n,r)}finally{Ee=i,Jo.transition=o}}function tv(t,e,n,r){if(Nc){var i=dm(t,e,n,r);if(i===null)Jh(t,e,r,Oc,n),bw(t,r);else if(qR(i,t,e,n,r))r.stopPropagation();else if(bw(t,r),e&4&&-1<HR.indexOf(t)){for(;i!==null;){var o=fu(i);if(o!==null&&eA(o),o=dm(t,e,n,r),o===null&&Jh(t,e,r,Oc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jh(t,e,r,null,n)}}var Oc=null;function dm(t,e,n,r){if(Oc=null,t=Xy(r),t=Ii(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oc=t,null}function oA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DR()){case Qy:return 1;case Y1:return 4;case Pc:case LR:return 16;case X1:return 536870912;default:return 16}default:return 16}}var qr=null,nv=null,pc=null;function aA(){if(pc)return pc;var t,e=nv,n=e.length,r,i="value"in qr?qr.value:qr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return pc=i.slice(t,1<r?1-r:void 0)}function mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function _w(){return!1}function dn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nu:_w,this.isPropagationStopped=_w,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rv=dn(za),du=We({},za,{view:0,detail:0}),YR=dn(du),Fh,Bh,ps,hf=We({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ps&&(ps&&t.type==="mousemove"?(Fh=t.screenX-ps.screenX,Bh=t.screenY-ps.screenY):Bh=Fh=0,ps=t),Fh)},movementY:function(t){return"movementY"in t?t.movementY:Bh}}),Sw=dn(hf),XR=We({},hf,{dataTransfer:0}),QR=dn(XR),ZR=We({},du,{relatedTarget:0}),Gh=dn(ZR),eM=We({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),tM=dn(eM),nM=We({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rM=dn(nM),iM=We({},za,{data:0}),Ew=dn(iM),oM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sM[t])?!!e[t]:!1}function iv(){return lM}var uM=We({},du,{key:function(t){if(t.key){var e=oM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iv,charCode:function(t){return t.type==="keypress"?mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cM=dn(uM),dM=We({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tw=dn(dM),fM=We({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iv}),hM=dn(fM),pM=We({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),mM=dn(pM),gM=We({},hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yM=dn(gM),vM=[9,13,27,32],ov=xr&&"CompositionEvent"in window,Us=null;xr&&"documentMode"in document&&(Us=document.documentMode);var wM=xr&&"TextEvent"in window&&!Us,sA=xr&&(!ov||Us&&8<Us&&11>=Us),Aw=" ",Cw=!1;function lA(t,e){switch(t){case"keyup":return vM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function bM(t,e){switch(t){case"compositionend":return uA(e);case"keypress":return e.which!==32?null:(Cw=!0,Aw);case"textInput":return t=e.data,t===Aw&&Cw?null:t;default:return null}}function xM(t,e){if(Io)return t==="compositionend"||!ov&&lA(t,e)?(t=aA(),pc=nv=qr=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sA&&e.locale!=="ko"?null:e.data;default:return null}}var _M={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_M[t.type]:e==="textarea"}function cA(t,e,n,r){B1(r),e=Rc(e,"onChange"),0<e.length&&(n=new rv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fs=null,ll=null;function SM(t){xA(t,0)}function pf(t){var e=Ro(t);if(M1(e))return t}function EM(t,e){if(t==="change")return e}var dA=!1;if(xr){var Vh;if(xr){var zh="oninput"in document;if(!zh){var Pw=document.createElement("div");Pw.setAttribute("oninput","return;"),zh=typeof Pw.oninput=="function"}Vh=zh}else Vh=!1;dA=Vh&&(!document.documentMode||9<document.documentMode)}function Iw(){Fs&&(Fs.detachEvent("onpropertychange",fA),ll=Fs=null)}function fA(t){if(t.propertyName==="value"&&pf(ll)){var e=[];cA(e,ll,t,Xy(t)),H1(SM,e)}}function TM(t,e,n){t==="focusin"?(Iw(),Fs=e,ll=n,Fs.attachEvent("onpropertychange",fA)):t==="focusout"&&Iw()}function AM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pf(ll)}function CM(t,e){if(t==="click")return pf(e)}function kM(t,e){if(t==="input"||t==="change")return pf(e)}function PM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:PM;function ul(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wp.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function Nw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ow(t,e){var n=Nw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nw(n)}}function hA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pA(){for(var t=window,e=Ac();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ac(t.document)}return e}function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IM(t){var e=pA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hA(n.ownerDocument.documentElement,n)){if(r!==null&&av(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ow(n,o);var a=Ow(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NM=xr&&"documentMode"in document&&11>=document.documentMode,No=null,fm=null,Bs=null,hm=!1;function Rw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hm||No==null||No!==Ac(r)||(r=No,"selectionStart"in r&&av(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bs&&ul(Bs,r)||(Bs=r,r=Rc(fm,"onSelect"),0<r.length&&(e=new rv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=No)))}function Ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oo={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},Hh={},mA={};xr&&(mA=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function mf(t){if(Hh[t])return Hh[t];if(!Oo[t])return t;var e=Oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mA)return Hh[t]=e[n];return t}var gA=mf("animationend"),yA=mf("animationiteration"),vA=mf("animationstart"),wA=mf("transitionend"),bA=new Map,Mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){bA.set(t,e),no(e,[t])}for(var qh=0;qh<Mw.length;qh++){var Wh=Mw[qh],OM=Wh.toLowerCase(),RM=Wh[0].toUpperCase()+Wh.slice(1);ui(OM,"on"+RM)}ui(gA,"onAnimationEnd");ui(yA,"onAnimationIteration");ui(vA,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(wA,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function $w(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OR(r,e,void 0,t),t.currentTarget=null}function xA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;$w(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;$w(i,s,u),o=l}}}if(kc)throw t=lm,kc=!1,lm=null,t}function Le(t,e){var n=e[vm];n===void 0&&(n=e[vm]=new Set);var r=t+"__bubble";n.has(r)||(_A(e,t,2,!1),n.add(r))}function Kh(t,e,n){var r=0;e&&(r|=4),_A(n,t,r,e)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function cl(t){if(!t[Ru]){t[Ru]=!0,P1.forEach(function(n){n!=="selectionchange"&&(MM.has(n)||Kh(n,!1,t),Kh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ru]||(e[Ru]=!0,Kh("selectionchange",!1,e))}}function _A(t,e,n,r){switch(oA(e)){case 1:var i=KR;break;case 4:i=JR;break;default:i=tv}n=i.bind(null,e,n,t),i=void 0,!sm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ii(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}H1(function(){var u=o,c=Xy(n),d=[];e:{var h=bA.get(t);if(h!==void 0){var m=rv,y=t;switch(t){case"keypress":if(mc(n)===0)break e;case"keydown":case"keyup":m=cM;break;case"focusin":y="focus",m=Gh;break;case"focusout":y="blur",m=Gh;break;case"beforeblur":case"afterblur":m=Gh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hM;break;case gA:case yA:case vA:m=tM;break;case wA:m=mM;break;case"scroll":m=YR;break;case"wheel":m=yM;break;case"copy":case"cut":case"paste":m=rM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Tw}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var x=u,_;x!==null;){_=x;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,v!==null&&(T=il(x,v),T!=null&&w.push(dl(x,T,_)))),b)break;x=x.return}0<w.length&&(h=new m(h,y,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==om&&(y=n.relatedTarget||n.fromElement)&&(Ii(y)||y[_r]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ii(y):null,y!==null&&(b=ro(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=Sw,T="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=Tw,T="onPointerLeave",v="onPointerEnter",x="pointer"),b=m==null?h:Ro(m),_=y==null?h:Ro(y),h=new w(T,x+"leave",m,n,c),h.target=b,h.relatedTarget=_,T=null,Ii(c)===u&&(w=new w(v,x+"enter",y,n,c),w.target=_,w.relatedTarget=b,T=w),b=T,m&&y)t:{for(w=m,v=y,x=0,_=w;_;_=ho(_))x++;for(_=0,T=v;T;T=ho(T))_++;for(;0<x-_;)w=ho(w),x--;for(;0<_-x;)v=ho(v),_--;for(;x--;){if(w===v||v!==null&&w===v.alternate)break t;w=ho(w),v=ho(v)}w=null}else w=null;m!==null&&Dw(d,h,m,w,!1),y!==null&&b!==null&&Dw(d,b,y,w,!0)}}e:{if(h=u?Ro(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=EM;else if(kw(h))if(dA)S=kM;else{S=AM;var E=TM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=CM);if(S&&(S=S(t,u))){cA(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&em(h,"number",h.value)}switch(E=u?Ro(u):window,t){case"focusin":(kw(E)||E.contentEditable==="true")&&(No=E,fm=u,Bs=null);break;case"focusout":Bs=fm=No=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,Rw(d,n,c);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":Rw(d,n,c)}var A;if(ov)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Io?lA(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(sA&&n.locale!=="ko"&&(Io||k!=="onCompositionStart"?k==="onCompositionEnd"&&Io&&(A=aA()):(qr=c,nv="value"in qr?qr.value:qr.textContent,Io=!0)),E=Rc(u,k),0<E.length&&(k=new Ew(k,t,null,n,c),d.push({event:k,listeners:E}),A?k.data=A:(A=uA(n),A!==null&&(k.data=A)))),(A=wM?bM(t,n):xM(t,n))&&(u=Rc(u,"onBeforeInput"),0<u.length&&(c=new Ew("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}xA(d,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=il(t,n),o!=null&&r.unshift(dl(t,o,i)),o=il(t,e),o!=null&&r.push(dl(t,o,i))),t=t.return}return r}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=il(n,o),l!=null&&a.unshift(dl(n,l,s))):i||(l=il(n,o),l!=null&&a.push(dl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var $M=/\r\n?/g,DM=/\u0000|\uFFFD/g;function Lw(t){return(typeof t=="string"?t:""+t).replace($M,`
`).replace(DM,"")}function Mu(t,e,n){if(e=Lw(e),Lw(t)!==e&&n)throw Error(z(425))}function Mc(){}var pm=null,mm=null;function gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,LM=typeof clearTimeout=="function"?clearTimeout:void 0,jw=typeof Promise=="function"?Promise:void 0,jM=typeof queueMicrotask=="function"?queueMicrotask:typeof jw<"u"?function(t){return jw.resolve(null).then(t).catch(UM)}:ym;function UM(t){setTimeout(function(){throw t})}function Yh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sl(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),er="__reactFiber$"+Ha,fl="__reactProps$"+Ha,_r="__reactContainer$"+Ha,vm="__reactEvents$"+Ha,FM="__reactListeners$"+Ha,BM="__reactHandles$"+Ha;function Ii(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uw(t);t!==null;){if(n=t[er])return n;t=Uw(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[er]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function gf(t){return t[fl]||null}var wm=[],Mo=-1;function ci(t){return{current:t}}function Fe(t){0>Mo||(t.current=wm[Mo],wm[Mo]=null,Mo--)}function $e(t,e){Mo++,wm[Mo]=t.current,t.current=e}var li={},Mt=ci(li),Wt=ci(!1),Hi=li;function la(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function $c(){Fe(Wt),Fe(Mt)}function Fw(t,e,n){if(Mt.current!==li)throw Error(z(168));$e(Mt,e),$e(Wt,n)}function SA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,TR(t)||"Unknown",i));return We({},n,r)}function Dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,Hi=Mt.current,$e(Mt,t),$e(Wt,Wt.current),!0}function Bw(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=SA(t,e,Hi),r.__reactInternalMemoizedMergedChildContext=t,Fe(Wt),Fe(Mt),$e(Mt,t)):Fe(Wt),$e(Wt,n)}var hr=null,yf=!1,Xh=!1;function EA(t){hr===null?hr=[t]:hr.push(t)}function GM(t){yf=!0,EA(t)}function di(){if(!Xh&&hr!==null){Xh=!0;var t=0,e=Ee;try{var n=hr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,yf=!1}catch(i){throw hr!==null&&(hr=hr.slice(t+1)),J1(Qy,di),i}finally{Ee=e,Xh=!1}}return null}var $o=[],Do=0,Lc=null,jc=0,yn=[],vn=0,qi=null,pr=1,mr="";function xi(t,e){$o[Do++]=jc,$o[Do++]=Lc,Lc=t,jc=e}function TA(t,e,n){yn[vn++]=pr,yn[vn++]=mr,yn[vn++]=qi,qi=t;var r=pr;t=mr;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var o=32-Vn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,pr=1<<32-Vn(e)+i|n<<i|r,mr=o+t}else pr=1<<o|n<<i|r,mr=t}function sv(t){t.return!==null&&(xi(t,1),TA(t,1,0))}function lv(t){for(;t===Lc;)Lc=$o[--Do],$o[Do]=null,jc=$o[--Do],$o[Do]=null;for(;t===qi;)qi=yn[--vn],yn[vn]=null,mr=yn[--vn],yn[vn]=null,pr=yn[--vn],yn[vn]=null}var ln=null,sn=null,Ge=!1,Fn=null;function AA(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,sn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,sn=null,!0):!1;default:return!1}}function bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xm(t){if(Ge){var e=sn;if(e){var n=e;if(!Gw(t,e)){if(bm(t))throw Error(z(418));e=ei(n.nextSibling);var r=ln;e&&Gw(t,e)?AA(r,n):(t.flags=t.flags&-4097|2,Ge=!1,ln=t)}}else{if(bm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ge=!1,ln=t}}}function Vw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function $u(t){if(t!==ln)return!1;if(!Ge)return Vw(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gm(t.type,t.memoizedProps)),e&&(e=sn)){if(bm(t))throw CA(),Error(z(418));for(;e;)AA(t,e),e=ei(e.nextSibling)}if(Vw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=ln?ei(t.stateNode.nextSibling):null;return!0}function CA(){for(var t=sn;t;)t=ei(t.nextSibling)}function ua(){sn=ln=null,Ge=!1}function uv(t){Fn===null?Fn=[t]:Fn.push(t)}var VM=Pr.ReactCurrentBatchConfig;function ms(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zw(t){var e=t._init;return e(t._payload)}function kA(t){function e(v,x){if(t){var _=v.deletions;_===null?(v.deletions=[x],v.flags|=16):_.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=ii(v,x),v.index=0,v.sibling=null,v}function o(v,x,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<x?(v.flags|=2,x):_):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,x,_,T){return x===null||x.tag!==6?(x=ip(_,v.mode,T),x.return=v,x):(x=i(x,_),x.return=v,x)}function l(v,x,_,T){var S=_.type;return S===Po?c(v,x,_.props.children,T,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ur&&zw(S)===x.type)?(T=i(x,_.props),T.ref=ms(v,x,_),T.return=v,T):(T=_c(_.type,_.key,_.props,null,v.mode,T),T.ref=ms(v,x,_),T.return=v,T)}function u(v,x,_,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=op(_,v.mode,T),x.return=v,x):(x=i(x,_.children||[]),x.return=v,x)}function c(v,x,_,T,S){return x===null||x.tag!==7?(x=Fi(_,v.mode,T,S),x.return=v,x):(x=i(x,_),x.return=v,x)}function d(v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ip(""+x,v.mode,_),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tu:return _=_c(x.type,x.key,x.props,null,v.mode,_),_.ref=ms(v,null,x),_.return=v,_;case ko:return x=op(x,v.mode,_),x.return=v,x;case Ur:var T=x._init;return d(v,T(x._payload),_)}if(Ns(x)||cs(x))return x=Fi(x,v.mode,_,null),x.return=v,x;Du(v,x)}return null}function h(v,x,_,T){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(v,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tu:return _.key===S?l(v,x,_,T):null;case ko:return _.key===S?u(v,x,_,T):null;case Ur:return S=_._init,h(v,x,S(_._payload),T)}if(Ns(_)||cs(_))return S!==null?null:c(v,x,_,T,null);Du(v,_)}return null}function m(v,x,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(_)||null,s(x,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Tu:return v=v.get(T.key===null?_:T.key)||null,l(x,v,T,S);case ko:return v=v.get(T.key===null?_:T.key)||null,u(x,v,T,S);case Ur:var E=T._init;return m(v,x,_,E(T._payload),S)}if(Ns(T)||cs(T))return v=v.get(_)||null,c(x,v,T,S,null);Du(x,T)}return null}function y(v,x,_,T){for(var S=null,E=null,A=x,k=x=0,C=null;A!==null&&k<_.length;k++){A.index>k?(C=A,A=null):C=A.sibling;var P=h(v,A,_[k],T);if(P===null){A===null&&(A=C);break}t&&A&&P.alternate===null&&e(v,A),x=o(P,x,k),E===null?S=P:E.sibling=P,E=P,A=C}if(k===_.length)return n(v,A),Ge&&xi(v,k),S;if(A===null){for(;k<_.length;k++)A=d(v,_[k],T),A!==null&&(x=o(A,x,k),E===null?S=A:E.sibling=A,E=A);return Ge&&xi(v,k),S}for(A=r(v,A);k<_.length;k++)C=m(A,v,k,_[k],T),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?k:C.key),x=o(C,x,k),E===null?S=C:E.sibling=C,E=C);return t&&A.forEach(function(N){return e(v,N)}),Ge&&xi(v,k),S}function w(v,x,_,T){var S=cs(_);if(typeof S!="function")throw Error(z(150));if(_=S.call(_),_==null)throw Error(z(151));for(var E=S=null,A=x,k=x=0,C=null,P=_.next();A!==null&&!P.done;k++,P=_.next()){A.index>k?(C=A,A=null):C=A.sibling;var N=h(v,A,P.value,T);if(N===null){A===null&&(A=C);break}t&&A&&N.alternate===null&&e(v,A),x=o(N,x,k),E===null?S=N:E.sibling=N,E=N,A=C}if(P.done)return n(v,A),Ge&&xi(v,k),S;if(A===null){for(;!P.done;k++,P=_.next())P=d(v,P.value,T),P!==null&&(x=o(P,x,k),E===null?S=P:E.sibling=P,E=P);return Ge&&xi(v,k),S}for(A=r(v,A);!P.done;k++,P=_.next())P=m(A,v,k,P.value,T),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?k:P.key),x=o(P,x,k),E===null?S=P:E.sibling=P,E=P);return t&&A.forEach(function(I){return e(v,I)}),Ge&&xi(v,k),S}function b(v,x,_,T){if(typeof _=="object"&&_!==null&&_.type===Po&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Tu:e:{for(var S=_.key,E=x;E!==null;){if(E.key===S){if(S=_.type,S===Po){if(E.tag===7){n(v,E.sibling),x=i(E,_.props.children),x.return=v,v=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ur&&zw(S)===E.type){n(v,E.sibling),x=i(E,_.props),x.ref=ms(v,E,_),x.return=v,v=x;break e}n(v,E);break}else e(v,E);E=E.sibling}_.type===Po?(x=Fi(_.props.children,v.mode,T,_.key),x.return=v,v=x):(T=_c(_.type,_.key,_.props,null,v.mode,T),T.ref=ms(v,x,_),T.return=v,v=T)}return a(v);case ko:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(v,x.sibling),x=i(x,_.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=op(_,v.mode,T),x.return=v,v=x}return a(v);case Ur:return E=_._init,b(v,x,E(_._payload),T)}if(Ns(_))return y(v,x,_,T);if(cs(_))return w(v,x,_,T);Du(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,_),x.return=v,v=x):(n(v,x),x=ip(_,v.mode,T),x.return=v,v=x),a(v)):n(v,x)}return b}var ca=kA(!0),PA=kA(!1),Uc=ci(null),Fc=null,Lo=null,cv=null;function dv(){cv=Lo=Fc=null}function fv(t){var e=Uc.current;Fe(Uc),t._currentValue=e}function _m(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yo(t,e){Fc=t,cv=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(cv!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(Fc===null)throw Error(z(308));Lo=t,Fc.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var Ni=null;function hv(t){Ni===null?Ni=[t]:Ni.push(t)}function IA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function pv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sr(t,n)}return i=r.interleaved,i===null?(e.next=e,hv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sr(t,n)}function gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zy(t,n)}}function Hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bc(t,e,n,r){var i=t.updateQueue;Fr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,w=s;switch(h=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=We({},d,h);break e;case 2:Fr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ki|=a,t.lanes=a,t.memoizedState=d}}function qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var hu={},ir=ci(hu),hl=ci(hu),pl=ci(hu);function Oi(t){if(t===hu)throw Error(z(174));return t}function mv(t,e){switch($e(pl,e),$e(hl,t),$e(ir,hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nm(e,t)}Fe(ir),$e(ir,e)}function da(){Fe(ir),Fe(hl),Fe(pl)}function OA(t){Oi(pl.current);var e=Oi(ir.current),n=nm(e,t.type);e!==n&&($e(hl,t),$e(ir,n))}function gv(t){hl.current===t&&(Fe(ir),Fe(hl))}var He=ci(0);function Gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qh=[];function yv(){for(var t=0;t<Qh.length;t++)Qh[t]._workInProgressVersionPrimary=null;Qh.length=0}var yc=Pr.ReactCurrentDispatcher,Zh=Pr.ReactCurrentBatchConfig,Wi=0,qe=null,lt=null,mt=null,Vc=!1,Gs=!1,ml=0,zM=0;function kt(){throw Error(z(321))}function vv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function wv(t,e,n,r,i,o){if(Wi=o,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yc.current=t===null||t.memoizedState===null?KM:JM,t=n(r,i),Gs){o=0;do{if(Gs=!1,ml=0,25<=o)throw Error(z(301));o+=1,mt=lt=null,e.updateQueue=null,yc.current=YM,t=n(r,i)}while(Gs)}if(yc.current=zc,e=lt!==null&&lt.next!==null,Wi=0,mt=lt=qe=null,Vc=!1,e)throw Error(z(300));return t}function bv(){var t=ml!==0;return ml=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?qe.memoizedState=mt=t:mt=mt.next=t,mt}function Tn(){if(lt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=mt===null?qe.memoizedState:mt.next;if(e!==null)mt=e,lt=t;else{if(t===null)throw Error(z(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?qe.memoizedState=mt=t:mt=mt.next=t}return mt}function gl(t,e){return typeof e=="function"?e(t):e}function ep(t){var e=Tn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Wi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,qe.lanes|=c,Ki|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Wn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,qe.lanes|=o,Ki|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tp(t){var e=Tn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Wn(o,e.memoizedState)||(Ht=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function RA(){}function MA(t,e){var n=qe,r=Tn(),i=e(),o=!Wn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ht=!0),r=r.queue,xv(LA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,yl(9,DA.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(z(349));Wi&30||$A(n,e,i)}return i}function $A(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DA(t,e,n,r){e.value=n,e.getSnapshot=r,jA(e)&&UA(t)}function LA(t,e,n){return n(function(){jA(e)&&UA(t)})}function jA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function UA(t){var e=Sr(t,1);e!==null&&zn(e,t,1,-1)}function Ww(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=WM.bind(null,qe,t),[e.memoizedState,t]}function yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FA(){return Tn().memoizedState}function vc(t,e,n,r){var i=Qn();qe.flags|=t,i.memoizedState=yl(1|e,n,void 0,r===void 0?null:r)}function vf(t,e,n,r){var i=Tn();r=r===void 0?null:r;var o=void 0;if(lt!==null){var a=lt.memoizedState;if(o=a.destroy,r!==null&&vv(r,a.deps)){i.memoizedState=yl(e,n,o,r);return}}qe.flags|=t,i.memoizedState=yl(1|e,n,o,r)}function Kw(t,e){return vc(8390656,8,t,e)}function xv(t,e){return vf(2048,8,t,e)}function BA(t,e){return vf(4,2,t,e)}function GA(t,e){return vf(4,4,t,e)}function VA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zA(t,e,n){return n=n!=null?n.concat([t]):null,vf(4,4,VA.bind(null,e,t),n)}function _v(){}function HA(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qA(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WA(t,e,n){return Wi&21?(Wn(n,e)||(n=Q1(),qe.lanes|=n,Ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function HM(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=Zh.transition;Zh.transition={};try{t(!1),e()}finally{Ee=n,Zh.transition=r}}function KA(){return Tn().memoizedState}function qM(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JA(t))YA(e,n);else if(n=IA(t,e,n,r),n!==null){var i=Ft();zn(n,t,r,i),XA(n,e,r)}}function WM(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JA(t))YA(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Wn(s,a)){var l=e.interleaved;l===null?(i.next=i,hv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=IA(t,e,i,r),n!==null&&(i=Ft(),zn(n,t,r,i),XA(n,e,r))}}function JA(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function YA(t,e){Gs=Vc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zy(t,n)}}var zc={readContext:En,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},KM={readContext:En,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:Kw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vc(4194308,4,VA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return vc(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qM.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:Ww,useDebugValue:_v,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=Ww(!1),e=t[0];return t=HM.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=Qn();if(Ge){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),gt===null)throw Error(z(349));Wi&30||$A(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Kw(LA.bind(null,r,o,t),[t]),r.flags|=2048,yl(9,DA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Qn(),e=gt.identifierPrefix;if(Ge){var n=mr,r=pr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JM={readContext:En,useCallback:HA,useContext:En,useEffect:xv,useImperativeHandle:zA,useInsertionEffect:BA,useLayoutEffect:GA,useMemo:qA,useReducer:ep,useRef:FA,useState:function(){return ep(gl)},useDebugValue:_v,useDeferredValue:function(t){var e=Tn();return WA(e,lt.memoizedState,t)},useTransition:function(){var t=ep(gl)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:RA,useSyncExternalStore:MA,useId:KA,unstable_isNewReconciler:!1},YM={readContext:En,useCallback:HA,useContext:En,useEffect:xv,useImperativeHandle:zA,useInsertionEffect:BA,useLayoutEffect:GA,useMemo:qA,useReducer:tp,useRef:FA,useState:function(){return tp(gl)},useDebugValue:_v,useDeferredValue:function(t){var e=Tn();return lt===null?e.memoizedState=t:WA(e,lt.memoizedState,t)},useTransition:function(){var t=tp(gl)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:RA,useSyncExternalStore:MA,useId:KA,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=ri(t),o=vr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ti(t,o,i),e!==null&&(zn(e,t,i,r),gc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=ri(t),o=vr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ti(t,o,i),e!==null&&(zn(e,t,i,r),gc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=ri(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(zn(e,t,r,n),gc(e,t,r))}};function Jw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ul(n,r)||!ul(i,o):!0}function QA(t,e,n){var r=!1,i=li,o=e.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=Kt(e)?Hi:Mt.current,r=e.contextTypes,o=(r=r!=null)?la(t,i):li),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Yw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function Em(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=Kt(e)?Hi:Mt.current,i.context=la(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Sm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wf.enqueueReplaceState(i,i.state,null),Bc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fa(t,e){try{var n="",r=e;do n+=ER(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XM=typeof WeakMap=="function"?WeakMap:Map;function ZA(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qc||(qc=!0,$m=r),Tm(t,e)},n}function eC(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tm(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Xw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=d2.bind(null,t,e,n),e.then(t,t))}function Qw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var QM=Pr.ReactCurrentOwner,Ht=!1;function Lt(t,e,n,r){e.child=t===null?PA(e,null,n,r):ca(e,t.child,n,r)}function eb(t,e,n,r,i){n=n.render;var o=e.ref;return Yo(e,i),r=wv(t,e,n,r,o,i),n=bv(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Ge&&n&&sv(e),e.flags|=1,Lt(t,e,r,i),e.child)}function tb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Iv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,tC(t,e,o,r,i)):(t=_c(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(a,r)&&t.ref===e.ref)return Er(t,e,i)}return e.flags|=1,t=ii(o,r),t.ref=e.ref,t.return=e,e.child=t}function tC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ul(o,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Er(t,e,i)}return Am(t,e,n,r,i)}function nC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Uo,tn),tn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Uo,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$e(Uo,tn),tn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,$e(Uo,tn),tn|=r;return Lt(t,e,i,n),e.child}function rC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Am(t,e,n,r,i){var o=Kt(n)?Hi:Mt.current;return o=la(e,o),Yo(e,i),n=wv(t,e,n,r,o,i),r=bv(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Ge&&r&&sv(e),e.flags|=1,Lt(t,e,n,i),e.child)}function nb(t,e,n,r,i){if(Kt(n)){var o=!0;Dc(e)}else o=!1;if(Yo(e,i),e.stateNode===null)wc(t,e),QA(e,n,r),Em(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=Kt(n)?Hi:Mt.current,u=la(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Yw(e,a,r,u),Fr=!1;var h=e.memoizedState;a.state=h,Bc(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Wt.current||Fr?(typeof c=="function"&&(Sm(e,n,c,r),l=e.memoizedState),(s=Fr||Jw(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,NA(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Mn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=En(l):(l=Kt(n)?Hi:Mt.current,l=la(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Yw(e,a,r,l),Fr=!1,h=e.memoizedState,a.state=h,Bc(e,r,a,i);var y=e.memoizedState;s!==d||h!==y||Wt.current||Fr?(typeof m=="function"&&(Sm(e,n,m,r),y=e.memoizedState),(u=Fr||Jw(e,n,u,r,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Cm(t,e,n,r,o,i)}function Cm(t,e,n,r,i,o){rC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Bw(e,n,!1),Er(t,e,o);r=e.stateNode,QM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ca(e,t.child,null,o),e.child=ca(e,null,s,o)):Lt(t,e,s,o),e.memoizedState=r.state,i&&Bw(e,n,!0),e.child}function iC(t){var e=t.stateNode;e.pendingContext?Fw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fw(t,e.context,!1),mv(t,e.containerInfo)}function rb(t,e,n,r,i){return ua(),uv(i),e.flags|=256,Lt(t,e,n,r),e.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Pm(t){return{baseLanes:t,cachePool:null,transitions:null}}function oC(t,e,n){var r=e.pendingProps,i=He.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(He,i&1),t===null)return xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=_f(a,r,0,null),t=Fi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pm(n),e.memoizedState=km,t):Sv(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return ZM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ii(s,o):(o=Fi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Pm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=km,r}return o=t.child,t=o.sibling,r=ii(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sv(t,e){return e=_f({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lu(t,e,n,r){return r!==null&&uv(r),ca(e,t.child,null,n),t=Sv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=np(Error(z(422))),Lu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_f({mode:"visible",children:r.children},i,0,null),o=Fi(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ca(e,t.child,null,a),e.child.memoizedState=Pm(a),e.memoizedState=km,o);if(!(e.mode&1))return Lu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(z(419)),r=np(o,r,void 0),Lu(t,e,a,r)}if(s=(a&t.childLanes)!==0,Ht||s){if(r=gt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Sr(t,i),zn(r,t,i,-1))}return Pv(),r=np(Error(z(421))),Lu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=f2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sn=ei(i.nextSibling),ln=e,Ge=!0,Fn=null,t!==null&&(yn[vn++]=pr,yn[vn++]=mr,yn[vn++]=qi,pr=t.id,mr=t.overflow,qi=e),e=Sv(e,r.children),e.flags|=4096,e)}function ib(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_m(t.return,e,n)}function rp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Lt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ib(t,n,e);else if(t.tag===19)ib(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rp(e,!0,n,null,o);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e2(t,e,n){switch(e.tag){case 3:iC(e),ua();break;case 5:OA(e);break;case 1:Kt(e.type)&&Dc(e);break;case 4:mv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(Uc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?oC(t,e,n):($e(He,He.current&1),t=Er(t,e,n),t!==null?t.sibling:null);$e(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,nC(t,e,n)}return Er(t,e,n)}var sC,Im,lC,uC;sC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Im=function(){};lC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oi(ir.current);var o=null;switch(n){case"input":i=Qp(t,i),r=Qp(t,r),o=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),o=[];break;case"textarea":i=tm(t,i),r=tm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mc)}rm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};uC=function(t,e,n,r){n!==r&&(e.flags|=4)};function gs(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t2(t,e,n){var r=e.pendingProps;switch(lv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Kt(e.type)&&$c(),Pt(e),null;case 3:return r=e.stateNode,da(),Fe(Wt),Fe(Mt),yv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($u(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(jm(Fn),Fn=null))),Im(t,e),Pt(e),null;case 5:gv(e);var i=Oi(pl.current);if(n=e.type,t!==null&&e.stateNode!=null)lC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Pt(e),null}if(t=Oi(ir.current),$u(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[er]=e,r[fl]=o,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Rs.length;i++)Le(Rs[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":hw(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":mw(r,o),Le("invalid",r)}rm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Mu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Mu(r.textContent,s,t),i=["children",""+s]):nl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Le("scroll",r)}switch(n){case"input":Au(r),pw(r,o,!0);break;case"textarea":Au(r),gw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[er]=e,t[fl]=r,sC(t,e,!1,!1),e.stateNode=t;e:{switch(a=im(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rs.length;i++)Le(Rs[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":hw(t,r),i=Qp(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Le("invalid",t);break;case"textarea":mw(t,r),i=tm(t,r),Le("invalid",t);break;default:i=r}rm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?F1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rl(t,l):typeof l=="number"&&rl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Le("scroll",t):l!=null&&Wy(t,o,l,a))}switch(n){case"input":Au(t),pw(t,r,!1);break;case"textarea":Au(t),gw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+si(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?qo(t,!!r.multiple,o,!1):r.defaultValue!=null&&qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)uC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Oi(pl.current),Oi(ir.current),$u(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(o=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return Pt(e),null;case 13:if(Fe(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&sn!==null&&e.mode&1&&!(e.flags&128))CA(),ua(),e.flags|=98560,o=!1;else if(o=$u(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[er]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),o=!1}else Fn!==null&&(jm(Fn),Fn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ut===0&&(ut=3):Pv())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return da(),Im(t,e),t===null&&cl(e.stateNode.containerInfo),Pt(e),null;case 10:return fv(e.type._context),Pt(e),null;case 17:return Kt(e.type)&&$c(),Pt(e),null;case 19:if(Fe(He),o=e.memoizedState,o===null)return Pt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)gs(o,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Gc(t),a!==null){for(e.flags|=128,gs(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(He,He.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xe()>ha&&(e.flags|=128,r=!0,gs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Gc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ge)return Pt(e),null}else 2*Xe()-o.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,r=!0,gs(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,n=He.current,$e(He,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return kv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function n2(t,e){switch(lv(e),e.tag){case 1:return Kt(e.type)&&$c(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return da(),Fe(Wt),Fe(Mt),yv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gv(e),null;case 13:if(Fe(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(He),null;case 4:return da(),null;case 10:return fv(e.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var ju=!1,Nt=!1,r2=typeof WeakSet=="function"?WeakSet:Set,X=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Nm(t,e,n){try{n()}catch(r){Je(t,e,r)}}var ob=!1;function i2(t,e){if(pm=Nc,t=pA(),av(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mm={focusedElem:t,selectionRange:n},Nc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Mn(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(T){Je(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return y=ob,ob=!1,y}function Vs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nm(e,n,o)}i=i.next}while(i!==r)}}function bf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Om(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cC(t){var e=t.alternate;e!==null&&(t.alternate=null,cC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[fl],delete e[vm],delete e[FM],delete e[BM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dC(t){return t.tag===5||t.tag===3||t.tag===4}function ab(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mc));else if(r!==4&&(t=t.child,t!==null))for(Rm(t,e,n),t=t.sibling;t!==null;)Rm(t,e,n),t=t.sibling}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}var Et=null,Dn=!1;function Lr(t,e,n){for(n=n.child;n!==null;)fC(t,e,n),n=n.sibling}function fC(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:Nt||jo(n,e);case 6:var r=Et,i=Dn;Et=null,Lr(t,e,n),Et=r,Dn=i,Et!==null&&(Dn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Dn?(t=Et,n=n.stateNode,t.nodeType===8?Yh(t.parentNode,n):t.nodeType===1&&Yh(t,n),sl(t)):Yh(Et,n.stateNode));break;case 4:r=Et,i=Dn,Et=n.stateNode.containerInfo,Dn=!0,Lr(t,e,n),Et=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Nm(n,e,a),i=i.next}while(i!==r)}Lr(t,e,n);break;case 1:if(!Nt&&(jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Je(n,e,s)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Lr(t,e,n),Nt=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function sb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r2),e.forEach(function(r){var i=h2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Et=s.stateNode,Dn=!1;break e;case 3:Et=s.stateNode.containerInfo,Dn=!0;break e;case 4:Et=s.stateNode.containerInfo,Dn=!0;break e}s=s.return}if(Et===null)throw Error(z(160));fC(o,a,i),Et=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Je(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hC(e,t),e=e.sibling}function hC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Xn(t),r&4){try{Vs(3,t,t.return),bf(3,t)}catch(w){Je(t,t.return,w)}try{Vs(5,t,t.return)}catch(w){Je(t,t.return,w)}}break;case 1:Nn(e,t),Xn(t),r&512&&n!==null&&jo(n,n.return);break;case 5:if(Nn(e,t),Xn(t),r&512&&n!==null&&jo(n,n.return),t.flags&32){var i=t.stateNode;try{rl(i,"")}catch(w){Je(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&$1(i,o),im(s,a);var u=im(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?F1(i,d):c==="dangerouslySetInnerHTML"?j1(i,d):c==="children"?rl(i,d):Wy(i,c,d,u)}switch(s){case"input":Zp(i,o);break;case"textarea":D1(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?qo(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?qo(i,!!o.multiple,o.defaultValue,!0):qo(i,!!o.multiple,o.multiple?[]:"",!1))}i[fl]=o}catch(w){Je(t,t.return,w)}}break;case 6:if(Nn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){Je(t,t.return,w)}}break;case 3:if(Nn(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(e.containerInfo)}catch(w){Je(t,t.return,w)}break;case 4:Nn(e,t),Xn(t);break;case 13:Nn(e,t),Xn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Av=Xe())),r&4&&sb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||c,Nn(e,t),Nt=u):Nn(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(X=t,c=t.child;c!==null;){for(d=X=c;X!==null;){switch(h=X,m=h.child,h.tag){case 0:case 11:case 14:case 15:Vs(4,h,h.return);break;case 1:jo(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Je(r,n,w)}}break;case 5:jo(h,h.return);break;case 22:if(h.memoizedState!==null){ub(d);continue}}m!==null?(m.return=h,X=m):ub(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=U1("display",a))}catch(w){Je(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Je(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(e,t),Xn(t),r&4&&sb(t);break;case 21:break;default:Nn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dC(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rl(i,""),r.flags&=-33);var o=ab(t);Mm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=ab(t);Rm(t,s,a);break;default:throw Error(z(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o2(t,e,n){X=t,pC(t)}function pC(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ju;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Nt;s=ju;var u=Nt;if(ju=a,(Nt=l)&&!u)for(X=i;X!==null;)a=X,l=a.child,a.tag===22&&a.memoizedState!==null?cb(i):l!==null?(l.return=a,X=l):cb(i);for(;o!==null;)X=o,pC(o),o=o.sibling;X=i,ju=s,Nt=u}lb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,X=o):lb(t)}}function lb(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||bf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qw(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qw(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&sl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Nt||e.flags&512&&Om(e)}catch(h){Je(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function ub(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function cb(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bf(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Je(e,i,l)}}var o=e.return;try{Om(e)}catch(l){Je(e,o,l)}break;case 5:var a=e.return;try{Om(e)}catch(l){Je(e,a,l)}}}catch(l){Je(e,e.return,l)}if(e===t){X=null;break}var s=e.sibling;if(s!==null){s.return=e.return,X=s;break}X=e.return}}var a2=Math.ceil,Hc=Pr.ReactCurrentDispatcher,Ev=Pr.ReactCurrentOwner,xn=Pr.ReactCurrentBatchConfig,ge=0,gt=null,tt=null,At=0,tn=0,Uo=ci(0),ut=0,vl=null,Ki=0,xf=0,Tv=0,zs=null,zt=null,Av=0,ha=1/0,dr=null,qc=!1,$m=null,ni=null,Uu=!1,Wr=null,Wc=0,Hs=0,Dm=null,bc=-1,xc=0;function Ft(){return ge&6?Xe():bc!==-1?bc:bc=Xe()}function ri(t){return t.mode&1?ge&2&&At!==0?At&-At:VM.transition!==null?(xc===0&&(xc=Q1()),xc):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:oA(t.type)),t):1}function zn(t,e,n,r){if(50<Hs)throw Hs=0,Dm=null,Error(z(185));cu(t,n,r),(!(ge&2)||t!==gt)&&(t===gt&&(!(ge&2)&&(xf|=n),ut===4&&zr(t,At)),Jt(t,r),n===1&&ge===0&&!(e.mode&1)&&(ha=Xe()+500,yf&&di()))}function Jt(t,e){var n=t.callbackNode;VR(t,e);var r=Ic(t,t===gt?At:0);if(r===0)n!==null&&ww(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ww(n),e===1)t.tag===0?GM(db.bind(null,t)):EA(db.bind(null,t)),jM(function(){!(ge&6)&&di()}),n=null;else{switch(Z1(r)){case 1:n=Qy;break;case 4:n=Y1;break;case 16:n=Pc;break;case 536870912:n=X1;break;default:n=Pc}n=_C(n,mC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mC(t,e){if(bc=-1,xc=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(Xo()&&t.callbackNode!==n)return null;var r=Ic(t,t===gt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kc(t,r);else{e=r;var i=ge;ge|=2;var o=yC();(gt!==t||At!==e)&&(dr=null,ha=Xe()+500,Ui(t,e));do try{u2();break}catch(s){gC(t,s)}while(!0);dv(),Hc.current=o,ge=i,tt!==null?e=0:(gt=null,At=0,e=ut)}if(e!==0){if(e===2&&(i=um(t),i!==0&&(r=i,e=Lm(t,i))),e===1)throw n=vl,Ui(t,0),zr(t,r),Jt(t,Xe()),n;if(e===6)zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!s2(i)&&(e=Kc(t,r),e===2&&(o=um(t),o!==0&&(r=o,e=Lm(t,o))),e===1))throw n=vl,Ui(t,0),zr(t,r),Jt(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:_i(t,zt,dr);break;case 3:if(zr(t,r),(r&130023424)===r&&(e=Av+500-Xe(),10<e)){if(Ic(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ym(_i.bind(null,t,zt,dr),e);break}_i(t,zt,dr);break;case 4:if(zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Vn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a2(r/1960))-r,10<r){t.timeoutHandle=ym(_i.bind(null,t,zt,dr),r);break}_i(t,zt,dr);break;case 5:_i(t,zt,dr);break;default:throw Error(z(329))}}}return Jt(t,Xe()),t.callbackNode===n?mC.bind(null,t):null}function Lm(t,e){var n=zs;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=Kc(t,e),t!==2&&(e=zt,zt=n,e!==null&&jm(e)),t}function jm(t){zt===null?zt=t:zt.push.apply(zt,t)}function s2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~Tv,e&=~xf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function db(t){if(ge&6)throw Error(z(327));Xo();var e=Ic(t,0);if(!(e&1))return Jt(t,Xe()),null;var n=Kc(t,e);if(t.tag!==0&&n===2){var r=um(t);r!==0&&(e=r,n=Lm(t,r))}if(n===1)throw n=vl,Ui(t,0),zr(t,e),Jt(t,Xe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_i(t,zt,dr),Jt(t,Xe()),null}function Cv(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(ha=Xe()+500,yf&&di())}}function Ji(t){Wr!==null&&Wr.tag===0&&!(ge&6)&&Xo();var e=ge;ge|=1;var n=xn.transition,r=Ee;try{if(xn.transition=null,Ee=1,t)return t()}finally{Ee=r,xn.transition=n,ge=e,!(ge&6)&&di()}}function kv(){tn=Uo.current,Fe(Uo)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LM(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(lv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$c();break;case 3:da(),Fe(Wt),Fe(Mt),yv();break;case 5:gv(r);break;case 4:da();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:fv(r.type._context);break;case 22:case 23:kv()}n=n.return}if(gt=t,tt=t=ii(t.current,null),At=tn=e,ut=0,vl=null,Tv=xf=Ki=0,zt=zs=null,Ni!==null){for(e=0;e<Ni.length;e++)if(n=Ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ni=null}return t}function gC(t,e){do{var n=tt;try{if(dv(),yc.current=zc,Vc){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vc=!1}if(Wi=0,mt=lt=qe=null,Gs=!1,ml=0,Ev.current=null,n===null||n.return===null){ut=1,vl=e,tt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=At,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Qw(a);if(m!==null){m.flags&=-257,Zw(m,a,s,o,e),m.mode&1&&Xw(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Xw(o,u,e),Pv();break e}l=Error(z(426))}}else if(Ge&&s.mode&1){var b=Qw(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zw(b,a,s,o,e),uv(fa(l,s));break e}}o=l=fa(l,s),ut!==4&&(ut=2),zs===null?zs=[o]:zs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=ZA(o,l,e);Hw(o,v);break e;case 1:s=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ni===null||!ni.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=eC(o,s,e);Hw(o,T);break e}}o=o.return}while(o!==null)}wC(n)}catch(S){e=S,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function yC(){var t=Hc.current;return Hc.current=zc,t===null?zc:t}function Pv(){(ut===0||ut===3||ut===2)&&(ut=4),gt===null||!(Ki&268435455)&&!(xf&268435455)||zr(gt,At)}function Kc(t,e){var n=ge;ge|=2;var r=yC();(gt!==t||At!==e)&&(dr=null,Ui(t,e));do try{l2();break}catch(i){gC(t,i)}while(!0);if(dv(),ge=n,Hc.current=r,tt!==null)throw Error(z(261));return gt=null,At=0,ut}function l2(){for(;tt!==null;)vC(tt)}function u2(){for(;tt!==null&&!MR();)vC(tt)}function vC(t){var e=xC(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?wC(t):tt=e,Ev.current=null}function wC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=n2(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,tt=null;return}}else if(n=t2(n,e,tn),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ut===0&&(ut=5)}function _i(t,e,n){var r=Ee,i=xn.transition;try{xn.transition=null,Ee=1,c2(t,e,n,r)}finally{xn.transition=i,Ee=r}return null}function c2(t,e,n,r){do Xo();while(Wr!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(zR(t,o),t===gt&&(tt=gt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uu||(Uu=!0,_C(Pc,function(){return Xo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var a=Ee;Ee=1;var s=ge;ge|=4,Ev.current=null,i2(t,n),hC(n,t),IM(mm),Nc=!!pm,mm=pm=null,t.current=n,o2(n),$R(),ge=s,Ee=a,xn.transition=o}else t.current=n;if(Uu&&(Uu=!1,Wr=t,Wc=i),o=t.pendingLanes,o===0&&(ni=null),jR(n.stateNode),Jt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qc)throw qc=!1,t=$m,$m=null,t;return Wc&1&&t.tag!==0&&Xo(),o=t.pendingLanes,o&1?t===Dm?Hs++:(Hs=0,Dm=t):Hs=0,di(),null}function Xo(){if(Wr!==null){var t=Z1(Wc),e=xn.transition,n=Ee;try{if(xn.transition=null,Ee=16>t?16:t,Wr===null)var r=!1;else{if(t=Wr,Wr=null,Wc=0,ge&6)throw Error(z(331));var i=ge;for(ge|=4,X=t.current;X!==null;){var o=X,a=o.child;if(X.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:Vs(8,c,o)}var d=c.child;if(d!==null)d.return=c,X=d;else for(;X!==null;){c=X;var h=c.sibling,m=c.return;if(cC(c),c===u){X=null;break}if(h!==null){h.return=m,X=h;break}X=m}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}X=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,X=a;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vs(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,X=v;break e}X=o.return}}var x=t.current;for(X=x;X!==null;){a=X;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,X=_;else e:for(a=x;X!==null;){if(s=X,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:bf(9,s)}}catch(S){Je(s,s.return,S)}if(s===a){X=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,X=T;break e}X=s.return}}if(ge=i,di(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(ff,t)}catch{}r=!0}return r}finally{Ee=n,xn.transition=e}}return!1}function fb(t,e,n){e=fa(n,e),e=ZA(t,e,1),t=ti(t,e,1),e=Ft(),t!==null&&(cu(t,1,e),Jt(t,e))}function Je(t,e,n){if(t.tag===3)fb(t,t,n);else for(;e!==null;){if(e.tag===3){fb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=fa(n,t),t=eC(e,t,1),e=ti(e,t,1),t=Ft(),e!==null&&(cu(e,1,t),Jt(e,t));break}}e=e.return}}function d2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(At&n)===n&&(ut===4||ut===3&&(At&130023424)===At&&500>Xe()-Av?Ui(t,0):Tv|=n),Jt(t,e)}function bC(t,e){e===0&&(t.mode&1?(e=Pu,Pu<<=1,!(Pu&130023424)&&(Pu=4194304)):e=1);var n=Ft();t=Sr(t,e),t!==null&&(cu(t,e,n),Jt(t,n))}function f2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bC(t,n)}function h2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),bC(t,n)}var xC;xC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,e2(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Ge&&e.flags&1048576&&TA(e,jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wc(t,e),t=e.pendingProps;var i=la(e,Mt.current);Yo(e,n),i=wv(null,e,r,t,i,n);var o=bv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(o=!0,Dc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pv(e),i.updater=wf,e.stateNode=i,i._reactInternals=e,Em(e,r,t,n),e=Cm(null,e,r,!0,o,n)):(e.tag=0,Ge&&o&&sv(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=m2(r),t=Mn(r,t),i){case 0:e=Am(null,e,r,t,n);break e;case 1:e=nb(null,e,r,t,n);break e;case 11:e=eb(null,e,r,t,n);break e;case 14:e=tb(null,e,r,Mn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Am(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),nb(t,e,r,i,n);case 3:e:{if(iC(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,NA(t,e),Bc(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=fa(Error(z(423)),e),e=rb(t,e,r,n,i);break e}else if(r!==i){i=fa(Error(z(424)),e),e=rb(t,e,r,n,i);break e}else for(sn=ei(e.stateNode.containerInfo.firstChild),ln=e,Ge=!0,Fn=null,n=PA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===i){e=Er(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return OA(e),t===null&&xm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,gm(r,i)?a=null:o!==null&&gm(r,o)&&(e.flags|=32),rC(t,e),Lt(t,e,a,n),e.child;case 6:return t===null&&xm(e),null;case 13:return oC(t,e,n);case 4:return mv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),eb(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,$e(Uc,r._currentValue),r._currentValue=a,o!==null)if(Wn(o.value,a)){if(o.children===i.children&&!Wt.current){e=Er(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_m(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(z(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),_m(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yo(e,n),i=En(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),tb(t,e,r,i,n);case 15:return tC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),wc(t,e),e.tag=1,Kt(r)?(t=!0,Dc(e)):t=!1,Yo(e,n),QA(e,r,i),Em(e,r,i,n),Cm(null,e,r,!0,t,n);case 19:return aC(t,e,n);case 22:return nC(t,e,n)}throw Error(z(156,e.tag))};function _C(t,e){return J1(t,e)}function p2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new p2(t,e,n,r)}function Iv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m2(t){if(typeof t=="function")return Iv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jy)return 11;if(t===Yy)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _c(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Iv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Po:return Fi(n.children,i,o,e);case Ky:a=8,i|=8;break;case Kp:return t=wn(12,n,e,i|2),t.elementType=Kp,t.lanes=o,t;case Jp:return t=wn(13,n,e,i),t.elementType=Jp,t.lanes=o,t;case Yp:return t=wn(19,n,e,i),t.elementType=Yp,t.lanes=o,t;case O1:return _f(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I1:a=10;break e;case N1:a=9;break e;case Jy:a=11;break e;case Yy:a=14;break e;case Ur:a=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=wn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Fi(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function _f(t,e,n,r){return t=wn(22,t,r,e),t.elementType=O1,t.lanes=n,t.stateNode={isHidden:!1},t}function ip(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function op(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uh(0),this.expirationTimes=Uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nv(t,e,n,r,i,o,a,s,l){return t=new g2(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=wn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pv(o),t}function y2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SC(t){if(!t)return li;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Kt(n))return SA(t,n,e)}return e}function EC(t,e,n,r,i,o,a,s,l){return t=Nv(n,r,!0,t,i,o,a,s,l),t.context=SC(null),n=t.current,r=Ft(),i=ri(n),o=vr(r,i),o.callback=e??null,ti(n,o,i),t.current.lanes=i,cu(t,i,r),Jt(t,r),t}function Sf(t,e,n,r){var i=e.current,o=Ft(),a=ri(i);return n=SC(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,a),t!==null&&(zn(t,i,a,o),gc(t,i,a)),a}function Jc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ov(t,e){hb(t,e),(t=t.alternate)&&hb(t,e)}function v2(){return null}var TC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rv(t){this._internalRoot=t}Ef.prototype.render=Rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Sf(t,e,null,null)};Ef.prototype.unmount=Rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){Sf(null,t,null,null)}),e[_r]=null}};function Ef(t){this._internalRoot=t}Ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=nA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vr.length&&e!==0&&e<Vr[n].priority;n++);Vr.splice(n,0,t),n===0&&iA(t)}};function Mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pb(){}function w2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Jc(a);o.call(u)}}var a=EC(e,r,t,0,null,!1,!1,"",pb);return t._reactRootContainer=a,t[_r]=a.current,cl(t.nodeType===8?t.parentNode:t),Ji(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Jc(l);s.call(u)}}var l=Nv(t,0,!1,null,null,!1,!1,"",pb);return t._reactRootContainer=l,t[_r]=l.current,cl(t.nodeType===8?t.parentNode:t),Ji(function(){Sf(e,l,n,r)}),l}function Af(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Jc(a);s.call(l)}}Sf(e,a,t,i)}else a=w2(n,e,t,i,r);return Jc(a)}eA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Os(e.pendingLanes);n!==0&&(Zy(e,n|1),Jt(e,Xe()),!(ge&6)&&(ha=Xe()+500,di()))}break;case 13:Ji(function(){var r=Sr(t,1);if(r!==null){var i=Ft();zn(r,t,1,i)}}),Ov(t,1)}};ev=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Ft();zn(e,t,134217728,n)}Ov(t,134217728)}};tA=function(t){if(t.tag===13){var e=ri(t),n=Sr(t,e);if(n!==null){var r=Ft();zn(n,t,e,r)}Ov(t,e)}};nA=function(){return Ee};rA=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};am=function(t,e,n){switch(e){case"input":if(Zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gf(r);if(!i)throw Error(z(90));M1(r),Zp(r,i)}}}break;case"textarea":D1(t,n);break;case"select":e=n.value,e!=null&&qo(t,!!n.multiple,e,!1)}};V1=Cv;z1=Ji;var b2={usingClientEntryPoint:!1,Events:[fu,Ro,gf,B1,G1,Cv]},ys={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x2={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W1(t),t===null?null:t.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||v2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{ff=Fu.inject(x2),rr=Fu}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b2;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(e))throw Error(z(200));return y2(t,e,null,n)};cn.createRoot=function(t,e){if(!Mv(t))throw Error(z(299));var n=!1,r="",i=TC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nv(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,cl(t.nodeType===8?t.parentNode:t),new Rv(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=W1(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return Ji(t)};cn.hydrate=function(t,e,n){if(!Tf(e))throw Error(z(200));return Af(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Mv(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=TC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=EC(e,null,t,1,n??null,i,!1,o,a),t[_r]=e.current,cl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ef(e)};cn.render=function(t,e,n){if(!Tf(e))throw Error(z(200));return Af(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!Tf(t))throw Error(z(40));return t._reactRootContainer?(Ji(function(){Af(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};cn.unstable_batchedUpdates=Cv;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Af(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function AC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AC)}catch(t){console.error(t)}}AC(),A1.exports=cn;var _2=A1.exports,mb=_2;qp.createRoot=mb.createRoot,qp.hydrateRoot=mb.hydrateRoot;var Be=(t=>(t.DASHBOARD="DASHBOARD",t.CAL_COACH="CAL_COACH",t.HISTORY="HISTORY",t.PROFILE="PROFILE",t.ONBOARDING="ONBOARDING",t))(Be||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=R.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>R.createElement("svg",{ref:c,...S2,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${E2(t)}`,s].join(" "),...u},[...e.map(([d,h])=>R.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ne("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ne("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ne("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ne("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=ne("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=ne("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ne("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ne("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ne("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function jC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function de(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jC(t))&&(r&&(r+=" "),r+=e);return r}const K2=({children:t,currentView:e,onNavigate:n})=>g.jsxs("div",{className:"h-[100dvh] bg-surface dark:bg-surface-dark flex flex-col max-w-md mx-auto relative shadow-2xl shadow-gray-200 dark:shadow-black/50 overflow-hidden border-x border-gray-100/50 dark:border-white/5 transition-colors duration-300",children:[g.jsx("main",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:t}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-white/60 dark:bg-[#0f111a]/60 backdrop-blur-md pointer-events-auto z-40"}),g.jsx("div",{className:"absolute bottom-8 left-6 right-6 z-50",children:g.jsxs("nav",{className:"bg-white/80 dark:bg-[#1a1c26]/80 backdrop-blur-xl rounded-[32px] p-2 shadow-diffused-lg dark:shadow-diffused-dark border border-white dark:border-white/5 flex justify-between items-center",children:[g.jsxs("button",{onClick:()=>n(Be.DASHBOARD),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Be.DASHBOARD?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(R2,{size:22,strokeWidth:e===Be.DASHBOARD?2.5:2}),e===Be.DASHBOARD&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Today"})]}),g.jsxs("button",{onClick:()=>n(Be.CAL_COACH),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Be.CAL_COACH?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(oi,{size:22,strokeWidth:e===Be.CAL_COACH?2.5:2}),e===Be.CAL_COACH&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Coach"})]}),g.jsxs("button",{onClick:()=>n(Be.HISTORY),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Be.HISTORY?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(A2,{size:22,strokeWidth:e===Be.HISTORY?2.5:2}),e===Be.HISTORY&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Report"})]}),g.jsxs("button",{onClick:()=>n(Be.PROFILE),className:de("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Be.PROFILE?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(pa,{size:22,strokeWidth:e===Be.PROFILE?2.5:2}),e===Be.PROFILE&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Profile"})]})]})})]}),Zo=({children:t,className:e,onClick:n})=>g.jsx("div",{onClick:n,className:de("bg-white dark:bg-[#1a1c26] rounded-[32px] p-5 shadow-diffused dark:shadow-diffused-dark border border-white/60 dark:border-white/5",n&&"cursor-pointer active:scale-[0.98] transition-all hover:shadow-diffused-lg dark:hover:shadow-diffused-dark hover:-translate-y-0.5",e),children:t});function Cf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function J2(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const Y2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Lv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class X2 extends Lv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xb extends Lv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _b extends Lv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bm||(Bm={}));class Q2{constructor(e,{headers:n={},customFetch:r,region:i=Bm.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Y2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return J2(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let b=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(b=a.signal,c.addEventListener("abort",()=>a.abort())):b=a.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:w,signal:b}).catch(S=>{throw new X2(S)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new xb(v);if(!v.ok)throw new _b(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield v.json():_==="application/octet-stream"||_==="application/pdf"?T=yield v.blob():_==="text/event-stream"?T=v:_==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof _b||s instanceof xb?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Z2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},e$=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var m;const v=await o.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=v:s=JSON.parse(v))}const w=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;const w=await o.text();try{a=JSON.parse(w),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new Z2(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,d,h;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${y}`,w&&(s+=` (${w})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},t$=class extends e${select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Sb=new RegExp("[,()]");var So=class extends t${eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Sb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Sb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},n$=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new So({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new So({method:i,url:o,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&s.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);s.searchParams.set("columns",c.join(","))}}return new So({method:a,url:s,headers:l,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new So({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new So({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},r$=class UC{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new n$(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new UC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=r&&Object.values(n).some(c);d?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{l.searchParams.append(m,y)})):(s="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new So({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class i${constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const o$="2.90.1",a$=`realtime-js/${o$}`,FC="1.0.0",s$="2.0.0",Eb=FC,Gm=1e4,l$=1e3,u$=100;var Br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Br||(Br={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var Ln;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ln||(Ln={}));var Vm;(function(t){t.websocket="websocket"})(Vm||(Vm={}));var ki;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ki||(ki={}));class c${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,s.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,d.length),y.setUint8(w++,n),Array.from(l,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(d,v=>y.setUint8(w++,v.charCodeAt(0)));var b=new Uint8Array(m.byteLength+r.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(r),m.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class BC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Re||(Re={}));const Tb=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=d$(a,t,e,i),o),{}):{}},d$=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?GC(o,a):zm(a)},GC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return m$(e,n)}switch(t){case Re.bool:return f$(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return h$(e);case Re.json:case Re.jsonb:return p$(e);case Re.timestamp:return g$(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return zm(e);default:return zm(e)}},zm=t=>t,f$=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},h$=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},p$=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},m$=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>GC(e,s))}return t},g$=t=>typeof t=="string"?t.replace(" ","T"):t,VC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ap{constructor(e,n,r={},i=Gm){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ab;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ab||(Ab={}));class Ws{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ws.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Ws.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ws.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(b=>b.presence_ref),m=d.map(b=>b.presence_ref),y=c.filter(b=>m.indexOf(b.presence_ref)<0),w=d.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(s[u]=y),w.length>0&&(l[u]=w)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cb||(Cb={}));var Ks;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ks||(Ks={}));var fr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(fr||(fr={}));class Fo{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ap(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new BC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Ws(this),this.broadcastEndpointURL=VC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ks.PRESENCE]&&this.bindings[Ks.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(fr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(fr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(fr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let x=0;x<b;x++){const _=w[x],{filter:{event:T,schema:S,table:E,filter:A}}=_,k=m&&m[x];if(k&&k.event===T&&Fo.isFilterValueEqual(k.schema,S)&&Fo.isFilterValueEqual(k.table,E)&&Fo.isFilterValueEqual(k.filter,A))v.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),this.state=st.errored,e==null||e(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(fr.SUBSCRIBED);return}}).receive("error",m=>{this.state=st.errored,e==null||e(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===st.joined&&e===Ks.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ap(this,Ln.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ap(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>u$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Ln;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,w,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=m.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var y,w,b,v,x,_,T,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,A=(y=m.filter)===null||y===void 0?void 0:y.event;return E&&((w=n.ids)===null||w===void 0?void 0:w.includes(E))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((v=m.filter)===null||v===void 0)&&v.table)||m.filter.table===((x=n.data)===null||x===void 0?void 0:x.table))}else{const E=(T=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:b,commit_timestamp:v,type:x,errors:_}=y;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:v,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Fo.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ln.close,{},e)}_onError(e){this._on(Ln.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Tb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Tb(e.columns,e.old_record)),n}}const sp=()=>{},Bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y$=[1e3,2e3,5e3,1e4],v$=1e4,w$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b${constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gm,this.transport=null,this.heartbeatIntervalMs=Bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sp,this.ref=0,this.reconnectTimer=null,this.vsn=Eb,this.logger=sp,this.conn=null,this.sendBuffer=[],this.serializer=new c$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Vm.websocket}`,this.httpEndpoint=VC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i$.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return ki.Connecting;case Br.open:return ki.Open;case Br.closing:return ki.Closing;default:return ki.Closed}}isConnected(){return this.connectionState()===ki.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Fo(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(l$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Br.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Br.open||this.conn.readyState===Br.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ln.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([w$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:a$};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ln.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new BC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Gm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Bu.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:sp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Eb,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>y$[y-1]||v$,this.vsn){case FC:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,w)=>w(JSON.parse(y));break;case s$:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var wl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function x$(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function _$(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function S$(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=x$(t.baseUrl,r,i),l=await _$(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,y=m==null?void 0:m.error;throw new wl((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Gu(t){return t.join("")}var E$=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Gu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gu(t.namespace)}`}),!0}catch(e){if(e instanceof wl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof wl&&n.status===409)return;throw n}}};function po(t){return t.join("")}var T$=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${po(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${po(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${po(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${po(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${po(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${po(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof wl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof wl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},A$=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=S$({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new E$(this.client,e),this.tableOps=new T$(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},kf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ze(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var C$=class extends kf{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hm=class extends kf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const jv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),k$=()=>Response,qm=t=>{if(Array.isArray(t))return t.map(n=>qm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=qm(r)}),e},P$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},I$=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function N$(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O$(t){var e=N$(t,"string");return bl(e)=="symbol"?e:e+""}function R$(t,e,n){return(e=O$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kb(Object(n),!0).forEach(function(r){R$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const lp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},M$=async(t,e,n)=>{t instanceof await k$()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new C$(lp(r),i,o))}).catch(r=>{e(new Hm(lp(r),r))}):e(new Hm(lp(t),t))},$$=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(P$(r)?(i.headers=oe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),oe(oe({},i),n))};async function mu(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,$$(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>M$(l,s,r))})}async function xl(t,e,n,r){return mu(t,"GET",e,n,r)}async function $n(t,e,n,r,i){return mu(t,"POST",e,r,i,n)}async function Wm(t,e,n,r,i){return mu(t,"PUT",e,r,i,n)}async function D$(t,e,n,r){return mu(t,"HEAD",e,oe(oe({},n),{},{noResolveJson:!0}),r)}async function Uv(t,e,n,r,i){return mu(t,"DELETE",e,r,i,n)}var L$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}}};let zC;zC=Symbol.toStringTag;var j$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[zC]="BlobDownloadBuilder",this.promise=null}asStream(){return new L$(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}}};const U$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var F$=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=jv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=oe(oe({},Pb),r);let s=oe(oe({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=oe(oe({},s),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),d=await(t=="PUT"?Wm:$n)(i.fetch,`${i.url}/object/${c}`,o,oe({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=oe({upsert:Pb.upsert},r),c=oe(oe({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:o,fullPath:(await Wm(i.fetch,s.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=oe({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await $n(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new kf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await $n(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await $n(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await $n(r.fetch,`${r.url}/object/sign/${i}`,oe({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await $n(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>oe(oe({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>xl(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new j$(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:qm(await xl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await D$(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ze(r)&&r instanceof Hm){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await Uv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=oe(oe(oe({},U$),e),{},{prefix:t||""});return{data:await $n(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=oe({},t);return{data:await $n(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const HC="2.90.1",qC={"X-Client-Info":`storage-js/${HC}`};var B$=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=oe(oe({},qC),e),this.fetch=jv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await xl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await xl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await $n(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Wm(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await $n(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Uv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},G$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},qC),e),this.fetch=jv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await $n(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await xl(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Uv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!I$(t))throw new kf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new A$({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Fv={"X-Client-Info":`storage-js/${HC}`,"Content-Type":"application/json"};var WC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function rn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var up=class extends WC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},V$=class extends WC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Bv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),z$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ib=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H$=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new up(Ib(o),r,a))}).catch(()=>{const o=r+"";e(new up(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new up(i.statusText||`HTTP ${r} error`,r,o))}}else e(new V$(Ib(t),t))},q$=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(z$(r)?(i.headers=oe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,oe(oe({},i),n)):i};async function W$(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,q$(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>H$(l,s,r))})}async function on(t,e,n,r,i){return W$(t,"POST",e,r,i,n)}var K$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},Fv),e),this.fetch=Bv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await on(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await on(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}}},J$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},Fv),e),this.fetch=Bv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await on(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await on(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await on(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}},Y$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=oe(oe({},Fv),e),this.fetch=Bv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await on(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await on(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}}},X$=class extends Y${constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Q$(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Q$=class extends K${constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Z$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Z$=class extends J${constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,oe(oe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},eD=class extends B${constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new F$(this.url,this.headers,t,this.fetch)}get vectors(){return new X$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new G$(this.url+"/iceberg",this.headers,this.fetch)}};const KC="2.90.1",Eo=30*1e3,Km=3,cp=Km*Eo,tD="http://localhost:9999",nD="supabase.auth.token",rD={"X-Client-Info":`gotrue-js/${KC}`},Jm="X-Supabase-Api-Version",JC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oD=10*60*1e3;class _l extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aD extends _l{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sD(t){return ee(t)&&t.name==="AuthApiError"}class Pi extends _l{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ir extends _l{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Qt extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lD(t){return ee(t)&&t.name==="AuthSessionMissingError"}class mo extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vu extends Ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zu extends Ir{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uD(t){return ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nb extends Ir{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cD extends Ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ym extends Ir{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function dp(t){return ee(t)&&t.name==="AuthRetryableFetchError"}class Ob extends Ir{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xm extends Ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rb=` 	
\r=`.split(""),dD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rb.length;e+=1)t[Rb[e].charCodeAt(0)]=-2;for(let e=0;e<Xc.length;e+=1)t[Xc[e].charCodeAt(0)]=e;return t})();function Mb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xc[r]),e.queuedBits-=6}}function YC(t,e,n){const r=dD[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $b(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{pD(a,r,n)};for(let a=0;a<t.length;a+=1)YC(t.charCodeAt(a),i,o);return e.join("")}function fD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hD(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}fD(r,e)}}function pD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ea(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)YC(t.charCodeAt(i),n,r);return new Uint8Array(e)}function mD(t){const e=[];return hD(t,n=>e.push(n)),new Uint8Array(e)}function Ri(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Mb(i,n,r)),Mb(null,n,r),e.join("")}function gD(t){return Math.round(Date.now()/1e3)+t}function yD(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",vi={tested:!1,writable:!1},XC=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vi.tested)return vi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vi.tested=!0,vi.writable=!0}catch{vi.tested=!0,vi.writable=!1}return vi.writable};function vD(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const QC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",To=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},wi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bt=async(t,e)=>{await t.removeItem(e)};class Pf{constructor(){this.promise=new Pf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Pf.promiseConstructor=Promise;function fp(t){const e=t.split(".");if(e.length!==3)throw new Xm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!iD.test(e[r]))throw new Xm("JWT not in base64url format");return{header:JSON.parse($b(e[0])),payload:JSON.parse($b(e[1])),signature:ea(e[2]),raw:{header:e[0],payload:e[1]}}}async function bD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xD(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function _D(t){return("0"+t.toString(16)).substr(-2)}function SD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,_D).join("")}async function ED(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function TD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ED(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(t,e,n=!1){const r=SD();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await To(t,`${e}-code-verifier`,i);const o=await TD(r);return[o,r===o?"plain":"s256"]}const AD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CD(t){const e=t.headers.get(Jm);if(!e||!e.match(AD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function PD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ID=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yo(t){if(!ID.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ND(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function Db(t){return JSON.parse(JSON.stringify(t))}const Si=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OD=[502,503,504];async function Lb(t){var e;if(!wD(t))throw new Ym(Si(t),0);if(OD.includes(t.status))throw new Ym(Si(t),t.status);let n;try{n=await t.json()}catch(o){throw new Pi(Si(o),o)}let r;const i=CD(t);if(i&&i.getTime()>=JC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ob(Si(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Ob(Si(n),t.status,n.weak_password.reasons);throw new aD(Si(n),t.status||500,r)}const RD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ie(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Jm]||(o[Jm]=JC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await MD(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function MD(t,e,n,r,i,o){const a=RD(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Ym(Si(l),0)}if(s.ok||await Lb(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Lb(l)}}function Rn(t){var e;let n=null;LD(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=gD(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function jb(t){const e=Rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Hr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $D(t){return{data:t,error:null}}function DD(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=Cf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Ub(t){return t}function LD(t){return t.access_token&&t.refresh_token&&t.expires_in}const pp=["global","local","others"];class jD{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=QC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=pp[0]){if(pp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pp.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Hr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Cf(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ub});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){yo(e);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yo(e);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Hr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yo(e);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Hr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yo(e.userId);try{const{data:n,error:r}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yo(e.userId),yo(e.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Ub});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ee(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}}function Fb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const vo={debug:!!(globalThis&&XC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class UD extends ZC{}async function FD(t,e,n){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new UD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function BD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ek(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function GD(t){return parseInt(t,16)}function VD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function zD(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=ek(t.address),y=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}v+=x}return`${b}
${v}`}class et extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Qc extends et{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function HD({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(tk(a)){if(o.rp.id!==a)return new et({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function qD({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(tk(r)){if(n.rpId!==r)return new et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const KD=new WD;function JD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Cf(t,["challenge","user","excludeCredentials"]),o=ea(e).buffer,a=Object.assign(Object.assign({},n),{id:ea(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ea(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function YD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Cf(t,["challenge","allowCredentials"]),i=ea(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ea(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function XD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ri(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ri(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ri(new Uint8Array(i.authenticatorData)),clientDataJSON:Ri(new Uint8Array(i.clientDataJSON)),signature:Ri(new Uint8Array(i.signature)),userHandle:i.userHandle?Ri(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tk(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Bb(){var t,e;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ZD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qc("Browser returned unexpected credential type",e)}:{data:null,error:new Qc("Empty credential response",e)}}catch(e){return{data:null,error:HD({error:e,options:t})}}}async function eL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qc("Browser returned unexpected credential type",e)}:{data:null,error:new Qc("Empty credential response",e)}}catch(e){return{data:null,error:qD({error:e,options:t})}}}const tL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Zc(s,a):r[o]=Zc(a)}else r[o]=a}return r}function rL(t,e){return Zc(tL,t,e||{})}function iL(t,e){return Zc(nL,t,e||{})}class oL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??KD.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=rL(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await ZD({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=iL(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await eL(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return ee(a)?{data:null,error:a}:{data:null,error:new Pi("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new _l("rpId is required for WebAuthn authentication")};try{if(!Bb())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ee(a)?{data:null,error:a}:{data:null,error:new Pi("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new _l("rpId is required for WebAuthn registration")};try{if(!Bb())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ee(a)?{data:null,error:a}:{data:null,error:new Pi("Unexpected error in register",a)}}}}BD();const aL={url:tD,storageKey:nD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Gb(t,e,n){return await n()}const wo={};class Sl{get jwks(){var e,n;return(n=(e=wo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},aL),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Sl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Sl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&_t()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new jD({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=QC(o.fetch),this.lock=o.lock||Gb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&_t()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=FD:this.lock=Gb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:XC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Fb(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${KC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(_t()&&(n=vD(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),_t()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),uD(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?this._returnResult({error:n}):this._returnResult({error:new Pi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Rn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await go(this.storage,this.storageKey)),o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:Rn})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rn})}else throw new Vu("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jb})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jb})}else throw new Vu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new mo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:b,statement:v,options:x}=e;let _;if(_t())if(typeof b=="object")_=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=ek(S[0]);let A=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const C=await _.request({method:"eth_chainId"});A=GD(C)}const k={domain:T.host,address:E,statement:v,uri:T.href,version:"1",chainId:A,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=zD(k),y=await _.request({method:"personal_sign",params:[VD(m),E]})}try{const{data:w,error:b}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Rn});if(b)throw b;if(!w||!w.session||!w.user){const v=new mo;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(ee(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:b,wallet:v,statement:x,options:_}=e;let T;if(_t())if(typeof v=="object")T=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),w=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:b,error:v}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ri(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Rn});if(v)throw v;if(!b||!b.session||!b.user){const x=new mo;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(ee(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await wi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new cD;const{data:o,error:a}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rn});if(await bt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new mo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new mo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await go(this.storage,this.storageKey));const{error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Vu("You must provide either an email or phone number.")}catch(s){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Rn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await go(this.storage,this.storageKey));const u=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:$D});return!((o=u.data)===null||o===void 0)&&o.url&&_t()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Qt;const{error:i}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Vu("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<cp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await wi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=hp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ND(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Hr})})}catch(n){if(ee(n))return lD(n)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Qt;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await go(this.storage,this.storageKey));const{data:u,error:c}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Hr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=fp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Qt;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!_t())throw new zu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Nb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nb("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new zu("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=Eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:w,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await wi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(sD(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=yD(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await go(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return _t()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ee(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rn}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new mo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await xD(async i=>(i>0&&await bD(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&dp(o)&&Date.now()+a-r<Eo})}catch(r){if(this._debug(n,"error",r),ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),_t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await wi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await To(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:hp()}else if(i&&!i.user&&!i.user){const a=await wi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await bt(this.storage,this.storageKey+"-user"),await To(this.storage,this.storageKey,i)):i.user=hp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${cp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),dp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pf;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Qt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ee(o)){const a={data:null,error:o};return dp(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await To(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Db(i);await To(this.storage,this.storageKey,o)}else{const i=Db(n);await To(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Eo}ms, refresh threshold is ${Km} ticks`),i<=Km&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ZC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await go(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?XD(e.webauthn.credential_response):QD(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:JD(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:YD(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fp(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Qt});const a=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&_t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Qt});const a=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&_t()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(e){if(ee(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+oD>i)return r;const{data:o,error:a}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=fp(r);n!=null&&n.allowExpired||kD(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=PD(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,mD(`${s}.${l}`)))throw new Xm("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}}Sl.nextInstanceID={};const sL=Sl,lL="2.90.1";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const uL={"X-Client-Info":`supabase-js-${Ms}/${lL}`},cL={headers:uL},dL={schema:"public"},fL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hL={};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function pL(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mL(t){var e=pL(t,"string");return El(e)=="symbol"?e:e+""}function gL(t,e,n){return(e=mL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vb(Object(n),!0).forEach(function(r){gL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const yL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vL=()=>Headers,wL=(t,e,n)=>{const r=yL(n),i=vL();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Ke(Ke({},a),{},{headers:u}))}};function bL(t){return t.endsWith("/")?t:t+"/"}function xL(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Ke(Ke({},l),i),auth:Ke(Ke({},u),o),realtime:Ke(Ke({},c),a),storage:{},global:Ke(Ke(Ke({},d),s),{},{headers:Ke(Ke({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function _L(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SL=class extends sL{constructor(t){super(t)}},EL=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=_L(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:dL,realtime:hL,auth:Ke(Ke({},fL),{},{storageKey:a}),global:cL},l=xL(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=wL(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new r$(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new eD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Q2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SL({url:this.authUrl.href,headers:Ke(Ke({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new b$(this.realtimeUrl.href,Ke(Ke({},t),{},{params:Ke(Ke({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const TL=(t,e,n)=>new EL(t,e,n);function AL(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}AL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gv="https://vsqytdzbxxhketbvcoif.supabase.co",nk=`sb_publishable_m-b7gwiZtZu4k0eaXHPoTg_mM_qFuvG
`;console.log("Supabase URL Detected:","Yes",`(Length: ${Gv.length})`);console.log("Supabase Key Detected:","Yes",`(Length: ${nk.length})`);const ga=Gv.startsWith("http"),rk="snapcal_mode_preference",Qm=()=>ga?localStorage.getItem(rk)==="local"?"local":"cloud":"local",CL=t=>{localStorage.setItem(rk,t),window.location.reload()},Ie=ga&&Qm()==="cloud";ga?Ie||console.log("Supabase configured but user prefers Local Storage."):console.log("Supabase is not configured. Using Mock Auth & Local Storage.");const nt=TL(ga?Gv:"https://placeholder.supabase.co",ga?nk:"placeholder"),If="snapcal_mock_session",ed="snapcal_auth_change",kL=t=>new Promise(e=>setTimeout(e,t)),ik=async(t,e)=>{var n,r;if(Ie){const{data:i,error:o}=await nt.auth.signInWithPassword({email:t,password:e});if(o)throw new Error(o.message);return{user:{id:((n=i.user)==null?void 0:n.id)||"",email:(r=i.user)==null?void 0:r.email}}}else{await kL(600);const i={id:btoa(t.toLowerCase()),email:t};return localStorage.setItem(If,JSON.stringify(i)),window.dispatchEvent(new Event(ed)),{user:i}}},PL=async(t,e)=>{var n,r;if(Ie){const{data:i,error:o}=await nt.auth.signUp({email:t,password:e});if(o)throw new Error(o.message);return{user:{id:((n=i.user)==null?void 0:n.id)||"",email:(r=i.user)==null?void 0:r.email}}}else return ik(t,e)},IL=async()=>{if(Ie){const{error:t}=await nt.auth.signOut();if(t)throw t}else localStorage.removeItem(If),window.dispatchEvent(new Event(ed))},kn=async()=>{if(Ie){const{data:t}=await nt.auth.getUser();return t.user?{id:t.user.id,email:t.user.email}:null}else{const t=localStorage.getItem(If);return t?JSON.parse(t):null}},NL=t=>{if(Ie){const{data:e}=nt.auth.onAuthStateChange((n,r)=>{r!=null&&r.user?t({id:r.user.id,email:r.user.email}):t(null)});return()=>e.subscription.unsubscribe()}else{const e=()=>{const n=localStorage.getItem(If);t(n?JSON.parse(n):null)};return window.addEventListener(ed,e),window.addEventListener("storage",e),()=>{window.removeEventListener(ed,e),window.removeEventListener("storage",e)}}},Vv="snapcal_data_v1",Tl="snapcal_settings_v1",Al="snapcal_profile_v1",zv="snapcal_summaries_v1",Yi=()=>{try{const t=localStorage.getItem(Vv);return t?JSON.parse(t):[]}catch{return[]}},Hv=t=>{try{localStorage.setItem(Vv,JSON.stringify(t))}catch(e){throw e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"||String(e).toLowerCase().includes("quota")?new Error("Browser Storage Full: Your local history (with photos) has reached the browser's 5MB limit. Please delete some old entries in the History tab or connect to Supabase for unlimited cloud storage."):e}},ok=()=>{try{const t=localStorage.getItem(zv);return t?JSON.parse(t):[]}catch{return[]}},OL=t=>{try{localStorage.setItem(zv,JSON.stringify(t))}catch{throw new Error("Browser Storage Full: Cannot even save simple summaries. Please clear your browser data.")}},ak=t=>({id:t.id,user_id:t.user_id,timestamp:t.timestamp,date:t.date,time:t.time,food_item:t.food_item,calories:t.calories,protein:t.protein||0,carbs:t.carbs||0,fat:t.fat||0,confidence:t.confidence,imageUrl:t.image_url,isManual:t.is_manual,ingredients:t.ingredients||[],originalAiResponse:t.original_ai_response}),Nf=(t,e)=>{console.error(`Supabase ${e} Error:`,t);const n=(t==null?void 0:t.message)||String(t)||"",r=n.toLowerCase();throw r.includes("quota")||r.includes("limit")||r.includes("tier")?new Error("Cloud Quota Reached: Your Supabase storage limit has been exceeded. Try deleting old entries."):r.includes("relation")||r.includes("column")||r.includes("does not exist")?new Error("Database Setup Required: It looks like the 'food_entries' table is missing in Supabase. Please check the Profile tab for the setup SQL script."):r.includes("policy")||r.includes("permission")||r.includes("row-level security")?new Error("Permission Denied: Supabase RLS policies are blocking this save. Ensure authenticated users have 'INSERT' and 'UPDATE' access."):new Error(`Cloud Save Failed: ${n}`)},sk=async t=>{const e=await kn();if(!e)throw new Error("User must be logged in to save.");if(!Ie){const r=Yi(),i=r.findIndex(a=>a.id===t.id),o={...t,user_id:e.id};i>=0?r[i]=o:r.push(o),Hv(r);return}const{error:n}=await nt.from("food_entries").upsert({id:t.id,user_id:e.id,timestamp:t.timestamp,date:t.date,time:t.time,food_item:t.food_item,calories:t.calories,protein:t.protein,carbs:t.carbs,fat:t.fat,confidence:t.confidence,is_manual:t.isManual,image_url:t.imageUrl,ingredients:t.ingredients,original_ai_response:t.originalAiResponse});n&&Nf(n,"Save Entry")},qv=async()=>{const t=await kn();if(!t)return[];if(!Ie)return Yi().filter(r=>r.user_id===t.id).sort((r,i)=>i.timestamp.localeCompare(r.timestamp));const{data:e,error:n}=await nt.from("food_entries").select("*").eq("user_id",t.id).order("timestamp",{ascending:!1});return n?(console.error("Supabase Fetch Error:",n),n.message.includes("relation")?[]:[]):e?e.map(ak):[]},lk=async()=>{const t=await kn();if(!t)return[];const e=await qv(),n={};e.forEach(o=>{n[o.date]||(n[o.date]=[]),n[o.date].push(o)});let r=[];if(!Ie)r=ok().filter(o=>o.user_id===t.id);else try{const{data:o,error:a}=await nt.from("daily_summaries").select("*").eq("user_id",t.id);!a&&o&&(r=o)}catch{console.warn("Summary fetch failed, likely missing table")}const i={};return r.forEach(o=>{i[o.date]={date:o.date,totalCalories:o.total_calories,totalProtein:o.total_protein,totalCarbs:o.total_carbs,totalFat:o.total_fat,entries:[]}}),Object.keys(n).forEach(o=>{const a=n[o];i[o]={date:o,totalCalories:a.reduce((s,l)=>s+l.calories,0),totalProtein:a.reduce((s,l)=>s+(l.protein||0),0),totalCarbs:a.reduce((s,l)=>s+(l.carbs||0),0),totalFat:a.reduce((s,l)=>s+(l.fat||0),0),entries:a}}),Object.values(i).sort((o,a)=>new Date(a.date).getTime()-new Date(o.date).getTime())},zb=async()=>{const t=await kn();if(!t)return;const e=new Date;e.setDate(e.getDate()-7);const n=e.toISOString().split("T")[0];let r=[];if(!Ie)r=Yi().filter(o=>o.user_id===t.id&&o.date<n);else try{const{data:o}=await nt.from("food_entries").select("*").eq("user_id",t.id).lt("date",n);o&&(r=o.map(ak))}catch{return}if(r.length===0)return;const i={};r.forEach(o=>{i[o.date]||(i[o.date]=[]),i[o.date].push(o)});for(const o of Object.keys(i)){const a=i[o],s={id:`${t.id}_${o}`,user_id:t.id,date:o,total_calories:a.reduce((l,u)=>l+u.calories,0),total_protein:a.reduce((l,u)=>l+(u.protein||0),0),total_carbs:a.reduce((l,u)=>l+(u.carbs||0),0),total_fat:a.reduce((l,u)=>l+(u.fat||0),0)};if(Ie)await nt.from("daily_summaries").upsert(s),await nt.from("food_entries").delete().eq("user_id",t.id).eq("date",o);else{const l=ok(),u=l.findIndex(d=>d.user_id===t.id&&d.date===o);u>=0?l[u]=s:l.push(s),OL(l);const c=Yi().filter(d=>!(d.user_id===t.id&&d.date===o));Hv(c)}}},uk=async t=>{const e=await kn();if(!e)throw new Error("Not logged in");if(!Ie){const r=Yi().filter(i=>!(i.id===t&&i.user_id===e.id));Hv(r);return}const{error:n}=await nt.from("food_entries").delete().eq("id",t).eq("user_id",e.id);n&&Nf(n,"Delete Entry")},Wv=async()=>{const t=await kn();if(!t)return 2e3;if(!Ie){const r=localStorage.getItem(Tl);return(r?JSON.parse(r):{})[t.id]||2e3}const{data:e,error:n}=await nt.from("user_settings").select("daily_goal").eq("user_id",t.id).single();return n||!e?2e3:e.daily_goal},Of=async t=>{const e=await kn();if(!e)throw new Error("Not logged in");if(!Ie){const r=localStorage.getItem(Tl),i=r?JSON.parse(r):{};i[e.id]=t,localStorage.setItem(Tl,JSON.stringify(i));return}const{error:n}=await nt.from("user_settings").upsert({user_id:e.id,daily_goal:t},{onConflict:"user_id"});n&&Nf(n,"Save Daily Goal")},Kv=async()=>{const t=await kn();if(!t)return null;if(!Ie){const r=localStorage.getItem(Al);return(r?JSON.parse(r):{})[t.id]||null}const{data:e,error:n}=await nt.from("user_profiles").select("name, height, weight, age, gender, activity_level, goal, equipment_access").eq("user_id",t.id).single();return n||!e?null:{name:e.name,height:e.height,weight:e.weight,age:e.age,gender:e.gender,activityLevel:e.activity_level,goal:e.goal,equipmentAccess:e.equipment_access}},Jv=async t=>{const e=await kn();if(!e)throw new Error("Not logged in");if(!Ie){const r=localStorage.getItem(Al),i=r?JSON.parse(r):{};i[e.id]=t,localStorage.setItem(Al,JSON.stringify(i));return}const{error:n}=await nt.from("user_profiles").upsert({user_id:e.id,name:t.name,height:t.height,weight:t.weight,age:t.age,gender:t.gender,activity_level:t.activityLevel,goal:t.goal,equipment_access:t.equipmentAccess},{onConflict:"user_id"});n&&Nf(n,"Save Profile")},RL=()=>Yi().length>0,ML=async()=>{if(!Ie)throw new Error("Must be in Cloud Mode to sync");const t=await kn();if(!t)throw new Error("Must be logged in to sync");const e=Yi();if(e.length>0){const i=e.map(a=>({id:a.id,user_id:t.id,timestamp:a.timestamp,date:a.date,time:a.time,food_item:a.food_item,calories:a.calories,protein:a.protein,carbs:a.carbs,fat:a.fat,confidence:a.confidence,is_manual:a.isManual,image_url:a.imageUrl,ingredients:a.ingredients,original_ai_response:a.originalAiResponse})),o=5;for(let a=0;a<i.length;a+=o){const s=i.slice(a,a+o),{error:l}=await nt.from("food_entries").upsert(s);if(l)throw console.error("Chunk upload failed",l),new Error(`Sync failed at item ${a+1}: `+l.message)}}const n=localStorage.getItem(Tl);if(n){const i=JSON.parse(n),o=Object.keys(i)[0];o&&i[o]&&await Of(i[o])}const r=localStorage.getItem(Al);if(r){const i=JSON.parse(r),o=Object.keys(i)[0];o&&i[o]&&await Jv(i[o])}localStorage.removeItem(Vv),localStorage.removeItem(zv),localStorage.removeItem(Tl),localStorage.removeItem(Al)},$L=async()=>{if(!Ie)return{ok:!0};if(!await kn())return{ok:!0};const{error:e}=await nt.from("food_entries").select("id").limit(1);return e?e.message.includes("relation")||e.code==="42P01"?{ok:!1,missingTables:!0,error:"Tables missing"}:{ok:!1,error:e.message}:{ok:!0}},td="snapcal_onboarding_v1",DL=async t=>{if(!t||!t.id)return!1;const e=localStorage.getItem(td),n=e?JSON.parse(e):{};if(n[t.id]===!0)return!0;if(!Ie)return!1;try{const{data:r,error:i}=await nt.from("user_settings").select("has_completed_onboarding").eq("user_id",t.id).maybeSingle(),o=(r==null?void 0:r.has_completed_onboarding)||!1;return o&&(n[t.id]=!0,localStorage.setItem(td,JSON.stringify(n))),o}catch{return!1}},ck=async t=>{if(!t||!t.id)return;const e=localStorage.getItem(td),n=e?JSON.parse(e):{};if(n[t.id]=!0,localStorage.setItem(td,JSON.stringify(n)),Ie)try{const{error:r}=await nt.from("user_settings").upsert({user_id:t.id,has_completed_onboarding:!0},{onConflict:"user_id"});r&&console.error("Cloud mark onboarding error:",r)}catch(r){console.error("Cloud mark onboarding exception:",r)}},LL=async t=>{await ck(t)},jt=({className:t,variant:e="primary",isLoading:n,children:r,...i})=>{const o="inline-flex items-center justify-center px-6 py-4 rounded-[24px] font-semibold transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none text-sm tracking-wide",a={primary:"bg-royal-600 text-white hover:bg-royal-700 shadow-[0_10px_20px_-10px_rgba(124,58,237,0.5)]",secondary:"bg-royal-50 text-royal-700 hover:bg-royal-100",ghost:"bg-transparent text-gray-500 hover:text-royal-600 hover:bg-royal-50"};return g.jsx("button",{className:de(o,a[e],t),disabled:n||i.disabled,...i,children:n?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r})};var jL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let UL,FL;function BL(){return{geminiUrl:UL,vertexUrl:FL}}function GL(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=BL();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nr{}function Y(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function VL(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Zm(t,i,o,0,a)}}function Zm(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Zm(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&Zm(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yv(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zL(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function HL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],WL(a)),e}function qL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],KL(a)),e}function WL(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>JL(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function KL(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>YL(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function JL(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],nj(n)),e}function YL(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],rj(n)),e}function XL(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function QL(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function ZL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],ej(a)),e}function ej(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function dk(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],tj(a)),e}function tj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function nj(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Yv(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function rj(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Yv(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hb;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hb||(Hb={}));var qb;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qb||(qb={}));var Wb;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Wb||(Wb={}));var ye;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ye||(ye={}));var Kb;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kb||(Kb={}));var Jb;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Jb||(Jb={}));var Yb;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Yb||(Yb={}));var Xb;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Xb||(Xb={}));var Qb;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Qb||(Qb={}));var Zb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Zb||(Zb={}));var ex;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ex||(ex={}));var tx;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(tx||(tx={}));var nx;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nx||(nx={}));var rx;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(rx||(rx={}));var ix;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ix||(ix={}));var ox;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(ox||(ox={}));var ax;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ax||(ax={}));var sx;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sx||(sx={}));var lx;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lx||(lx={}));var ux;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ux||(ux={}));var cx;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cx||(cx={}));var nd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(nd||(nd={}));var dx;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dx||(dx={}));var fx;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fx||(fx={}));var hx;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hx||(hx={}));var eg;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(eg||(eg={}));var px;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(px||(px={}));var mx;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mx||(mx={}));var gx;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(gx||(gx={}));var yx;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(yx||(yx={}));var vx;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vx||(vx={}));var wx;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(wx||(wx={}));var bx;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bx||(bx={}));var xx;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xx||(xx={}));var _x;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_x||(_x={}));var Sx;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Sx||(Sx={}));var Ex;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ex||(Ex={}));var Tx;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Tx||(Tx={}));var Ax;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Ax||(Ax={}));var Cx;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Cx||(Cx={}));var kx;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(kx||(kx={}));var Px;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Px||(Px={}));var Ix;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ix||(Ix={}));var Nx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Nx||(Nx={}));var Ox;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Ox||(Ox={}));var Rx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Rx||(Rx={}));var Mx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Mx||(Mx={}));var $x;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($x||($x={}));var Dx;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Dx||(Dx={}));var Lx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Lx||(Lx={}));var jx;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(jx||(jx={}));var Ux;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ux||(Ux={}));var Fx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fx||(Fx={}));var Bx;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Bx||(Bx={}));var Bo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Bo||(Bo={}));class tg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class vs{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,y]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(y!==null||y!==void 0)&&d.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(d))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Gx{}class Vx{}class ij{}class oj{}class aj{}class sj{}class zx{}class Hx{}class qx{}class lj{}class rd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new rd;let i;const o=e;return n?i=qL(o):i=HL(o),Object.assign(r,i),r}}class Wx{}class Kx{}class Jx{}class Yx{}class uj{}class cj{}class dj{}class Xv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Xv,o=ZL(e);return Object.assign(r,o),r}}class fj{}class hj{}class pj{}class Xx{}class mj{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class gj{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Qv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Qv,o=dk(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function fk(t,e){const n=ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function hk(t){return Array.isArray(t)?t.map(e=>id(e)):[id(t)]}function id(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function pk(t){const e=id(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mk(t){const e=id(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qx(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function gk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Qx(e)):[Qx(t)]}function ng(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Zx(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function e_(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rt(t){if(t==null)throw new Error("ContentUnion is required");return ng(t)?t:{role:"user",parts:gk(t)}}function Zv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rt(n)):[Rt(e)]}function _n(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Zx(t)||e_(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rt(t)]}const e=[],n=[],r=ng(t[0]);for(const i of t){const o=ng(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(Zx(i)||e_(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:gk(n)}),e}function yj(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ye).includes(n[0].toUpperCase())?n[0].toUpperCase():ye.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ye).includes(r.toUpperCase())?r.toUpperCase():ye.TYPE_UNSPECIFIED})}}function ta(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&yj(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ye).includes(s.toUpperCase())?s.toUpperCase():ye.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=ta(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(ta(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=ta(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function e0(t){return ta(t)}function t0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function n0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qa(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ta(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ta(e.response));return t}function Wa(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function vj(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Or(t,e){if(typeof e!="string")throw new Error("name must be a string");return vj(t,e,"cachedContents")}function yk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fi(t){return Yv(t)}function wj(t){return t!=null&&typeof t=="object"&&"name"in t}function bj(t){return t!=null&&typeof t=="object"&&"video"in t}function xj(t){return t!=null&&typeof t=="object"&&"uri"in t}function vk(t){var e;let n;if(wj(t)&&(n=t.name),!(xj(t)&&(n=t.uri,n===void 0))&&!(bj(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function wk(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function bk(t){for(const e of["models","tunedModels","publisherModels"])if(_j(t,e))return t[e];return[]}function _j(t,e){return t!==null&&typeof t=="object"&&e in t}function Sj(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Ej(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Sj(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function xk(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Tj(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _k(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ka(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Sk(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aj(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>aU(a))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function Cj(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function kj(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ec(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],Sk(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],Aj(_k(u))),e}function rg(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],Sk(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],Pj(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],Cj(_k(h)));const m=f(t,["completionStats"]);return m!=null&&p(e,["completionStats"],m),e}function Pj(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Ij(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>oU(t,a))),p(n,["requests","requests"],o)}return n}function Nj(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Oj(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Rj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ka(t,r)),n}function Mj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ka(t,r)),n}function $j(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Dj(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function Dj(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function Ek(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hU(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function Lj(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function jj(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],kj(Tj(i))),n}function t_(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Ij(t,xk(t,i)));const o=f(e,["config"]);return o!=null&&Lj(o,n),n}function Uj(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],Nj(xk(t,i)));const o=f(e,["config"]);return o!=null&&jj(o,n),n}function Fj(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Bj(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Kj(t,i));const o=f(e,["config"]);return o!=null&&Fj(o,n),n}function Gj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ka(t,r)),n}function Vj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ka(t,r)),n}function zj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function Hj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function qj(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=Zv(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],Wj(i,n)),VL(n,{"requests[].*":"requests[].request.*"})),n}function Wj(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Kj(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],qj(t,i)),n}function Jj(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Yj(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xj(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qj(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Ek(Rt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],e0(v));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let M=_;Array.isArray(M)&&(M=M.map(D=>pU(D))),p(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=Wa(T);Array.isArray(M)&&(M=M.map(D=>gU(qa(D)))),p(n,["tools"],M)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],mU(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Or(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const k=f(e,["mediaResolution"]);k!=null&&p(r,["mediaResolution"],k);const C=f(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],t0(C)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&p(r,["thinkingConfig"],P);const N=f(e,["imageConfig"]);N!=null&&p(r,["imageConfig"],iU(N));const I=f(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function Zj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>$j(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function eU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ka(t,r)),n}function tU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ka(t,r)),n}function nU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function rU(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function iU(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function oU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let s=_n(i);Array.isArray(s)&&(s=s.map(l=>Ek(l))),p(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&p(n,["request","generationConfig"],Qj(t,a,f(n,["request"],{}))),n}function aU(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],Zj(n));const r=f(t,["error"]);return r!=null&&p(e,["error"],r),e}function sU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function lU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function uU(t){const e={},n=f(t,["config"]);return n!=null&&sU(n,e),e}function cU(t){const e={},n=f(t,["config"]);return n!=null&&lU(n,e),e}function dU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ec(a))),p(e,["batchJobs"],o)}return e}function fU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>rg(a))),p(e,["batchJobs"],o)}return e}function hU(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Jj(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Yj(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Oj(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function pU(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function mU(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],Xj(r)),e}function gU(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],nU(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],rU(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Tr||(Tr={}));class io{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yU extends Nr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new io(Tr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=t_(this.apiClient,e),r=n._url,i=Y("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const m=d.request;m.systemInstruction=h,d.request=m}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Uj(this.apiClient,e);return s=Y("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>rg(c))}else{const u=t_(this.apiClient,e);return s=Y("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Ec(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bj(this.apiClient,e);return o=Y("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Ec(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tU(this.apiClient,e);return s=Y("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>rg(c))}else{const u=eU(this.apiClient,e);return s=Y("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Ec(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Mj(this.apiClient,e);a=Y("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Rj(this.apiClient,e);a=Y("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cU(e);return s=Y("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=fU(c),h=new Xx;return Object.assign(h,d),h})}else{const u=uU(e);return s=Y("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=dU(c),h=new Xx;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vj(this.apiClient,e);return s=Y("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Hj(c))}else{const u=Gj(this.apiClient,e);return s=Y("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>zj(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vU(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function n_(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BU(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function wU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=_n(a);Array.isArray(c)&&(c=c.map(d=>n_(d))),p(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],n_(Rt(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>VU(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],GU(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function bU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=_n(a);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],Rt(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>zU(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function xU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],fk(t,r));const i=f(e,["config"]);return i!=null&&wU(i,n),n}function _U(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],fk(t,r));const i=f(e,["config"]);return i!=null&&bU(i,n),n}function SU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Or(t,r)),n}function EU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Or(t,r)),n}function TU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function AU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function CU(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function kU(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PU(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function IU(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function NU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Or(t,r)),n}function OU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Or(t,r)),n}function RU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function MU(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function $U(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function DU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function LU(t){const e={},n=f(t,["config"]);return n!=null&&$U(n,e),e}function jU(t){const e={},n=f(t,["config"]);return n!=null&&DU(n,e),e}function UU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function FU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function BU(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],CU(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],kU(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],vU(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function GU(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],PU(r)),e}function VU(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],RU(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],MU(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function zU(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>IU(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function HU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function qU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function WU(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Or(t,r));const i=f(e,["config"]);return i!=null&&HU(i,n),n}function KU(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Or(t,r));const i=f(e,["config"]);return i!=null&&qU(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JU extends Nr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new io(Tr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_U(this.apiClient,e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=xU(this.apiClient,e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=OU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=NU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=EU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=AU(c),h=new Jx;return Object.assign(h,d),h})}else{const u=SU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=TU(c),h=new Jx;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=KU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=WU(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jU(e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=FU(c),h=new Yx;return Object.assign(h,d),h})}else{const u=LU(e);return s=Y("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=UU(c),h=new Yx;return Object.assign(h,d),h})}}}function od(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function r_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(t){return this instanceof se?(this.v=t,this):new se(t)}function Hn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(y){return Promise.resolve(y).then(m,d)}}function s(m,y){r[m]&&(i[m]=function(w){return new Promise(function(b,v){o.push([m,w,b,v])>1||l(m,w)})},y&&(i[m]=y(i[m])))}function l(m,y){try{u(r[m](y))}catch(w){h(o[0][3],w)}}function u(m){m.value instanceof se?Promise.resolve(m.value.v).then(c,d):h(o[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function h(m,y){m(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function qn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof r_=="function"?r_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YU(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Tk(n)}function Tk(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function XU(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function i_(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Tk(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class QU{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ZU(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ZU{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),XU(o)}async sendMessage(e){var n;await this.sendPromise;const r=Rt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Rt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?i_(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Hn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var d=!0,h=qn(e),m;m=yield se(h.next()),i=m.done,!i;d=!0){s=m.value,d=!1;const y=s;if(YU(y)){const w=(u=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield se(y)}}catch(y){o={error:y}}finally{try{!d&&!i&&(a=h.return)&&(yield se(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...i_(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Rf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e4(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function t4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function n4(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],vk(n)),e}function r4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function i4(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],vk(n)),e}function o4(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function a4(t){const e={},n=f(t,["config"]);return n!=null&&o4(n,e),e}function s4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l4 extends Nr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new io(Tr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=a4(e);return o=Y("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=s4(l),c=new fj;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=e4(e);return o=Y("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=t4(l),c=new hj;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=i4(e);return o=Y("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=n4(e);return o=Y("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=r4(l),c=new pj;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tc(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function u4(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>T4(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function c4(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function d4(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function f4(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function h4(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=f(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const w=f(t,["responseSchema"]);w!=null&&p(e,["responseSchema"],w);const b=f(t,["routingConfig"]);b!=null&&p(e,["routingConfig"],b);const v=f(t,["seed"]);v!=null&&p(e,["seed"],v);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],x);const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function p4(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function m4(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function g4(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],n0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],u4(Rt(y)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let E=Wa(w);Array.isArray(E)&&(E=E.map(A=>C4(qa(A)))),p(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],A4(b));const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function y4(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],h4(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],n0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],Rt(y));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let A=Wa(w);Array.isArray(A)&&(A=A.map(k=>k4(qa(k)))),p(e,["setup","tools"],A)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],b);const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);e!==void 0&&S!=null&&p(e,["setup","proactivity"],S);const E=f(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&p(e,["setup","explicitVadSignal"],E),n}function v4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],g4(i,n)),n}function w4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],y4(i,n)),n}function b4(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function x4(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function _4(t){const e={},n=f(t,["media"]);if(n!=null){let u=hk(n);Array.isArray(u)&&(u=u.map(c=>Tc(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],Tc(mk(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],Tc(pk(o)));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function S4(t){const e={},n=f(t,["media"]);if(n!=null){let u=hk(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],mk(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],pk(o));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function E4(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],P4(a));const s=f(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);l!=null&&p(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);return u!=null&&p(e,["voiceActivityDetectionSignal"],u),e}function T4(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],c4(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],d4(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],Tc(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function A4(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function C4(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],p4(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],m4(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function k4(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>f4(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function P4(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["promptTokensDetails"],m)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["cacheTokensDetails"],m)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["responseTokensDetails"],m)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["toolUsePromptTokensDetails"],m)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I4(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function N4(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],O4(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function O4(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function R4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let o=_n(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function M4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function $4(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&p(e,["statistics"],D4(r)),e}function D4(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Mf(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>HF(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function L4(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function j4(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function U4(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],Rt(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Pk(s))),p(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],IF(o)),n}function F4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=_n(i);Array.isArray(a)&&(a=a.map(s=>Mf(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&j4(o),n}function B4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=_n(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&U4(o,n),n}function G4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function V4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function z4(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function H4(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function q4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function W4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function K4(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=f(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","compressionQuality"],w);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&p(e,["parameters","addWatermark"],b);const v=f(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const x=f(t,["editMode"]);e!==void 0&&x!=null&&p(e,["parameters","editMode"],x);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&p(e,["parameters","editConfig","baseSteps"],_),n}function J4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>XF(l))),p(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&K4(a,n),n}function Y4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>$f(o))),p(e,["generatedImages"],i)}return e}function X4(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Q4(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function Z4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let s=Zv(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&X4(o,n);const a=f(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],ve(t,a)),n}function eF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=Zv(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&Q4(o,n),n}function tF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function nF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>$4(a))),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function rF(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function iF(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function oF(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aF(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sF(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function lF(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Mf(Rt(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],e0(v));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let M=_;Array.isArray(M)&&(M=M.map(D=>QF(D))),p(n,["safetySettings"],M)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let M=Wa(T);Array.isArray(M)&&(M=M.map(D=>oB(qa(D)))),p(n,["tools"],M)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],iB(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Or(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const k=f(e,["mediaResolution"]);k!=null&&p(r,["mediaResolution"],k);const C=f(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],t0(C)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&p(r,["thinkingConfig"],P);const N=f(e,["imageConfig"]);N!=null&&p(r,["imageConfig"],$F(N));const I=f(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function uF(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Rt(i));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const b=f(e,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const v=f(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],e0(v));const x=f(e,["responseJsonSchema"]);x!=null&&p(r,["responseJsonSchema"],x);const _=f(e,["routingConfig"]);_!=null&&p(r,["routingConfig"],_);const T=f(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let L=S;Array.isArray(L)&&(L=L.map(B=>B)),p(n,["safetySettings"],L)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let L=Wa(E);Array.isArray(L)&&(L=L.map(B=>Pk(qa(B)))),p(n,["tools"],L)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const k=f(e,["labels"]);n!==void 0&&k!=null&&p(n,["labels"],k);const C=f(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Or(t,C));const P=f(e,["responseModalities"]);P!=null&&p(r,["responseModalities"],P);const N=f(e,["mediaResolution"]);N!=null&&p(r,["mediaResolution"],N);const I=f(e,["speechConfig"]);I!=null&&p(r,["speechConfig"],t0(I));const M=f(e,["audioTimestamp"]);M!=null&&p(r,["audioTimestamp"],M);const D=f(e,["thinkingConfig"]);D!=null&&p(r,["thinkingConfig"],D);const j=f(e,["imageConfig"]);if(j!=null&&p(r,["imageConfig"],DF(j)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function o_(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=_n(i);Array.isArray(a)&&(a=a.map(s=>Mf(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],lF(t,o,n)),n}function a_(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["contents"]);if(i!=null){let a=_n(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],uF(t,o,n)),n}function s_(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>N4(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function l_(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function cF(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=f(t,["imageSize"]);if(e!==void 0&&m!=null&&p(e,["parameters","sampleImageSize"],m),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function dF(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=f(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","compressionQuality"],w);const b=f(t,["addWatermark"]);e!==void 0&&b!=null&&p(e,["parameters","addWatermark"],b);const v=f(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const x=f(t,["imageSize"]);e!==void 0&&x!=null&&p(e,["parameters","sampleImageSize"],x);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&p(e,["parameters","enhancePrompt"],_),n}function fF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&cF(o,n),n}function hF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&dF(o,n),n}function pF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>AF(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],Ck(i)),e}function mF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>$f(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],kk(i)),e}function gF(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Df(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>vB(m))),p(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function yF(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&p(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=f(t,["enhancePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m);const y=f(t,["generateAudio"]);e!==void 0&&y!=null&&p(e,["parameters","generateAudio"],y);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&p(e,["instances[0]","lastFrame"],Jn(w));const b=f(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(T=>wB(T))),p(e,["instances[0]","referenceImages"],_)}const v=f(t,["mask"]);e!==void 0&&v!=null&&p(e,["instances[0]","mask"],yB(v));const x=f(t,["compressionQuality"]);return e!==void 0&&x!=null&&p(e,["parameters","compressionQuality"],x),n}function vF(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],_F(a)),e}function wF(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],SF(a)),e}function bF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Df(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],Ik(a));const s=f(e,["source"]);s!=null&&EF(s,n);const l=f(e,["config"]);return l!=null&&gF(l,n),n}function xF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Jn(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],Nk(a));const s=f(e,["source"]);s!=null&&TF(s,n);const l=f(e,["config"]);return l!=null&&yF(l,n),n}function _F(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>kF(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function SF(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>PF(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function EF(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Df(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],Ik(o)),n}function TF(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Jn(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],Nk(o)),n}function AF(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],LF(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],Ck(i)),e}function $f(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],Ak(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&p(e,["safetyAttributes"],kk(i));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function CF(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],Ak(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function kF(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],mB(n)),e}function PF(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],gB(n)),e}function IF(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=f(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const w=f(t,["responseSchema"]);w!=null&&p(e,["responseSchema"],w);const b=f(t,["routingConfig"]);b!=null&&p(e,["routingConfig"],b);const v=f(t,["seed"]);v!=null&&p(e,["seed"],v);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],x);const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function NF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function OF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],ve(t,r)),n}function RF(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function MF(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function $F(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function DF(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=f(t,["personGeneration"]);i!=null&&p(e,["personGeneration"],i);const o=f(t,["outputMimeType"]);o!=null&&p(e,["imageOutputOptions","mimeType"],o);const a=f(t,["outputCompressionQuality"]);return a!=null&&p(e,["imageOutputOptions","compressionQuality"],a),e}function LF(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],fi(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Ak(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],fi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Df(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],fi(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Jn(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],fi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function jF(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],wk(t,s)),r}function UF(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],wk(t,s)),r}function FF(t,e){const n={},r=f(e,["config"]);return r!=null&&jF(t,r,n),n}function BF(t,e){const n={},r=f(e,["config"]);return r!=null&&UF(t,r,n),n}function GF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=bk(i);Array.isArray(o)&&(o=o.map(a=>ig(a))),p(e,["models"],o)}return e}function VF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=bk(i);Array.isArray(o)&&(o=o.map(a=>og(a))),p(e,["models"],o)}return e}function zF(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function ig(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const a=f(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],aB(a));const s=f(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&p(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&p(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&p(e,["topP"],h);const m=f(t,["topK"]);m!=null&&p(e,["topK"],m);const y=f(t,["thinking"]);return y!=null&&p(e,["thinking"],y),e}function og(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>rF(h))),p(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&p(e,["labels"],s);const l=f(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],sB(l));const u=f(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["checkpoints"],d)}return e}function HF(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],iF(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],oF(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],I4(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function qF(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],Jn(n)),e}function WF(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const m=f(t,["labels"]);return e!==void 0&&m!=null&&p(e,["labels"],m),n}function KF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["source"]);i!=null&&YF(i,n);const o=f(e,["config"]);return o!=null&&WF(o,n),n}function JF(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$f(i))),p(e,["generatedImages"],r)}return e}function YF(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Jn(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>qF(s))),p(e,["instances[0]","productImages"],a)}return n}function XF(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Jn(n));const r=f(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],zF(o));const a=f(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],L4(a));const s=f(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function Ck(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function kk(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function QF(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function ZF(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],Jn(n)),e}function eB(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function tB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["source"]);i!=null&&rB(i,n);const o=f(e,["config"]);return o!=null&&eB(o,n),n}function nB(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CF(i))),p(e,["generatedMasks"],r)}return e}function rB(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Jn(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],ZF(o)),n}function iB(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],aF(r)),e}function oB(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],RF(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],MF(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Pk(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>sF(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function aB(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function sB(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function lB(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function uB(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function cB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","name"],ve(t,r));const i=f(e,["config"]);return i!=null&&lB(i,n),n}function dB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&uB(i,n),n}function fB(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const m=f(t,["mode"]);return e!==void 0&&m!=null&&p(e,["parameters","mode"],m),n}function hB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],ve(t,r));const i=f(e,["image"]);i!=null&&p(n,["instances[0]","image"],Jn(i));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&fB(a,n),n}function pB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>$f(o))),p(e,["generatedImages"],i)}return e}function mB(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],fi(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function gB(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],fi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function yB(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],Jn(n));const r=f(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function vB(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Df(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function wB(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Jn(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Ik(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],fi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function Nk(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],fi(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bB(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function xB(t){const e={},n=f(t,["config"]);return n!=null&&bB(n,e),e}function _B(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function SB(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&_B(r,e),e}function EB(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function TB(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function AB(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],kB(a)),e}function CB(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&TB(i,e),e}function kB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function PB(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function IB(t){const e={},n=f(t,["config"]);return n!=null&&PB(n,e),e}function NB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function Ok(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function OB(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&Ok(r,e),e}function RB(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MB="Content-Type",$B="X-Server-Timeout",DB="User-Agent",ag="x-goog-api-client",LB="1.35.0",jB=`google-genai-sdk/${LB}`,UB="v1beta1",FB="v1beta";class BB{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:UB,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:FB,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&GB(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await u_(i),new tg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await u_(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Hn(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield se(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const y=JSON.parse(d);if("error"in y){const w=JSON.parse(JSON.stringify(y.error)),b=w.status,v=w.code,x=`got status: ${b}. ${JSON.stringify(y)}`;if(v>=400&&v<600)throw new Rf({message:x,status:v})}}catch(y){if(y.name==="ApiError")throw y}a+=d;let h=-1,m=0;for(;;){h=-1,m=0;for(const b of l){const v=a.indexOf(b);v!==-1&&(h===-1||v<h)&&(h=v,m=b.length)}if(h===-1)break;const y=a.substring(0,h);a=a.substring(h+m);const w=y.trim();if(w.startsWith(s)){const b=w.substring(s.length).trim();try{const v=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield se(new tg(v))}catch(v){throw new Error(`exception parsing stream chunk ${b}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=jB+" "+this.clientOptions.userAgentExtra;return e[DB]=n,e[ag]=n,e[MB]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append($B,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=Y("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&Ok(r,d);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function u_(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Rf({message:i,status:n}):new Error(i)}}function GB(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VB="mcp_used/unknown";let zB=!1;function Rk(t){for(const e of t)if(HB(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zB}function Mk(t){var e;const n=(e=t[ag])!==null&&e!==void 0?e:"";t[ag]=(n+` ${VB}`).trimStart()}function HB(t){return t!==null&&typeof t=="object"&&t instanceof r0}function qB(t){return Hn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield se(n.listTools({cursor:i}));for(const s of a.tools)yield yield se(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class r0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new r0(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,qn(qB(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Ej(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function WB(t,e,n){const r=new gj;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class KB{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=XB(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},m=this.apiClient,y={onopen:h,onmessage:_=>{WB(m,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},w=this.webSocketFactory.create(l,YB(a),y);w.connect(),await c;const x={setup:{model:ve(this.apiClient,e.model)}};return w.send(JSON.stringify(x)),new JB(w,this.apiClient)}}class JB{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=x4(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=b4(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Bo.PLAY)}pause(){this.sendPlaybackControl(Bo.PAUSE)}stop(){this.sendPlaybackControl(Bo.STOP)}resetContext(){this.sendPlaybackControl(Bo.RESET_CONTEXT)}close(){this.conn.close()}}function YB(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function XB(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QB="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZB(t,e,n){const r=new mj;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=E4(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class e5{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new KB(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&Rk(e.config.tools)&&Mk(d);const h=i5(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const C=this.apiClient.getApiKey();let P="BidiGenerateContent",N="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",N="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${P}?${N}=${C}`}let m=()=>{};const y=new Promise(C=>{m=C}),w=e.callbacks,b=function(){var C;(C=w==null?void 0:w.onopen)===null||C===void 0||C.call(w),m({})},v=this.apiClient,x={onopen:b,onmessage:C=>{ZB(v,w.onmessage,C)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(c,r5(h),x);_.connect(),await y;let T=ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const C=this.apiClient.getProject(),P=this.apiClient.getLocation();T=`projects/${C}/locations/${P}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[nd.AUDIO]}:e.config.responseModalities=[nd.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const C of E)if(this.isCallableTool(C)){const P=C;A.push(await P.tool())}else A.push(C);A.length>0&&(e.config.tools=A);const k={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=w4(this.apiClient,k):S=v4(this.apiClient,k),delete S.config,_.send(JSON.stringify(S)),new n5(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const t5={turnComplete:!0};class n5{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=_n(n.turns),e.isVertexAI()||(r=r.map(i=>Mf(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(QB)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},t5),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:S4(e)}:n={realtimeInput:_4(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function r5(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function i5(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c_=10;function d_(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(na(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function na(t){return"callTool"in t&&typeof t.callTool=="function"}function o5(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>na(i)))!==null&&r!==void 0?r:!1}function f_(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(na(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function h_(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a5 extends Nr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!o5(n)||d_(n.config))return await this.generateContentInternal(l);const u=f_(n);if(u.length>0){const w=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,d;const h=_n(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:c_;let y=0;for(;y<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,b=[];for(const v of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(na(v)){const _=await v.callTool(c.functionCalls);b.push(..._)}y++,d={role:"user",parts:b},l.contents=_n(l.contents),l.contents.push(w),l.contents.push(d),h_(l.config)&&(h.push(w),h.push(d))}return h_(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),d_(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=f_(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new io(Tr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>na(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&Rk(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Mk(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(na(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:c_;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Hn(this,arguments,function*(){for(var h,m,y,w,b,v;s<o;){a&&(s++,a=!1);const S=yield se(u.processParamsMaybeAddMcpUsage(d)),E=yield se(u.generateContentStreamInternal(S)),A=[],k=[];try{for(var x=!0,_=(m=void 0,qn(E)),T;T=yield se(_.next()),h=T.done,!h;x=!0){w=T.value,x=!1;const C=w;if(yield yield se(C),C.candidates&&(!((b=C.candidates[0])===null||b===void 0)&&b.content)){k.push(C.candidates[0].content);for(const P of(v=C.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(s<o&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(P.functionCall.name)){const N=yield se(c.get(P.functionCall.name).callTool([P.functionCall]));A.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(C){m={error:C}}finally{try{!x&&!h&&(y=_.return)&&(yield se(y.call(_)))}finally{if(m)throw m.error}}if(A.length>0){a=!0;const C=new vs;C.candidates=[{content:{role:"user",parts:A}}],yield yield se(C);const P=[];P.push(...k),P.push({role:"user",parts:A});const N=_n(d.contents).concat(P);d.contents=N}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=a_(this.apiClient,e);return s=Y("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=l_(c),h=new vs;return Object.assign(h,d),h})}else{const u=o_(this.apiClient,e);return s=Y("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=s_(c),h=new vs;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=a_(this.apiClient,e);return s=Y("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return Hn(this,arguments,function*(){var h,m,y,w;try{for(var b=!0,v=qn(d),x;x=yield se(v.next()),h=x.done,!h;b=!0){w=x.value,b=!1;const _=w,T=l_(yield se(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new vs;Object.assign(S,T),yield yield se(S)}}catch(_){m={error:_}}finally{try{!b&&!h&&(y=v.return)&&(yield se(y.call(v)))}finally{if(m)throw m.error}}})})}else{const u=o_(this.apiClient,e);return s=Y("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return Hn(this,arguments,function*(){var h,m,y,w;try{for(var b=!0,v=qn(d),x;x=yield se(v.next()),h=x.done,!h;b=!0){w=x.value,b=!1;const _=w,T=s_(yield se(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new vs;Object.assign(S,T),yield yield se(S)}}catch(_){m={error:_}}finally{try{!b&&!h&&(y=v.return)&&(yield se(y.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=eF(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=nF(c),h=new Gx;return Object.assign(h,d),h})}else{const u=Z4(this.apiClient,e);return s=Y("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=tF(c),h=new Gx;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hF(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=mF(c),h=new Vx;return Object.assign(h,d),h})}else{const u=fF(this.apiClient,e);return s=Y("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=pF(c),h=new Vx;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=J4(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Y4(l),c=new ij;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=hB(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=pB(l),c=new oj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=KF(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=JF(l),c=new aj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=tB(this.apiClient,e);return o=Y("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=nB(l),c=new sj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=OF(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>og(c))}else{const u=NF(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>ig(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=BF(this.apiClient,e);return s=Y("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=VF(c),h=new zx;return Object.assign(h,d),h})}else{const u=FF(this.apiClient,e);return s=Y("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=GF(c),h=new zx;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=dB(this.apiClient,e);return s=Y("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>og(c))}else{const u=cB(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>ig(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=H4(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=W4(c),h=new Hx;return Object.assign(h,d),h})}else{const u=z4(this.apiClient,e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=q4(c),h=new Hx;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=B4(this.apiClient,e);return s=Y("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=V4(c),h=new qx;return Object.assign(h,d),h})}else{const u=F4(this.apiClient,e);return s=Y("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=G4(c),h=new qx;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=R4(this.apiClient,e);return o=Y("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=M4(l),c=new lj;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=xF(this.apiClient,e);return s=Y("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=wF(c),h=new rd;return Object.assign(h,d),h})}else{const u=bF(this.apiClient,e);return s=Y("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=vF(c),h=new rd;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s5 extends Nr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=QL(e);return s=Y("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=XL(e);return s=Y("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=zL(e);return o=Y("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l5(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function u5(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>v5(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function c5(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],y5(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function d5(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],c5(t,r,n)),n}function f5(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function h5(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function p5(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function m5(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function g5(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],n0(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],u5(Rt(y)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let E=Wa(w);Array.isArray(E)&&(E=E.map(A=>b5(qa(A)))),p(e,["setup","tools"],E)}const b=f(t,["sessionResumption"]);e!==void 0&&b!=null&&p(e,["setup","sessionResumption"],w5(b));const v=f(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function y5(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],ve(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],g5(i,n)),n}function v5(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],f5(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],h5(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],l5(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function w5(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function b5(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],p5(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],m5(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x5(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function _5(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=x5(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class S5 extends Nr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=d5(this.apiClient,e);o=Y("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=_5(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E5(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function T5(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&E5(r,e),e}function A5(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function C5(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function k5(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&C5(r,e),e}function P5(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I5 extends Nr{constructor(e){super(),this.apiClient=e,this.list=async n=>new io(Tr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=A5(e);return o=Y("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=T5(e);i=Y("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=k5(e);return o=Y("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=P5(l),c=new uj;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N5 extends Nr{constructor(e,n=new I5(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new io(Tr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xB(e);return o=Y("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=EB(e);return o=Y("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=SB(e);i=Y("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=IB(e);return o=Y("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=NB(l),c=new cj;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=OB(e);return o=Y("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=RB(l),c=new dj;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=CB(e);return o=Y("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=AB(l),c=new Xv;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $k=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return $k=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const O5=()=>$k();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sg(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const lg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An extends Error{}class Bt extends An{constructor(e,n,r,i){super(`${Bt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Lf({message:r,cause:lg(n)});const o=n;return e===400?new Lk(e,o,r,i):e===401?new jk(e,o,r,i):e===403?new Uk(e,o,r,i):e===404?new Fk(e,o,r,i):e===409?new Bk(e,o,r,i):e===422?new Gk(e,o,r,i):e===429?new Vk(e,o,r,i):e>=500?new zk(e,o,r,i):new Bt(e,o,r,i)}}class ug extends Bt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Lf extends Bt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Dk extends Lf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Lk extends Bt{}class jk extends Bt{}class Uk extends Bt{}class Fk extends Bt{}class Bk extends Bt{}class Gk extends Bt{}class Vk extends Bt{}class zk extends Bt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R5=/^[a-z][a-z0-9+.-]*:/i,M5=t=>R5.test(t);let cg=t=>(cg=Array.isArray,cg(t));const $5=cg;let D5=$5;const p_=D5;function L5(t){if(!t)return!0;for(const e in t)return!1;return!0}function j5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const U5=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new An(`${t} must be an integer`);if(e<0)throw new An(`${t} must be a positive integer`);return e},F5=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B5=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ao="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G5(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const V5=()=>{var t,e,n,r,i;const o=G5();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":g_(Deno.build.os),"X-Stainless-Arch":m_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":g_((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":m_((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=z5();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function z5(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const m_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",g_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Hu;const H5=()=>Hu??(Hu=V5());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q5(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Hk(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function W5(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Hk({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function qk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function K5(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J5=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wk=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mp(t,e,n){return Wk(),new File(t,e??"unknown_file",n)}function Y5(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const X5=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kk=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Q5=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Kk(t),Z5=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function e3(t,e,n){if(Wk(),t=await t,Q5(t))return t instanceof File?t:mp([await t.arrayBuffer()],t.name);if(Z5(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),mp(await dg(i),e,n)}const r=await dg(t);if(e||(e=Y5(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return mp(r,e,n)}async function dg(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(Kk(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(X5(t))try{for(var s=!0,l=qn(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;a.push(...await dg(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${t3(t)}`)}return a}function t3(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jk{constructor(e){this._client=e}}Jk._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yk(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const y_=Object.freeze(Object.create(null)),n3=(t=Yk)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,d,h)=>{var m,y,w;/[?#]/.test(d)&&(i=!0);const b=r[h];let v=(i?encodeURIComponent:t)(""+b);return h!==r.length&&(b==null||typeof b=="object"&&b.toString===((w=Object.getPrototypeOf((y=Object.getPrototypeOf((m=b.hasOwnProperty)!==null&&m!==void 0?m:y_))!==null&&y!==void 0?y:y_))===null||w===void 0?void 0:w.toString))&&(v=b+"",o.push({start:c.length+d.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":v)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,m)=>{const y=" ".repeat(m.start-c),w="^".repeat(m.length);return c=m.start+m.length,h+y+w},"");throw new An(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},qu=n3(Yk);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xk extends Jk{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=od(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new An("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new An("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(qu`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(qu`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(qu`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=od(o,["api_version"]);return this._client.get(qu`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Xk._key=Object.freeze(["interactions"]);class Qk extends Xk{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r3(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Wu;function i0(t){let e;return(Wu??(e=new globalThis.TextEncoder,Wu=e.encode.bind(e)))(t)}let Ku;function v_(t){let e;return(Ku??(e=new globalThis.TextDecoder,Ku=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?i0(e):e;this.buffer=r3([this.buffer,n]);const r=[];let i;for(;(i=i3(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(v_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=v_(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}jf.NEWLINE_CHARS=new Set([`
`,"\r"]);jf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function i3(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function o3(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ad={off:0,error:200,warn:300,info:400,debug:500},w_=(t,e,n)=>{if(t){if(j5(ad,t))return t;Dt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ad))}`)}};function $s(){}function Ju(t,e,n){return!e||ad[t]>ad[n]?$s:e[t].bind(e)}const a3={error:$s,warn:$s,info:$s,debug:$s};let b_=new WeakMap;function Dt(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return a3;const i=b_.get(n);if(i&&i[0]===r)return i[1];const o={error:Ju("error",n,r),warn:Ju("warn",n,r),info:Ju("info",n,r),debug:Ju("debug",n,r)};return b_.set(n,[r,o]),o}const Ei=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Go{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Dt(r):console;function a(){return Hn(this,arguments,function*(){var l,u,c,d;if(i)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,y=qn(s3(e,n)),w;w=yield se(y.next()),l=w.done,!l;m=!0){d=w.value,m=!1;const b=d;if(!h)if(b.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield se(JSON.parse(b.data))}catch(v){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),v}}}catch(b){u={error:b}}finally{try{!m&&!l&&(c=y.return)&&(yield se(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(b){if(sg(b))return yield se(void 0);throw b}finally{h||n.abort()}})}return new Go(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Hn(this,arguments,function*(){var l,u,c,d;const h=new jf,m=qk(e);try{for(var y=!0,w=qn(m),b;b=yield se(w.next()),l=b.done,!l;y=!0){d=b.value,y=!1;const v=d;for(const x of h.decode(v))yield yield se(x)}}catch(v){u={error:v}}finally{try{!y&&!l&&(c=w.return)&&(yield se(c.call(w)))}finally{if(u)throw u.error}}for(const v of h.flush())yield yield se(v)})}function a(){return Hn(this,arguments,function*(){var l,u,c,d;if(i)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,y=qn(o()),w;w=yield se(y.next()),l=w.done,!l;m=!0){d=w.value,m=!1;const b=d;h||b&&(yield yield se(JSON.parse(b)))}}catch(b){u={error:b}}finally{try{!m&&!l&&(c=y.return)&&(yield se(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(b){if(sg(b))return yield se(void 0);throw b}finally{h||n.abort()}})}return new Go(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Go(()=>i(e),this.controller,this.client),new Go(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Hk({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=i0(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function s3(t,e){return Hn(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new An("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new An("Attempted to iterate over a response with no body");const s=new u3,l=new jf,u=qk(t.body);try{for(var c=!0,d=qn(l3(u)),h;h=yield se(d.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const y of l.decode(m)){const w=s.decode(y);w&&(yield yield se(w))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=d.return)&&(yield se(o.call(d)))}finally{if(i)throw i.error}}for(const m of l.flush()){const y=s.decode(m);y&&(yield yield se(y))}})}function l3(t){return Hn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=qn(t),u;u=yield se(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?i0(c):c;let h=new Uint8Array(a.length+d.length);h.set(a),h.set(d,a.length),a=h;let m;for(;(m=o3(a))!==-1;)yield yield se(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield se(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield se(a))})}class u3{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=c3(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function c3(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function d3(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return Dt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Go.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Dt(t).debug(`[${r}] response parsed`,Ei({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o0 extends Promise{constructor(e,n,r=d3){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new o0(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zk=Symbol("brand.privateNullableHeaders");function*f3(t){if(!t)return;if(Zk in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():p_(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=p_(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const ws=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of f3(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[Zk]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gp=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=jL)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var eP;class Uf{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=gp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=gp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=od(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:Uf.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(a=(o=w_(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:w_(gp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:q5(),this.encoder=J5,this._options=m,this.apiKey=c,this.apiVersion=d,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=ws([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ws([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ws([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new An(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ao}`}defaultIdempotencyKey(){return`stainless-node-retry-${O5()}`}makeStatusError(e,n,r,i){return Bt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=M5(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return L5(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new o0(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(Dt(this).debug(`[${h}] sending request`,Ei({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new ug;const w=new AbortController,b=await this.fetchWithTimeout(c,u,d,w).catch(lg),v=Date.now();if(b instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new ug;const T=sg(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Dt(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${_}`),Dt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${_})`,Ei({retryOfRequestLogID:r,url:c,durationMs:v-y,message:b.message})),this.retryRequest(s,n,r??h);throw Dt(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,Ei({retryOfRequestLogID:r,url:c,durationMs:v-y,message:b.message})),T?new Dk:new Lf({cause:b})}const x=`[${h}${m}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${v-y}ms`;if(!b.ok){const _=await this.shouldRetry(b);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await K5(b.body),Dt(this).info(`${x} - ${C}`),Dt(this).debug(`[${h}] response error (${C})`,Ei({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:v-y})),this.retryRequest(s,n,r??h,b.headers)}const T=_?"error; no more retries left":"error; not retryable";Dt(this).info(`${x} - ${T}`);const S=await b.text().catch(C=>lg(C).message),E=F5(S),A=E?void 0:S;throw Dt(this).debug(`[${h}] response error (${T})`,Ei({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:A,durationMs:Date.now()-y})),this.makeStatusError(b.status,E,A,b.headers)}return Dt(this).info(x),Dt(this).debug(`[${h}] response start`,Ei({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:v-y})),{response:b,options:s,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=od(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(d.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await B5(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=a,d=this.buildURL(l,u,c);"timeout"in a&&U5("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),y=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:y},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=ws([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),H5()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=ws([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:W5(e)}:this.encoder({body:e,headers:r})}}Uf.DEFAULT_TIMEOUT=6e4;class yt extends Uf{constructor(){super(...arguments),this.interactions=new Qk(this)}}eP=yt;yt.GeminiNextGenAPIClient=eP;yt.GeminiNextGenAPIClientError=An;yt.APIError=Bt;yt.APIConnectionError=Lf;yt.APIConnectionTimeoutError=Dk;yt.APIUserAbortError=ug;yt.NotFoundError=Fk;yt.ConflictError=Bk;yt.RateLimitError=Vk;yt.BadRequestError=Lk;yt.AuthenticationError=jk;yt.InternalServerError=zk;yt.PermissionDeniedError=Uk;yt.UnprocessableEntityError=Gk;yt.toFile=e3;yt.Interactions=Qk;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function p3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function m3(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function g3(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function y3(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function v3(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=f(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec"],x_(m))}else if(i==="PREFERENCE_TUNING"){const m=f(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec"],x_(m))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=f(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=f(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=f(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=f(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=f(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(c==="PREFERENCE_TUNING"){const m=f(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function w3(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&I3(o);const a=f(t,["config"]);return a!=null&&y3(a,n),n}function b3(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&N3(o,n,e);const a=f(t,["config"]);return a!=null&&v3(a,n,e),n}function x3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function _3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function S3(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function E3(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function T3(t,e){const n={},r=f(t,["config"]);return r!=null&&S3(r,n),n}function A3(t,e){const n={},r=f(t,["config"]);return r!=null&&E3(r,n),n}function C3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>tP(s))),p(n,["tuningJobs"],a)}return n}function k3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>fg(s))),p(n,["tuningJobs"],a)}return n}function P3(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function I3(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function N3(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function tP(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],yk(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],P3(h)),n}function fg(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],yk(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=f(t,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const y=f(t,["preTunedModel"]);y!=null&&p(n,["preTunedModel"],y);const w=f(t,["supervisedTuningSpec"]);w!=null&&p(n,["supervisedTuningSpec"],w);const b=f(t,["preferenceOptimizationSpec"]);b!=null&&p(n,["preferenceOptimizationSpec"],b);const v=f(t,["tuningDataStats"]);v!=null&&p(n,["tuningDataStats"],v);const x=f(t,["encryptionSpec"]);x!=null&&p(n,["encryptionSpec"],x);const _=f(t,["partnerModelTuningSpec"]);_!=null&&p(n,["partnerModelTuningSpec"],_);const T=f(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&p(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&p(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const k=f(t,["pipelineJob"]);k!=null&&p(n,["pipelineJob"],k);const C=f(t,["serviceAccount"]);C!=null&&p(n,["serviceAccount"],C);const P=f(t,["tunedModelDisplayName"]);P!=null&&p(n,["tunedModelDisplayName"],P);const N=f(t,["veoTuningSpec"]);return N!=null&&p(n,["veoTuningSpec"],N),n}function O3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["done"]);a!=null&&p(n,["done"],a);const s=f(t,["error"]);return s!=null&&p(n,["error"],s),n}function x_(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R3 extends Nr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new io(Tr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:eg.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_3(e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>fg(c))}else{const u=x3(e);return s=Y("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>tP(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=A3(e);return s=Y("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=k3(c),h=new Wx;return Object.assign(h,d),h})}else{const u=T3(e);return s=Y("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=C3(c),h=new Wx;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=p3(e);return s=Y("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=g3(c),h=new Kx;return Object.assign(h,d),h})}else{const u=h3(e);return s=Y("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=m3(c),h=new Kx;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=b3(e,e);return o=Y("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>fg(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=w3(e);return o=Y("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>O3(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $3=1024*1024*8,D3=3,L3=1e3,j3=2,sd="x-goog-upload-status";async function U3(t,e,n){var r;const i=await nP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[sd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function F3(t,e,n){var r;const i=await nP(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[sd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=dk(o),s=new Qv;return Object.assign(s,a),s}async function nP(t,e,n){var r,i;let o=0,a=0,s=new tg(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min($3,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=L3;for(;d<D3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[sd]));)d++,await G3(h),h=h*j3;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[sd])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function B3(t){return{size:t.size,type:t.type}}function G3(t){return new Promise(e=>setTimeout(e,t))}class V3{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await U3(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await F3(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await B3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z3{create(e,n,r){return new H3(e,n,r)}}class H3{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const __="x-goog-api-key";class q3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(__)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(__,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W3="gl-node/";class rP{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new yt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=GL(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new q3(this.apiKey);this.apiClient=new BB({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:W3+"web",uploader:new V3,downloader:new M3}),this.models=new a5(this.apiClient),this.live=new e5(this.apiClient,i,new z3),this.batches=new yU(this.apiClient),this.chats=new QU(this.models,this.apiClient),this.caches=new JU(this.apiClient),this.files=new l4(this.apiClient),this.operations=new s5(this.apiClient),this.authTokens=new S5(this.apiClient),this.tunings=new R3(this.apiClient),this.fileSearchStores=new N5(this.apiClient)}}const K3=()=>"AIzaSyBe0v3rn4bATheRJCE77AmY58Op-tiJJVU",iP=()=>{const t=K3();return console.log("Gemini Key Detected:","Yes",`(Length: ${t.length})`),new rP({apiKey:t})},oP=`
You are an expert AI nutritionist and mathematical calculator. 

SCENARIO 1: IMAGE/TEXT ESTIMATION
- Analyze food descriptions or images.
- Provide a detailed "receipt" breakdown of every ingredient.
- Estimate weights in grams (g) and calculate nutrition.

SCENARIO 2: STRICT RECALCULATION (User provided weights)
- If a list of ingredients with specific weights (grams) is provided, you MUST act as a precise calculator.
- IGNORE your previous estimations.
- Use the provided weights as the ABSOLUTE GROUND TRUTH.
- Calculate calories and macros strictly based on these weights.
- Return the recalculated totals.
`,aP=t=>{const e=(t==null?void 0:t.message)||String(t)||"",n=e.toLowerCase();return e.includes("429")||n.includes("quota")||n.includes("limit")||n.includes("exhausted")?"AI Limit Reached: You've sent too many requests. Please wait about 60 seconds for the quota to reset.":n.includes("api key")?"Configuration Error: Invalid API key. Please check your settings.":n.includes("network")||n.includes("fetch")?"Connection Error: Please check your internet connection and try again.":e||"An unexpected AI error occurred."};async function a0(t,e=2,n=2e3){try{return await t()}catch(r){const i=(r==null?void 0:r.message)||"";if((i.includes("429")||i.toLowerCase().includes("quota"))&&e>0)return console.warn(`Gemini Quota hit. Retrying in ${n}ms... (${e} retries left)`),await new Promise(a=>setTimeout(a,n)),a0(t,e-1,n*2);throw r}}const J3=async t=>{try{return await a0(async()=>{const n=await iP().models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:"Analyze this image. Breakdown into ingredients, weights in grams, calories, and total nutrition."}]},config:{systemInstruction:oP,responseMimeType:"application/json",responseSchema:{type:ye.OBJECT,properties:{item:{type:ye.STRING},calories:{type:ye.INTEGER},protein:{type:ye.INTEGER},carbs:{type:ye.INTEGER},fat:{type:ye.INTEGER},confidence:{type:ye.NUMBER},ingredients:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{name:{type:ye.STRING},grams:{type:ye.INTEGER},calories:{type:ye.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(n.text||"{}")})}catch(e){throw console.error("Gemini Analysis Error:",e),new Error(aP(e))}},S_=async(t,e)=>{try{return await a0(async()=>{let n="";e&&e.length>0?n=`USER MANUAL WEIGHT CORRECTION:
        The following ingredients have been updated with exact weights. 
        Perform a mathematical calculation for the nutrition of each item based strictly on these grams:
        
        ${e.map(a=>`- ${a.name}: ${a.grams}g`).join(`
`)}
        
        CRITICAL: 
        1. Calculate calories/macros from scratch for each item.
        2. Sum the totals.
        3. Do not adjust the weights provided.
        4. Return the new AnalysisResult.`:n=`Estimate nutrition for: "${t}".`;const i=await iP().models.generateContent({model:"gemini-3-flash-preview",contents:[{parts:[{text:n}]}],config:{systemInstruction:oP,responseMimeType:"application/json",responseSchema:{type:ye.OBJECT,properties:{item:{type:ye.STRING},calories:{type:ye.INTEGER},protein:{type:ye.INTEGER},carbs:{type:ye.INTEGER},fat:{type:ye.INTEGER},confidence:{type:ye.NUMBER},ingredients:{type:ye.ARRAY,items:{type:ye.OBJECT,properties:{name:{type:ye.STRING},grams:{type:ye.INTEGER},calories:{type:ye.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(i.text||"{}")})}catch(n){throw console.error("Gemini Text Analysis Error:",n),new Error(aP(n))}};let Yu;const Y3=new Uint8Array(16);function X3(){if(!Yu&&(Yu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yu(Y3)}const xt=[];for(let t=0;t<256;++t)xt.push((t+256).toString(16).slice(1));function Q3(t,e=0){return xt[t[e+0]]+xt[t[e+1]]+xt[t[e+2]]+xt[t[e+3]]+"-"+xt[t[e+4]]+xt[t[e+5]]+"-"+xt[t[e+6]]+xt[t[e+7]]+"-"+xt[t[e+8]]+xt[t[e+9]]+"-"+xt[t[e+10]]+xt[t[e+11]]+xt[t[e+12]]+xt[t[e+13]]+xt[t[e+14]]+xt[t[e+15]]}const Z3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),E_={randomUUID:Z3};function eG(t,e,n){if(E_.randomUUID&&!t)return E_.randomUUID();t=t||{};const r=t.random||(t.rng||X3)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Q3(r)}const tG=(t,e=800)=>new Promise((n,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=o=>{var s;const a=new Image;a.src=(s=o.target)==null?void 0:s.result,a.onload=()=>{const l=document.createElement("canvas");let u=a.width,c=a.height;u>e&&(c=e/u*c,u=e),l.width=u,l.height=c;const d=l.getContext("2d");d==null||d.drawImage(a,0,0,u,c),n(l.toDataURL("image/jpeg",.7))},a.onerror=l=>r(l)},i.onerror=o=>r(o)}),sP=({onClose:t,onSuccess:e,editEntry:n})=>{const[r,i]=R.useState("scan"),[o,a]=R.useState(n?"details":"upload"),[s,l]=R.useState((n==null?void 0:n.imageUrl)||null),[u,c]=R.useState(!1),[d,h]=R.useState(!1),[m,y]=R.useState(!1),[w,b]=R.useState(null),v=R.useRef(null),[x,_]=R.useState(""),T=new Date,S=`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}`,[E,A]=R.useState((n==null?void 0:n.date)||T.toISOString().split("T")[0]),[k,C]=R.useState((n==null?void 0:n.time)||S),[P,N]=R.useState((n==null?void 0:n.food_item)||""),[I,M]=R.useState((n==null?void 0:n.calories.toString())||""),[D,j]=R.useState((n==null?void 0:n.protein.toString())||""),[L,B]=R.useState((n==null?void 0:n.carbs.toString())||""),[$,U]=R.useState((n==null?void 0:n.fat.toString())||""),[G,K]=R.useState((n==null?void 0:n.ingredients)||[]),[H,te]=R.useState((n==null?void 0:n.confidence)||null),[he,Se]=R.useState((n==null?void 0:n.originalAiResponse)||null),Oe=async Z=>{if(Z.target.files&&Z.target.files[0]){const Ce=Z.target.files[0];try{const it=await tG(Ce);l(it),b(null)}catch{b("Failed to process image.")}}},wt=async()=>{if(s){c(!0),b(null);try{const Z=s.split(",")[1],Ce=await J3(Z);J(Ce),Se(Ce),a("details")}catch(Z){b(Z.message)}finally{c(!1)}}},ht=async()=>{if(x.trim()){c(!0),b(null);try{const Z=await S_(x);J(Z),Se(Z),a("details")}catch(Z){b(Z.message)}finally{c(!1)}}},J=Z=>{N(Z.item),M(Z.calories.toString()),j(Z.protein.toString()),B(Z.carbs.toString()),U(Z.fat.toString()),K(Z.ingredients||[]),te(Z.confidence)},ae=async()=>{h(!0),b(null);try{const Z=await S_(P,G);J(Z)}catch(Z){b(Z.message)}finally{h(!1)}},ue=(Z,Ce,it)=>{const $t=[...G];if(Ce==="grams"||Ce==="calories"){const fn=it===""?0:parseInt(it);$t[Z]={...$t[Z],[Ce]:isNaN(fn)?0:fn}}else $t[Z]={...$t[Z],[Ce]:it};K($t)},V=Z=>{K(G.filter((Ce,it)=>it!==Z))},Ae=()=>{K([...G,{name:"",grams:100,calories:0}])},pe=async()=>{if(!P.trim()||!I){b("Please fill required fields.");return}try{const[Z,Ce,it]=E.split("-").map(Number),[$t,fn]=k.split(":").map(Number),fo=new Date(Z,Ce-1,it,$t,fn);if(isNaN(fo.getTime()))throw new Error("Invalid date or time selected.");const _u=fo.toISOString(),us=Number(I),WO=Number(D)||0,KO=Number(L)||0,JO=Number($)||0;if(isNaN(us))throw new Error("Calories must be a valid number.");const YO={id:(n==null?void 0:n.id)||eG(),timestamp:_u,date:E,time:k,food_item:P,calories:us,protein:WO,carbs:KO,fat:JO,confidence:H||1,imageUrl:s||void 0,ingredients:G,originalAiResponse:he};y(!0),b(null),await sk(YO),e()}catch(Z){console.error("Save failed:",Z),b(Z.message||"Failed to save record.")}finally{y(!1)}},xe=w==null?void 0:w.includes("Limit Reached"),q=w==null?void 0:w.includes("Database Quota"),Pe=w==null?void 0:w.includes("Browser Storage Full");return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] p-6 shadow-2xl border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[o==="details"&&!n&&g.jsx("button",{onClick:()=>a("upload"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:g.jsx(IC,{size:24,className:"text-gray-900 dark:text-gray-50"})}),g.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-gray-50 tracking-tight",children:n?"Edit Record":o==="upload"?"Track Meal":"Meal Receipt"})]}),g.jsx("button",{onClick:t,className:"p-2 bg-gray-100 dark:bg-white/5 rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:g.jsx(ma,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),w&&g.jsxs("div",{className:`mb-4 p-4 rounded-3xl flex flex-col gap-3 animate-in shake-1 duration-300 ${xe?"bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/30 text-amber-700 dark:text-amber-400":q||Pe?"bg-orange-50 dark:bg-orange-950/30 border border-orange-100 dark:border-orange-900/30 text-orange-700 dark:text-orange-400":"bg-red-50 dark:bg-red-950/20 border border-red-100 dark:border-red-900/30 text-red-600 dark:text-red-400"}`,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[xe?g.jsx(M2,{className:"shrink-0 mt-0.5",size:18}):q||Pe?g.jsx(OC,{className:"shrink-0 mt-0.5",size:18}):g.jsx(CC,{className:"shrink-0 mt-0.5",size:18}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:xe?"AI limit reached":Pe?"Phone Storage Full":q?"Cloud Storage Full":"Action Failed"}),g.jsx("p",{className:"text-xs font-semibold leading-relaxed",children:w})]})]}),!Pe&&(xe||!q)&&g.jsxs("button",{onClick:()=>{b(null),o==="upload"?wt():ae()},className:"w-full py-2 bg-white/50 dark:bg-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/80 dark:hover:bg-white/20 transition-all",children:[g.jsx(V2,{size:14})," Try Again"]}),Pe&&g.jsx("div",{className:"pt-2 border-t border-orange-200 dark:border-orange-900/40",children:g.jsx("p",{className:"text-[10px] font-medium text-orange-600/70 dark:text-orange-400/70 italic",children:"Tip: Photos take up the most space. Delete old entries in the History tab to free up browser storage."})})]}),o==="upload"?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-[20px]",children:[g.jsxs("button",{onClick:()=>i("scan"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="scan"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(qs,{size:16}),"Scan"]}),g.jsxs("button",{onClick:()=>i("chat"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="chat"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(j2,{size:16}),"Chat"]}),g.jsxs("button",{onClick:()=>i("recipe"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="recipe"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(Yc,{size:16}),"Recipe"]})]}),r==="scan"&&g.jsxs(g.Fragment,{children:[s?g.jsxs("div",{className:"rounded-[32px] overflow-hidden h-64 relative mb-6 shadow-xl border border-white/10",children:[g.jsx("img",{src:s,className:"w-full h-full object-cover"}),g.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 bg-black/40 text-white p-2 rounded-full backdrop-blur-md",children:g.jsx(ma,{size:20})})]}):g.jsxs("div",{onClick:()=>{var Z;return(Z=v.current)==null?void 0:Z.click()},className:"border-2 border-dashed border-gray-200 dark:border-white/10 rounded-[32px] h-64 flex flex-col items-center justify-center cursor-pointer hover:border-royal-400 hover:bg-royal-50 dark:hover:bg-white/5 transition-all group",children:[g.jsx(qs,{size:48,className:"text-gray-300 group-hover:text-royal-600 mb-4 transition-colors"}),g.jsx("p",{className:"text-gray-900 dark:text-gray-50 font-bold",children:"Snap or Upload Photo"}),g.jsx("p",{className:"text-gray-400 text-xs mt-1 italic",children:"Let AI do the calorie math"})]}),g.jsx("input",{type:"file",ref:v,accept:"image/*",onChange:Oe,className:"hidden"}),g.jsx(jt,{className:"w-full py-5 text-lg font-black",disabled:!s||u,isLoading:u,onClick:wt,children:"Analyze Plate"})]}),r==="chat"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[g.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/40 p-5 rounded-[32px] border border-royal-100 dark:border-royal-900/30 transition-colors",children:[g.jsxs("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[g.jsx(oi,{size:14})," Describe your meal"]}),g.jsx("textarea",{value:x,onChange:Z=>_(Z.target.value),placeholder:"e.g. I had two slices of pepperoni pizza and a small Caesar salad with Italian dressing.",rows:4,className:"w-full bg-transparent border-none outline-none text-gray-900 dark:text-white font-medium text-sm resize-none placeholder-gray-400 dark:placeholder-gray-600"})]}),g.jsx(jt,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",disabled:!x.trim()||u,isLoading:u,onClick:ht,children:"Ask AI"})]}),r==="recipe"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 text-center py-6",children:[g.jsx(Yc,{size:40,className:"mx-auto text-royal-400 mb-2"}),g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Recipe Mode Coming Soon"}),g.jsx("p",{className:"text-xs font-medium text-gray-400 px-8",children:"For now, use Chat mode to describe your recipe ingredients for estimation."}),g.jsx(jt,{className:"w-full py-3 mt-4 text-xs font-bold text-gray-400 hover:text-royal-500 bg-gray-50 dark:bg-white/5",onClick:()=>a("details"),children:"Enter Details Manually"})]}),r!=="recipe"&&g.jsx("button",{onClick:()=>a("details"),className:"w-full py-3 text-sm font-bold text-gray-400 dark:text-gray-600 hover:text-royal-500",children:"Enter Details Manually"})]}):g.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[g.jsxs("div",{className:"bg-royal-600 rounded-[32px] p-6 text-white shadow-xl shadow-royal-200 dark:shadow-none",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-royal-100 text-[10px] font-black uppercase tracking-widest mb-1",children:"Estimated Calories"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("input",{type:"number",value:I,onChange:Z=>M(Z.target.value),className:"bg-transparent text-4xl font-black w-24 outline-none border-b-2 border-white/20 focus:border-white transition-colors"}),g.jsx("span",{className:"text-xl font-bold opacity-70",children:"kcal"})]})]}),g.jsx("div",{className:"bg-white/20 p-3 rounded-2xl backdrop-blur-md",children:g.jsx($v,{size:24})})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[g.jsxs("span",{className:"text-xs font-black",children:[D,"g"]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Protein"})]}),g.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[g.jsxs("span",{className:"text-xs font-black",children:[L,"g"]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Carbs"})]}),g.jsxs("div",{className:"bg-white/10 rounded-xl p-2 flex flex-col items-center",children:[g.jsxs("span",{className:"text-xs font-black",children:[$,"g"]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70",children:"Fat"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[g.jsx(pu,{size:18,className:"text-royal-400"}),g.jsx("input",{type:"date",value:E,onChange:Z=>A(Z.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[g.jsx(NC,{size:18,className:"text-royal-400"}),g.jsx("input",{type:"time",value:k,onChange:Z=>C(Z.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Meal Title"}),g.jsx("input",{type:"text",value:P,onChange:Z=>N(Z.target.value),className:"w-full p-4 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-2xl font-bold dark:text-white mt-1"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-[32px] p-5 border border-gray-100 dark:border-white/5",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[g.jsx(oi,{size:14,className:"text-royal-500"})," Ingredient Receipt"]}),g.jsx("button",{onClick:Ae,className:"text-royal-500 hover:text-royal-600",children:g.jsx(B2,{size:18})})]}),g.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto no-scrollbar pr-1",children:G.map((Z,Ce)=>g.jsxs("div",{className:"flex items-center gap-2 group animate-in slide-in-from-left duration-200",children:[g.jsx("input",{type:"text",value:Z.name,onChange:it=>ue(Ce,"name",it.target.value),className:"flex-1 bg-white dark:bg-white/10 p-2.5 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none focus:border-royal-300 dark:text-white",placeholder:"Ingredient"}),g.jsxs("div",{className:"relative w-20",children:[g.jsx("input",{type:"number",value:Z.grams===0?"":Z.grams,onChange:it=>ue(Ce,"grams",it.target.value),className:"w-full bg-white dark:bg-white/10 p-2.5 pr-6 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none text-right dark:text-white"}),g.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[8px] font-black text-gray-400",children:"g"})]}),g.jsx("button",{onClick:()=>V(Ce),className:"text-red-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx($C,{size:16})})]},Ce))}),g.jsxs(jt,{variant:"ghost",className:"w-full mt-4 py-3 text-[10px] font-black uppercase tracking-widest text-royal-600 bg-royal-100/50 hover:bg-royal-100",onClick:ae,isLoading:d,children:[g.jsx(Um,{size:14,className:`mr-2 ${d?"animate-spin":""}`}),"Recalculate Totals"]})]}),g.jsx(jt,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",onClick:pe,isLoading:m,disabled:m,children:n?"Update Record":"Save & Track"})]})]})})},nG=({currentGoal:t,onClose:e,onSave:n})=>{const[r,i]=R.useState(t.toString()),o=()=>{const a=parseInt(r,10);!isNaN(a)&&a>0&&n(a)};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white w-full max-w-xs rounded-[32px] p-6 shadow-2xl border border-white/50 animate-in zoom-in-95 duration-200",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-lg font-extrabold text-gray-900",children:"Daily Calorie Goal"}),g.jsx("button",{onClick:e,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:g.jsx(ma,{size:18,className:"text-gray-600"})})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Target Calories"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:r,onChange:a=>i(a.target.value),className:"w-full p-5 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 transition-all font-extrabold text-3xl text-center text-gray-900",autoFocus:!0}),g.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-bold",children:"kcal"})]})]}),g.jsx(jt,{className:"w-full py-4 shadow-lg shadow-royal-200",onClick:o,children:"Update Goal"})]})})},lP=({entry:t,onClose:e,onDelete:n,onEdit:r})=>{const[i,o]=R.useState(!1),[a,s]=R.useState(!1),l=async()=>{confirm("Permanently remove this record?")&&(o(!0),await n(t.id),e())},u=async()=>{if(confirm("Remove the photo to save storage space? Nutritional data will be kept.")){s(!0);try{const c={...t,imageUrl:void 0};await sk(c),e(),window.dispatchEvent(new CustomEvent("food-entry-updated"))}catch(c){console.error("Failed to clear image",c)}finally{s(!1)}}};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 dark:bg-black/60 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl dark:shadow-black border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"relative h-64 bg-gray-100 dark:bg-white/5",children:[t.imageUrl?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"}),g.jsxs("button",{onClick:u,disabled:a,className:"absolute bottom-4 right-4 p-2.5 bg-white/20 hover:bg-white/40 text-white rounded-full backdrop-blur-md border border-white/20 transition-all flex items-center gap-2",title:"Remove photo to save space",children:[a?g.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):g.jsx($2,{size:18}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Clear Image"})]})]}):g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 dark:text-gray-700",children:[g.jsx(Yc,{size:48,className:"mb-2 opacity-50"}),g.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"No Photo Attached"})]}),g.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 dark:bg-black/40 text-gray-900 dark:text-white rounded-full backdrop-blur-md hover:bg-white dark:hover:bg-black/60 shadow-lg transition-colors z-10",children:g.jsx(ma,{size:20})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent pointer-events-none"}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white pointer-events-none",children:[g.jsx("h2",{className:"text-3xl font-black leading-tight tracking-tight",children:t.food_item}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-white/70 font-bold mt-2",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(pu,{size:14})," ",t.date]}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(NC,{size:14})," ",t.time]})]})]})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[g.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/20 p-3 rounded-2xl flex flex-col items-center border border-royal-100/50",children:[g.jsx("span",{className:"text-lg font-black text-royal-600",children:t.calories}),g.jsx("span",{className:"text-[8px] font-black uppercase text-royal-400",children:"kcal"})]}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/20 p-3 rounded-2xl flex flex-col items-center border border-emerald-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-emerald-600",children:[t.protein,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-emerald-400",children:"Prot"})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-2xl flex flex-col items-center border border-blue-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-blue-600",children:[t.carbs,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-blue-400",children:"Carb"})]}),g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 p-3 rounded-2xl flex flex-col items-center border border-orange-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-orange-600",children:[t.fat,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-orange-400",children:"Fat"})]})]}),t.ingredients&&t.ingredients.length>0&&g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-3xl p-6 border border-gray-100 dark:border-white/5",children:[g.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[g.jsx(D2,{size:14})," Ingredient Receipt"]}),g.jsx("div",{className:"space-y-3",children:t.ingredients.map((c,d)=>g.jsxs("div",{className:"flex justify-between items-center text-sm font-bold border-b border-gray-100 dark:border-white/5 pb-2 last:border-0 last:pb-0",children:[g.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c.name}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:"text-gray-400",children:[c.grams,"g"]}),g.jsxs("span",{className:"text-royal-500 text-xs w-12 text-right",children:[c.calories,"cal"]})]})]},d))})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs(jt,{variant:"ghost",className:"flex-1 text-red-500 py-4 font-black",onClick:l,isLoading:i,children:[g.jsx($C,{size:18,className:"mr-2"})," Delete"]}),g.jsxs(jt,{className:"flex-[2] py-4 font-black shadow-lg shadow-royal-200",onClick:()=>r(t),children:[g.jsx(RC,{size:18,className:"mr-2"})," Edit Meal"]})]})]})]})})};var rG=Array.isArray,Xt=rG,iG=typeof Su=="object"&&Su&&Su.Object===Object&&Su,uP=iG,oG=uP,aG=typeof self=="object"&&self&&self.Object===Object&&self,sG=oG||aG||Function("return this")(),ur=sG,lG=ur,uG=lG.Symbol,gu=uG,T_=gu,cP=Object.prototype,cG=cP.hasOwnProperty,dG=cP.toString,bs=T_?T_.toStringTag:void 0;function fG(t){var e=cG.call(t,bs),n=t[bs];try{t[bs]=void 0;var r=!0}catch{}var i=dG.call(t);return r&&(e?t[bs]=n:delete t[bs]),i}var hG=fG,pG=Object.prototype,mG=pG.toString;function gG(t){return mG.call(t)}var yG=gG,A_=gu,vG=hG,wG=yG,bG="[object Null]",xG="[object Undefined]",C_=A_?A_.toStringTag:void 0;function _G(t){return t==null?t===void 0?xG:bG:C_&&C_ in Object(t)?vG(t):wG(t)}var Rr=_G;function SG(t){return t!=null&&typeof t=="object"}var Mr=SG,EG=Rr,TG=Mr,AG="[object Symbol]";function CG(t){return typeof t=="symbol"||TG(t)&&EG(t)==AG}var Ja=CG,kG=Xt,PG=Ja,IG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NG=/^\w*$/;function OG(t,e){if(kG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||PG(t)?!0:NG.test(t)||!IG.test(t)||e!=null&&t in Object(e)}var s0=OG;function RG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hi=RG;const Ya=De(hi);var MG=Rr,$G=hi,DG="[object AsyncFunction]",LG="[object Function]",jG="[object GeneratorFunction]",UG="[object Proxy]";function FG(t){if(!$G(t))return!1;var e=MG(t);return e==LG||e==jG||e==DG||e==UG}var l0=FG;const fe=De(l0);var BG=ur,GG=BG["__core-js_shared__"],VG=GG,yp=VG,k_=function(){var t=/[^.]+$/.exec(yp&&yp.keys&&yp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function zG(t){return!!k_&&k_ in t}var HG=zG,qG=Function.prototype,WG=qG.toString;function KG(t){if(t!=null){try{return WG.call(t)}catch{}try{return t+""}catch{}}return""}var dP=KG,JG=l0,YG=HG,XG=hi,QG=dP,ZG=/[\\^$.*+?()[\]{}|]/g,eV=/^\[object .+?Constructor\]$/,tV=Function.prototype,nV=Object.prototype,rV=tV.toString,iV=nV.hasOwnProperty,oV=RegExp("^"+rV.call(iV).replace(ZG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aV(t){if(!XG(t)||YG(t))return!1;var e=JG(t)?oV:eV;return e.test(QG(t))}var sV=aV;function lV(t,e){return t==null?void 0:t[e]}var uV=lV,cV=sV,dV=uV;function fV(t,e){var n=dV(t,e);return cV(n)?n:void 0}var oo=fV,hV=oo,pV=hV(Object,"create"),Ff=pV,P_=Ff;function mV(){this.__data__=P_?P_(null):{},this.size=0}var gV=mV;function yV(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var vV=yV,wV=Ff,bV="__lodash_hash_undefined__",xV=Object.prototype,_V=xV.hasOwnProperty;function SV(t){var e=this.__data__;if(wV){var n=e[t];return n===bV?void 0:n}return _V.call(e,t)?e[t]:void 0}var EV=SV,TV=Ff,AV=Object.prototype,CV=AV.hasOwnProperty;function kV(t){var e=this.__data__;return TV?e[t]!==void 0:CV.call(e,t)}var PV=kV,IV=Ff,NV="__lodash_hash_undefined__";function OV(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=IV&&e===void 0?NV:e,this}var RV=OV,MV=gV,$V=vV,DV=EV,LV=PV,jV=RV;function Xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xa.prototype.clear=MV;Xa.prototype.delete=$V;Xa.prototype.get=DV;Xa.prototype.has=LV;Xa.prototype.set=jV;var UV=Xa;function FV(){this.__data__=[],this.size=0}var BV=FV;function GV(t,e){return t===e||t!==t&&e!==e}var u0=GV,VV=u0;function zV(t,e){for(var n=t.length;n--;)if(VV(t[n][0],e))return n;return-1}var Bf=zV,HV=Bf,qV=Array.prototype,WV=qV.splice;function KV(t){var e=this.__data__,n=HV(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():WV.call(e,n,1),--this.size,!0}var JV=KV,YV=Bf;function XV(t){var e=this.__data__,n=YV(e,t);return n<0?void 0:e[n][1]}var QV=XV,ZV=Bf;function ez(t){return ZV(this.__data__,t)>-1}var tz=ez,nz=Bf;function rz(t,e){var n=this.__data__,r=nz(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var iz=rz,oz=BV,az=JV,sz=QV,lz=tz,uz=iz;function Qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qa.prototype.clear=oz;Qa.prototype.delete=az;Qa.prototype.get=sz;Qa.prototype.has=lz;Qa.prototype.set=uz;var Gf=Qa,cz=oo,dz=ur,fz=cz(dz,"Map"),c0=fz,I_=UV,hz=Gf,pz=c0;function mz(){this.size=0,this.__data__={hash:new I_,map:new(pz||hz),string:new I_}}var gz=mz;function yz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vz=yz,wz=vz;function bz(t,e){var n=t.__data__;return wz(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Vf=bz,xz=Vf;function _z(t){var e=xz(this,t).delete(t);return this.size-=e?1:0,e}var Sz=_z,Ez=Vf;function Tz(t){return Ez(this,t).get(t)}var Az=Tz,Cz=Vf;function kz(t){return Cz(this,t).has(t)}var Pz=kz,Iz=Vf;function Nz(t,e){var n=Iz(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Oz=Nz,Rz=gz,Mz=Sz,$z=Az,Dz=Pz,Lz=Oz;function Za(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Za.prototype.clear=Rz;Za.prototype.delete=Mz;Za.prototype.get=$z;Za.prototype.has=Dz;Za.prototype.set=Lz;var d0=Za,fP=d0,jz="Expected a function";function f0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jz);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(f0.Cache||fP),n}f0.Cache=fP;var hP=f0;const Uz=De(hP);var Fz=hP,Bz=500;function Gz(t){var e=Fz(t,function(r){return n.size===Bz&&n.clear(),r}),n=e.cache;return e}var Vz=Gz,zz=Vz,Hz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qz=/\\(\\)?/g,Wz=zz(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hz,function(n,r,i,o){e.push(i?o.replace(qz,"$1"):r||n)}),e}),Kz=Wz;function Jz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var h0=Jz,N_=gu,Yz=h0,Xz=Xt,Qz=Ja,O_=N_?N_.prototype:void 0,R_=O_?O_.toString:void 0;function pP(t){if(typeof t=="string")return t;if(Xz(t))return Yz(t,pP)+"";if(Qz(t))return R_?R_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Zz=pP,eH=Zz;function tH(t){return t==null?"":eH(t)}var mP=tH,nH=Xt,rH=s0,iH=Kz,oH=mP;function aH(t,e){return nH(t)?t:rH(t,e)?[t]:iH(oH(t))}var gP=aH,sH=Ja;function lH(t){if(typeof t=="string"||sH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zf=lH,uH=gP,cH=zf;function dH(t,e){e=uH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cH(e[n++])];return n&&n==r?t:void 0}var p0=dH,fH=p0;function hH(t,e,n){var r=t==null?void 0:fH(t,e);return r===void 0?n:r}var yP=hH;const Sn=De(yP);function pH(t){return t==null}var mH=pH;const le=De(mH);var gH=Rr,yH=Xt,vH=Mr,wH="[object String]";function bH(t){return typeof t=="string"||!yH(t)&&vH(t)&&gH(t)==wH}var xH=bH;const Xi=De(xH);var vP={exports:{}},Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=Symbol.for("react.element"),g0=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),_H=Symbol.for("react.server_context"),Yf=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),SH=Symbol.for("react.offscreen"),wP;wP=Symbol.for("react.module.reference");function Pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case m0:switch(t=t.type,t){case Hf:case Wf:case qf:case Xf:case Qf:return t;default:switch(t=t&&t.$$typeof,t){case _H:case Jf:case Yf:case eh:case Zf:case Kf:return t;default:return e}}case g0:return e}}}Te.ContextConsumer=Jf;Te.ContextProvider=Kf;Te.Element=m0;Te.ForwardRef=Yf;Te.Fragment=Hf;Te.Lazy=eh;Te.Memo=Zf;Te.Portal=g0;Te.Profiler=Wf;Te.StrictMode=qf;Te.Suspense=Xf;Te.SuspenseList=Qf;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(t){return Pn(t)===Jf};Te.isContextProvider=function(t){return Pn(t)===Kf};Te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===m0};Te.isForwardRef=function(t){return Pn(t)===Yf};Te.isFragment=function(t){return Pn(t)===Hf};Te.isLazy=function(t){return Pn(t)===eh};Te.isMemo=function(t){return Pn(t)===Zf};Te.isPortal=function(t){return Pn(t)===g0};Te.isProfiler=function(t){return Pn(t)===Wf};Te.isStrictMode=function(t){return Pn(t)===qf};Te.isSuspense=function(t){return Pn(t)===Xf};Te.isSuspenseList=function(t){return Pn(t)===Qf};Te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hf||t===Wf||t===qf||t===Xf||t===Qf||t===SH||typeof t=="object"&&t!==null&&(t.$$typeof===eh||t.$$typeof===Zf||t.$$typeof===Kf||t.$$typeof===Jf||t.$$typeof===Yf||t.$$typeof===wP||t.getModuleId!==void 0)};Te.typeOf=Pn;vP.exports=Te;var EH=vP.exports,TH=Rr,AH=Mr,CH="[object Number]";function kH(t){return typeof t=="number"||AH(t)&&TH(t)==CH}var bP=kH;const PH=De(bP);var IH=bP;function NH(t){return IH(t)&&t!=+t}var OH=NH;const es=De(OH);var Gn=function(e){return e===0?0:e>0?1:-1},Mi=function(e){return Xi(e)&&e.indexOf("%")===e.length-1},W=function(e){return PH(e)&&!es(e)},RH=function(e){return le(e)},ct=function(e){return W(e)||Xi(e)},MH=0,ao=function(e){var n=++MH;return"".concat(e||"").concat(n)},Qi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(e)&&!Xi(e))return r;var o;if(Mi(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return es(o)&&(o=r),i&&o>n&&(o=n),o},Co=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},$H=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Qe=function(e,n){return W(e)&&W(n)?function(r){return e+r*(n-e)}:function(){return n}};function ld(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Sn(r,e))===n})}var DH=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,l=-1/0,u=0,c=0,d=0;d<n;d++)u=e[d].cx||0,c=e[d].cy||0,r+=u,i+=c,o+=u*c,a+=u*u,s=Math.min(s,u),l=Math.max(l,u);var h=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:l,a:h,b:(i-h*r)/n}},LH=function(e,n){return W(e)&&W(n)?e-n:Xi(e)&&Xi(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ra(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}var jH=["viewBox","children"],UH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],M_=["points","pathLength"],vp={svg:jH,polygon:M_,polyline:M_},y0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ud=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!Ya(r))return null;var i={};return Object.keys(r).forEach(function(o){y0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},FH=function(e,n,r){return function(i){return e(n,r,i),null}},Cl=function(e,n,r){if(!Ya(e)||hg(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];y0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=FH(a,n,r))}),i},BH=["children"],GH=["children"];function $_(t,e){if(t==null)return{};var n=VH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}var D_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},L_=null,wp=null,v0=function t(e){if(e===L_&&Array.isArray(wp))return wp;var n=[];return R.Children.forEach(e,function(r){le(r)||(EH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),wp=n,L_=e,n};function Yt(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wr(i)}):r=[wr(e)],v0(t).forEach(function(i){var o=Sn(i,"type.displayName")||Sn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function nn(t,e){var n=Yt(t,e);return n&&n[0]}var j_=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!W(r)||r<=0||!W(i)||i<=0)},zH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],HH=function(e){return e&&e.type&&Xi(e.type)&&zH.indexOf(e.type)>=0},xP=function(e){return e&&pg(e)==="object"&&"clipDot"in e},qH=function(e,n,r,i){var o,a=(o=vp==null?void 0:vp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!fe(e)&&(i&&a.includes(n)||UH.includes(n))||r&&y0.includes(n)},ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Ya(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;qH((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},mg=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return U_(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!U_(o,a))return!1}return!0},U_=function(e,n){if(le(e)&&le(n))return!0;if(!le(e)&&!le(n)){var r=e.props||{},i=r.children,o=$_(r,BH),a=n.props||{},s=a.children,l=$_(a,GH);return i&&s?ra(o,l)&&mg(i,s):!i&&!s?ra(o,l):!1}return!1},F_=function(e,n){var r=[],i={};return v0(e).forEach(function(o,a){if(HH(o))r.push(o);else if(o){var s=wr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},WH=function(e){var n=e&&e.type;return n&&D_[n]?D_[n]:null},KH=function(e,n){return v0(n).indexOf(e)},JH=["children","width","height","viewBox","className","style","title","desc"];function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function YH(t,e){if(t==null)return{};var n=XH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yg(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=YH(t,JH),c=i||{width:n,height:r,x:0,y:0},d=de("recharts-surface",o);return O.createElement("svg",gg({},ce(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),O.createElement("title",null,s),O.createElement("desc",null,l),e)}var QH=["children","className"];function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function ZH(t,e){if(t==null)return{};var n=eq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var be=O.forwardRef(function(t,e){var n=t.children,r=t.className,i=ZH(t,QH),o=de("recharts-layer",r);return O.createElement("g",vg({className:o},ce(i,!0),{ref:e}),n)}),Bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function tq(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var nq=tq,rq=nq;function iq(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:rq(t,e,n)}var oq=iq,aq="\\ud800-\\udfff",sq="\\u0300-\\u036f",lq="\\ufe20-\\ufe2f",uq="\\u20d0-\\u20ff",cq=sq+lq+uq,dq="\\ufe0e\\ufe0f",fq="\\u200d",hq=RegExp("["+fq+aq+cq+dq+"]");function pq(t){return hq.test(t)}var _P=pq;function mq(t){return t.split("")}var gq=mq,SP="\\ud800-\\udfff",yq="\\u0300-\\u036f",vq="\\ufe20-\\ufe2f",wq="\\u20d0-\\u20ff",bq=yq+vq+wq,xq="\\ufe0e\\ufe0f",_q="["+SP+"]",wg="["+bq+"]",bg="\\ud83c[\\udffb-\\udfff]",Sq="(?:"+wg+"|"+bg+")",EP="[^"+SP+"]",TP="(?:\\ud83c[\\udde6-\\uddff]){2}",AP="[\\ud800-\\udbff][\\udc00-\\udfff]",Eq="\\u200d",CP=Sq+"?",kP="["+xq+"]?",Tq="(?:"+Eq+"(?:"+[EP,TP,AP].join("|")+")"+kP+CP+")*",Aq=kP+CP+Tq,Cq="(?:"+[EP+wg+"?",wg,TP,AP,_q].join("|")+")",kq=RegExp(bg+"(?="+bg+")|"+Cq+Aq,"g");function Pq(t){return t.match(kq)||[]}var Iq=Pq,Nq=gq,Oq=_P,Rq=Iq;function Mq(t){return Oq(t)?Rq(t):Nq(t)}var $q=Mq,Dq=oq,Lq=_P,jq=$q,Uq=mP;function Fq(t){return function(e){e=Uq(e);var n=Lq(e)?jq(e):void 0,r=n?n[0]:e.charAt(0),i=n?Dq(n,1).join(""):e.slice(1);return r[t]()+i}}var Bq=Fq,Gq=Bq,Vq=Gq("toUpperCase"),zq=Vq;const th=De(zq);function Me(t){return function(){return t}}const PP=Math.cos,cd=Math.sin,Yn=Math.sqrt,dd=Math.PI,nh=2*dd,xg=Math.PI,_g=2*xg,Ti=1e-6,Hq=_g-Ti;function IP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return IP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Wq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?IP:qq(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ti)if(!(Math.abs(d*l-u*c)>Ti)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=i-s,w=l*l+u*u,b=m*m+y*y,v=Math.sqrt(w),x=Math.sqrt(h),_=o*Math.tan((xg-Math.acos((w+h-b)/(2*v*x)))/2),T=_/x,S=_/v;Math.abs(T-1)>Ti&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*m>c*y)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ti||Math.abs(this._y1-c)>Ti)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%_g+_g),h>Hq?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Ti&&this._append`A${r},${r},0,${+(h>=xg)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function w0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Wq(e)}function b0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function NP(t){this._context=t}NP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rh(t){return new NP(t)}function OP(t){return t[0]}function RP(t){return t[1]}function MP(t,e){var n=Me(!0),r=null,i=rh,o=null,a=w0(s);t=typeof t=="function"?t:t===void 0?OP:Me(t),e=typeof e=="function"?e:e===void 0?RP:Me(e);function s(l){var u,c=(l=b0(l)).length,d,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Me(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Xu(t,e,n){var r=null,i=Me(!0),o=null,a=rh,s=null,l=w0(u);t=typeof t=="function"?t:t===void 0?OP:Me(+t),e=typeof e=="function"?e:Me(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?RP:Me(+n);function u(d){var h,m,y,w=(d=b0(d)).length,b,v=!1,x,_=new Array(w),T=new Array(w);for(o==null&&(s=a(x=l())),h=0;h<=w;++h){if(!(h<w&&i(b=d[h],h,d))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=m;--y)s.point(_[y],T[y]);s.lineEnd(),s.areaEnd()}v&&(_[h]=+t(b,h,d),T[h]=+e(b,h,d),s.point(r?+r(b,h,d):_[h],n?+n(b,h,d):T[h]))}if(x)return s=null,x+""||null}function c(){return MP().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Me(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Me(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Me(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class $P{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Kq(t){return new $P(t,!0)}function Jq(t){return new $P(t,!1)}const x0={draw(t,e){const n=Yn(e/dd);t.moveTo(n,0),t.arc(0,0,n,0,nh)}},Yq={draw(t,e){const n=Yn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},DP=Yn(1/3),Xq=DP*2,Qq={draw(t,e){const n=Yn(e/Xq),r=n*DP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Zq={draw(t,e){const n=Yn(e),r=-n/2;t.rect(r,r,n,n)}},e6=.8908130915292852,LP=cd(dd/10)/cd(7*dd/10),t6=cd(nh/10)*LP,n6=-PP(nh/10)*LP,r6={draw(t,e){const n=Yn(e*e6),r=t6*n,i=n6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=nh*o/5,s=PP(a),l=cd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},bp=Yn(3),i6={draw(t,e){const n=-Yn(e/(bp*3));t.moveTo(0,n*2),t.lineTo(-bp*n,-n),t.lineTo(bp*n,-n),t.closePath()}},hn=-.5,pn=Yn(3)/2,Sg=1/Yn(12),o6=(Sg/2+1)*3,a6={draw(t,e){const n=Yn(e/o6),r=n/2,i=n*Sg,o=r,a=n*Sg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(hn*r-pn*i,pn*r+hn*i),t.lineTo(hn*o-pn*a,pn*o+hn*a),t.lineTo(hn*s-pn*l,pn*s+hn*l),t.lineTo(hn*r+pn*i,hn*i-pn*r),t.lineTo(hn*o+pn*a,hn*a-pn*o),t.lineTo(hn*s+pn*l,hn*l-pn*s),t.closePath()}};function s6(t,e){let n=null,r=w0(i);t=typeof t=="function"?t:Me(t||x0),e=typeof e=="function"?e:Me(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Me(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Me(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function fd(){}function hd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function jP(t){this._context=t}jP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l6(t){return new jP(t)}function UP(t){this._context=t}UP.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u6(t){return new UP(t)}function FP(t){this._context=t}FP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c6(t){return new FP(t)}function BP(t){this._context=t}BP.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function d6(t){return new BP(t)}function B_(t){return t<0?-1:1}function G_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(B_(o)+B_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function V_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function pd(t){this._context=t}pd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xp(this,this._t0,V_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xp(this,V_(this,n=G_(this,t,e)),n);break;default:xp(this,this._t0,n=G_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function GP(t){this._context=new VP(t)}(GP.prototype=Object.create(pd.prototype)).point=function(t,e){pd.prototype.point.call(this,e,t)};function VP(t){this._context=t}VP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function f6(t){return new pd(t)}function h6(t){return new GP(t)}function zP(t){this._context=t}zP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=z_(t),i=z_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function z_(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function p6(t){return new zP(t)}function ih(t,e){this._context=t,this._t=e}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function m6(t){return new ih(t,.5)}function g6(t){return new ih(t,0)}function y6(t){return new ih(t,1)}function ya(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Eg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function v6(t,e){return t[e]}function w6(t){const e=[];return e.key=t,e}function b6(){var t=Me([]),e=Eg,n=ya,r=v6;function i(o){var a=Array.from(t.apply(this,arguments),w6),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=b0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Me(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Me(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Eg:typeof o=="function"?o:Me(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ya,i):n},i}function x6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ya(t,e)}}function _6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ya(t,e)}}function S6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,m=(d-h)/2,y=0;y<s;++y){var w=t[e[y]],b=w[r][1]||0,v=w[r-1][1]||0;m+=b-v}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ya(t,e)}}function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}var E6=["type","size","sizeType"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function H_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(n),!0).forEach(function(r){T6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T6(t,e,n){return e=A6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A6(t){var e=C6(t,"string");return kl(e)=="symbol"?e:e+""}function C6(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k6(t,e){if(t==null)return{};var n=P6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HP={symbolCircle:x0,symbolCross:Yq,symbolDiamond:Qq,symbolSquare:Zq,symbolStar:r6,symbolTriangle:i6,symbolWye:a6},I6=Math.PI/180,N6=function(e){var n="symbol".concat(th(e));return HP[n]||x0},O6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*I6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},R6=function(e,n){HP["symbol".concat(th(e))]=n},oh=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=k6(e,E6),u=q_(q_({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=N6(r),v=s6().type(b).size(O6(o,s,r));return v()},d=u.className,h=u.cx,m=u.cy,y=ce(u,!0);return h===+h&&m===+m&&o===+o?O.createElement("path",Tg({},y,{className:de("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};oh.registerSymbol=R6;function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){Pl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WP(r.key),r)}}function L6(t,e,n){return e&&D6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j6(t,e,n){return e=md(e),U6(t,qP()?Reflect.construct(e,n||[],md(t).constructor):e.apply(t,n))}function U6(t,e){if(e&&(va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F6(t)}function F6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qP=function(){return!!t})()}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},md(t)}function B6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}function Cg(t,e){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cg(t,e)}function Pl(t,e,n){return e=WP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WP(t){var e=G6(t,"string");return va(e)=="symbol"?e:e+""}function G6(t,e){if(va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mn=32,_0=function(t){function e(){return $6(this,e),j6(this,e,arguments)}return B6(e,t),L6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=mn/2,a=mn/6,s=mn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:mn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(mn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return O.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(mn/8,"h").concat(mn,"v").concat(mn*3/4,"h").concat(-mn,"z"),className:"recharts-legend-icon"});if(O.isValidElement(r.legendIcon)){var u=M6({},r);return delete u.legendIcon,O.cloneElement(r.legendIcon,u)}return O.createElement(oh,{fill:l,cx:o,cy:o,size:mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:mn,height:mn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var w=m.formatter||l,b=de(Pl(Pl({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=fe(m.value)?null:m.value;Bi(!fe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return O.createElement("li",Ag({className:b,style:d,key:"legend-item-".concat(y)},Cl(r.props,m,y)),O.createElement(yg,{width:a,height:a,viewBox:c,style:h},r.renderIcon(m)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w?w(v,m,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(R.PureComponent);Pl(_0,"displayName","Legend");Pl(_0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var V6=Gf;function z6(){this.__data__=new V6,this.size=0}var H6=z6;function q6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var W6=q6;function K6(t){return this.__data__.get(t)}var J6=K6;function Y6(t){return this.__data__.has(t)}var X6=Y6,Q6=Gf,Z6=c0,e8=d0,t8=200;function n8(t,e){var n=this.__data__;if(n instanceof Q6){var r=n.__data__;if(!Z6||r.length<t8-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new e8(r)}return n.set(t,e),this.size=n.size,this}var r8=n8,i8=Gf,o8=H6,a8=W6,s8=J6,l8=X6,u8=r8;function ts(t){var e=this.__data__=new i8(t);this.size=e.size}ts.prototype.clear=o8;ts.prototype.delete=a8;ts.prototype.get=s8;ts.prototype.has=l8;ts.prototype.set=u8;var KP=ts,c8="__lodash_hash_undefined__";function d8(t){return this.__data__.set(t,c8),this}var f8=d8;function h8(t){return this.__data__.has(t)}var p8=h8,m8=d0,g8=f8,y8=p8;function gd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new m8;++e<n;)this.add(t[e])}gd.prototype.add=gd.prototype.push=g8;gd.prototype.has=y8;var JP=gd;function v8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var YP=v8;function w8(t,e){return t.has(e)}var XP=w8,b8=JP,x8=YP,_8=XP,S8=1,E8=2;function T8(t,e,n,r,i,o){var a=n&S8,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,m=n&E8?new b8:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var y=t[d],w=e[d];if(r)var b=a?r(w,y,d,e,t,o):r(y,w,d,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(m){if(!x8(e,function(v,x){if(!_8(m,x)&&(y===v||i(y,v,n,r,o)))return m.push(x)})){h=!1;break}}else if(!(y===w||i(y,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var QP=T8,A8=ur,C8=A8.Uint8Array,k8=C8;function P8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var I8=P8;function N8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var S0=N8,K_=gu,J_=k8,O8=u0,R8=QP,M8=I8,$8=S0,D8=1,L8=2,j8="[object Boolean]",U8="[object Date]",F8="[object Error]",B8="[object Map]",G8="[object Number]",V8="[object RegExp]",z8="[object Set]",H8="[object String]",q8="[object Symbol]",W8="[object ArrayBuffer]",K8="[object DataView]",Y_=K_?K_.prototype:void 0,_p=Y_?Y_.valueOf:void 0;function J8(t,e,n,r,i,o,a){switch(n){case K8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case W8:return!(t.byteLength!=e.byteLength||!o(new J_(t),new J_(e)));case j8:case U8:case G8:return O8(+t,+e);case F8:return t.name==e.name&&t.message==e.message;case V8:case H8:return t==e+"";case B8:var s=M8;case z8:var l=r&D8;if(s||(s=$8),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=L8,a.set(t,e);var c=R8(s(t),s(e),r,i,o,a);return a.delete(t),c;case q8:if(_p)return _p.call(t)==_p.call(e)}return!1}var Y8=J8;function X8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ZP=X8,Q8=ZP,Z8=Xt;function eW(t,e,n){var r=e(t);return Z8(t)?r:Q8(r,n(t))}var tW=eW;function nW(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var rW=nW;function iW(){return[]}var oW=iW,aW=rW,sW=oW,lW=Object.prototype,uW=lW.propertyIsEnumerable,X_=Object.getOwnPropertySymbols,cW=X_?function(t){return t==null?[]:(t=Object(t),aW(X_(t),function(e){return uW.call(t,e)}))}:sW,dW=cW;function fW(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var hW=fW,pW=Rr,mW=Mr,gW="[object Arguments]";function yW(t){return mW(t)&&pW(t)==gW}var vW=yW,Q_=vW,wW=Mr,eI=Object.prototype,bW=eI.hasOwnProperty,xW=eI.propertyIsEnumerable,_W=Q_(function(){return arguments}())?Q_:function(t){return wW(t)&&bW.call(t,"callee")&&!xW.call(t,"callee")},E0=_W,yd={exports:{}};function SW(){return!1}var EW=SW;yd.exports;(function(t,e){var n=ur,r=EW,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(yd,yd.exports);var tI=yd.exports,TW=9007199254740991,AW=/^(?:0|[1-9]\d*)$/;function CW(t,e){var n=typeof t;return e=e??TW,!!e&&(n=="number"||n!="symbol"&&AW.test(t))&&t>-1&&t%1==0&&t<e}var T0=CW,kW=9007199254740991;function PW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kW}var A0=PW,IW=Rr,NW=A0,OW=Mr,RW="[object Arguments]",MW="[object Array]",$W="[object Boolean]",DW="[object Date]",LW="[object Error]",jW="[object Function]",UW="[object Map]",FW="[object Number]",BW="[object Object]",GW="[object RegExp]",VW="[object Set]",zW="[object String]",HW="[object WeakMap]",qW="[object ArrayBuffer]",WW="[object DataView]",KW="[object Float32Array]",JW="[object Float64Array]",YW="[object Int8Array]",XW="[object Int16Array]",QW="[object Int32Array]",ZW="[object Uint8Array]",e9="[object Uint8ClampedArray]",t9="[object Uint16Array]",n9="[object Uint32Array]",je={};je[KW]=je[JW]=je[YW]=je[XW]=je[QW]=je[ZW]=je[e9]=je[t9]=je[n9]=!0;je[RW]=je[MW]=je[qW]=je[$W]=je[WW]=je[DW]=je[LW]=je[jW]=je[UW]=je[FW]=je[BW]=je[GW]=je[VW]=je[zW]=je[HW]=!1;function r9(t){return OW(t)&&NW(t.length)&&!!je[IW(t)]}var i9=r9;function o9(t){return function(e){return t(e)}}var nI=o9,vd={exports:{}};vd.exports;(function(t,e){var n=uP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(vd,vd.exports);var a9=vd.exports,s9=i9,l9=nI,Z_=a9,eS=Z_&&Z_.isTypedArray,u9=eS?l9(eS):s9,rI=u9,c9=hW,d9=E0,f9=Xt,h9=tI,p9=T0,m9=rI,g9=Object.prototype,y9=g9.hasOwnProperty;function v9(t,e){var n=f9(t),r=!n&&d9(t),i=!n&&!r&&h9(t),o=!n&&!r&&!i&&m9(t),a=n||r||i||o,s=a?c9(t.length,String):[],l=s.length;for(var u in t)(e||y9.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||p9(u,l)))&&s.push(u);return s}var w9=v9,b9=Object.prototype;function x9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||b9;return t===n}var _9=x9;function S9(t,e){return function(n){return t(e(n))}}var iI=S9,E9=iI,T9=E9(Object.keys,Object),A9=T9,C9=_9,k9=A9,P9=Object.prototype,I9=P9.hasOwnProperty;function N9(t){if(!C9(t))return k9(t);var e=[];for(var n in Object(t))I9.call(t,n)&&n!="constructor"&&e.push(n);return e}var O9=N9,R9=l0,M9=A0;function $9(t){return t!=null&&M9(t.length)&&!R9(t)}var ah=$9,D9=w9,L9=O9,j9=ah;function U9(t){return j9(t)?D9(t):L9(t)}var C0=U9,F9=tW,B9=dW,G9=C0;function V9(t){return F9(t,G9,B9)}var z9=V9,tS=z9,H9=1,q9=Object.prototype,W9=q9.hasOwnProperty;function K9(t,e,n,r,i,o){var a=n&H9,s=tS(t),l=s.length,u=tS(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:W9.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var w=!0;o.set(t,e),o.set(e,t);for(var b=a;++d<l;){h=s[d];var v=t[h],x=e[h];if(r)var _=a?r(x,v,h,e,t,o):r(v,x,h,t,e,o);if(!(_===void 0?v===x||i(v,x,n,r,o):_)){w=!1;break}b||(b=h=="constructor")}if(w&&!b){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(w=!1)}return o.delete(t),o.delete(e),w}var J9=K9,Y9=oo,X9=ur,Q9=Y9(X9,"DataView"),Z9=Q9,eK=oo,tK=ur,nK=eK(tK,"Promise"),rK=nK,iK=oo,oK=ur,aK=iK(oK,"Set"),oI=aK,sK=oo,lK=ur,uK=sK(lK,"WeakMap"),cK=uK,kg=Z9,Pg=c0,Ig=rK,Ng=oI,Og=cK,aI=Rr,ns=dP,nS="[object Map]",dK="[object Object]",rS="[object Promise]",iS="[object Set]",oS="[object WeakMap]",aS="[object DataView]",fK=ns(kg),hK=ns(Pg),pK=ns(Ig),mK=ns(Ng),gK=ns(Og),Ai=aI;(kg&&Ai(new kg(new ArrayBuffer(1)))!=aS||Pg&&Ai(new Pg)!=nS||Ig&&Ai(Ig.resolve())!=rS||Ng&&Ai(new Ng)!=iS||Og&&Ai(new Og)!=oS)&&(Ai=function(t){var e=aI(t),n=e==dK?t.constructor:void 0,r=n?ns(n):"";if(r)switch(r){case fK:return aS;case hK:return nS;case pK:return rS;case mK:return iS;case gK:return oS}return e});var yK=Ai,Sp=KP,vK=QP,wK=Y8,bK=J9,sS=yK,lS=Xt,uS=tI,xK=rI,_K=1,cS="[object Arguments]",dS="[object Array]",Qu="[object Object]",SK=Object.prototype,fS=SK.hasOwnProperty;function EK(t,e,n,r,i,o){var a=lS(t),s=lS(e),l=a?dS:sS(t),u=s?dS:sS(e);l=l==cS?Qu:l,u=u==cS?Qu:u;var c=l==Qu,d=u==Qu,h=l==u;if(h&&uS(t)){if(!uS(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Sp),a||xK(t)?vK(t,e,n,r,i,o):wK(t,e,l,n,r,i,o);if(!(n&_K)){var m=c&&fS.call(t,"__wrapped__"),y=d&&fS.call(e,"__wrapped__");if(m||y){var w=m?t.value():t,b=y?e.value():e;return o||(o=new Sp),i(w,b,n,r,o)}}return h?(o||(o=new Sp),bK(t,e,n,r,i,o)):!1}var TK=EK,AK=TK,hS=Mr;function sI(t,e,n,r,i){return t===e?!0:t==null||e==null||!hS(t)&&!hS(e)?t!==t&&e!==e:AK(t,e,n,r,sI,i)}var k0=sI,CK=KP,kK=k0,PK=1,IK=2;function NK(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new CK;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?kK(c,u,PK|IK,r,d):h))return!1}}return!0}var OK=NK,RK=hi;function MK(t){return t===t&&!RK(t)}var lI=MK,$K=lI,DK=C0;function LK(t){for(var e=DK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$K(i)]}return e}var jK=LK;function UK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var uI=UK,FK=OK,BK=jK,GK=uI;function VK(t){var e=BK(t);return e.length==1&&e[0][2]?GK(e[0][0],e[0][1]):function(n){return n===t||FK(n,t,e)}}var zK=VK;function HK(t,e){return t!=null&&e in Object(t)}var qK=HK,WK=gP,KK=E0,JK=Xt,YK=T0,XK=A0,QK=zf;function ZK(t,e,n){e=WK(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=QK(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&XK(i)&&YK(a,i)&&(JK(t)||KK(t)))}var e7=ZK,t7=qK,n7=e7;function r7(t,e){return t!=null&&n7(t,e,t7)}var i7=r7,o7=k0,a7=yP,s7=i7,l7=s0,u7=lI,c7=uI,d7=zf,f7=1,h7=2;function p7(t,e){return l7(t)&&u7(e)?c7(d7(t),e):function(n){var r=a7(n,t);return r===void 0&&r===e?s7(n,t):o7(e,r,f7|h7)}}var m7=p7;function g7(t){return t}var rs=g7;function y7(t){return function(e){return e==null?void 0:e[t]}}var v7=y7,w7=p0;function b7(t){return function(e){return w7(e,t)}}var x7=b7,_7=v7,S7=x7,E7=s0,T7=zf;function A7(t){return E7(t)?_7(T7(t)):S7(t)}var C7=A7,k7=zK,P7=m7,I7=rs,N7=Xt,O7=C7;function R7(t){return typeof t=="function"?t:t==null?I7:typeof t=="object"?N7(t)?P7(t[0],t[1]):k7(t):O7(t)}var is=R7;function M7(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var $7=M7;function D7(t){return t!==t}var L7=D7;function j7(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var U7=j7,F7=$7,B7=L7,G7=U7;function V7(t,e,n){return e===e?G7(t,e,n):F7(t,B7,n)}var z7=V7,H7=z7;function q7(t,e){var n=t==null?0:t.length;return!!n&&H7(t,e,0)>-1}var W7=q7;function K7(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var J7=K7;function Y7(){}var X7=Y7,Ep=oI,Q7=X7,Z7=S0,eJ=1/0,tJ=Ep&&1/Z7(new Ep([,-0]))[1]==eJ?function(t){return new Ep(t)}:Q7,nJ=tJ,rJ=JP,iJ=W7,oJ=J7,aJ=XP,sJ=nJ,lJ=S0,uJ=200;function cJ(t,e,n){var r=-1,i=iJ,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=oJ;else if(o>=uJ){var u=e?null:sJ(t);if(u)return lJ(u);a=!1,i=aJ,l=new rJ}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var dJ=cJ,fJ=is,hJ=dJ;function pJ(t,e){return t&&t.length?hJ(t,fJ(e)):[]}var mJ=pJ;const pS=De(mJ);function cI(t,e,n){return e===!0?pS(t,n):fe(e)?pS(t,e):t}function wa(t){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}var gJ=["ref"];function mS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(n),!0).forEach(function(r){sh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fI(r.key),r)}}function vJ(t,e,n){return e&&gS(t.prototype,e),n&&gS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wJ(t,e,n){return e=wd(e),bJ(t,dI()?Reflect.construct(e,n||[],wd(t).constructor):e.apply(t,n))}function bJ(t,e){if(e&&(wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJ(t)}function xJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dI=function(){return!!t})()}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(t)}function _J(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rg(t,e)}function Rg(t,e){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rg(t,e)}function sh(t,e,n){return e=fI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fI(t){var e=SJ(t,"string");return wa(e)=="symbol"?e:e+""}function SJ(t,e){if(wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EJ(t,e){if(t==null)return{};var n=TJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AJ(t){return t.value}function CJ(t,e){if(O.isValidElement(t))return O.cloneElement(t,e);if(typeof t=="function")return O.createElement(t,e);e.ref;var n=EJ(e,gJ);return O.createElement(_0,n)}var yS=1,ia=function(t){function e(){var n;yJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wJ(this,e,[].concat(i)),sh(n,"lastBoundingBox",{width:-1,height:-1}),n}return _J(e,t),vJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>yS||Math.abs(i.height-this.lastBoundingBox.height)>yS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return cr(cr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=cr(cr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return O.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},CJ(o,cr(cr({},this.props),{},{payload:cI(c,u,AJ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=cr(cr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&W(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);sh(ia,"displayName","Legend");sh(ia,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vS=gu,kJ=E0,PJ=Xt,wS=vS?vS.isConcatSpreadable:void 0;function IJ(t){return PJ(t)||kJ(t)||!!(wS&&t&&t[wS])}var NJ=IJ,OJ=ZP,RJ=NJ;function hI(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=RJ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?hI(s,e-1,n,r,i):OJ(i,s):r||(i[i.length]=s)}return i}var pI=hI;function MJ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var $J=MJ,DJ=$J,LJ=DJ(),jJ=LJ,UJ=jJ,FJ=C0;function BJ(t,e){return t&&UJ(t,e,FJ)}var mI=BJ,GJ=ah;function VJ(t,e){return function(n,r){if(n==null)return n;if(!GJ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var zJ=VJ,HJ=mI,qJ=zJ,WJ=qJ(HJ),P0=WJ,KJ=P0,JJ=ah;function YJ(t,e){var n=-1,r=JJ(t)?Array(t.length):[];return KJ(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var gI=YJ;function XJ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var QJ=XJ,bS=Ja;function ZJ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=bS(t),a=e!==void 0,s=e===null,l=e===e,u=bS(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var eY=ZJ,tY=eY;function nY(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=tY(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var rY=nY,Tp=h0,iY=p0,oY=is,aY=gI,sY=QJ,lY=nI,uY=rY,cY=rs,dY=Xt;function fY(t,e,n){e.length?e=Tp(e,function(o){return dY(o)?function(a){return iY(a,o.length===1?o[0]:o)}:o}):e=[cY];var r=-1;e=Tp(e,lY(oY));var i=aY(t,function(o,a,s){var l=Tp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return sY(i,function(o,a){return uY(o,a,n)})}var hY=fY;function pY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mY=pY,gY=mY,xS=Math.max;function yY(t,e,n){return e=xS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=xS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),gY(t,this,s)}}var vY=yY;function wY(t){return function(){return t}}var bY=wY,xY=oo,_Y=function(){try{var t=xY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),yI=_Y,SY=bY,_S=yI,EY=rs,TY=_S?function(t,e){return _S(t,"toString",{configurable:!0,enumerable:!1,value:SY(e),writable:!0})}:EY,AY=TY,CY=800,kY=16,PY=Date.now;function IY(t){var e=0,n=0;return function(){var r=PY(),i=kY-(r-n);if(n=r,i>0){if(++e>=CY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var NY=IY,OY=AY,RY=NY,MY=RY(OY),$Y=MY,DY=rs,LY=vY,jY=$Y;function UY(t,e){return jY(LY(t,e,DY),t+"")}var FY=UY,BY=u0,GY=ah,VY=T0,zY=hi;function HY(t,e,n){if(!zY(n))return!1;var r=typeof e;return(r=="number"?GY(n)&&VY(e,n.length):r=="string"&&e in n)?BY(n[e],t):!1}var lh=HY,qY=pI,WY=hY,KY=FY,SS=lh,JY=KY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&SS(t,e[0],e[1])?e=[]:n>2&&SS(e[0],e[1],e[2])&&(e=[e[0]]),WY(t,qY(e,1),[])}),YY=JY;const I0=De(YY);function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function XY(t,e){return tX(t)||eX(t,e)||ZY(t,e)||QY()}function QY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(t,e){if(t){if(typeof t=="string")return ES(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ES(t,e)}}function ES(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tX(t){if(Array.isArray(t))return t}function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return e=rX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return Il(e)=="symbol"?e:e+""}function iX(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oX(t){return Array.isArray(t)&&ct(t[0])&&ct(t[1])?t.join(" ~ "):t}var aX=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,w=e.label,b=e.labelFormatter,v=e.accessibilityLayer,x=v===void 0?!1:v,_=function(){if(c&&c.length){var I={padding:0,margin:0},M=(h?I0(c,h):c).map(function(D,j){if(D.type==="none")return null;var L=Ap({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),B=D.formatter||d||oX,$=D.value,U=D.name,G=$,K=U;if(B&&G!=null&&K!=null){var H=B($,U,D,j,c);if(Array.isArray(H)){var te=XY(H,2);G=te[0],K=te[1]}else G=H}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:L},ct(K)?O.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ct(K)?O.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,O.createElement("span",{className:"recharts-tooltip-item-value"},G),O.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},T=Ap({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Ap({margin:0},u),E=!le(w),A=E?w:"",k=de("recharts-default-tooltip",m),C=de("recharts-tooltip-label",y);E&&b&&c!==void 0&&c!==null&&(A=b(w,c));var P=x?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",Mg({className:k,style:T},P),O.createElement("p",{className:C,style:S},O.isValidElement(A)?A:"".concat(A)),_())};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function Zu(t,e,n){return e=sX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sX(t){var e=lX(t,"string");return Nl(e)=="symbol"?e:e+""}function lX(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xs="recharts-tooltip-wrapper",uX={visibility:"hidden"};function cX(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return de(xs,Zu(Zu(Zu(Zu({},"".concat(xs,"-right"),W(n)&&e&&W(e.x)&&n>=e.x),"".concat(xs,"-left"),W(n)&&e&&W(e.x)&&n<e.x),"".concat(xs,"-bottom"),W(r)&&e&&W(e.y)&&r>=e.y),"".concat(xs,"-top"),W(r)&&e&&W(e.y)&&r<e.y))}function AS(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&W(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,m=l[r];return h<m?Math.max(d,l[r]):Math.max(c,l[r])}var y=d+s,w=l[r]+u;return y>w?Math.max(c,l[r]):Math.max(d,l[r])}function dX(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fX(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=AS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=AS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=dX({translateX:c,translateY:d,useTranslate3d:s})):u=uX,{cssProperties:u,cssClasses:cX({translateX:c,translateY:d,coordinate:n})}}function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wI(r.key),r)}}function mX(t,e,n){return e&&pX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gX(t,e,n){return e=bd(e),yX(t,vI()?Reflect.construct(e,n||[],bd(t).constructor):e.apply(t,n))}function yX(t,e){if(e&&(ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vX(t)}function vX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vI=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bd(t)}function wX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$g(t,e)}function $g(t,e){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$g(t,e)}function Dg(t,e,n){return e=wI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wI(t){var e=bX(t,"string");return ba(e)=="symbol"?e:e+""}function bX(t,e){if(ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PS=1,xX=function(t){function e(){var n;hX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gX(this,e,[].concat(i)),Dg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return wX(e,t),mX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>PS||Math.abs(r.height-this.state.lastBoundingBox.height)>PS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,w=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,_=fX({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:y,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),T=_.cssClasses,S=_.cssProperties,E=kS(kS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return O.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(k){r.wrapperNode=k}},u)}}])}(R.PureComponent),_X=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pi={isSsr:_X()};function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}function IS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(n),!0).forEach(function(r){N0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xI(r.key),r)}}function TX(t,e,n){return e&&EX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AX(t,e,n){return e=xd(e),CX(t,bI()?Reflect.construct(e,n||[],xd(t).constructor):e.apply(t,n))}function CX(t,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kX(t)}function kX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bI=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xd(t)}function PX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lg(t,e)}function Lg(t,e){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lg(t,e)}function N0(t,e,n){return e=xI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xI(t){var e=IX(t,"string");return xa(e)=="symbol"?e:e+""}function IX(t,e){if(xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NX(t){return t.dataKey}function OX(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(aX,e)}var Zn=function(t){function e(){return SX(this,e),AX(this,e,arguments)}return PX(e,t),TX(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,w=i.payloadUniqBy,b=i.position,v=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=y??[];d&&S.length&&(S=cI(y.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),w,NX));var E=S.length>0;return O.createElement(xX,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:m,position:b,reverseDirection:v,useTranslate3d:x,viewBox:_,wrapperStyle:T},OX(u,NS(NS({},this.props),{},{payload:S})))}}])}(R.PureComponent);N0(Zn,"displayName","Tooltip");N0(Zn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var RX=ur,MX=function(){return RX.Date.now()},$X=MX,DX=/\s/;function LX(t){for(var e=t.length;e--&&DX.test(t.charAt(e)););return e}var jX=LX,UX=jX,FX=/^\s+/;function BX(t){return t&&t.slice(0,UX(t)+1).replace(FX,"")}var GX=BX,VX=GX,OS=hi,zX=Ja,RS=NaN,HX=/^[-+]0x[0-9a-f]+$/i,qX=/^0b[01]+$/i,WX=/^0o[0-7]+$/i,KX=parseInt;function JX(t){if(typeof t=="number")return t;if(zX(t))return RS;if(OS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=OS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=VX(t);var n=qX.test(t);return n||WX.test(t)?KX(t.slice(2),n?2:8):HX.test(t)?RS:+t}var _I=JX,YX=hi,Cp=$X,MS=_I,XX="Expected a function",QX=Math.max,ZX=Math.min;function eQ(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(XX);e=MS(e)||0,YX(n)&&(c=!!n.leading,d="maxWait"in n,o=d?QX(MS(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(E){var A=r,k=i;return r=i=void 0,u=E,a=t.apply(k,A),a}function y(E){return u=E,s=setTimeout(v,e),c?m(E):a}function w(E){var A=E-l,k=E-u,C=e-A;return d?ZX(C,o-k):C}function b(E){var A=E-l,k=E-u;return l===void 0||A>=e||A<0||d&&k>=o}function v(){var E=Cp();if(b(E))return x(E);s=setTimeout(v,w(E))}function x(E){return s=void 0,h&&r?m(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:x(Cp())}function S(){var E=Cp(),A=b(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return y(l);if(d)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),a}return S.cancel=_,S.flush=T,S}var tQ=eQ,nQ=tQ,rQ=hi,iQ="Expected a function";function oQ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(iQ);return rQ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nQ(t,e,{leading:r,maxWait:e,trailing:i})}var aQ=oQ;const SI=De(aQ);function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(n),!0).forEach(function(r){sQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sQ(t,e,n){return e=lQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lQ(t){var e=uQ(t,"string");return Ol(e)=="symbol"?e:e+""}function uQ(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cQ(t,e){return pQ(t)||hQ(t,e)||fQ(t,e)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(t,e){if(t){if(typeof t=="string")return DS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(t,e)}}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pQ(t){if(Array.isArray(t))return t}var EI=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,w=y===void 0?0:y,b=t.id,v=t.className,x=t.onResize,_=t.style,T=_===void 0?{}:_,S=R.useRef(null),E=R.useRef();E.current=x,R.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=R.useState({containerWidth:i.width,containerHeight:i.height}),k=cQ(A,2),C=k[0],P=k[1],N=R.useCallback(function(M,D){P(function(j){var L=Math.round(M),B=Math.round(D);return j.containerWidth===L&&j.containerHeight===B?j:{containerWidth:L,containerHeight:B}})},[]);R.useEffect(function(){var M=function(U){var G,K=U[0].contentRect,H=K.width,te=K.height;N(H,te),(G=E.current)===null||G===void 0||G.call(E,H,te)};w>0&&(M=SI(M,w,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),j=S.current.getBoundingClientRect(),L=j.width,B=j.height;return N(L,B),D.observe(S.current),function(){D.disconnect()}},[N,w]);var I=R.useMemo(function(){var M=C.containerWidth,D=C.containerHeight;if(M<0||D<0)return null;Bi(Mi(a)||Mi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=Mi(a)?M:a,L=Mi(l)?D:l;n&&n>0&&(j?L=j/n:L&&(j=L*n),h&&L>h&&(L=h)),Bi(j>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,L,a,l,c,d,n);var B=!Array.isArray(m)&&wr(m.type).endsWith("Chart");return O.Children.map(m,function($){return O.isValidElement($)?R.cloneElement($,ec({width:j,height:L},B?{style:ec({height:"100%",width:"100%",maxHeight:L,maxWidth:j},$.props.style)}:{})):$})},[n,m,l,h,d,c,C,a]);return O.createElement("div",{id:b?"".concat(b):void 0,className:de("recharts-responsive-container",v),style:ec(ec({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},I)}),uh=function(e){return null};uh.displayName="Cell";function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){mQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e,n){return e=gQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gQ(t){var e=yQ(t,"string");return Rl(e)=="symbol"?e:e+""}function yQ(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bo={widthCache:{},cacheCount:0},vQ=2e3,wQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jS="recharts_measurement_span";function bQ(t){var e=jg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Js=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pi.isSsr)return{width:0,height:0};var r=bQ(n),i=JSON.stringify({text:e,copyStyle:r});if(bo.widthCache[i])return bo.widthCache[i];try{var o=document.getElementById(jS);o||(o=document.createElement("span"),o.setAttribute("id",jS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=jg(jg({},wQ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return bo.widthCache[i]=l,++bo.cacheCount>vQ&&(bo.cacheCount=0,bo.widthCache={}),l}catch{return{width:0,height:0}}},xQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function _d(t,e){return TQ(t)||EQ(t,e)||SQ(t,e)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(t,e){if(t){if(typeof t=="string")return US(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return US(t,e)}}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function TQ(t){if(Array.isArray(t))return t}function AQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kQ(r.key),r)}}function CQ(t,e,n){return e&&FS(t.prototype,e),n&&FS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kQ(t){var e=PQ(t,"string");return Ml(e)=="symbol"?e:e+""}function PQ(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OQ=Object.keys(TI),Vo="NaN";function RQ(t,e){return t*TI[e]}var tc=function(){function t(e,n){AQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!IQ.test(n)&&(this.num=NaN,this.unit=""),OQ.includes(n)&&(this.num=RQ(e,n),this.unit="px")}return CQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=NQ.exec(n))!==null&&r!==void 0?r:[],o=_d(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function AI(t){if(t.includes(Vo))return Vo;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=BS.exec(e))!==null&&n!==void 0?n:[],i=_d(r,4),o=i[1],a=i[2],s=i[3],l=tc.parse(o??""),u=tc.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Vo;e=e.replace(BS,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=GS.exec(e))!==null&&d!==void 0?d:[],m=_d(h,4),y=m[1],w=m[2],b=m[3],v=tc.parse(y??""),x=tc.parse(b??""),_=w==="+"?v.add(x):v.subtract(x);if(_.isNaN())return Vo;e=e.replace(GS,_.toString())}return e}var VS=/\(([^()]*)\)/;function MQ(t){for(var e=t;e.includes("(");){var n=VS.exec(e),r=_d(n,2),i=r[1];e=e.replace(VS,AI(i))}return e}function $Q(t){var e=t.replace(/\s+/g,"");return e=MQ(e),e=AI(e),e}function DQ(t){try{return $Q(t)}catch{return Vo}}function kp(t){var e=DQ(t.slice(5,-1));return e===Vo?"":e}var LQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jQ=["dx","dy","angle","className","breakAll"];function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function zS(t,e){if(t==null)return{};var n=UQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HS(t,e){return VQ(t)||GQ(t,e)||BQ(t,e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(t,e){if(t){if(typeof t=="string")return qS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qS(t,e)}}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function VQ(t){if(Array.isArray(t))return t}var CI=/[ \f\n\r\t\v\u2028\u2029]+/,kI=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];le(n)||(r?o=n.toString().split(""):o=n.toString().split(CI));var a=o.map(function(l){return{word:l,width:Js(l,i).width}}),s=r?0:Js("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},zQ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=W(a),d=s,h=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(L,B){var $=B.word,U=B.width,G=L[L.length-1];if(G&&(i==null||o||G.width+U+r<Number(i)))G.words.push($),G.width+=U+r;else{var K={words:[$],width:U};L.push(K)}return L},[])},m=h(n),y=function(j){return j.reduce(function(L,B){return L.width>B.width?L:B})};if(!c)return m;for(var w="",b=function(j){var L=d.slice(0,j),B=kI({breakAll:u,style:l,children:L+w}).wordsWithComputedWidth,$=h(B),U=$.length>a||y($).width>Number(i);return[U,$]},v=0,x=d.length-1,_=0,T;v<=x&&_<=d.length-1;){var S=Math.floor((v+x)/2),E=S-1,A=b(E),k=HS(A,2),C=k[0],P=k[1],N=b(S),I=HS(N,1),M=I[0];if(!C&&!M&&(v=S+1),C&&M&&(x=S-1),!C&&M){T=P;break}_++}return T||m},WS=function(e){var n=le(e)?[]:e.toString().split(CI);return[{words:n}]},HQ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!pi.isSsr){var l,u,c=kI({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return WS(i);return zQ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return WS(i)},KS="#808080",Sd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,w=y===void 0?"end":y,b=e.fill,v=b===void 0?KS:b,x=zS(e,LQ),_=R.useMemo(function(){return HQ({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),T=x.dx,S=x.dy,E=x.angle,A=x.className,k=x.breakAll,C=zS(x,jQ);if(!ct(r)||!ct(o))return null;var P=r+(W(T)?T:0),N=o+(W(S)?S:0),I;switch(w){case"start":I=kp("calc(".concat(u,")"));break;case"middle":I=kp("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=kp("calc(".concat(_.length-1," * -").concat(s,")"));break}var M=[];if(d){var D=_[0].width,j=x.width;M.push("scale(".concat((W(j)?j/D:1)/D,")"))}return E&&M.push("rotate(".concat(E,", ").concat(P,", ").concat(N,")")),M.length&&(C.transform=M.join(" ")),O.createElement("text",Ug({},ce(C,!0),{x:P,y:N,className:de("recharts-text",A),textAnchor:m,fill:v.includes("url")?KS:v}),_.map(function(L,B){var $=L.words.join(k?"":" ");return O.createElement("tspan",{x:P,dy:B===0?I:s,key:"".concat($,"-").concat(B)},$)}))};function ai(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function O0(t){let e,n,r;t.length!==2?(e=ai,n=(s,l)=>ai(t(s),l),r=(s,l)=>t(s)-l):(e=t===ai||t===qQ?t:WQ,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function WQ(){return 0}function PI(t){return t===null?NaN:+t}function*KQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const JQ=O0(ai),yu=JQ.right;O0(PI).center;class JS extends Map{constructor(e,n=QQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(YS(this,e))}has(e){return super.has(YS(this,e))}set(e,n){return super.set(YQ(this,e),n)}delete(e){return super.delete(XQ(this,e))}}function YS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function YQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ZQ(t=ai){if(t===ai)return II;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function II(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eZ=Math.sqrt(50),tZ=Math.sqrt(10),nZ=Math.sqrt(2);function Ed(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=eZ?10:o>=tZ?5:o>=nZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Ed(t,e,n*2):[s,l,u]}function Fg(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ed(e,t,n):Ed(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Bg(t,e,n){return e=+e,t=+t,n=+n,Ed(t,e,n)[2]}function Gg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Bg(e,t,n):Bg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?II:ZQ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+h)),y=Math.min(r,Math.floor(e+(l-u)*d/l+h));NI(t,e,m,y,i)}const o=t[e];let a=n,s=r;for(_s(t,n,e),i(t[r],o)>0&&_s(t,n,r);a<s;){for(_s(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?_s(t,n,s):(++s,_s(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function _s(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rZ(t,e,n){if(t=Float64Array.from(KQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QS(t);if(e>=1)return XS(t);var r,i=(r-1)*e,o=Math.floor(i),a=XS(NI(t,o).subarray(0,o+1)),s=QS(t.subarray(o+1));return a+(s-a)*(i-o)}}function iZ(t,e,n=PI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function oZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function In(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $r(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Vg=Symbol("implicit");function R0(){var t=new JS,e=[],n=[],r=Vg;function i(o){let a=t.get(o);if(a===void 0){if(r!==Vg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new JS;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return R0(e,n).unknown(r)},In.apply(i,arguments),i}function $l(){var t=R0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,m=i<r,y=m?i:r,w=m?r:i;o=(w-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(w-y-o*(h-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var b=oZ(h).map(function(v){return y+o*v});return n(m?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return $l(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},In.apply(d(),arguments)}function OI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return OI(e())},t}function Ys(){return OI($l.apply(null,arguments).paddingInner(1))}function M0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function RI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vu(){}var Dl=.7,Td=1/Dl,oa="\\s*([+-]?\\d+)\\s*",Ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aZ=/^#([0-9a-f]{3,8})$/,sZ=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),lZ=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),uZ=new RegExp(`^rgba\\(${oa},${oa},${oa},${Ll}\\)$`),cZ=new RegExp(`^rgba\\(${or},${or},${or},${Ll}\\)$`),dZ=new RegExp(`^hsl\\(${Ll},${or},${or}\\)$`),fZ=new RegExp(`^hsla\\(${Ll},${or},${or},${Ll}\\)$`),ZS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M0(vu,jl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eE,formatHex:eE,formatHex8:hZ,formatHsl:pZ,formatRgb:tE,toString:tE});function eE(){return this.rgb().formatHex()}function hZ(){return this.rgb().formatHex8()}function pZ(){return MI(this).formatHsl()}function tE(){return this.rgb().formatRgb()}function jl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=aZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nE(e):n===3?new qt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sZ.exec(t))?new qt(e[1],e[2],e[3],1):(e=lZ.exec(t))?new qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uZ.exec(t))?nc(e[1],e[2],e[3],e[4]):(e=cZ.exec(t))?nc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dZ.exec(t))?oE(e[1],e[2]/100,e[3]/100,1):(e=fZ.exec(t))?oE(e[1],e[2]/100,e[3]/100,e[4]):ZS.hasOwnProperty(t)?nE(ZS[t]):t==="transparent"?new qt(NaN,NaN,NaN,0):null}function nE(t){return new qt(t>>16&255,t>>8&255,t&255,1)}function nc(t,e,n,r){return r<=0&&(t=e=n=NaN),new qt(t,e,n,r)}function mZ(t){return t instanceof vu||(t=jl(t)),t?(t=t.rgb(),new qt(t.r,t.g,t.b,t.opacity)):new qt}function zg(t,e,n,r){return arguments.length===1?mZ(t):new qt(t,e,n,r??1)}function qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}M0(qt,zg,RI(vu,{brighter(t){return t=t==null?Td:Math.pow(Td,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dl:Math.pow(Dl,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qt(Gi(this.r),Gi(this.g),Gi(this.b),Ad(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rE,formatHex:rE,formatHex8:gZ,formatRgb:iE,toString:iE}));function rE(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}`}function gZ(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}${$i((isNaN(this.opacity)?1:this.opacity)*255)}`}function iE(){const t=Ad(this.opacity);return`${t===1?"rgb(":"rgba("}${Gi(this.r)}, ${Gi(this.g)}, ${Gi(this.b)}${t===1?")":`, ${t})`}`}function Ad(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $i(t){return t=Gi(t),(t<16?"0":"")+t.toString(16)}function oE(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bn(t,e,n,r)}function MI(t){if(t instanceof Bn)return new Bn(t.h,t.s,t.l,t.opacity);if(t instanceof vu||(t=jl(t)),!t)return new Bn;if(t instanceof Bn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Bn(a,s,l,t.opacity)}function yZ(t,e,n,r){return arguments.length===1?MI(t):new Bn(t,e,n,r??1)}function Bn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}M0(Bn,yZ,RI(vu,{brighter(t){return t=t==null?Td:Math.pow(Td,t),new Bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dl:Math.pow(Dl,t),new Bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qt(Pp(t>=240?t-240:t+120,i,r),Pp(t,i,r),Pp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bn(aE(this.h),rc(this.s),rc(this.l),Ad(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ad(this.opacity);return`${t===1?"hsl(":"hsla("}${aE(this.h)}, ${rc(this.s)*100}%, ${rc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aE(t){return t=(t||0)%360,t<0?t+360:t}function rc(t){return Math.max(0,Math.min(1,t||0))}function Pp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $0=t=>()=>t;function vZ(t,e){return function(n){return t+n*e}}function wZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function bZ(t){return(t=+t)==1?$I:function(e,n){return n-e?wZ(e,n,t):$0(isNaN(e)?n:e)}}function $I(t,e){var n=e-t;return n?vZ(t,n):$0(isNaN(t)?e:t)}const sE=function t(e){var n=bZ(e);function r(i,o){var a=n((i=zg(i)).r,(o=zg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=$I(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function xZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function _Z(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function SZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=os(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function EZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Cd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function TZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=os(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Hg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ip=new RegExp(Hg.source,"g");function AZ(t){return function(){return t}}function CZ(t){return function(e){return t(e)+""}}function kZ(t,e){var n=Hg.lastIndex=Ip.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Hg.exec(t))&&(i=Ip.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Cd(r,i)})),n=Ip.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?CZ(l[0].x):AZ(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function os(t,e){var n=typeof e,r;return e==null||n==="boolean"?$0(e):(n==="number"?Cd:n==="string"?(r=jl(e))?(e=r,sE):kZ:e instanceof jl?sE:e instanceof Date?EZ:_Z(e)?xZ:Array.isArray(e)?SZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?TZ:Cd)(t,e)}function D0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function PZ(t,e){e===void 0&&(e=t,t=os);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function IZ(t){return function(){return t}}function kd(t){return+t}var lE=[0,1];function Ut(t){return t}function qg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:IZ(isNaN(e)?NaN:.5)}function NZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function OZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=qg(i,r),o=n(a,o)):(r=qg(r,i),o=n(o,a)),function(s){return o(r(s))}}function RZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=qg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=yu(t,s,1,r)-1;return o[l](i[l](s))}}function wu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ch(){var t=lE,e=lE,n=os,r,i,o,a=Ut,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==Ut&&(a=NZ(t[0],t[h-1])),s=h>2?RZ:OZ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),Cd)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,kd),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=D0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Ut,c()):a!==Ut},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,m){return r=h,i=m,c()}}function L0(){return ch()(Ut,Ut)}function MZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _a(t){return t=Pd(Math.abs(t)),t?t[1]:NaN}function $Z(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function DZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var LZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ul(t){if(!(e=LZ.exec(t)))throw new Error("invalid format: "+t);var e;return new j0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ul.prototype=j0.prototype;function j0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}j0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var DI;function UZ(t,e){var n=Pd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(DI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pd(t,Math.max(0,e+o-1))[0]}function uE(t,e){var n=Pd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:MZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uE(t*100,e),r:uE,s:UZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dE(t){return t}var fE=Array.prototype.map,hE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FZ(t){var e=t.grouping===void 0||t.thousands===void 0?dE:$Z(fE.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?dE:DZ(fE.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Ul(d);var h=d.fill,m=d.align,y=d.sign,w=d.symbol,b=d.zero,v=d.width,x=d.comma,_=d.precision,T=d.trim,S=d.type;S==="n"?(x=!0,S="g"):cE[S]||(_===void 0&&(_=12),T=!0,S="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var E=w==="$"?n:w==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=w==="$"?r:/[%p]/.test(S)?a:"",k=cE[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(N){var I=E,M=A,D,j,L;if(S==="c")M=k(N)+M,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?l:k(Math.abs(N),_),T&&(N=jZ(N)),B&&+N==0&&y!=="+"&&(B=!1),I=(B?y==="("?y:s:y==="-"||y==="("?"":y)+I,M=(S==="s"?hE[8+DI/3]:"")+M+(B&&y==="("?")":""),C){for(D=-1,j=N.length;++D<j;)if(L=N.charCodeAt(D),48>L||L>57){M=(L===46?i+N.slice(D+1):N.slice(D))+M,N=N.slice(0,D);break}}}x&&!b&&(N=e(N,1/0));var $=I.length+N.length+M.length,U=$<v?new Array(v-$+1).join(h):"";switch(x&&b&&(N=e(U+N,U.length?v-M.length:1/0),U=""),m){case"<":N=I+N+M+U;break;case"=":N=I+U+N+M;break;case"^":N=U.slice(0,$=U.length>>1)+I+N+M+U.slice($);break;default:N=U+I+N+M;break}return o(N)}return P.toString=function(){return d+""},P}function c(d,h){var m=u((d=Ul(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(_a(h)/3)))*3,w=Math.pow(10,-y),b=hE[8+y/3];return function(v){return m(w*v)+b}}return{format:u,formatPrefix:c}}var ic,U0,LI;BZ({thousands:",",grouping:[3],currency:["$",""]});function BZ(t){return ic=FZ(t),U0=ic.format,LI=ic.formatPrefix,ic}function GZ(t){return Math.max(0,-_a(Math.abs(t)))}function VZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_a(e)/3)))*3-_a(Math.abs(t)))}function zZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_a(e)-_a(t))+1}function jI(t,e,n,r){var i=Gg(t,e,n),o;switch(r=Ul(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=VZ(i,a))&&(r.precision=o),LI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=GZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return U0(r)}function mi(t){var e=t.domain;return t.ticks=function(n){var r=e();return Fg(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Bg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Id(){var t=L0();return t.copy=function(){return wu(t,Id())},In.apply(t,arguments),mi(t)}function UI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,kd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return UI(t).unknown(e)},t=arguments.length?Array.from(t,kd):[0,1],mi(n)}function FI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function pE(t){return Math.log(t)}function mE(t){return Math.exp(t)}function HZ(t){return-Math.log(-t)}function qZ(t){return-Math.exp(-t)}function WZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function KZ(t){return t===10?WZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function JZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gE(t){return(e,n)=>-t(-e,n)}function F0(t){const e=t(pE,mE),n=e.domain;let r=10,i,o;function a(){return i=JZ(r),o=KZ(r),n()[0]<0?(i=gE(i),o=gE(o),t(HZ,qZ)):t(pE,mE),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),m=i(c),y,w;const b=s==null?10:+s;let v=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<r;++y)if(w=h<0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;v.push(w)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(w=h>0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;v.push(w)}v.length*2<b&&(v=Fg(u,c,b))}else v=Fg(h,m,Math.min(m-h,b)).map(o);return d?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ul(l)).precision==null&&(l.trim=!0),l=U0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(FI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function BI(){const t=F0(ch()).domain([1,10]);return t.copy=()=>wu(t,BI()).base(t.base()),In.apply(t,arguments),t}function yE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function B0(t){var e=1,n=t(yE(e),vE(e));return n.constant=function(r){return arguments.length?t(yE(e=+r),vE(e)):e},mi(n)}function GI(){var t=B0(ch());return t.copy=function(){return wu(t,GI()).constant(t.constant())},In.apply(t,arguments)}function wE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XZ(t){return t<0?-t*t:t*t}function G0(t){var e=t(Ut,Ut),n=1;function r(){return n===1?t(Ut,Ut):n===.5?t(YZ,XZ):t(wE(n),wE(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},mi(e)}function V0(){var t=G0(ch());return t.copy=function(){return wu(t,V0()).exponent(t.exponent())},In.apply(t,arguments),t}function QZ(){return V0.apply(null,arguments).exponent(.5)}function bE(t){return Math.sign(t)*t*t}function ZZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function VI(){var t=L0(),e=[0,1],n=!1,r;function i(o){var a=ZZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(bE(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,kd)).map(bE)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return VI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},In.apply(i,arguments),mi(i)}function zI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=iZ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[yu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ai),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return zI().domain(t).range(e).unknown(r)},In.apply(o,arguments)}function HI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[yu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return HI().domain([t,e]).range(i).unknown(o)},In.apply(mi(a),arguments)}function qI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[yu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return qI().domain(t).range(e).unknown(n)},In.apply(i,arguments)}const Np=new Date,Op=new Date;function ft(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>ft(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Np.setTime(+o),Op.setTime(+a),t(Np),t(Op),Math.floor(n(Np,Op))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Nd=ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Nd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Nd);Nd.range;const gr=1e3,bn=gr*60,yr=bn*60,Ar=yr*24,z0=Ar*7,xE=Ar*30,Rp=Ar*365,Di=ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getUTCSeconds());Di.range;const H0=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gr)},(t,e)=>{t.setTime(+t+e*bn)},(t,e)=>(e-t)/bn,t=>t.getMinutes());H0.range;const q0=ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bn)},(t,e)=>(e-t)/bn,t=>t.getUTCMinutes());q0.range;const W0=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gr-t.getMinutes()*bn)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getHours());W0.range;const K0=ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getUTCHours());K0.range;const bu=ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bn)/Ar,t=>t.getDate()-1);bu.range;const dh=ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ar,t=>t.getUTCDate()-1);dh.range;const WI=ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ar,t=>Math.floor(t/Ar));WI.range;function so(t){return ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*bn)/z0)}const fh=so(0),Od=so(1),eee=so(2),tee=so(3),Sa=so(4),nee=so(5),ree=so(6);fh.range;Od.range;eee.range;tee.range;Sa.range;nee.range;ree.range;function lo(t){return ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/z0)}const hh=lo(0),Rd=lo(1),iee=lo(2),oee=lo(3),Ea=lo(4),aee=lo(5),see=lo(6);hh.range;Rd.range;iee.range;oee.range;Ea.range;aee.range;see.range;const J0=ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());J0.range;const Y0=ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Y0.range;const Cr=ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Cr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Cr.range;const kr=ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());kr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});kr.range;function KI(t,e,n,r,i,o){const a=[[Di,1,gr],[Di,5,5*gr],[Di,15,15*gr],[Di,30,30*gr],[o,1,bn],[o,5,5*bn],[o,15,15*bn],[o,30,30*bn],[i,1,yr],[i,3,3*yr],[i,6,6*yr],[i,12,12*yr],[r,1,Ar],[r,2,2*Ar],[n,1,z0],[e,1,xE],[e,3,3*xE],[t,1,Rp]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),y=m?m.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,d){const h=Math.abs(c-u)/d,m=O0(([,,b])=>b).right(a,h);if(m===a.length)return t.every(Gg(u/Rp,c/Rp,d));if(m===0)return Nd.every(Math.max(Gg(u,c,d),1));const[y,w]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return y.every(w)}return[s,l]}const[lee,uee]=KI(kr,Y0,hh,WI,K0,q0),[cee,dee]=KI(Cr,J0,fh,bu,W0,H0);function Mp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $p(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ss(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function fee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Es(i),c=Ts(i),d=Es(o),h=Ts(o),m=Es(a),y=Ts(a),w=Es(s),b=Ts(s),v=Es(l),x=Ts(l),_={a:B,A:$,b:U,B:G,c:null,d:CE,e:CE,f:$ee,g:Hee,G:Wee,H:Oee,I:Ree,j:Mee,L:JI,m:Dee,M:Lee,p:K,q:H,Q:IE,s:NE,S:jee,u:Uee,U:Fee,V:Bee,w:Gee,W:Vee,x:null,X:null,y:zee,Y:qee,Z:Kee,"%":PE},T={a:te,A:he,b:Se,B:Oe,c:null,d:kE,e:kE,f:Qee,g:lte,G:cte,H:Jee,I:Yee,j:Xee,L:XI,m:Zee,M:ete,p:wt,q:ht,Q:IE,s:NE,S:tte,u:nte,U:rte,V:ite,w:ote,W:ate,x:null,X:null,y:ste,Y:ute,Z:dte,"%":PE},S={a:P,A:N,b:I,B:M,c:D,d:TE,e:TE,f:kee,g:EE,G:SE,H:AE,I:AE,j:Eee,L:Cee,m:See,M:Tee,p:C,q:_ee,Q:Iee,s:Nee,S:Aee,u:yee,U:vee,V:wee,w:gee,W:bee,x:j,X:L,y:EE,Y:SE,Z:xee,"%":Pee};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(J,ae){return function(ue){var V=[],Ae=-1,pe=0,xe=J.length,q,Pe,Z;for(ue instanceof Date||(ue=new Date(+ue));++Ae<xe;)J.charCodeAt(Ae)===37&&(V.push(J.slice(pe,Ae)),(Pe=_E[q=J.charAt(++Ae)])!=null?q=J.charAt(++Ae):Pe=q==="e"?" ":"0",(Z=ae[q])&&(q=Z(ue,Pe)),V.push(q),pe=Ae+1);return V.push(J.slice(pe,Ae)),V.join("")}}function A(J,ae){return function(ue){var V=Ss(1900,void 0,1),Ae=k(V,J,ue+="",0),pe,xe;if(Ae!=ue.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(ae&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(pe=$p(Ss(V.y,0,1)),xe=pe.getUTCDay(),pe=xe>4||xe===0?Rd.ceil(pe):Rd(pe),pe=dh.offset(pe,(V.V-1)*7),V.y=pe.getUTCFullYear(),V.m=pe.getUTCMonth(),V.d=pe.getUTCDate()+(V.w+6)%7):(pe=Mp(Ss(V.y,0,1)),xe=pe.getDay(),pe=xe>4||xe===0?Od.ceil(pe):Od(pe),pe=bu.offset(pe,(V.V-1)*7),V.y=pe.getFullYear(),V.m=pe.getMonth(),V.d=pe.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),xe="Z"in V?$p(Ss(V.y,0,1)).getUTCDay():Mp(Ss(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(xe+5)%7:V.w+V.U*7-(xe+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,$p(V)):Mp(V)}}function k(J,ae,ue,V){for(var Ae=0,pe=ae.length,xe=ue.length,q,Pe;Ae<pe;){if(V>=xe)return-1;if(q=ae.charCodeAt(Ae++),q===37){if(q=ae.charAt(Ae++),Pe=S[q in _E?ae.charAt(Ae++):q],!Pe||(V=Pe(J,ue,V))<0)return-1}else if(q!=ue.charCodeAt(V++))return-1}return V}function C(J,ae,ue){var V=u.exec(ae.slice(ue));return V?(J.p=c.get(V[0].toLowerCase()),ue+V[0].length):-1}function P(J,ae,ue){var V=m.exec(ae.slice(ue));return V?(J.w=y.get(V[0].toLowerCase()),ue+V[0].length):-1}function N(J,ae,ue){var V=d.exec(ae.slice(ue));return V?(J.w=h.get(V[0].toLowerCase()),ue+V[0].length):-1}function I(J,ae,ue){var V=v.exec(ae.slice(ue));return V?(J.m=x.get(V[0].toLowerCase()),ue+V[0].length):-1}function M(J,ae,ue){var V=w.exec(ae.slice(ue));return V?(J.m=b.get(V[0].toLowerCase()),ue+V[0].length):-1}function D(J,ae,ue){return k(J,e,ae,ue)}function j(J,ae,ue){return k(J,n,ae,ue)}function L(J,ae,ue){return k(J,r,ae,ue)}function B(J){return a[J.getDay()]}function $(J){return o[J.getDay()]}function U(J){return l[J.getMonth()]}function G(J){return s[J.getMonth()]}function K(J){return i[+(J.getHours()>=12)]}function H(J){return 1+~~(J.getMonth()/3)}function te(J){return a[J.getUTCDay()]}function he(J){return o[J.getUTCDay()]}function Se(J){return l[J.getUTCMonth()]}function Oe(J){return s[J.getUTCMonth()]}function wt(J){return i[+(J.getUTCHours()>=12)]}function ht(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ae=E(J+="",_);return ae.toString=function(){return J},ae},parse:function(J){var ae=A(J+="",!1);return ae.toString=function(){return J},ae},utcFormat:function(J){var ae=E(J+="",T);return ae.toString=function(){return J},ae},utcParse:function(J){var ae=A(J+="",!0);return ae.toString=function(){return J},ae}}}var _E={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,hee=/^%/,pee=/[\\^$*+?|[\]().{}]/g;function we(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function mee(t){return t.replace(pee,"\\$&")}function Es(t){return new RegExp("^(?:"+t.map(mee).join("|")+")","i")}function Ts(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function SE(t,e,n){var r=vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function EE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _ee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function See(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Eee(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AE(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Aee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Cee(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function kee(t,e,n){var r=vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pee(t,e,n){var r=hee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Iee(t,e,n){var r=vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nee(t,e,n){var r=vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CE(t,e){return we(t.getDate(),e,2)}function Oee(t,e){return we(t.getHours(),e,2)}function Ree(t,e){return we(t.getHours()%12||12,e,2)}function Mee(t,e){return we(1+bu.count(Cr(t),t),e,3)}function JI(t,e){return we(t.getMilliseconds(),e,3)}function $ee(t,e){return JI(t,e)+"000"}function Dee(t,e){return we(t.getMonth()+1,e,2)}function Lee(t,e){return we(t.getMinutes(),e,2)}function jee(t,e){return we(t.getSeconds(),e,2)}function Uee(t){var e=t.getDay();return e===0?7:e}function Fee(t,e){return we(fh.count(Cr(t)-1,t),e,2)}function YI(t){var e=t.getDay();return e>=4||e===0?Sa(t):Sa.ceil(t)}function Bee(t,e){return t=YI(t),we(Sa.count(Cr(t),t)+(Cr(t).getDay()===4),e,2)}function Gee(t){return t.getDay()}function Vee(t,e){return we(Od.count(Cr(t)-1,t),e,2)}function zee(t,e){return we(t.getFullYear()%100,e,2)}function Hee(t,e){return t=YI(t),we(t.getFullYear()%100,e,2)}function qee(t,e){return we(t.getFullYear()%1e4,e,4)}function Wee(t,e){var n=t.getDay();return t=n>=4||n===0?Sa(t):Sa.ceil(t),we(t.getFullYear()%1e4,e,4)}function Kee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+we(e/60|0,"0",2)+we(e%60,"0",2)}function kE(t,e){return we(t.getUTCDate(),e,2)}function Jee(t,e){return we(t.getUTCHours(),e,2)}function Yee(t,e){return we(t.getUTCHours()%12||12,e,2)}function Xee(t,e){return we(1+dh.count(kr(t),t),e,3)}function XI(t,e){return we(t.getUTCMilliseconds(),e,3)}function Qee(t,e){return XI(t,e)+"000"}function Zee(t,e){return we(t.getUTCMonth()+1,e,2)}function ete(t,e){return we(t.getUTCMinutes(),e,2)}function tte(t,e){return we(t.getUTCSeconds(),e,2)}function nte(t){var e=t.getUTCDay();return e===0?7:e}function rte(t,e){return we(hh.count(kr(t)-1,t),e,2)}function QI(t){var e=t.getUTCDay();return e>=4||e===0?Ea(t):Ea.ceil(t)}function ite(t,e){return t=QI(t),we(Ea.count(kr(t),t)+(kr(t).getUTCDay()===4),e,2)}function ote(t){return t.getUTCDay()}function ate(t,e){return we(Rd.count(kr(t)-1,t),e,2)}function ste(t,e){return we(t.getUTCFullYear()%100,e,2)}function lte(t,e){return t=QI(t),we(t.getUTCFullYear()%100,e,2)}function ute(t,e){return we(t.getUTCFullYear()%1e4,e,4)}function cte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ea(t):Ea.ceil(t),we(t.getUTCFullYear()%1e4,e,4)}function dte(){return"+0000"}function PE(){return"%"}function IE(t){return+t}function NE(t){return Math.floor(+t/1e3)}var xo,ZI,eN;fte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fte(t){return xo=fee(t),ZI=xo.format,xo.parse,eN=xo.utcFormat,xo.utcParse,xo}function hte(t){return new Date(t)}function pte(t){return t instanceof Date?+t:+new Date(+t)}function X0(t,e,n,r,i,o,a,s,l,u){var c=L0(),d=c.invert,h=c.domain,m=u(".%L"),y=u(":%S"),w=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),x=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?m:s(E)<E?y:a(E)<E?w:o(E)<E?b:r(E)<E?i(E)<E?v:x:n(E)<E?_:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,pte)):h().map(hte)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(FI(A,E)):c},c.copy=function(){return wu(c,X0(t,e,n,r,i,o,a,s,l,u))},c}function mte(){return In.apply(X0(cee,dee,Cr,J0,fh,bu,W0,H0,Di,ZI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gte(){return In.apply(X0(lee,uee,kr,Y0,hh,dh,K0,q0,Di,eN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ph(){var t=0,e=1,n,r,i,o,a=Ut,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var m,y;return arguments.length?([m,y]=h,a=d(m,y),u):[a(0),a(1)]}}return u.range=c(os),u.rangeRound=c(D0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function gi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tN(){var t=mi(ph()(Ut));return t.copy=function(){return gi(t,tN())},$r.apply(t,arguments)}function nN(){var t=F0(ph()).domain([1,10]);return t.copy=function(){return gi(t,nN()).base(t.base())},$r.apply(t,arguments)}function rN(){var t=B0(ph());return t.copy=function(){return gi(t,rN()).constant(t.constant())},$r.apply(t,arguments)}function Q0(){var t=G0(ph());return t.copy=function(){return gi(t,Q0()).exponent(t.exponent())},$r.apply(t,arguments)}function yte(){return Q0.apply(null,arguments).exponent(.5)}function iN(){var t=[],e=Ut;function n(r){if(r!=null&&!isNaN(r=+r))return e((yu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ai),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>rZ(t,o/r))},n.copy=function(){return iN(e).domain(t)},$r.apply(n,arguments)}function mh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Ut,c,d=!1,h;function m(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?s:l),u(d?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(d=!!w,m):d},m.interpolator=function(w){return arguments.length?(u=w,m):u};function y(w){return function(b){var v,x,_;return arguments.length?([v,x,_]=b,u=PZ(w,[v,x,_]),m):[u(0),u(.5),u(1)]}}return m.range=y(os),m.rangeRound=y(D0),m.unknown=function(w){return arguments.length?(h=w,m):h},function(w){return c=w,i=w(t),o=w(e),a=w(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function oN(){var t=mi(mh()(Ut));return t.copy=function(){return gi(t,oN())},$r.apply(t,arguments)}function aN(){var t=F0(mh()).domain([.1,1,10]);return t.copy=function(){return gi(t,aN()).base(t.base())},$r.apply(t,arguments)}function sN(){var t=B0(mh());return t.copy=function(){return gi(t,sN()).constant(t.constant())},$r.apply(t,arguments)}function Z0(){var t=G0(mh());return t.copy=function(){return gi(t,Z0()).exponent(t.exponent())},$r.apply(t,arguments)}function vte(){return Z0.apply(null,arguments).exponent(.5)}const OE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$l,scaleDiverging:oN,scaleDivergingLog:aN,scaleDivergingPow:Z0,scaleDivergingSqrt:vte,scaleDivergingSymlog:sN,scaleIdentity:UI,scaleImplicit:Vg,scaleLinear:Id,scaleLog:BI,scaleOrdinal:R0,scalePoint:Ys,scalePow:V0,scaleQuantile:zI,scaleQuantize:HI,scaleRadial:VI,scaleSequential:tN,scaleSequentialLog:nN,scaleSequentialPow:Q0,scaleSequentialQuantile:iN,scaleSequentialSqrt:yte,scaleSequentialSymlog:rN,scaleSqrt:QZ,scaleSymlog:GI,scaleThreshold:qI,scaleTime:mte,scaleUtc:gte,tickFormat:jI},Symbol.toStringTag,{value:"Module"}));var wte=Ja;function bte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!wte(a):n(a,s)))var s=a,l=o}return l}var lN=bte;function xte(t,e){return t>e}var _te=xte,Ste=lN,Ete=_te,Tte=rs;function Ate(t){return t&&t.length?Ste(t,Tte,Ete):void 0}var Cte=Ate;const Kr=De(Cte);function kte(t,e){return t<e}var Pte=kte,Ite=lN,Nte=Pte,Ote=rs;function Rte(t){return t&&t.length?Ite(t,Ote,Nte):void 0}var Mte=Rte;const gh=De(Mte);var $te=h0,Dte=is,Lte=gI,jte=Xt;function Ute(t,e){var n=jte(t)?$te:Lte;return n(t,Dte(e))}var Fte=Ute,Bte=pI,Gte=Fte;function Vte(t,e){return Bte(Gte(t,e),1)}var zte=Vte;const Hte=De(zte);var qte=k0;function Wte(t,e){return qte(t,e)}var Kte=Wte;const Zi=De(Kte);var as=1e9,Jte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tw,Ve=!0,Cn="[DecimalError] ",Vi=Cn+"Invalid argument: ",ew=Cn+"Exponent out of range: ",ss=Math.floor,Ci=Math.pow,Yte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an,pt=1e7,Ue=7,uN=9007199254740991,Md=ss(uN/Ue),Q={};Q.absoluteValue=Q.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Q.comparedTo=Q.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ue;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Q.dividedBy=Q.div=function(t){return br(this,new this.constructor(t))};Q.dividedToIntegerBy=Q.idiv=function(t){var e=this,n=e.constructor;return Ne(br(e,new n(t),0,1),n.precision)};Q.equals=Q.eq=function(t){return!this.cmp(t)};Q.exponent=function(){return rt(this)};Q.greaterThan=Q.gt=function(t){return this.cmp(t)>0};Q.greaterThanOrEqualTo=Q.gte=function(t){return this.cmp(t)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(t){return this.cmp(t)<0};Q.lessThanOrEqualTo=Q.lte=function(t){return this.cmp(t)<1};Q.logarithm=Q.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(an))throw Error(Cn+"NaN");if(n.s<1)throw Error(Cn+(n.s?"NaN":"-Infinity"));return n.eq(an)?new r(0):(Ve=!1,e=br(Fl(n,o),Fl(t,o),o),Ve=!0,Ne(e,i))};Q.minus=Q.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fN(e,t):cN(e,(t.s=-t.s,t))};Q.modulo=Q.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Cn+"NaN");return n.s?(Ve=!1,e=br(n,t,0,1).times(t),Ve=!0,n.minus(e)):Ne(new r(n),i)};Q.naturalExponential=Q.exp=function(){return dN(this)};Q.naturalLogarithm=Q.ln=function(){return Fl(this)};Q.negated=Q.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Q.plus=Q.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cN(e,t):fN(e,(t.s=-t.s,t))};Q.precision=Q.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Vi+t);if(e=rt(i)+1,r=i.d.length-1,n=r*Ue+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Q.squareRoot=Q.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Cn+"NaN")}for(t=rt(s),Ve=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=tr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ss((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(br(s,o,a+2)).times(.5),tr(o.d).slice(0,a)===(e=tr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ne(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ve=!0,Ne(r,n)};Q.times=Q.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%pt|0,e=s/pt|0;o[i]=(o[i]+e)%pt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ve?Ne(t,d.precision):t};Q.toDecimalPlaces=Q.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(lr(t,0,as),e===void 0?e=r.rounding:lr(e,0,8),Ne(n,t+rt(n)+1,e))};Q.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=eo(r,!0):(lr(t,0,as),e===void 0?e=i.rounding:lr(e,0,8),r=Ne(new i(r),t+1,e),n=eo(r,!0,t+1)),n};Q.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?eo(i):(lr(t,0,as),e===void 0?e=o.rounding:lr(e,0,8),r=Ne(new o(i),t+rt(i)+1,e),n=eo(r.abs(),!1,t+rt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Q.toInteger=Q.toint=function(){var t=this,e=t.constructor;return Ne(new e(t),rt(t)+1,e.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(an);if(s=new l(s),!s.s){if(t.s<1)throw Error(Cn+"Infinity");return s}if(s.eq(an))return s;if(r=l.precision,t.eq(an))return Ne(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=uN){for(i=new l(an),e=Math.ceil(r/Ue+4),Ve=!1;n%2&&(i=i.times(s),ME(i.d,e)),n=ss(n/2),n!==0;)s=s.times(s),ME(s.d,e);return Ve=!0,t.s<0?new l(an).div(i):Ne(i,r)}}else if(o<0)throw Error(Cn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ve=!1,i=t.times(Fl(s,r+u)),Ve=!0,i=dN(i),i.s=o,i};Q.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=rt(i),r=eo(i,n<=o.toExpNeg||n>=o.toExpPos)):(lr(t,1,as),e===void 0?e=o.rounding:lr(e,0,8),i=Ne(new o(i),t,e),n=rt(i),r=eo(i,t<=n||n<=o.toExpNeg,t)),r};Q.toSignificantDigits=Q.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(lr(t,1,as),e===void 0?e=r.rounding:lr(e,0,8)),Ne(new r(n),t,e)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rt(t),n=t.constructor;return eo(t,e<=n.toExpNeg||e>=n.toExpPos)};function cN(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ve?Ne(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Ue),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/pt|0,l[o]%=pt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ve?Ne(e,d):e}function lr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Vi+t)}function tr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ue-r.length,n&&(o+=Gr(n)),o+=r;a=t[e],r=a+"",n=Ue-r.length,n&&(o+=Gr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var br=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%pt|0,a=o/pt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,m,y,w,b,v,x,_,T,S,E,A,k,C=r.constructor,P=r.s==i.s?1:-1,N=r.d,I=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Cn+"Division by zero");for(l=r.e-i.e,A=I.length,S=N.length,m=new C(P),y=m.d=[],u=0;I[u]==(N[u]||0);)++u;if(I[u]>(N[u]||0)&&--l,o==null?x=o=C.precision:a?x=o+(rt(r)-rt(i))+1:x=o,x<0)return new C(0);if(x=x/Ue+2|0,u=0,A==1)for(c=0,I=I[0],x++;(u<S||c)&&x--;u++)_=c*pt+(N[u]||0),y[u]=_/I|0,c=_%I|0;else{for(c=pt/(I[0]+1)|0,c>1&&(I=t(I,c),N=t(N,c),A=I.length,S=N.length),T=A,w=N.slice(0,A),b=w.length;b<A;)w[b++]=0;k=I.slice(),k.unshift(0),E=I[0],I[1]>=pt/2&&++E;do c=0,s=e(I,w,A,b),s<0?(v=w[0],A!=b&&(v=v*pt+(w[1]||0)),c=v/E|0,c>1?(c>=pt&&(c=pt-1),d=t(I,c),h=d.length,b=w.length,s=e(d,w,h,b),s==1&&(c--,n(d,A<h?k:I,h))):(c==0&&(s=c=1),d=I.slice()),h=d.length,h<b&&d.unshift(0),n(w,d,b),s==-1&&(b=w.length,s=e(I,w,A,b),s<1&&(c++,n(w,A<b?k:I,b))),b=w.length):s===0&&(c++,w=[0]),y[u++]=c,s&&w[0]?w[b++]=N[T]||0:(w=[N[T]],b=1);while((T++<S||w[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=l,Ne(m,a?o+rt(m)+1:o)}}();function dN(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(rt(t)>16)throw Error(ew+rt(t));if(!t.s)return new c(an);for(Ve=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ci(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(an),c.precision=s;;){if(i=Ne(i.times(t),s),n=n.times(++l),a=o.plus(br(i,n,s)),tr(a.d).slice(0,s)===tr(o.d).slice(0,s)){for(;u--;)o=Ne(o.times(o),s);return c.precision=d,e==null?(Ve=!0,Ne(o,d)):o}o=a}}function rt(t){for(var e=t.e*Ue,n=t.d[0];n>=10;n/=10)e++;return e}function Dp(t,e,n){if(e>t.LN10.sd())throw Ve=!0,n&&(t.precision=n),Error(Cn+"LN10 precision limit exceeded");return Ne(new t(t.LN10),e)}function Gr(t){for(var e="";t--;)e+="0";return e}function Fl(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,m=t,y=m.d,w=m.constructor,b=w.precision;if(m.s<1)throw Error(Cn+(m.s?"NaN":"-Infinity"));if(m.eq(an))return new w(0);if(e==null?(Ve=!1,u=b):u=e,m.eq(10))return e==null&&(Ve=!0),Dp(w,u);if(u+=h,w.precision=u,n=tr(y),r=n.charAt(0),o=rt(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=tr(m.d),r=n.charAt(0),d++;o=rt(m),r>1?(m=new w("0."+n),o++):m=new w(r+"."+n.slice(1))}else return l=Dp(w,u+2,b).times(o+""),m=Fl(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=b,e==null?(Ve=!0,Ne(m,b)):m;for(s=a=m=br(m.minus(an),m.plus(an),u),c=Ne(m.times(m),u),i=3;;){if(a=Ne(a.times(c),u),l=s.plus(br(a,new w(i),u)),tr(l.d).slice(0,u)===tr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Dp(w,u+2,b).times(o+""))),s=br(s,new w(d),u),w.precision=b,e==null?(Ve=!0,Ne(s,b)):s;s=l,i+=2}}function RE(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ss(n/Ue),t.d=[],r=(n+1)%Ue,n<0&&(r+=Ue),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ue;r<i;)t.d.push(+e.slice(r,r+=Ue));e=e.slice(r),r=Ue-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ve&&(t.e>Md||t.e<-Md))throw Error(ew+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ne(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ue,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Ue),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Ue,i=r-Ue+a}if(n!==void 0&&(o=Ci(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ci(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=rt(t),d.length=1,e=e-o-1,d[0]=Ci(10,(Ue-e%Ue)%Ue),t.e=ss(-e/Ue)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Ci(10,Ue-r),d[c]=i>0?(u/Ci(10,a-i)%Ci(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==pt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=pt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Ve&&(t.e>Md||t.e<-Md))throw Error(ew+rt(t));return t}function fN(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ve?Ne(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/Ue),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=pt-1;--l[o],l[i]+=pt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ve?Ne(e,m):e):new h(0)}function eo(t,e,n){var r,i=rt(t),o=tr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Gr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Gr(-i-1)+o,n&&(r=n-a)>0&&(o+=Gr(r))):i>=a?(o+=Gr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Gr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Gr(r))),t.s<0?"-"+o:o}function ME(t,e){if(t.length>e)return t.length=e,!0}function hN(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Vi+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return RE(a,o.toString())}else if(typeof o!="string")throw Error(Vi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Yte.test(o))RE(a,o);else throw Error(Vi+o)}if(i.prototype=Q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hN,i.config=i.set=Xte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Xte(t){if(!t||typeof t!="object")throw Error(Cn+"Object expected");var e,n,r,i=["precision",1,as,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ss(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Vi+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vi+n+": "+r);return this}var tw=hN(Jte);an=new tw(1);const ke=tw;function Qte(t){return nne(t)||tne(t)||ene(t)||Zte()}function Zte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t,e){if(t){if(typeof t=="string")return Wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wg(t,e)}}function tne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nne(t){if(Array.isArray(t))return Wg(t)}function Wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rne=function(e){return e},pN={},mN=function(e){return e===pN},$E=function(e){return function n(){return arguments.length===0||arguments.length===1&&mN(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ine=function t(e,n){return e===1?n:$E(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==pN}).length;return a>=e?n.apply(void 0,i):t(e-a,$E(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return mN(d)?l.shift():d});return n.apply(void 0,Qte(c).concat(l))}))})},yh=function(e){return ine(e.length,e)},Kg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},one=yh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ane=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return rne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Jg=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},gN=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function sne(t){var e;return t===0?e=1:e=Math.floor(new ke(t).abs().log(10).toNumber())+1,e}function lne(t,e,n){for(var r=new ke(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var une=yh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),cne=yh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),dne=yh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vh={rangeStep:lne,getDigitCount:sne,interpolateNumber:une,uninterpolateNumber:cne,uninterpolateTruncation:dne};function Yg(t){return pne(t)||hne(t)||yN(t)||fne()}function fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pne(t){if(Array.isArray(t))return Xg(t)}function Bl(t,e){return yne(t)||gne(t,e)||yN(t,e)||mne()}function mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yN(t,e){if(t){if(typeof t=="string")return Xg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xg(t,e)}}function Xg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function yne(t){if(Array.isArray(t))return t}function vN(t){var e=Bl(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function wN(t,e,n){if(t.lte(0))return new ke(0);var r=vh.getDigitCount(t.toNumber()),i=new ke(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new ke(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new ke(Math.ceil(l))}function vne(t,e,n){var r=1,i=new ke(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ke(10).pow(vh.getDigitCount(t)-1),i=new ke(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ke(Math.floor(t)))}else t===0?i=new ke(Math.floor((e-1)/2)):n||(i=new ke(Math.floor(t)));var a=Math.floor((e-1)/2),s=ane(one(function(l){return i.add(new ke(l-a).mul(r)).toNumber()}),Kg);return s(0,e)}function bN(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ke(0),tickMin:new ke(0),tickMax:new ke(0)};var o=wN(new ke(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new ke(0):(a=new ke(t).add(e).div(2),a=a.sub(new ke(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new ke(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?bN(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new ke(s).mul(o)),tickMax:a.add(new ke(l).mul(o))})}function wne(t){var e=Bl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=vN([n,r]),l=Bl(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Yg(Kg(0,i-1).map(function(){return 1/0}))):[].concat(Yg(Kg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Jg(d):d}if(u===c)return vne(u,i,o);var h=bN(u,c,a,o),m=h.step,y=h.tickMin,w=h.tickMax,b=vh.rangeStep(y,w.add(new ke(.1).mul(m)),m);return n>r?Jg(b):b}function bne(t,e){var n=Bl(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=vN([r,i]),s=Bl(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=wN(new ke(u).sub(l).div(c-1),o,0),h=[].concat(Yg(vh.rangeStep(new ke(l),new ke(u).sub(new ke(.99).mul(d)),d)),[u]);return r>i?Jg(h):h}var xne=gN(wne),_ne=gN(bne),Sne="Invariant failed";function to(t,e){throw new Error(Sne)}var Ene=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function Tne(t,e){return Pne(t)||kne(t,e)||Cne(t,e)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(t,e){if(t){if(typeof t=="string")return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Pne(t){if(Array.isArray(t))return t}function Ine(t,e){if(t==null)return{};var n=Nne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function One(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SN(r.key),r)}}function Mne(t,e,n){return e&&Rne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ne(t,e,n){return e=Dd(e),Dne(t,xN()?Reflect.construct(e,n||[],Dd(t).constructor):e.apply(t,n))}function Dne(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lne(t)}function Lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xN=function(){return!!t})()}function Dd(t){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dd(t)}function jne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qg(t,e)}function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qg(t,e)}function _N(t,e,n){return e=SN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SN(t){var e=Une(t,"string");return Ta(e)=="symbol"?e:e+""}function Une(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ls=function(t){function e(){return One(this,e),$ne(this,e,arguments)}return jne(e,t),Mne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Ine(r,Ene),m=ce(h,!1);this.props.direction==="x"&&c.type!=="number"&&to();var y=l.map(function(w){var b=u(w,s),v=b.x,x=b.y,_=b.value,T=b.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var k=Tne(T,2);E=k[0],A=k[1]}else E=A=T;if(o==="vertical"){var C=c.scale,P=x+i,N=P+a,I=P-a,M=C(_-E),D=C(_+A);S.push({x1:D,y1:N,x2:D,y2:I}),S.push({x1:M,y1:P,x2:D,y2:P}),S.push({x1:M,y1:N,x2:M,y2:I})}else if(o==="horizontal"){var j=d.scale,L=v+i,B=L-a,$=L+a,U=j(_-E),G=j(_+A);S.push({x1:B,y1:G,x2:$,y2:G}),S.push({x1:L,y1:U,x2:L,y2:G}),S.push({x1:B,y1:U,x2:$,y2:U})}return O.createElement(be,$d({className:"recharts-errorBar",key:"bar-".concat(S.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},m),S.map(function(K){return O.createElement("line",$d({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return O.createElement(be,{className:"recharts-errorBars"},y)}}])}(O.Component);_N(ls,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_N(ls,"displayName","ErrorBar");function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){Fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fne(t,e,n){return e=Bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bne(t){var e=Gne(t,"string");return Gl(e)=="symbol"?e:e+""}function Gne(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EN=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=nn(n,ia);if(!a)return null;var s=ia.defaultProps,l=s!==void 0?bi(bi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,m=d.props,y=m.sectors||m.data||[];return c.concat(y.map(function(w){return{type:a.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,m=h!==void 0?bi(bi({},h),d.props):{},y=m.dataKey,w=m.name,b=m.legendType,v=m.hide;return{inactive:v,dataKey:y,type:l.iconType||b||"square",color:nw(d),value:w||y,payload:m}}),bi(bi(bi({},l),ia.getWithHeight(a,i)),{},{payload:u,item:a})};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function jE(t){return qne(t)||Hne(t)||zne(t)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(t,e){if(t){if(typeof t=="string")return Zg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zg(t,e)}}function Hne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qne(t){if(Array.isArray(t))return Zg(t)}function Zg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(n),!0).forEach(function(r){aa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aa(t,e,n){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Kne(t,"string");return Vl(e)=="symbol"?e:e+""}function Kne(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dt(t,e,n){return le(t)||le(e)?n:ct(e)?Sn(t,e,n):fe(e)?e(t):n}function Xs(t,e,n,r){var i=Hte(t,function(s){return dt(s,e)});if(n==="number"){var o=i.filter(function(s){return W(s)||parseFloat(s)});return o.length?[gh(o),Kr(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!le(s)}):i;return a.map(function(s){return ct(s)||s instanceof Date?s:""})}var Jne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Gn(d-c)!==Gn(h-d)){var y=[];if(Gn(h-d)===Gn(l[1]-l[0])){m=h;var w=d+l[1]-l[0];y[0]=Math.min(w,(w+c)/2),y[1]=Math.max(w,(w+c)/2)}else{m=c;var b=h+l[1]-l[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(e>(x+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},nw=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ye(Ye({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Yne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,m=d.length;h<m;h++){var y=c[d[h]],w=y.items,b=y.cateAxisId,v=w.filter(function(A){return wr(A.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,_=x!==void 0?Ye(Ye({},x),v[0].props):v[0].props,T=_.barSize,S=_[b];a[S]||(a[S]=[]);var E=le(T)?n:T;a[S].push({item:v[0],stackList:v.slice(1),barSize:le(E)?void 0:Qi(E,r,0)})}}return a},Xne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Qi(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,y=a.reduce(function(T,S){return T+S.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var w=(i-y)/2>>0,b={offset:w-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:b.offset+b.size+u,size:h?m:S.barSize}},A=[].concat(jE(T),[E]);return b=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){A.push({item:k,position:b})}),A},d)}else{var v=Qi(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var x=(i-2*v-(l-1)*u)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;c=a.reduce(function(T,S,E){var A=[].concat(jE(T),[{item:S.item,position:{offset:v+(x+u)*E+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){A.push({item:k,position:A[A.length-1].position})}),A},d)}return c},Qne=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=EN({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,m=u.align,y=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&y==="middle")&&m!=="center"&&W(e[m]))return Ye(Ye({},e),{},aa({},m,e[m]+(d||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&y!=="middle"&&W(e[y]))return Ye(Ye({},e),{},aa({},y,e[y]+(h||0)))}return e},Zne=function(e,n,r){return le(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},TN=function(e,n,r,i,o){var a=n.props.children,s=Yt(a,ls).filter(function(u){return Zne(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=dt(c,r);if(le(d))return u;var h=Array.isArray(d)?[gh(d),Kr(d)]:[d,d],m=l.reduce(function(y,w){var b=dt(c,w,0),v=h[0]-Math.abs(Array.isArray(b)?b[0]:b),x=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},ere=function(e,n,r,i,o){var a=n.map(function(s){return TN(e,s,r,o,i)}).filter(function(s){return!le(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},AN=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&TN(e,l,u,i)||Xs(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},CN=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Li=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Gn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!es(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Lp=new WeakMap,oc=function(e,n){if(typeof n!="function")return e;Lp.has(e)||Lp.set(e,new WeakMap);var r=Lp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},tre=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:$l(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Id(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ys(),realScaleType:"point"}:o==="category"?{scale:$l(),realScaleType:"band"}:{scale:Id(),realScaleType:"linear"};if(Xi(i)){var l="scale".concat(th(i));return{scale:(OE[l]||Ys)(),realScaleType:OE[l]?l:"point"}}return fe(i)?{scale:i}:{scale:Ys(),realScaleType:"point"}},FE=1e-4,nre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-FE,a=Math.max(i[0],i[1])+FE,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},rre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ire=function(e,n){if(!n||n.length!==2||!W(n[0])||!W(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!W(e[0])||e[0]<r)&&(o[0]=r),(!W(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ore=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=es(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},are=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=es(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},sre={sign:ore,expand:x6,none:ya,silhouette:_6,wiggle:S6,positive:are},lre=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=sre[r],a=b6().keys(i).value(function(s,l){return+dt(s,l,0)}).order(Eg).offset(o);return a(e)},ure=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ye(Ye({},h.type.defaultProps),h.props):h.props,w=y.stackId,b=y.hide;if(b)return d;var v=y[r],x=d[v]||{hasStack:!1,stackGroups:{}};if(ct(w)){var _=x.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[w]=_}else x.stackGroups[ao("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ye(Ye({},d),{},aa({},v,x))},l),c={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,b){var v=m.stackGroups[b];return Ye(Ye({},w),{},aa({},b,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:lre(e,v.items,o)}))},y)}return Ye(Ye({},d),{},aa({},h,m))},c)},cre=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=xne(u,o,s);return e.domain([gh(c),Kr(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=_ne(d,o,s);return{niceTicks:h}}return null};function Aa(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!le(i[e.dataKey])){var s=ld(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=dt(i,le(a)?e.dataKey:a);return le(l)?null:e.scale(l)}var BE=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=dt(a,n.dataKey,n.domain[s]);return le(l)?null:n.scale(l)-o/2+i},dre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},fre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ye(Ye({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(ct(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},hre=function(e){return e.reduce(function(n,r){return[gh(r.concat([n[0]]).filter(W)),Kr(r.concat([n[1]]).filter(W))]},[1/0,-1/0])},kN=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=hre(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},GE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ey=function(e,n,r){if(fe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(W(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(GE.test(e[0])){var o=+GE.exec(e[0])[1];i[0]=n[0]-o}else fe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(W(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(VE.test(e[1])){var a=+VE.exec(e[1])[1];i[1]=n[1]+a}else fe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ld=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=I0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},zE=function(e,n,r){return!e||!e.length||Zi(e,Sn(r,"type.defaultProps.domain"))?n:e},PN=function(e,n){var r=e.type.defaultProps?Ye(Ye({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Ye(Ye({},ce(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:nw(e),value:dt(n,i),type:l,payload:n,chartType:u,hide:c})};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pre(t,e,n){return e=mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=gre(t,"string");return zl(e)=="symbol"?e:e+""}function gre(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jd=Math.PI/180,yre=function(e){return e*180/Math.PI},Tt=function(e,n,r,i){return{x:e+Math.cos(-jd*i)*r,y:n+Math.sin(-jd*i)*r}},vre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},wre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=vre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:yre(u),angleInRadian:u}},bre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},xre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},WE=function(e,n){var r=e.x,i=e.y,o=wre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=bre(n),d=c.startAngle,h=c.endAngle,m=s,y;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}return y?qE(qE({},n),{},{radius:a,angle:xre(m,n)}):null};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}var _re=["offset"];function Sre(t){return Cre(t)||Are(t)||Tre(t)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(t,e){if(t){if(typeof t=="string")return ty(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ty(t,e)}}function Are(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cre(t){if(Array.isArray(t))return ty(t)}function ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kre(t,e){if(t==null)return{};var n=Pre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return e=Nre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nre(t){var e=Ore(t,"string");return Hl(e)=="symbol"?e:e+""}function Ore(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}var Rre=function(e){var n=e.value,r=e.formatter,i=le(e.children)?n:e.children;return fe(r)?r(i):i},Mre=function(e,n){var r=Gn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},$re=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,w=l.clockWise,b=(d+h)/2,v=Mre(m,y),x=v>=0?1:-1,_,T;i==="insideStart"?(_=m+x*a,T=w):i==="insideEnd"?(_=y-x*a,T=!w):i==="end"&&(_=y+x*a,T=w),T=v<=0?T:!T;var S=Tt(u,c,b,_),E=Tt(u,c,b,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),k=le(e.id)?ao("recharts-radial-line-"):e.id;return O.createElement("text",ql({},r,{dominantBaseline:"central",className:de("recharts-radial-bar-label",s)}),O.createElement("defs",null,O.createElement("path",{id:k,d:A})),O.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Dre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var m=Tt(a,s,u+r,h),y=m.x,w=m.y;return{x:y,y:w,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,v=Tt(a,s,b,h),x=v.x,_=v.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Lre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,m=d>0?"end":"start",y=d>0?"start":"end",w=u>=0?1:-1,b=w*i,v=w>0?"end":"start",x=w>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return at(at({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return at(at({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return at(at({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return at(at({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?at({x:s+b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideRight"?at({x:s+u-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},A):o==="insideTop"?at({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},A):o==="insideBottom"?at({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},A):o==="insideTopLeft"?at({x:s+b,y:l+h,textAnchor:x,verticalAnchor:y},A):o==="insideTopRight"?at({x:s+u-b,y:l+h,textAnchor:v,verticalAnchor:y},A):o==="insideBottomLeft"?at({x:s+b,y:l+c-h,textAnchor:x,verticalAnchor:m},A):o==="insideBottomRight"?at({x:s+u-b,y:l+c-h,textAnchor:v,verticalAnchor:m},A):Ya(o)&&(W(o.x)||Mi(o.x))&&(W(o.y)||Mi(o.y))?at({x:s+Qi(o.x,u),y:l+Qi(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):at({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},jre=function(e){return"cx"in e&&W(e.cx)};function Ot(t){var e=t.offset,n=e===void 0?5:e,r=kre(t,_re),i=at({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||le(s)&&le(l)&&!R.isValidElement(u)&&!fe(u))return null;if(R.isValidElement(u))return R.cloneElement(u,i);var m;if(fe(u)){if(m=R.createElement(u,i),R.isValidElement(m))return m}else m=Rre(i);var y=jre(o),w=ce(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return $re(i,m,w);var b=y?Dre(i):Lre(i);return O.createElement(Sd,ql({className:de("recharts-label",d)},w,b,{breakAll:h}),m)}Ot.displayName="Label";var IN=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,m=e.top,y=e.left,w=e.width,b=e.height,v=e.clockWise,x=e.labelViewBox;if(x)return x;if(W(w)&&W(b)){if(W(d)&&W(h))return{x:d,y:h,width:w,height:b};if(W(m)&&W(y))return{x:m,y,width:w,height:b}}return W(d)&&W(h)?{x:d,y:h,width:0,height:0}:W(n)&&W(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},Ure=function(e,n){return e?e===!0?O.createElement(Ot,{key:"label-implicit",viewBox:n}):ct(e)?O.createElement(Ot,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===Ot?R.cloneElement(e,{key:"label-implicit",viewBox:n}):O.createElement(Ot,{key:"label-implicit",content:e,viewBox:n}):fe(e)?O.createElement(Ot,{key:"label-implicit",content:e,viewBox:n}):Ya(e)?O.createElement(Ot,ql({viewBox:n},e,{key:"label-implicit"})):null:null},Fre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=IN(e),a=Yt(i,Ot).map(function(l,u){return R.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Ure(e.label,n||o);return[s].concat(Sre(a))};Ot.parseViewBox=IN;Ot.renderCallByParent=Fre;function Bre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Gre=Bre;const Vre=De(Gre);function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var zre=["valueAccessor"],Hre=["data","dataKey","clockWise","id","textBreakAll"];function qre(t){return Yre(t)||Jre(t)||Kre(t)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kre(t,e){if(t){if(typeof t=="string")return ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ny(t,e)}}function Jre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yre(t){if(Array.isArray(t))return ny(t)}function ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Zre(t,"string");return Wl(e)=="symbol"?e:e+""}function Zre(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XE(t,e){if(t==null)return{};var n=eie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tie=function(e){return Array.isArray(e.value)?Vre(e.value):e.value};function ar(t){var e=t.valueAccessor,n=e===void 0?tie:e,r=XE(t,zre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=XE(r,Hre);return!i||!i.length?null:O.createElement(be,{className:"recharts-label-list"},i.map(function(c,d){var h=le(o)?n(c,d):dt(c&&c.payload,o),m=le(s)?{}:{id:"".concat(s,"-").concat(d)};return O.createElement(Ot,Ud({},ce(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Ot.parseViewBox(le(a)?c:YE(YE({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}ar.displayName="LabelList";function nie(t,e){return t?t===!0?O.createElement(ar,{key:"labelList-implicit",data:e}):O.isValidElement(t)||fe(t)?O.createElement(ar,{key:"labelList-implicit",data:e,content:t}):Ya(t)?O.createElement(ar,Ud({data:e},t,{key:"labelList-implicit"})):null:null}function rie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yt(r,ar).map(function(a,s){return R.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=nie(t.label,e);return[o].concat(qre(i))}ar.renderCallByParent=rie;function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(this,arguments)}function QE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QE(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return e=oie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=aie(t,"string");return Kl(e)=="symbol"?e:e+""}function aie(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sie=function(e,n){var r=Gn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ac=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/jd,h=u?o:o+a*d,m=Tt(n,r,c,h),y=Tt(n,r,i,h),w=u?o-a*d:o,b=Tt(n,r,c*Math.cos(d*jd),w);return{center:m,circleTangency:y,lineTangency:b,theta:d}},NN=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=sie(a,s),u=a+l,c=Tt(n,r,o,a),d=Tt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Tt(n,r,i,a),y=Tt(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},lie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Gn(c-u),h=ac({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,w=h.theta,b=ac({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),v=b.circleTangency,x=b.lineTangency,_=b.theta,T=l?Math.abs(u-c):Math.abs(u-c)-w-_;if(T<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):NN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=ac({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,k=E.lineTangency,C=E.theta,P=ac({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=P.circleTangency,I=P.lineTangency,M=P.theta,D=l?Math.abs(u-c):Math.abs(u-c)-C-M;if(D<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},uie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ON=function(e){var n=ZE(ZE({},uie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var m=de("recharts-sector",h),y=a-o,w=Qi(s,y,0,!0),b;return w>0&&Math.abs(c-d)<360?b=lie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):b=NN({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),O.createElement("path",ry({},ce(n,!0),{className:m,d:b,role:"img"}))};function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cie(t,e,n){return e=die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function die(t){var e=fie(t,"string");return Jl(e)=="symbol"?e:e+""}function fie(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nT={curveBasisClosed:u6,curveBasisOpen:c6,curveBasis:l6,curveBumpX:Kq,curveBumpY:Jq,curveLinearClosed:d6,curveLinear:rh,curveMonotoneX:f6,curveMonotoneY:h6,curveNatural:p6,curveStep:m6,curveStepAfter:y6,curveStepBefore:g6},sc=function(e){return e.x===+e.x&&e.y===+e.y},As=function(e){return e.x},Cs=function(e){return e.y},hie=function(e,n){if(fe(e))return e;var r="curve".concat(th(e));return(r==="curveMonotone"||r==="curveBump")&&n?nT["".concat(r).concat(n==="vertical"?"Y":"X")]:nT[r]||rh},pie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=hie(r,s),d=u?o.filter(function(w){return sc(w)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(w){return sc(w)}):a,y=d.map(function(w,b){return tT(tT({},w),{},{base:m[b]})});return s==="vertical"?h=Xu().y(Cs).x1(As).x0(function(w){return w.base.x}):h=Xu().x(As).y1(Cs).y0(function(w){return w.base.y}),h.defined(sc).curve(c),h(y)}return s==="vertical"&&W(a)?h=Xu().y(Cs).x1(As).x0(a):W(a)?h=Xu().x(As).y1(Cs).y0(a):h=MP().x(As).y(Cs),h.defined(sc).curve(c),h(d)},zi=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?pie(e):i;return R.createElement("path",iy({},ce(e,!1),ud(e),{className:de("recharts-curve",n),d:a,ref:o}))},RN={exports:{}},mie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gie=mie,yie=gie;function MN(){}function $N(){}$N.resetWarningCache=MN;var vie=function(){function t(r,i,o,a,s,l){if(l!==yie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$N,resetWarningCache:MN};return n.PropTypes=n,n};RN.exports=vie();var wie=RN.exports;const _e=De(wie),{getOwnPropertyNames:bie,getOwnPropertySymbols:xie}=Object,{hasOwnProperty:_ie}=Object.prototype;function jp(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function lc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Sie(t){return t!=null?t[Symbol.toStringTag]:void 0}function rT(t){return bie(t).concat(xie(t))}const Eie=Object.hasOwn||((t,e)=>_ie.call(t,e));function uo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Tie="__v",Aie="__o",Cie="_owner",{getOwnPropertyDescriptor:iT,keys:oT}=Object;function kie(t,e){return t.byteLength===e.byteLength&&Fd(new Uint8Array(t),new Uint8Array(e))}function Pie(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Iie(t,e){return t.byteLength===e.byteLength&&Fd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Nie(t,e){return uo(t.getTime(),e.getTime())}function Oie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rie(t,e){return t===e}function aT(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,d=0;for(;(s=u.next())&&!s.done;){if(i[d]){d++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,d,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const Mie=uo;function $ie(t,e,n){const r=oT(t);let i=r.length;if(oT(e).length!==i)return!1;for(;i-- >0;)if(!DN(t,e,n,r[i]))return!1;return!0}function ks(t,e,n){const r=rT(t);let i=r.length;if(rT(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!DN(t,e,n,o)||(a=iT(t,o),s=iT(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Die(t,e){return uo(t.valueOf(),e.valueOf())}function Lie(t,e){return t.source===e.source&&t.flags===e.flags}function sT(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Fd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function jie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function DN(t,e,n,r){return(r===Cie||r===Aie||r===Tie)&&(t.$$typeof||e.$$typeof)?!0:Eie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Uie="[object ArrayBuffer]",Fie="[object Arguments]",Bie="[object Boolean]",Gie="[object DataView]",Vie="[object Date]",zie="[object Error]",Hie="[object Map]",qie="[object Number]",Wie="[object Object]",Kie="[object RegExp]",Jie="[object Set]",Yie="[object String]",Xie={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Qie="[object URL]",Zie=Object.prototype.toString;function eoe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:y}){return function(b,v,x){if(b===v)return!0;if(b==null||v==null)return!1;const _=typeof b;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?s(b,v,x):_==="function"?o(b,v,x):!1;const T=b.constructor;if(T!==v.constructor)return!1;if(T===Object)return l(b,v,x);if(Array.isArray(b))return e(b,v,x);if(T===Date)return r(b,v,x);if(T===RegExp)return c(b,v,x);if(T===Map)return a(b,v,x);if(T===Set)return d(b,v,x);const S=Zie.call(b);if(S===Vie)return r(b,v,x);if(S===Kie)return c(b,v,x);if(S===Hie)return a(b,v,x);if(S===Jie)return d(b,v,x);if(S===Wie)return typeof b.then!="function"&&typeof v.then!="function"&&l(b,v,x);if(S===Qie)return m(b,v,x);if(S===zie)return i(b,v,x);if(S===Fie)return l(b,v,x);if(Xie[S])return h(b,v,x);if(S===Uie)return t(b,v,x);if(S===Gie)return n(b,v,x);if(S===Bie||S===qie||S===Yie)return u(b,v,x);if(y){let E=y[S];if(!E){const A=Sie(b);A&&(E=y[A])}if(E)return E(b,v,x)}return!1}}function toe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:kie,areArraysEqual:n?ks:Pie,areDataViewsEqual:Iie,areDatesEqual:Nie,areErrorsEqual:Oie,areFunctionsEqual:Rie,areMapsEqual:n?jp(aT,ks):aT,areNumbersEqual:Mie,areObjectsEqual:n?ks:$ie,arePrimitiveWrappersEqual:Die,areRegExpsEqual:Lie,areSetsEqual:n?jp(sT,ks):sT,areTypedArraysEqual:n?jp(Fd,ks):Fd,areUrlsEqual:jie,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=lc(r.areArraysEqual),o=lc(r.areMapsEqual),a=lc(r.areObjectsEqual),s=lc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function noe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function roe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const ioe=yi();yi({strict:!0});yi({circular:!0});yi({circular:!0,strict:!0});yi({createInternalComparator:()=>uo});yi({strict:!0,createInternalComparator:()=>uo});yi({circular:!0,createInternalComparator:()=>uo});yi({circular:!0,createInternalComparator:()=>uo,strict:!0});function yi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=toe(t),a=eoe(o),s=n?n(a):noe(a);return roe({circular:e,comparator:a,createState:r,equals:s,strict:i})}function ooe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):ooe(i)};requestAnimationFrame(r)}function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function aoe(t){return coe(t)||uoe(t)||loe(t)||soe()}function soe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function loe(t,e){if(t){if(typeof t=="string")return uT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uT(t,e)}}function uT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function coe(t){if(Array.isArray(t))return t}function doe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=aoe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){lT(i.bind(null,u),l);return}i(l),lT(i.bind(null,u));return}oy(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function cT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cT(Object(n),!0).forEach(function(r){LN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LN(t,e,n){return e=foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=hoe(t,"string");return Yl(e)==="symbol"?e:String(e)}function hoe(t,e){if(Yl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var poe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},moe=function(e){return e},goe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qs=function(e,n){return Object.keys(n).reduce(function(r,i){return dT(dT({},r),{},LN({},i,e(i,n[i])))},{})},fT=function(e,n,r){return e.map(function(i){return"".concat(goe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function yoe(t,e){return boe(t)||woe(t,e)||jN(t,e)||voe()}function voe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function woe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function boe(t){if(Array.isArray(t))return t}function xoe(t){return Eoe(t)||Soe(t)||jN(t)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jN(t,e){if(t){if(typeof t=="string")return ay(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ay(t,e)}}function Soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eoe(t){if(Array.isArray(t))return ay(t)}function ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bd=1e-4,UN=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},FN=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},hT=function(e,n){return function(r){var i=UN(e,n);return FN(i,r)}},Toe=function(e,n){return function(r){var i=UN(e,n),o=[].concat(xoe(i.map(function(a,s){return a*s}).slice(1)),[0]);return FN(o,r)}},pT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=yoe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=hT(i,a),h=hT(o,s),m=Toe(i,a),y=function(v){return v>1?1:v<0?0:v},w=function(v){for(var x=v>1?1:v,_=x,T=0;T<8;++T){var S=d(_)-x,E=m(_);if(Math.abs(S-x)<Bd||E<Bd)return h(_);_=y(_-S/E)}return h(_)};return w.isStepper=!1,w},Aoe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var m=-(c-d)*r,y=h*o,w=h+(m-y)*s/1e3,b=h*s/1e3+c;return Math.abs(b-d)<Bd&&Math.abs(w)<Bd?[d,0]:[b,w]};return l.isStepper=!0,l.dt=s,l},Coe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pT(i);case"spring":return Aoe();default:if(i.split("(")[0]==="cubic-bezier")return pT(i)}return typeof i=="function"?i:null};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function mT(t){return Ioe(t)||Poe(t)||BN(t)||koe()}function koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ioe(t){if(Array.isArray(t))return ly(t)}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sy(t,e,n){return e=Noe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=Ooe(t,"string");return Xl(e)==="symbol"?e:String(e)}function Ooe(t,e){if(Xl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e){return Doe(t)||$oe(t,e)||BN(t,e)||Moe()}function Moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BN(t,e){if(t){if(typeof t=="string")return ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ly(t,e)}}function ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $oe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Doe(t){if(Array.isArray(t))return t}var Gd=function(e,n,r){return e+(n-e)*r},uy=function(e){var n=e.from,r=e.to;return n!==r},Loe=function t(e,n,r){var i=Qs(function(o,a){if(uy(a)){var s=e(a.from,a.to,a.velocity),l=Roe(s,2),u=l[0],c=l[1];return St(St({},a),{},{from:u,velocity:c})}return a},n);return r<1?Qs(function(o,a){return uy(a)?St(St({},a),{},{velocity:Gd(a.velocity,i[o].velocity,r),from:Gd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const joe=function(t,e,n,r,i){var o=poe(t,e),a=o.reduce(function(b,v){return St(St({},b),{},sy({},v,[t[v],e[v]]))},{}),s=o.reduce(function(b,v){return St(St({},b),{},sy({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Qs(function(v,x){return x.from},s)},m=function(){return!Object.values(s).filter(uy).length},y=function(v){u||(u=v);var x=v-u,_=x/n.dt;s=Loe(n,s,_),i(St(St(St({},t),e),h())),u=v,m()||(l=requestAnimationFrame(d))},w=function(v){c||(c=v);var x=(v-c)/r,_=Qs(function(S,E){return Gd.apply(void 0,mT(E).concat([n(x)]))},a);if(i(St(St(St({},t),e),_)),x<1)l=requestAnimationFrame(d);else{var T=Qs(function(S,E){return Gd.apply(void 0,mT(E).concat([n(1)]))},a);i(St(St(St({},t),e),T))}};return d=n.isStepper?y:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}var Uoe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Foe(t,e){if(t==null)return{};var n=Boe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Boe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Up(t){return Hoe(t)||zoe(t)||Voe(t)||Goe()}function Goe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Voe(t,e){if(t){if(typeof t=="string")return cy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cy(t,e)}}function zoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hoe(t){if(Array.isArray(t))return cy(t)}function cy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(n),!0).forEach(function(r){Ds(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ds(t,e,n){return e=GN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Woe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GN(r.key),r)}}function Koe(t,e,n){return e&&Woe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GN(t){var e=Joe(t,"string");return Ca(e)==="symbol"?e:String(e)}function Joe(t,e){if(Ca(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dy(t,e)}function dy(t,e){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(t,e)}function Xoe(t){var e=Qoe();return function(){var r=Vd(t),i;if(e){var o=Vd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fy(this,i)}}function fy(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hy(t)}function hy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}var Kn=function(t){Yoe(n,t);var e=Xoe(n);function n(r,i){var o;qoe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(hy(o)),o.changeStyle=o.changeStyle.bind(hy(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),fy(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},fy(o);o.state={style:l?Ds({},l,u):u}}else o.state={style:{}};return o}return Koe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var m={style:l?Ds({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(ioe(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=y||u?d:i.to;if(this.state&&h){var b={style:l?Ds({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(b)}this.runAnimation(On(On({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,m=joe(a,s,Coe(u),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,c,y,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,m=function(w,b,v){if(v===0)return w;var x=b.duration,_=b.easing,T=_===void 0?"ease":_,S=b.style,E=b.properties,A=b.onAnimationEnd,k=v>0?a[v-1]:b,C=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Up(w),[o.runJSAnimation.bind(o,{from:k.style,to:S,duration:x,easing:T}),x]);var P=fT(C,x,T),N=On(On(On({},k.style),S),{},{transition:P});return[].concat(Up(w),[N,x,A]).filter(moe)};return this.manager.start([l].concat(Up(a.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=doe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=s?Ds({},s,l):l,b=fT(Object.keys(w),a,u);y.start([c,o,On(On({},w),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Foe(i,Uoe),u=R.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(m){var y=m.props,w=y.style,b=w===void 0?{}:w,v=y.className,x=R.cloneElement(m,On(On({},l),{},{style:On(On({},b),c),className:v}));return x};return u===1?d(R.Children.only(o)):O.createElement("div",null,R.Children.map(o,function(h){return d(h)}))}}]),n}(R.PureComponent);Kn.displayName="Animate";Kn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Kn.propTypes={from:_e.oneOfType([_e.object,_e.string]),to:_e.oneOfType([_e.object,_e.string]),attributeName:_e.string,duration:_e.number,begin:_e.number,easing:_e.oneOfType([_e.string,_e.func]),steps:_e.arrayOf(_e.shape({duration:_e.number.isRequired,style:_e.object.isRequired,easing:_e.oneOfType([_e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_e.func]),properties:_e.arrayOf("string"),onAnimationEnd:_e.func})),children:_e.oneOfType([_e.node,_e.func]),isActive:_e.bool,canBegin:_e.bool,onAnimationEnd:_e.func,shouldReAnimate:_e.bool,onAnimationStart:_e.func,onAnimationReStart:_e.func};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}function Zoe(t,e){return rae(t)||nae(t,e)||tae(t,e)||eae()}function eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return vT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vT(t,e)}}function vT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rae(t){if(Array.isArray(t))return t}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return e=oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=aae(t,"string");return Ql(e)=="symbol"?e:e+""}function aae(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xT=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},sae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},lae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rw=function(e){var n=bT(bT({},lae),e),r=R.useRef(),i=R.useState(-1),o=Zoe(i,2),a=o[0],s=o[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,m=n.className,y=n.animationEasing,w=n.animationDuration,b=n.animationBegin,v=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=de("recharts-rectangle",m);return x?O.createElement(Kn,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:y,isActive:x},function(T){var S=T.width,E=T.height,A=T.x,k=T.y;return O.createElement(Kn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:v,easing:y},O.createElement("path",zd({},ce(n,!0),{className:_,d:xT(A,k,S,E,h),ref:r})))}):O.createElement("path",zd({},ce(n,!0),{className:_,d:xT(l,u,c,d,h)}))};function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}var wh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=de("recharts-dot",o);return n===+n&&r===+r&&i===+i?R.createElement("circle",py({},ce(e,!1),ud(e),{className:a,cx:n,cy:r,r:i})):null};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}var uae=["x","y","top","left","width","height","className"];function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(this,arguments)}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dae(t,e,n){return e=fae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=hae(t,"string");return Zl(e)=="symbol"?e:e+""}function hae(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pae(t,e){if(t==null)return{};var n=mae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},yae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,m=h===void 0?0:h,y=e.className,w=pae(e,uae),b=cae({x:r,y:o,top:s,left:u,width:d,height:m},w);return!W(r)||!W(o)||!W(d)||!W(m)||!W(s)||!W(u)?null:O.createElement("path",my({},ce(b,!0),{className:de("recharts-cross",y),d:gae(r,o,d,m,s,u)}))},vae=iI,wae=vae(Object.getPrototypeOf,Object),bae=wae,xae=Rr,_ae=bae,Sae=Mr,Eae="[object Object]",Tae=Function.prototype,Aae=Object.prototype,VN=Tae.toString,Cae=Aae.hasOwnProperty,kae=VN.call(Object);function Pae(t){if(!Sae(t)||xae(t)!=Eae)return!1;var e=_ae(t);if(e===null)return!0;var n=Cae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&VN.call(n)==kae}var Iae=Pae;const Nae=De(Iae);var Oae=Rr,Rae=Mr,Mae="[object Boolean]";function $ae(t){return t===!0||t===!1||Rae(t)&&Oae(t)==Mae}var Dae=$ae;const Lae=De(Dae);function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}function jae(t,e){return Gae(t)||Bae(t,e)||Fae(t,e)||Uae()}function Uae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fae(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Gae(t){if(Array.isArray(t))return t}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){Vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vae(t,e,n){return e=zae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zae(t){var e=Hae(t,"string");return eu(e)=="symbol"?e:e+""}function Hae(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AT=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},qae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wae=function(e){var n=TT(TT({},qae),e),r=R.useRef(),i=R.useState(-1),o=jae(i,2),a=o[0],s=o[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,w=n.animationDuration,b=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=de("recharts-trapezoid",m);return v?O.createElement(Kn,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:w,animationEasing:y,isActive:v},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,k=_.y;return O.createElement(Kn,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:y},O.createElement("path",Hd({},ce(n,!0),{className:x,d:AT(A,k,T,S,E),ref:r})))}):O.createElement("g",null,O.createElement("path",Hd({},ce(n,!0),{className:x,d:AT(l,u,c,d,h)})))},Kae=["option","shapeType","propTransformer","activeClassName","isActive"];function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function Jae(t,e){if(t==null)return{};var n=Yae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){Xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xae(t,e,n){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=Zae(t,"string");return tu(e)=="symbol"?e:e+""}function Zae(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ese(t,e){return qd(qd({},e),t)}function tse(t,e){return t==="symbols"}function kT(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return O.createElement(rw,n);case"trapezoid":return O.createElement(Wae,n);case"sector":return O.createElement(ON,n);case"symbols":if(tse(e))return O.createElement(oh,n);break;default:return null}}function nse(t){return R.isValidElement(t)?t.props:t}function gy(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ese:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Jae(t,Kae),u;if(R.isValidElement(e))u=R.cloneElement(e,qd(qd({},l),nse(e)));else if(fe(e))u=e(l);else if(Nae(e)&&!Lae(e)){var c=i(e,l);u=O.createElement(kT,{shapeType:n,elementProps:c})}else{var d=l;u=O.createElement(kT,{shapeType:n,elementProps:d})}return s?O.createElement(be,{className:a},u):u}function bh(t,e){return e!=null&&"trapezoids"in t.props}function xh(t,e){return e!=null&&"sectors"in t.props}function nu(t,e){return e!=null&&"points"in t.props}function rse(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function ise(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ose(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ase(t,e){var n;return bh(t,e)?n=rse:xh(t,e)?n=ise:nu(t,e)&&(n=ose),n}function sse(t,e){var n;return bh(t,e)?n="trapezoids":xh(t,e)?n="sectors":nu(t,e)&&(n="points"),n}function lse(t,e){if(bh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(xh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return nu(t,e)?e.payload:{}}function use(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=sse(n,e),o=lse(n,e),a=r.filter(function(l,u){var c=Zi(o,l),d=n.props[i].filter(function(y){var w=ase(n,e);return w(y,e)}),h=n.props[i].indexOf(d[d.length-1]),m=u===h;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var cse=Math.ceil,dse=Math.max;function fse(t,e,n,r){for(var i=-1,o=dse(cse((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var hse=fse,pse=_I,PT=1/0,mse=17976931348623157e292;function gse(t){if(!t)return t===0?t:0;if(t=pse(t),t===PT||t===-PT){var e=t<0?-1:1;return e*mse}return t===t?t:0}var yse=gse,vse=hse,wse=lh,Fp=yse;function bse(t){return function(e,n,r){return r&&typeof r!="number"&&wse(e,n,r)&&(n=r=void 0),e=Fp(e),n===void 0?(n=e,e=0):n=Fp(n),r=r===void 0?e<n?1:-1:Fp(r),vse(e,n,r,t)}}var xse=bse,_se=xse,Sse=_se(),Ese=Sse;const Wd=De(Ese);function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){zN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zN(t,e,n){return e=Tse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tse(t){var e=Ase(t,"string");return ru(e)=="symbol"?e:e+""}function Ase(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cse=["Webkit","Moz","O","ms"],kse=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Cse.reduce(function(o,a){return NT(NT({},o),{},zN({},a+r,n))},{});return i[e]=n,i};function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){en(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qN(r.key),r)}}function Ise(t,e,n){return e&&RT(t.prototype,e),n&&RT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nse(t,e,n){return e=Jd(e),Ose(t,HN()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function Ose(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rse(t)}function Rse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HN=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function Mse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yy(t,e)}function yy(t,e){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yy(t,e)}function en(t,e,n){return e=qN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qN(t){var e=$se(t,"string");return ka(e)=="symbol"?e:e+""}function $se(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Ys().domain(Wd(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},MT=function(e){return e.changedTouches&&!!e.changedTouches.length},Pa=function(t){function e(n){var r;return Pse(this,e),r=Nse(this,e,[n]),en(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),en(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),en(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),en(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),en(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),en(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),en(r,"handleSlideDragStart",function(i){var o=MT(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Mse(e,t),Ise(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,d),y=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=dt(o[r],s,r);return fe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-d-s,u+c-d-a):w<0&&(w=Math.max(w,u-a,u-s));var b=this.getIndex({startX:a+w,endX:s+w});(b.startIndex!==h||b.endIndex!==m)&&y&&y(b),this.setState({startX:a+w,endX:s+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=MT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,m=c.travellerWidth,y=c.onChange,w=c.gap,b=c.data,v={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-m-u):x<0&&(x=Math.max(x,d-u)),v[a]=u+x;var _=this.getIndex(v),T=_.startIndex,S=_.endIndex,E=function(){var k=b.length-1;return a==="startX"&&(s>l?T%w===0:S%w===0)||s<l&&S===k||a==="endX"&&(s>l?S%w===0:T%w===0)||s>l&&S===k};this.setState(en(en({},a,u+x),"brushMoveStartX",r.pageX),function(){y&&E()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(en({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return O.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=R.Children.only(u);return d?O.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,w=l.startIndex,b=l.endIndex,v=Math.max(r,this.props.x),x=Bp(Bp({},ce(this.props,!1)),{},{x:v,y:u,width:c,height:d}),_=m||"Min value: ".concat((o=y[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[b])===null||a===void 0?void 0:a.name);return O.createElement(be,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,m=5,y={pointerEvents:"none",fill:u};return O.createElement(be,{className:"recharts-brush-texts"},O.createElement(Sd,Kd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:a+s/2},y),this.getTextOfTick(i)),O.createElement(Sd,Kd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+m,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,w=h.isTextActive,b=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!W(s)||!W(l)||!W(u)||!W(c)||u<=0||c<=0)return null;var _=de("recharts-brush",o),T=O.Children.count(a)===1,S=kse("userSelect","none");return O.createElement(be,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(w||b||v||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),O.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return O.isValidElement(r)?o=O.cloneElement(r,i):fe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Bp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Dse({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(R.PureComponent);en(Pa,"displayName","Brush");en(Pa,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lse=P0;function jse(t,e){var n;return Lse(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Use=jse,Fse=YP,Bse=is,Gse=Use,Vse=Xt,zse=lh;function Hse(t,e,n){var r=Vse(t)?Fse:Gse;return n&&zse(t,e,n)&&(e=void 0),r(t,Bse(e))}var qse=Hse;const Wse=De(qse);var sr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},$T=yI;function Kse(t,e,n){e=="__proto__"&&$T?$T(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Jse=Kse,Yse=Jse,Xse=mI,Qse=is;function Zse(t,e){var n={};return e=Qse(e),Xse(t,function(r,i,o){Yse(n,i,e(r,i,o))}),n}var ele=Zse;const tle=De(ele);function nle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var rle=nle,ile=P0;function ole(t,e){var n=!0;return ile(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var ale=ole,sle=rle,lle=ale,ule=is,cle=Xt,dle=lh;function fle(t,e,n){var r=cle(t)?sle:lle;return n&&dle(t,e,n)&&(e=void 0),r(t,ule(e))}var hle=fle;const ple=De(hle);var mle=["x","y"];function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(this,arguments)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t,e,n){return e=yle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=vle(t,"string");return iu(e)=="symbol"?e:e+""}function vle(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wle(t,e){if(t==null)return{};var n=ble(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ble(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xle(t,e){var n=t.x,r=t.y,i=wle(t,mle),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ps(Ps(Ps(Ps(Ps({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function LT(t){return O.createElement(gy,vy({shapeType:"rectangle",propTransformer:xle,activeClassName:"recharts-active-bar"},t))}var _le=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=W(r)||RH(r);return o?e(r,i):(o||to(),n)}},Sle=["value","background"],WN;function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function Ele(t,e){if(t==null)return{};var n=Tle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JN(r.key),r)}}function Cle(t,e,n){return e&&UT(t.prototype,e),n&&UT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kle(t,e,n){return e=Xd(e),Ple(t,KN()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function Ple(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ile(t)}function Ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KN=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function Nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(t,e)}function Jr(t,e,n){return e=JN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JN(t){var e=Ole(t,"string");return Ia(e)=="symbol"?e:e+""}function Ole(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var co=function(t){function e(){var n;Ale(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kle(this,e,[].concat(i)),Jr(n,"state",{isAnimationFinished:!1}),Jr(n,"id",ao("recharts-bar-")),Jr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Jr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Nle(e,t),Cle(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ce(this.props,!1);return r&&r.map(function(d,h){var m=h===l,y=m?u:a,w=Ze(Ze(Ze({},c),d),{},{isActive:m,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return O.createElement(be,Yd({className:"recharts-bar-rectangle"},Cl(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),O.createElement(LT,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return O.createElement(Kn,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,w=o.map(function(b,v){var x=h&&h[v];if(x){var _=Qe(x.x,b.x),T=Qe(x.y,b.y),S=Qe(x.width,b.width),E=Qe(x.height,b.height);return Ze(Ze({},b),{},{x:_(y),y:T(y),width:S(y),height:E(y)})}if(a==="horizontal"){var A=Qe(0,b.height),k=A(y);return Ze(Ze({},b),{},{y:b.y+b.height-k,height:k})}var C=Qe(0,b.width),P=C(y);return Ze(Ze({},b),{},{width:P})});return O.createElement(be,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Zi(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ce(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=Ele(u,Sle);if(!d)return null;var m=Ze(Ze(Ze(Ze(Ze({},h),{},{fill:"#eee"},d),l),Cl(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return O.createElement(LT,Yd({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Yt(c,ls);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(b,v){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:dt(b,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return O.createElement(be,y,d.map(function(w){return O.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,m=r.isAnimationActive,y=r.background,w=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=de("recharts-bar",a),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=x||_,S=le(w)?this.id:w;return O.createElement(be,{className:v},x||_?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(S)},O.createElement("rect",{x:x?u:u-d/2,y:_?c:c-h/2,width:x?d:d*2,height:_?h:h*2}))):null,O.createElement(be,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!m||b)&&ar.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);WN=co;Jr(co,"displayName","Bar");Jr(co,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Jr(co,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=rre(r,n);if(!m)return null;var y=e.layout,w=n.type.defaultProps,b=w!==void 0?Ze(Ze({},w),n.props):n.props,v=b.dataKey,x=b.children,_=b.minPointSize,T=y==="horizontal"?a:o,S=u?T.scale.domain():null,E=dre({numericAxis:T}),A=Yt(x,uh),k=d.map(function(C,P){var N,I,M,D,j,L;u?N=ire(u[c+P],S):(N=dt(C,v),Array.isArray(N)||(N=[E,N]));var B=_le(_,WN.defaultProps.minPointSize)(N[1],P);if(y==="horizontal"){var $,U=[a.scale(N[0]),a.scale(N[1])],G=U[0],K=U[1];I=BE({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:C,index:P}),M=($=K??G)!==null&&$!==void 0?$:void 0,D=m.size;var H=G-K;if(j=Number.isNaN(H)?0:H,L={x:I,y:a.y,width:D,height:a.height},Math.abs(B)>0&&Math.abs(j)<Math.abs(B)){var te=Gn(j||B)*(Math.abs(B)-Math.abs(j));M-=te,j+=te}}else{var he=[o.scale(N[0]),o.scale(N[1])],Se=he[0],Oe=he[1];if(I=Se,M=BE({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:C,index:P}),D=Oe-Se,j=m.size,L={x:o.x,y:M,width:o.width,height:j},Math.abs(B)>0&&Math.abs(D)<Math.abs(B)){var wt=Gn(D||B)*(Math.abs(B)-Math.abs(D));D+=wt}}return Ze(Ze(Ze({},C),{},{x:I,y:M,width:D,height:j,value:u?N:N[1],payload:C,background:L},A&&A[P]&&A[P].props),{},{tooltipPayload:[PN(n,C)],tooltipPosition:{x:I+D/2,y:M+j/2}})});return Ze({data:k,layout:y},h)});function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function Rle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YN(r.key),r)}}function Mle(t,e,n){return e&&FT(t.prototype,e),n&&FT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(r){_h(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _h(t,e,n){return e=YN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YN(t){var e=$le(t,"string");return ou(e)=="symbol"?e:e+""}function $le(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XN=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!nn(u,co);return c.reduce(function(m,y){var w=n[y],b=w.orientation,v=w.domain,x=w.padding,_=x===void 0?{}:x,T=w.mirror,S=w.reversed,E="".concat(b).concat(T?"Mirror":""),A,k,C,P,N;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var I=v[1]-v[0],M=1/0,D=w.categoricalDomain.sort(LH);if(D.forEach(function(he,Se){Se>0&&(M=Math.min((he||0)-(D[Se-1]||0),M))}),Number.isFinite(M)){var j=M/I,L=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(A=j*L/2),w.padding==="no-gap"){var B=Qi(e.barCategoryGap,j*L),$=j*L/2;A=$-B-($-B)/L*B}}}i==="xAxis"?k=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:k=w.range,S&&(k=[k[1],k[0]]);var U=tre(w,o,h),G=U.scale,K=U.realScaleType;G.domain(v).range(k),nre(G);var H=cre(G,jn(jn({},w),{},{realScaleType:K}));i==="xAxis"?(N=b==="top"&&!T||b==="bottom"&&T,C=r.left,P=d[E]-N*w.height):i==="yAxis"&&(N=b==="left"&&!T||b==="right"&&T,C=d[E]-N*w.width,P=r.top);var te=jn(jn(jn({},w),H),{},{realScaleType:K,x:C,y:P,scale:G,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return te.bandSize=Ld(te,H),!w.hide&&i==="xAxis"?d[E]+=(N?-1:1)*te.height:w.hide||(d[E]+=(N?-1:1)*te.width),jn(jn({},m),{},_h({},y,te))},{})},QN=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Dle=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return QN({x:n,y:r},{x:i,y:o})},ZN=function(){function t(e){Rle(this,t),this.scale=e}return Mle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();_h(ZN,"EPS",1e-4);var iw=function(e){var n=Object.keys(e).reduce(function(r,i){return jn(jn({},r),{},_h({},i,ZN.create(e[i])))},{});return jn(jn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return tle(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return ple(i,function(o,a){return n[a].isInRange(o)})}})};function Lle(t){return(t%180+180)%180}var jle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Lle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Ule=Uz(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),eO=R.createContext(void 0),tO=R.createContext(void 0),nO=R.createContext(void 0),Fle=R.createContext({}),rO=R.createContext(void 0),iO=R.createContext(0),oO=R.createContext(0),GT=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Ule(o);return O.createElement(eO.Provider,{value:r},O.createElement(tO.Provider,{value:i},O.createElement(Fle.Provider,{value:o},O.createElement(nO.Provider,{value:c},O.createElement(rO.Provider,{value:a},O.createElement(iO.Provider,{value:u},O.createElement(oO.Provider,{value:l},s)))))))},Ble=function(){return R.useContext(rO)},aO=function(e){var n=R.useContext(eO);n==null&&to();var r=n[e];return r==null&&to(),r},sO=function(e){var n=R.useContext(tO);n==null&&to();var r=n[e];return r==null&&to(),r},Gle=function(){var e=R.useContext(nO);return e},lO=function(){return R.useContext(oO)},uO=function(){return R.useContext(iO)};function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function Vle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dO(r.key),r)}}function Hle(t,e,n){return e&&zle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qle(t,e,n){return e=Qd(e),Wle(t,cO()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function Wle(t,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kle(t)}function Kle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function Jle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}function by(t,e){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},by(t,e)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){ow(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ow(t,e,n){return e=dO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dO(t){var e=Yle(t,"string");return Na(e)=="symbol"?e:e+""}function Yle(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xle(t,e){return tue(t)||eue(t,e)||Zle(t,e)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return HT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HT(t,e)}}function HT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tue(t){if(Array.isArray(t))return t}function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(this,arguments)}var nue=function(e,n){var r;return O.isValidElement(e)?r=O.cloneElement(e,n):fe(e)?r=e(n):r=O.createElement("line",xy({},n,{className:"recharts-reference-line-line"})),r},rue=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,m=o.height;if(r){var y=u.y,w=e.y.apply(y,{position:a});if(sr(u,"discard")&&!e.y.isInRange(w))return null;var b=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?b.reverse():b}if(n){var v=u.x,x=e.x.apply(v,{position:a});if(sr(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:d+m},{x,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return sr(u,"discard")&&Wse(S,function(E){return!e.isInRange(E)})?null:S}return null};function iue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Ble(),c=aO(i),d=sO(o),h=Gle();if(!u||!h)return null;Bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=iw({x:c.scale,y:d.scale}),y=ct(e),w=ct(n),b=r&&r.length===2,v=rue(m,y,w,b,h,t.position,c.orientation,d.orientation,t);if(!v)return null;var x=Xle(v,2),_=x[0],T=_.x,S=_.y,E=x[1],A=E.x,k=E.y,C=sr(t,"hidden")?"url(#".concat(u,")"):void 0,P=zT(zT({clipPath:C},ce(t,!0)),{},{x1:T,y1:S,x2:A,y2:k});return O.createElement(be,{className:de("recharts-reference-line",s)},nue(a,P),Ot.renderCallByParent(t,Dle({x1:T,y1:S,x2:A,y2:k})))}var Sh=function(t){function e(){return Vle(this,e),qle(this,e,arguments)}return Jle(e,t),Hle(e,[{key:"render",value:function(){return O.createElement(iue,this.props)}}])}(O.Component);ow(Sh,"displayName","ReferenceLine");ow(Sh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){Eh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hO(r.key),r)}}function sue(t,e,n){return e&&aue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lue(t,e,n){return e=Zd(e),uue(t,fO()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function uue(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cue(t)}function cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sy(t,e)}function Eh(t,e,n){return e=hO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hO(t){var e=fue(t,"string");return Oa(e)=="symbol"?e:e+""}function fue(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=iw({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return sr(e,"discard")&&!a.isInRange(s)?null:s},Th=function(t){function e(){return oue(this,e),lue(this,e,arguments)}return due(e,t),sue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=ct(i),c=ct(o);if(Bi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=hue(this.props);if(!d)return null;var h=d.x,m=d.y,y=this.props,w=y.shape,b=y.className,v=sr(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=WT(WT({clipPath:v},ce(this.props,!0)),{},{cx:h,cy:m});return O.createElement(be,{className:de("recharts-reference-dot",b)},e.renderDot(w,x),Ot.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(O.Component);Eh(Th,"displayName","ReferenceDot");Eh(Th,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Eh(Th,"renderDot",function(t,e){var n;return O.isValidElement(t)?n=O.cloneElement(t,e):fe(t)?n=t(e):n=O.createElement(wh,_y({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ey(){return Ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ey.apply(this,arguments)}function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){Ah(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mO(r.key),r)}}function gue(t,e,n){return e&&mue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yue(t,e,n){return e=ef(e),vue(t,pO()?Reflect.construct(e,n||[],ef(t).constructor):e.apply(t,n))}function vue(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(t)}function bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ty(t,e)}function Ty(t,e){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ty(t,e)}function Ah(t,e,n){return e=mO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mO(t){var e=xue(t,"string");return Ra(e)=="symbol"?e:e+""}function xue(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _ue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=iw({x:c.scale,y:d.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return sr(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:QN(m,y)},Ch=function(t){function e(){return pue(this,e),yue(this,e,arguments)}return bue(e,t),gue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ct(i),h=ct(o),m=ct(a),y=ct(s),w=this.props.shape;if(!d&&!h&&!m&&!y&&!w)return null;var b=_ue(d,h,m,y,this.props);if(!b&&!w)return null;var v=sr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return O.createElement(be,{className:de("recharts-reference-area",l)},e.renderRect(w,JT(JT({clipPath:v},ce(this.props,!0)),b)),Ot.renderCallByParent(this.props,b))}}])}(O.Component);Ah(Ch,"displayName","ReferenceArea");Ah(Ch,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ah(Ch,"renderRect",function(t,e){var n;return O.isValidElement(t)?n=O.cloneElement(t,e):fe(t)?n=t(e):n=O.createElement(rw,Ey({},e,{className:"recharts-reference-area-rect"})),n});function gO(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Sue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return jle(r,n)}function Eue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function tf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Tue(t,e){return gO(t,e+1)}function Aue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:gO(r,u)};var w=l,b,v=function(){return b===void 0&&(b=n(y,w)),b},x=y.coordinate,_=l===0||tf(t,x,v,c,s);_||(l=0,c=a,u+=1),_&&(c=x+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach(function(r){Cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cue(t,e,n){return e=kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Pue(t,"string");return au(e)=="symbol"?e:e+""}function Pue(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var m=o[h],y,w=function(){return y===void 0&&(y=n(m,h)),y};if(h===a-1){var b=t*(m.coordinate+t*w()/2-l);o[h]=m=It(It({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else o[h]=m=It(It({},m),{},{tickCoord:m.coordinate});var v=tf(t,m.tickCoord,w,s,l);v&&(l=m.tickCoord-t*(w()/2+i),o[h]=It(It({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Nue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=It(It({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var m=tf(t,c.tickCoord,function(){return d},l,u);m&&(u=c.tickCoord-t*(d/2+i),a[s-1]=It(It({},c),{},{isShow:!0}))}for(var y=o?s-1:s,w=function(x){var _=a[x],T,S=function(){return T===void 0&&(T=n(_,x)),T};if(x===0){var E=t*(_.coordinate-t*S()/2-l);a[x]=_=It(It({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[x]=_=It(It({},_),{},{tickCoord:_.coordinate});var A=tf(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[x]=It(It({},_),{},{isShow:!0}))},b=0;b<y;b++)w(b);return a}function Oue(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(W(l)||pi.isSsr)return Tue(i,typeof l=="number"&&W(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",y=c&&m==="width"?Js(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(_,T){var S=fe(u)?u(_.value,T):_.value;return m==="width"?Sue(Js(S,{fontSize:e,letterSpacing:n}),y,d):Js(S,{fontSize:e,letterSpacing:n})[m]},b=i.length>=2?Gn(i[1].coordinate-i[0].coordinate):1,v=Eue(o,b,m);return l==="equidistantPreserveStart"?Aue(b,v,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Nue(b,v,w,i,a,l==="preserveStartEnd"):h=Iue(b,v,w,i,a),h.filter(function(x){return x.isShow}))}var Rue=["viewBox"],Mue=["viewBox"],$ue=["ticks"];function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zo.apply(this,arguments)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gp(t,e){if(t==null)return{};var n=Due(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Due(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vO(r.key),r)}}function jue(t,e,n){return e&&QT(t.prototype,e),n&&QT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uue(t,e,n){return e=nf(e),Fue(t,yO()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function Fue(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bue(t)}function Bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(t)}function Gue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ay(t,e)}function Ay(t,e){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ay(t,e)}function aw(t,e,n){return e=vO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vO(t){var e=Vue(t,"string");return Ma(e)=="symbol"?e:e+""}function Vue(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kh=function(t){function e(n){var r;return Lue(this,e),r=Uue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Gue(e,t),jue(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Gp(r,Rue),s=this.props,l=s.viewBox,u=Gp(s,Mue);return!ra(o,l)||!ra(a,u)||!ra(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,m,y,w,b,v,x,_=d?-1:1,T=r.tickSize||c,S=W(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,b=a+ +!d*l,w=b-_*T,x=w-_*h,v=S;break;case"left":w=b=r.coordinate,y=o+ +!d*s,m=y-_*T,v=m-_*h,x=S;break;case"right":w=b=r.coordinate,y=o+ +d*s,m=y+_*T,v=m+_*h,x=S;break;default:m=y=r.coordinate,b=a+ +d*l,w=b+_*T,x=w+_*h,v=S;break}return{line:{x1:m,y1:w,x2:y,y2:b},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=ot(ot(ot({},ce(this.props,!1)),ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=ot(ot({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=ot(ot({},d),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return O.createElement("line",zo({},d,{className:de("recharts-cartesian-axis-line",Sn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,m=Oue(ot(ot({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=ce(this.props,!1),v=ce(c,!1),x=ot(ot({},b),{},{fill:"none"},ce(l,!1)),_=m.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,k=E.tick,C=ot(ot(ot(ot({textAnchor:y,verticalAnchor:w},b),{},{stroke:"none",fill:u},v),k),{},{index:S,payload:T,visibleTicksCount:m.length,tickFormatter:d});return O.createElement(be,zo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Cl(a.props,T,S)),l&&O.createElement("line",zo({},x,A,{className:de("recharts-cartesian-axis-tick-line",Sn(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(fe(d)?d(T.value,S):T.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,m=Gp(d,$ue),y=h;return fe(l)&&(y=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!y||!y.length?null:O.createElement(be,{className:de("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ot.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=de(i.className,"recharts-cartesian-axis-tick-value");return O.isValidElement(r)?a=O.cloneElement(r,ot(ot({},i),{},{className:s})):fe(r)?a=r(ot(ot({},i),{},{className:s})):a=O.createElement(Sd,zo({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(R.Component);aw(kh,"displayName","CartesianAxis");aw(kh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var zue=["type","layout","connectNulls","ref"],Hue=["key"];function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function ZT(t,e){if(t==null)return{};var n=que(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function que(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(this,arguments)}function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){Un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _o(t){return Yue(t)||Jue(t)||Kue(t)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(t,e){if(t){if(typeof t=="string")return Cy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cy(t,e)}}function Jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yue(t){if(Array.isArray(t))return Cy(t)}function Cy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bO(r.key),r)}}function Que(t,e,n){return e&&t1(t.prototype,e),n&&t1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zue(t,e,n){return e=rf(e),ece(t,wO()?Reflect.construct(e,n||[],rf(t).constructor):e.apply(t,n))}function ece(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tce(t)}function tce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wO=function(){return!!t})()}function rf(t){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rf(t)}function nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ky(t,e)}function ky(t,e){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ky(t,e)}function Un(t,e,n){return e=bO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bO(t){var e=rce(t,"string");return $a(e)=="symbol"?e:e+""}function rce(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ph=function(t){function e(){var n;Xue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Zue(this,e,[].concat(i)),Un(n,"state",{isAnimationFinished:!0,totalLength:0}),Un(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Un(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(v,x){return v+x});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),d=a%u,h=s-a,m=[],y=0,w=0;y<l.length;w+=l[y],++y)if(w+l[y]>d){m=[].concat(_o(l.slice(0,y)),[d-w]);break}var b=m.length%2===0?[0,h]:[h];return[].concat(_o(e.repeat(l,c)),_o(m),b).map(function(v){return"".concat(v,"px")}).join(", ")}),Un(n,"id",ao("recharts-line-")),Un(n,"pathRef",function(a){n.mainCurve=a}),Un(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Un(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return nce(e,t),Que(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Yt(c,ls);if(!d)return null;var h=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:dt(w.payload,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return O.createElement(be,m,d.map(function(y){return O.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=ce(this.props,!1),h=ce(l,!0),m=u.map(function(w,b){var v=Zt(Zt(Zt({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:c,payload:w.payload,points:u});return e.renderDotItem(l,v)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return O.createElement(be,Zs({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=ZT(s,zue),h=Zt(Zt(Zt({},ce(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return O.createElement(zi,Zs({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,y=a.animateNewValues,w=a.width,b=a.height,v=this.state,x=v.prevPoints,_=v.totalLength;return O.createElement(Kn,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(x){var E=x.length/s.length,A=s.map(function(I,M){var D=Math.floor(M*E);if(x[D]){var j=x[D],L=Qe(j.x,I.x),B=Qe(j.y,I.y);return Zt(Zt({},I),{},{x:L(S),y:B(S)})}if(y){var $=Qe(w*2,I.x),U=Qe(b/2,I.y);return Zt(Zt({},I),{},{x:$(S),y:U(S)})}return Zt(Zt({},I),{},{x:I.x,y:I.y})});return o.renderCurveStatically(A,r,i)}var k=Qe(0,_),C=k(S),P;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});P=o.getStrokeDasharray(C,_,N)}else P=o.generateSimpleStrokeDasharray(_,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Zi(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,m=i.width,y=i.height,w=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,_=de("recharts-line",l),T=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,E=T||S,A=le(b)?this.id:b,k=(r=ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,N=k.strokeWidth,I=N===void 0?2:N,M=xP(a)?a:{},D=M.clipDot,j=D===void 0?!0:D,L=P*2+I;return O.createElement(be,{className:_},T||S?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(A)},O.createElement("rect",{x:T?h:h-m/2,y:S?d:d-y/2,width:T?m:m*2,height:S?y:y*2})),!j&&O.createElement("clipPath",{id:"clipPath-dots-".concat(A)},O.createElement("rect",{x:h-L/2,y:d-L/2,width:m+L,height:y+L}))):null,!x&&this.renderCurve(E,A),this.renderErrorBar(E,A),(x||a)&&this.renderDots(E,j,A),(!w||v)&&ar.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(_o(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(_o(a),_o(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(O.isValidElement(r))o=O.cloneElement(r,i);else if(fe(r))o=r(i);else{var a=i.key,s=ZT(i,Hue),l=de("recharts-line-dot",typeof r!="boolean"?r.className:"");o=O.createElement(wh,Zs({key:a},s,{className:l}))}return o}}])}(R.PureComponent);Un(Ph,"displayName","Line");Un(Ph,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Un(Ph,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,m){var y=dt(h,a);return c==="horizontal"?{x:Aa({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:le(y)?null:r.scale(y),value:y,payload:h}:{x:le(y)?null:n.scale(y),y:Aa({axis:r,ticks:o,bandSize:s,entry:h,index:m}),value:y,payload:h}});return Zt({points:d,layout:c},u)});var ice=["layout","type","stroke","connectNulls","isRange","ref"],oce=["key"],xO;function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function _O(t,e){if(t==null)return{};var n=ace(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ace(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ji(){return ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ji.apply(this,arguments)}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EO(r.key),r)}}function lce(t,e,n){return e&&r1(t.prototype,e),n&&r1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uce(t,e,n){return e=of(e),cce(t,SO()?Reflect.construct(e,n||[],of(t).constructor):e.apply(t,n))}function cce(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(t)}function dce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SO=function(){return!!t})()}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},of(t)}function fce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Py(t,e)}function nr(t,e,n){return e=EO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EO(t){var e=hce(t,"string");return Da(e)=="symbol"?e:e+""}function hce(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dr=function(t){function e(){var n;sce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=uce(this,e,[].concat(i)),nr(n,"state",{isAnimationFinished:!0}),nr(n,"id",ao("recharts-area-")),nr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),fe(a)&&a()}),nr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),fe(a)&&a()}),n}return fce(e,t),lce(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=ce(this.props,!1),m=ce(u,!0),y=c.map(function(b,v){var x=jr(jr(jr({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:b.x,cy:b.y,dataKey:d,value:b.value,payload:b.payload,points:c});return e.renderDotItem(u,x)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return O.createElement(be,ji({className:"recharts-area-dots"},w),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),d=Kr(a.map(function(h){return h.y||0}));return W(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Kr(o.map(function(h){return h.y||0})),d)),W(d)?O.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),d=Kr(a.map(function(h){return h.x||0}));return W(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Kr(o.map(function(h){return h.x||0})),d)),W(d)?O.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var m=_O(s,ice);return O.createElement(be,{clipPath:o?"url(#clipPath-".concat(a,")"):null},O.createElement(zi,ji({},ce(m,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&O.createElement(zi,ji({},ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&O.createElement(zi,ji({},ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,y=this.state,w=y.prevPoints,b=y.prevBaseLine;return O.createElement(Kn,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(w){var _=w.length/s.length,T=s.map(function(k,C){var P=Math.floor(C*_);if(w[P]){var N=w[P],I=Qe(N.x,k.x),M=Qe(N.y,k.y);return jr(jr({},k),{},{x:I(x),y:M(x)})}return k}),S;if(W(l)&&typeof l=="number"){var E=Qe(b,l);S=E(x)}else if(le(l)||es(l)){var A=Qe(b,0);S=A(x)}else S=l.map(function(k,C){var P=Math.floor(C*_);if(b[P]){var N=b[P],I=Qe(N.x,k.x),M=Qe(N.y,k.y);return jr(jr({},k),{},{x:I(x),y:M(x)})}return k});return o.renderAreaStatically(T,S,r,i)}return O.createElement(be,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(x))),O.createElement(be,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!Zi(c,a)||!Zi(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,m=i.width,y=i.height,w=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,_=de("recharts-area",l),T=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,E=T||S,A=le(b)?this.id:b,k=(r=ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,N=k.strokeWidth,I=N===void 0?2:N,M=xP(a)?a:{},D=M.clipDot,j=D===void 0?!0:D,L=P*2+I;return O.createElement(be,{className:_},T||S?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(A)},O.createElement("rect",{x:T?c:c-m/2,y:S?u:u-y/2,width:T?m:m*2,height:S?y:y*2})),!j&&O.createElement("clipPath",{id:"clipPath-dots-".concat(A)},O.createElement("rect",{x:c-L/2,y:u-L/2,width:m+L,height:y+L}))):null,x?null:this.renderArea(E,A),(a||x)&&this.renderDots(E,j,A),(!w||v)&&ar.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);xO=Dr;nr(Dr,"displayName","Area");nr(Dr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});nr(Dr,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(W(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});nr(Dr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=e.layout,y=u&&u.length,w=xO.getBaseValue(e,n,r,i),b=m==="horizontal",v=!1,x=d.map(function(T,S){var E;y?E=u[c+S]:(E=dt(T,l),Array.isArray(E)?v=!0:E=[w,E]);var A=E[1]==null||y&&dt(T,l)==null;return b?{x:Aa({axis:r,ticks:o,bandSize:s,entry:T,index:S}),y:A?null:i.scale(E[1]),value:E,payload:T}:{x:A?null:r.scale(E[1]),y:Aa({axis:i,ticks:a,bandSize:s,entry:T,index:S}),value:E,payload:T}}),_;return y||v?_=x.map(function(T){var S=Array.isArray(T.value)?T.value[0]:null;return b?{x:T.x,y:S!=null&&T.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:T.y}}):_=b?i.scale(w):r.scale(w),jr({points:x,baseLine:_,layout:m,isRange:v},h)});nr(Dr,"renderDotItem",function(t,e){var n;if(O.isValidElement(t))n=O.cloneElement(t,e);else if(fe(t))n=t(e);else{var r=de("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=_O(e,oce);n=O.createElement(wh,ji({},o,{key:i,className:r}))}return n});function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function pce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CO(r.key),r)}}function gce(t,e,n){return e&&mce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yce(t,e,n){return e=af(e),vce(t,TO()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function vce(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wce(t)}function wce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(t)}function bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iy(t,e)}function AO(t,e,n){return e=CO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CO(t){var e=xce(t,"string");return La(e)=="symbol"?e:e+""}function xce(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ih=function(t){function e(){return pce(this,e),yce(this,e,arguments)}return bce(e,t),gce(e,[{key:"render",value:function(){return null}}])}(R.Component);AO(Ih,"displayName","ZAxis");AO(Ih,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var _ce=["option","isActive"];function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function Sce(t,e){if(t==null)return{};var n=Ece(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ece(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tce(t){var e=t.option,n=t.isActive,r=Sce(t,_ce);return typeof e=="string"?R.createElement(gy,el({option:R.createElement(oh,el({type:e},r)),isActive:n,shapeType:"symbols"},r)):R.createElement(gy,el({option:e,isActive:n,shapeType:"symbols"},r))}function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(r){Yr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PO(r.key),r)}}function Cce(t,e,n){return e&&o1(t.prototype,e),n&&o1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kce(t,e,n){return e=sf(e),Pce(t,kO()?Reflect.construct(e,n||[],sf(t).constructor):e.apply(t,n))}function Pce(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ice(t)}function Ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kO=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(t)}function Nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ny(t,e)}function Ny(t,e){return Ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ny(t,e)}function Yr(t,e,n){return e=PO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PO(t){var e=Oce(t,"string");return ja(e)=="symbol"?e:e+""}function Oce(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nh=function(t){function e(){var n;Ace(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kce(this,e,[].concat(i)),Yr(n,"state",{isAnimationFinished:!1}),Yr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Yr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Yr(n,"id",ao("recharts-scatter-")),n}return Nce(e,t),Cce(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,u=ce(this.props,!1);return r.map(function(c,d){var h=l===d,m=h?s:a,y=gn(gn({},u),c);return O.createElement(be,tl({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(d)},Cl(i.props,c,d),{role:"img"}),O.createElement(Tce,tl({option:m,isActive:h,key:"symbol-".concat(d)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state.prevPoints;return O.createElement(Kn,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,y=o.map(function(w,b){var v=d&&d[b];if(v){var x=Qe(v.cx,w.cx),_=Qe(v.cy,w.cy),T=Qe(v.size,w.size);return gn(gn({},w),{},{cx:x(m),cy:_(m),size:T(m)})}var S=Qe(0,w.size);return gn(gn({},w),{},{size:S(m)})});return O.createElement(be,null,r.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Zi(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,u=Yt(l,ls);return u?u.map(function(c,d){var h=c.props,m=h.direction,y=h.dataKey;return O.cloneElement(c,{key:"".concat(m,"-").concat(y,"-").concat(o[d]),data:o,xAxis:a,yAxis:s,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(b,v){return{x:b.cx,y:b.cy,value:m==="x"?+b.node.x:+b.node.y,errorVal:dt(b,v)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,l=ce(this.props,!1),u=ce(o,!1),c,d;if(a==="joint")c=i.map(function(_){return{x:_.cx,y:_.cy}});else if(a==="fitting"){var h=DH(i),m=h.xmin,y=h.xmax,w=h.a,b=h.b,v=function(T){return w*T+b};c=[{x:m,y:v(m)},{x:y,y:v(y)}]}var x=gn(gn(gn({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:c});return O.isValidElement(o)?d=O.cloneElement(o,x):fe(o)?d=o(x):d=O.createElement(zi,tl({},x,{type:s})),O.createElement(be,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,l=r.xAxis,u=r.yAxis,c=r.left,d=r.top,h=r.width,m=r.height,y=r.id,w=r.isAnimationActive;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=de("recharts-scatter",s),x=l&&l.allowDataOverflow,_=u&&u.allowDataOverflow,T=x||_,S=le(y)?this.id:y;return O.createElement(be,{className:v,clipPath:T?"url(#clipPath-".concat(S,")"):null},x||_?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(S)},O.createElement("rect",{x:x?c:c-h/2,y:_?d:d-m/2,width:x?h:h*2,height:_?m:m*2}))):null,a&&this.renderLine(),this.renderErrorBar(),O.createElement(be,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!w||b)&&ar.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(R.PureComponent);Yr(Nh,"displayName","Scatter");Yr(Nh,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Yr(Nh,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,c=Yt(i.props.children,uh),d=le(e.dataKey)?i.props.dataKey:e.dataKey,h=le(n.dataKey)?i.props.dataKey:n.dataKey,m=r&&r.dataKey,y=r?r.range:Ih.defaultProps.range,w=y&&y[0],b=e.scale.bandwidth?e.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0,x=o.map(function(_,T){var S=dt(_,d),E=dt(_,h),A=!le(m)&&dt(_,m)||"-",k=[{name:le(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:S,payload:_,dataKey:d,type:u},{name:le(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:_,dataKey:h,type:u}];A!=="-"&&k.push({name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:_,dataKey:m,type:u});var C=Aa({axis:e,ticks:a,bandSize:b,entry:_,index:T,dataKey:d}),P=Aa({axis:n,ticks:s,bandSize:v,entry:_,index:T,dataKey:h}),N=A!=="-"?r.scale(A):w,I=Math.sqrt(Math.max(N,0)/Math.PI);return gn(gn({},_),{},{cx:C,cy:P,x:C-I,y:P-I,xAxis:e,yAxis:n,zAxis:r,width:2*I,height:2*I,size:N,node:{x:S,y:E,z:A},tooltipPayload:k,tooltipPosition:{x:C,y:P},payload:_},c&&c[T]&&c[T].props)});return gn({points:x},l)});function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function Rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OO(r.key),r)}}function $ce(t,e,n){return e&&Mce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dce(t,e,n){return e=lf(e),Lce(t,IO()?Reflect.construct(e,n||[],lf(t).constructor):e.apply(t,n))}function Lce(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(t)}function jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IO=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(t)}function Uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Oy(t,e)}function NO(t,e,n){return e=OO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OO(t){var e=Fce(t,"string");return Ua(e)=="symbol"?e:e+""}function Fce(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(this,arguments)}function Bce(t){var e=t.xAxisId,n=lO(),r=uO(),i=aO(e);return i==null?null:R.createElement(kh,Ry({},i,{className:de("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Li(a,!0)}}))}var xu=function(t){function e(){return Rce(this,e),Dce(this,e,arguments)}return Uce(e,t),$ce(e,[{key:"render",value:function(){return R.createElement(Bce,this.props)}}])}(R.Component);NO(xu,"displayName","XAxis");NO(xu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function Gce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$O(r.key),r)}}function zce(t,e,n){return e&&Vce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hce(t,e,n){return e=uf(e),qce(t,RO()?Reflect.construct(e,n||[],uf(t).constructor):e.apply(t,n))}function qce(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wce(t)}function Wce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!t})()}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(t)}function Kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&My(t,e)}function My(t,e){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},My(t,e)}function MO(t,e,n){return e=$O(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $O(t){var e=Jce(t,"string");return Fa(e)=="symbol"?e:e+""}function Jce(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}var Yce=function(e){var n=e.yAxisId,r=lO(),i=uO(),o=sO(n);return o==null?null:R.createElement(kh,$y({},o,{className:de("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Li(s,!0)}}))},Oh=function(t){function e(){return Gce(this,e),Hce(this,e,arguments)}return Kce(e,t),zce(e,[{key:"render",value:function(){return R.createElement(Yce,this.props)}}])}(R.Component);MO(Oh,"displayName","YAxis");MO(Oh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function a1(t){return ede(t)||Zce(t)||Qce(t)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(t,e){if(t){if(typeof t=="string")return Dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(t,e)}}function Zce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ede(t){if(Array.isArray(t))return Dy(t)}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ly=function(e,n,r,i,o){var a=Yt(e,Sh),s=Yt(e,Th),l=[].concat(a1(a),a1(s)),u=Yt(e,Ch),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(w,b){if(b.props[c]===r&&sr(b.props,"extendDomain")&&W(b.props[d])){var v=b.props[d];return[Math.min(w[0],v),Math.max(w[1],v)]}return w},h)),u.length){var m="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(w,b){if(b.props[c]===r&&sr(b.props,"extendDomain")&&W(b.props[m])&&W(b.props[y])){var v=b.props[m],x=b.props[y];return[Math.min(w[0],v,x),Math.max(w[1],v,x)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,b){return W(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},h)),h},DO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,y=new Array(m);h<m;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,m,y){var w=n?n+u:u;if(!this._events[w])return!1;var b=this._events[w],v=arguments.length,x,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,h),!0;case 5:return b.fn.call(b.context,c,d,h,m),!0;case 6:return b.fn.call(b.context,c,d,h,m,y),!0}for(_=1,x=new Array(v-1);_<v;_++)x[_-1]=arguments[_];b.fn.apply(b.context,x)}else{var T=b.length,S;for(_=0;_<T;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),v){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,d);break;case 4:b[_].fn.call(b[_].context,c,d,h);break;default:if(!x)for(S=1,x=new Array(v-1);S<v;S++)x[S-1]=arguments[S];b[_].fn.apply(b[_].context,x)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!h||y.once)&&(!d||y.context===d)&&a(this,m);else{for(var w=0,b=[],v=y.length;w<v;w++)(y[w].fn!==c||h&&!y[w].once||d&&y[w].context!==d)&&b.push(y[w]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(DO);var tde=DO.exports;const nde=De(tde);var Vp=new nde,zp="recharts.syncMouseEvents";function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ide(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LO(r.key),r)}}function ode(t,e,n){return e&&ide(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hp(t,e,n){return e=LO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LO(t){var e=ade(t,"string");return su(e)=="symbol"?e:e+""}function ade(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sde=function(){function t(){rde(this,t),Hp(this,"activeIndex",0),Hp(this,"coordinateList",[]),Hp(this,"layout","horizontal")}return ode(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function lde(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&W(r)&&W(i))return!0}return!1}function ude(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function jO(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Tt(e,n,r,i),s=Tt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function cde(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Tt(s,l,u,d),m=Tt(s,l,c,d);r=h.x,i=h.y,o=m.x,a=m.y}else return jO(e);return[{x:r,y:i},{x:o,y:a}]}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dde(t,e,n){return e=fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fde(t){var e=hde(t,"string");return lu(e)=="symbol"?e:e+""}function hde(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pde(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,w=zi;if(h==="ScatterChart")y=a,w=yae;else if(h==="BarChart")y=ude(d,a,l,c),w=rw;else if(d==="radial"){var b=jO(a),v=b.cx,x=b.cy,_=b.radius,T=b.startAngle,S=b.endAngle;y={cx:v,cy:x,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},w=ON}else y={points:cde(d,a,l)},w=zi;var E=uc(uc(uc(uc({stroke:"#ccc",pointerEvents:"none"},l),y),ce(m,!1)),{},{payload:s,payloadIndex:u,className:de("recharts-tooltip-cursor",m.className)});return R.isValidElement(m)?R.cloneElement(m,E):R.createElement(w,E)}var mde=["item"],gde=["children","className","width","height","style","compact","title","desc"];function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(this,arguments)}function l1(t,e){return wde(t)||vde(t,e)||FO(t,e)||yde()}function yde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wde(t){if(Array.isArray(t))return t}function u1(t,e){if(t==null)return{};var n=bde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BO(r.key),r)}}function Sde(t,e,n){return e&&_de(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ede(t,e,n){return e=cf(e),Tde(t,UO()?Reflect.construct(e,n||[],cf(t).constructor):e.apply(t,n))}function Tde(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ade(t)}function Ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UO=function(){return!!t})()}function cf(t){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(t)}function Cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jy(t,e)}function Ga(t){return Ide(t)||Pde(t)||FO(t)||kde()}function kde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FO(t,e){if(t){if(typeof t=="string")return Uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(t,e)}}function Pde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ide(t){if(Array.isArray(t))return Uy(t)}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function re(t,e,n){return e=BO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BO(t){var e=Nde(t,"string");return Ba(e)=="symbol"?e:e+""}function Nde(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ode={xAxis:["bottom","top"],yAxis:["left","right"]},Rde={width:"100%",height:"100%"},GO={x:0,y:0};function cc(t){return t}var Mde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$de=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return F(F(F({},i),Tt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return F(F(F({},i),Tt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return GO},Rh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Ga(s),Ga(u)):s},[]);return a.length>0?a:e&&e.length&&W(i)&&W(o)?e.slice(i,o+1):[]};function VO(t){return t==="number"?[0,"auto"]:void 0}var Fy=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Rh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=d===void 0?s:d;h=ld(m,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Ga(l),[PN(u,h)]):l},[])},d1=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Mde(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Jne(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Fy(e,n,c,d),m=$de(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},Dde=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,m=CN(c,o);return r.reduce(function(y,w){var b,v=w.type.defaultProps!==void 0?F(F({},w.type.defaultProps),w.props):w.props,x=v.type,_=v.dataKey,T=v.allowDataOverflow,S=v.allowDuplicatedCategory,E=v.scale,A=v.ticks,k=v.includeHidden,C=v[a];if(y[C])return y;var P=Rh(e.data,{graphicalItems:i.filter(function(H){var te,he=a in H.props?H.props[a]:(te=H.type.defaultProps)===null||te===void 0?void 0:te[a];return he===C}),dataStartIndex:l,dataEndIndex:u}),N=P.length,I,M,D;lde(v.domain,T,x)&&(I=ey(v.domain,null,T),m&&(x==="number"||E!=="auto")&&(D=Xs(P,_,"category")));var j=VO(x);if(!I||I.length===0){var L,B=(L=v.domain)!==null&&L!==void 0?L:j;if(_){if(I=Xs(P,_,x),x==="category"&&m){var $=$H(I);S&&$?(M=I,I=Wd(0,N)):S||(I=zE(B,I,w).reduce(function(H,te){return H.indexOf(te)>=0?H:[].concat(Ga(H),[te])},[]))}else if(x==="category")S?I=I.filter(function(H){return H!==""&&!le(H)}):I=zE(B,I,w).reduce(function(H,te){return H.indexOf(te)>=0||te===""||le(te)?H:[].concat(Ga(H),[te])},[]);else if(x==="number"){var U=ere(P,i.filter(function(H){var te,he,Se=a in H.props?H.props[a]:(te=H.type.defaultProps)===null||te===void 0?void 0:te[a],Oe="hide"in H.props?H.props.hide:(he=H.type.defaultProps)===null||he===void 0?void 0:he.hide;return Se===C&&(k||!Oe)}),_,o,c);U&&(I=U)}m&&(x==="number"||E!=="auto")&&(D=Xs(P,_,"category"))}else m?I=Wd(0,N):s&&s[C]&&s[C].hasStack&&x==="number"?I=h==="expand"?[0,1]:kN(s[C].stackGroups,l,u):I=AN(P,i.filter(function(H){var te=a in H.props?H.props[a]:H.type.defaultProps[a],he="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return te===C&&(k||!he)}),x,c,!0);if(x==="number")I=Ly(d,I,C,o,A),B&&(I=ey(B,I,T));else if(x==="category"&&B){var G=B,K=I.every(function(H){return G.indexOf(H)>=0});K&&(I=G)}}return F(F({},y),{},re({},C,F(F({},v),{},{axisType:o,domain:I,categoricalDomain:D,duplicateDomain:M,originalDomain:(b=v.domain)!==null&&b!==void 0?b:j,isCategorical:m,layout:c})))},{})},Lde=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Rh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,y=CN(c,o),w=-1;return r.reduce(function(b,v){var x=v.type.defaultProps!==void 0?F(F({},v.type.defaultProps),v.props):v.props,_=x[a],T=VO("number");if(!b[_]){w++;var S;return y?S=Wd(0,m):s&&s[_]&&s[_].hasStack?(S=kN(s[_].stackGroups,l,u),S=Ly(d,S,_,o)):(S=ey(T,AN(h,r.filter(function(E){var A,k,C=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],P="hide"in E.props?E.props.hide:(k=E.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===_&&!P}),"number",c),i.defaultProps.allowDataOverflow),S=Ly(d,S,_,o)),F(F({},b),{},re({},_,F(F({axisType:o},i.defaultProps),{},{hide:!0,orientation:Sn(Ode,"".concat(o,".").concat(w%2),null),domain:S,originalDomain:T,isCategorical:y,layout:c})))}return b},{})},jde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Yt(c,o),m={};return h&&h.length?m=Dde(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=Lde(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Ude=function(e){var n=Co(e),r=Li(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:I0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ld(n,r)}},f1=function(e){var n=e.children,r=e.defaultShowTooltip,i=nn(n,Pa),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Fde=function(e){return!e||!e.length?!1:e.some(function(n){var r=wr(n&&n.type);return r&&r.indexOf("Bar")>=0})},h1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Bde=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},m=nn(d,Pa),y=nn(d,ia),w=Object.keys(l).reduce(function(S,E){var A=l[E],k=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},re({},k,S[k]+A.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,E){var A=a[E],k=A.orientation;return!A.mirror&&!A.hide?F(F({},S),{},re({},k,Sn(S,"".concat(k))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=F(F({},b),w),x=v.bottom;m&&(v.bottom+=m.props.height||Pa.defaultProps.height),y&&n&&(v=Qne(v,i,r,n));var _=u-v.left-v.right,T=c-v.top-v.bottom;return F(F({brushBottom:x},v),{},{width:Math.max(_,0),height:Math.max(T,0)})},Gde=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},zO=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(v,x){var _=x.graphicalItems,T=x.stackGroups,S=x.offset,E=x.updateId,A=x.dataStartIndex,k=x.dataEndIndex,C=v.barSize,P=v.layout,N=v.barGap,I=v.barCategoryGap,M=v.maxBarSize,D=h1(P),j=D.numericAxisName,L=D.cateAxisName,B=Fde(_),$=[];return _.forEach(function(U,G){var K=Rh(v.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:k}),H=U.type.defaultProps!==void 0?F(F({},U.type.defaultProps),U.props):U.props,te=H.dataKey,he=H.maxBarSize,Se=H["".concat(j,"Id")],Oe=H["".concat(L,"Id")],wt={},ht=l.reduce(function($t,fn){var fo=x["".concat(fn.axisType,"Map")],_u=H["".concat(fn.axisType,"Id")];fo&&fo[_u]||fn.axisType==="zAxis"||to();var us=fo[_u];return F(F({},$t),{},re(re({},fn.axisType,us),"".concat(fn.axisType,"Ticks"),Li(us)))},wt),J=ht[L],ae=ht["".concat(L,"Ticks")],ue=T&&T[Se]&&T[Se].hasStack&&fre(U,T[Se].stackGroups),V=wr(U.type).indexOf("Bar")>=0,Ae=Ld(J,ae),pe=[],xe=B&&Yne({barSize:C,stackGroups:T,totalSize:Gde(ht,L)});if(V){var q,Pe,Z=le(he)?M:he,Ce=(q=(Pe=Ld(J,ae,!0))!==null&&Pe!==void 0?Pe:Z)!==null&&q!==void 0?q:0;pe=Xne({barGap:N,barCategoryGap:I,bandSize:Ce!==Ae?Ce:Ae,sizeList:xe[Oe],maxBarSize:Z}),Ce!==Ae&&(pe=pe.map(function($t){return F(F({},$t),{},{position:F(F({},$t.position),{},{offset:$t.position.offset-Ce/2})})}))}var it=U&&U.type&&U.type.getComposedData;it&&$.push({props:F(F({},it(F(F({},ht),{},{displayedData:K,props:v,dataKey:te,item:U,bandSize:Ae,barPosition:pe,offset:S,stackedData:ue,layout:P,dataStartIndex:A,dataEndIndex:k}))),{},re(re(re({key:U.key||"item-".concat(G)},j,ht[j]),L,ht[L]),"animationId",E)),childIndex:KH(U,v.children),item:U})}),$},m=function(v,x){var _=v.props,T=v.dataStartIndex,S=v.dataEndIndex,E=v.updateId;if(!j_({props:_}))return null;var A=_.children,k=_.layout,C=_.stackOffset,P=_.data,N=_.reverseStackOrder,I=h1(k),M=I.numericAxisName,D=I.cateAxisName,j=Yt(A,r),L=ure(P,j,"".concat(M,"Id"),"".concat(D,"Id"),C,N),B=l.reduce(function(H,te){var he="".concat(te.axisType,"Map");return F(F({},H),{},re({},he,jde(_,F(F({},te),{},{graphicalItems:j,stackGroups:te.axisType===M&&L,dataStartIndex:T,dataEndIndex:S}))))},{}),$=Bde(F(F({},B),{},{props:_,graphicalItems:j}),x==null?void 0:x.legendBBox);Object.keys(B).forEach(function(H){B[H]=c(_,B[H],$,H.replace("Map",""),n)});var U=B["".concat(D,"Map")],G=Ude(U),K=h(_,F(F({},B),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:j,stackGroups:L,offset:$}));return F(F({formattedGraphicalItems:K,graphicalItems:j,offset:$,stackGroups:L},G),B)},y=function(b){function v(x){var _,T,S;return xde(this,v),S=Ede(this,v,[x]),re(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),re(S,"accessibilityManager",new sde),re(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,k=A.dataStartIndex,C=A.dataEndIndex,P=A.updateId;S.setState(F({legendBBox:E},m({props:S.props,dataStartIndex:k,dataEndIndex:C,updateId:P},F(F({},S.state),{},{legendBBox:E}))))}}),re(S,"handleReceiveSyncEvent",function(E,A,k){if(S.props.syncId===E){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),re(S,"handleBrushChange",function(E){var A=E.startIndex,k=E.endIndex;if(A!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return F({dataStartIndex:A,dataEndIndex:k},m({props:S.props,dataStartIndex:A,dataEndIndex:k,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:k})}}),re(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var k=F(F({},A),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseEnter;fe(C)&&C(k,E)}}),re(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),k=A?F(F({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseMove;fe(C)&&C(k,E)}),re(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),re(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),re(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),re(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var k=S.props.onMouseLeave;fe(k)&&k(A,E)}),re(S,"handleOuterEvent",function(E){var A=WH(E),k=Sn(S.props,"".concat(A));if(A&&fe(k)){var C,P;/.*touch.*/i.test(A)?P=S.getMouseInfo(E.changedTouches[0]):P=S.getMouseInfo(E),k((C=P)!==null&&C!==void 0?C:{},E)}}),re(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var k=F(F({},A),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var C=S.props.onClick;fe(C)&&C(k,E)}}),re(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(fe(A)){var k=S.getMouseInfo(E);A(k,E)}}),re(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(fe(A)){var k=S.getMouseInfo(E);A(k,E)}}),re(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),re(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),re(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),re(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(fe(A)){var k=S.getMouseInfo(E);A(k,E)}}),re(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(fe(A)){var k=S.getMouseInfo(E);A(k,E)}}),re(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Vp.emit(zp,S.props.syncId,E,S.eventEmitterSymbol)}),re(S,"applySyncEvent",function(E){var A=S.props,k=A.layout,C=A.syncMethod,P=S.state.updateId,N=E.dataStartIndex,I=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(F({dataStartIndex:N,dataEndIndex:I},m({props:S.props,dataStartIndex:N,dataEndIndex:I,updateId:P},S.state)));else if(E.activeTooltipIndex!==void 0){var M=E.chartX,D=E.chartY,j=E.activeTooltipIndex,L=S.state,B=L.offset,$=L.tooltipTicks;if(!B)return;if(typeof C=="function")j=C($,E);else if(C==="value"){j=-1;for(var U=0;U<$.length;U++)if($[U].value===E.activeLabel){j=U;break}}var G=F(F({},B),{},{x:B.left,y:B.top}),K=Math.min(M,G.x+G.width),H=Math.min(D,G.y+G.height),te=$[j]&&$[j].value,he=Fy(S.state,S.props.data,j),Se=$[j]?{x:k==="horizontal"?$[j].coordinate:K,y:k==="horizontal"?H:$[j].coordinate}:GO;S.setState(F(F({},E),{},{activeLabel:te,activeCoordinate:Se,activePayload:he,activeTooltipIndex:j}))}else S.setState(E)}),re(S,"renderCursor",function(E){var A,k=S.state,C=k.isTooltipActive,P=k.activeCoordinate,N=k.activePayload,I=k.offset,M=k.activeTooltipIndex,D=k.tooltipAxisBandSize,j=S.getTooltipEventType(),L=(A=E.props.active)!==null&&A!==void 0?A:C,B=S.props.layout,$=E.key||"_recharts-cursor";return O.createElement(pde,{key:$,activeCoordinate:P,activePayload:N,activeTooltipIndex:M,chartName:n,element:E,isActive:L,layout:B,offset:I,tooltipAxisBandSize:D,tooltipEventType:j})}),re(S,"renderPolarAxis",function(E,A,k){var C=Sn(E,"type.axisType"),P=Sn(S.state,"".concat(C,"Map")),N=E.type.defaultProps,I=N!==void 0?F(F({},N),E.props):E.props,M=P&&P[I["".concat(C,"Id")]];return R.cloneElement(E,F(F({},M),{},{className:de(C,M.className),key:E.key||"".concat(A,"-").concat(k),ticks:Li(M,!0)}))}),re(S,"renderPolarGrid",function(E){var A=E.props,k=A.radialLines,C=A.polarAngles,P=A.polarRadius,N=S.state,I=N.radiusAxisMap,M=N.angleAxisMap,D=Co(I),j=Co(M),L=j.cx,B=j.cy,$=j.innerRadius,U=j.outerRadius;return R.cloneElement(E,{polarAngles:Array.isArray(C)?C:Li(j,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:Li(D,!0).map(function(G){return G.coordinate}),cx:L,cy:B,innerRadius:$,outerRadius:U,key:E.key||"polar-grid",radialLines:k})}),re(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,k=A.children,C=A.width,P=A.height,N=S.props.margin||{},I=C-(N.left||0)-(N.right||0),M=EN({children:k,formattedGraphicalItems:E,legendWidth:I,legendContent:u});if(!M)return null;var D=M.item,j=u1(M,mde);return R.cloneElement(D,F(F({},j),{},{chartWidth:C,chartHeight:P,margin:N,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),re(S,"renderTooltip",function(){var E,A=S.props,k=A.children,C=A.accessibilityLayer,P=nn(k,Zn);if(!P)return null;var N=S.state,I=N.isTooltipActive,M=N.activeCoordinate,D=N.activePayload,j=N.activeLabel,L=N.offset,B=(E=P.props.active)!==null&&E!==void 0?E:I;return R.cloneElement(P,{viewBox:F(F({},L),{},{x:L.left,y:L.top}),active:B,label:j,payload:B?D:[],coordinate:M,accessibilityLayer:C})}),re(S,"renderBrush",function(E){var A=S.props,k=A.margin,C=A.data,P=S.state,N=P.offset,I=P.dataStartIndex,M=P.dataEndIndex,D=P.updateId;return R.cloneElement(E,{key:E.key||"_recharts-brush",onChange:oc(S.handleBrushChange,E.props.onChange),data:C,x:W(E.props.x)?E.props.x:N.left,y:W(E.props.y)?E.props.y:N.top+N.height+N.brushBottom-(k.bottom||0),width:W(E.props.width)?E.props.width:N.width,startIndex:I,endIndex:M,updateId:"brush-".concat(D)})}),re(S,"renderReferenceElement",function(E,A,k){if(!E)return null;var C=S,P=C.clipPathId,N=S.state,I=N.xAxisMap,M=N.yAxisMap,D=N.offset,j=E.type.defaultProps||{},L=E.props,B=L.xAxisId,$=B===void 0?j.xAxisId:B,U=L.yAxisId,G=U===void 0?j.yAxisId:U;return R.cloneElement(E,{key:E.key||"".concat(A,"-").concat(k),xAxis:I[$],yAxis:M[G],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:P})}),re(S,"renderActivePoints",function(E){var A=E.item,k=E.activePoint,C=E.basePoint,P=E.childIndex,N=E.isRange,I=[],M=A.props.key,D=A.item.type.defaultProps!==void 0?F(F({},A.item.type.defaultProps),A.item.props):A.item.props,j=D.activeDot,L=D.dataKey,B=F(F({index:P,dataKey:L,cx:k.x,cy:k.y,r:4,fill:nw(A.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ce(j,!1)),ud(j));return I.push(v.renderActiveDot(j,B,"".concat(M,"-activePoint-").concat(P))),C?I.push(v.renderActiveDot(j,F(F({},B),{},{cx:C.x,cy:C.y}),"".concat(M,"-basePoint-").concat(P))):N&&I.push(null),I}),re(S,"renderGraphicChild",function(E,A,k){var C=S.filterFormatItem(E,A,k);if(!C)return null;var P=S.getTooltipEventType(),N=S.state,I=N.isTooltipActive,M=N.tooltipAxis,D=N.activeTooltipIndex,j=N.activeLabel,L=S.props.children,B=nn(L,Zn),$=C.props,U=$.points,G=$.isRange,K=$.baseLine,H=C.item.type.defaultProps!==void 0?F(F({},C.item.type.defaultProps),C.item.props):C.item.props,te=H.activeDot,he=H.hide,Se=H.activeBar,Oe=H.activeShape,wt=!!(!he&&I&&B&&(te||Se||Oe)),ht={};P!=="axis"&&B&&B.props.trigger==="click"?ht={onClick:oc(S.handleItemMouseEnter,E.props.onClick)}:P!=="axis"&&(ht={onMouseLeave:oc(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:oc(S.handleItemMouseEnter,E.props.onMouseEnter)});var J=R.cloneElement(E,F(F({},C.props),ht));function ae(fn){return typeof M.dataKey=="function"?M.dataKey(fn.payload):null}if(wt)if(D>=0){var ue,V;if(M.dataKey&&!M.allowDuplicatedCategory){var Ae=typeof M.dataKey=="function"?ae:"payload.".concat(M.dataKey.toString());ue=ld(U,Ae,j),V=G&&K&&ld(K,Ae,j)}else ue=U==null?void 0:U[D],V=G&&K&&K[D];if(Oe||Se){var pe=E.props.activeIndex!==void 0?E.props.activeIndex:D;return[R.cloneElement(E,F(F(F({},C.props),ht),{},{activeIndex:pe})),null,null]}if(!le(ue))return[J].concat(Ga(S.renderActivePoints({item:C,activePoint:ue,basePoint:V,childIndex:D,isRange:G})))}else{var xe,q=(xe=S.getItemByXY(S.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:J},Pe=q.graphicalItem,Z=Pe.item,Ce=Z===void 0?E:Z,it=Pe.childIndex,$t=F(F(F({},C.props),ht),{},{activeIndex:it});return[R.cloneElement(Ce,$t),null,null]}return G?[J,null,null]:[J,null]}),re(S,"renderCustomized",function(E,A,k){return R.cloneElement(E,F(F({key:"recharts-customized-".concat(k)},S.props),S.state))}),re(S,"renderMap",{CartesianGrid:{handler:cc,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:cc},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:cc},YAxis:{handler:cc},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:ao("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=SI(S.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return Cde(v,b),Sde(v,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,k=nn(T,Zn);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,N=Fy(this.state,S,C,P),I=this.state.tooltipTicks[C].coordinate,M=(this.state.offset.top+E)/2,D=A==="horizontal",j=D?{x:I,y:M}:{y:I,x:M},L=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});L&&(j=F(F({},j),L.props.points[C].tooltipPosition),N=L.props.points[C].tooltipPayload);var B={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:N,activeCoordinate:j};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){mg([nn(_.children,Zn)],[nn(this.props.children,Zn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=nn(this.props.children,Zn);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=xQ(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},k=S.width/T.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,k);if(!C)return null;var P=this.state,N=P.xAxisMap,I=P.yAxisMap,M=this.getTooltipEventType(),D=d1(this.state,this.props.data,this.props.layout,C);if(M!=="axis"&&N&&I){var j=Co(N).scale,L=Co(I).scale,B=j&&j.invert?j.invert(A.chartX):null,$=L&&L.invert?L.invert(A.chartY):null;return F(F({},A),{},{xValue:B,yValue:$},D)}return D?F(F({},A),D):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,k=T/S;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,P=A>=C.left&&A<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return P?{x:A,y:k}:null}var N=this.state,I=N.angleAxisMap,M=N.radiusAxisMap;if(I&&M){var D=Co(I);return WE({x:A,y:k},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=nn(_,Zn),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=ud(this.props,this.handleOuterEvent);return F(F({},A),E)}},{key:"addListener",value:function(){Vp.on(zp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Vp.removeListener(zp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,k=E.length;A<k;A++){var C=E[A];if(C.item===_||C.props.key===_.key||T===wr(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,k=T.width;return O.createElement("defs",null,O.createElement("clipPath",{id:_},O.createElement("rect",{x:S,y:E,height:A,width:k})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=l1(S,2),A=E[0],k=E[1];return F(F({},T),{},re({},A,k.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=l1(S,2),A=E[0],k=E[1];return F(F({},T),{},re({},A,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,k=S.length;A<k;A++){var C=S[A],P=C.props,N=C.item,I=N.type.defaultProps!==void 0?F(F({},N.type.defaultProps),N.props):N.props,M=wr(N.type);if(M==="Bar"){var D=(P.data||[]).find(function($){return sae(_,$)});if(D)return{graphicalItem:C,payload:D}}else if(M==="RadialBar"){var j=(P.data||[]).find(function($){return WE(_,$)});if(j)return{graphicalItem:C,payload:j}}else if(bh(C,E)||xh(C,E)||nu(C,E)){var L=use({graphicalItem:C,activeTooltipItem:E,itemData:I.data}),B=I.activeIndex===void 0?L:I.activeIndex;return{graphicalItem:F(F({},C),{},{childIndex:B}),payload:nu(C,E)?I.data[L]:C.props.data[L]}}}return null}},{key:"render",value:function(){var _=this;if(!j_(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,k=T.height,C=T.style,P=T.compact,N=T.title,I=T.desc,M=u1(T,gde),D=ce(M,!1);if(P)return O.createElement(GT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(yg,Ho({},D,{width:A,height:k,title:N,desc:I}),this.renderClipPath(),F_(S,this.renderMap)));if(this.props.accessibilityLayer){var j,L;D.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,D.role=(L=this.props.role)!==null&&L!==void 0?L:"application",D.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},D.onFocus=function(){_.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return O.createElement(GT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",Ho({className:de("recharts-wrapper",E),style:F({position:"relative",cursor:"default",width:A,height:k},C)},B,{ref:function(U){_.container=U}}),O.createElement(yg,Ho({},D,{width:A,height:k,title:N,desc:I,style:Rde}),this.renderClipPath(),F_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);re(y,"displayName",n),re(y,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),re(y,"getDerivedStateFromProps",function(b,v){var x=b.dataKey,_=b.data,T=b.children,S=b.width,E=b.height,A=b.layout,k=b.stackOffset,C=b.margin,P=v.dataStartIndex,N=v.dataEndIndex;if(v.updateId===void 0){var I=f1(b);return F(F(F({},I),{},{updateId:0},m(F(F({props:b},I),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:k,prevMargin:C,prevChildren:T})}if(x!==v.prevDataKey||_!==v.prevData||S!==v.prevWidth||E!==v.prevHeight||A!==v.prevLayout||k!==v.prevStackOffset||!ra(C,v.prevMargin)){var M=f1(b),D={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},j=F(F({},d1(v,_,A)),{},{updateId:v.updateId+1}),L=F(F(F({},M),D),j);return F(F(F({},L),m(F({props:b},L),v)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:k,prevMargin:C,prevChildren:T})}if(!mg(T,v.prevChildren)){var B,$,U,G,K=nn(T,Pa),H=K&&(B=($=K.props)===null||$===void 0?void 0:$.startIndex)!==null&&B!==void 0?B:P,te=K&&(U=(G=K.props)===null||G===void 0?void 0:G.endIndex)!==null&&U!==void 0?U:N,he=H!==P||te!==N,Se=!le(_),Oe=Se&&!he?v.updateId:v.updateId+1;return F(F({updateId:Oe},m(F(F({props:b},v),{},{updateId:Oe,dataStartIndex:H,dataEndIndex:te}),v)),{},{prevChildren:T,dataStartIndex:H,dataEndIndex:te})}return null}),re(y,"renderActiveDot",function(b,v,x){var _;return R.isValidElement(b)?_=R.cloneElement(b,v):fe(b)?_=b(v):_=O.createElement(wh,v),O.createElement(be,{className:"recharts-active-dot",key:x},_)});var w=R.forwardRef(function(v,x){return O.createElement(y,Ho({},v,{ref:x}))});return w.displayName=y.displayName,w},Vde=zO({chartName:"AreaChart",GraphicalChild:Dr,axisComponents:[{axisType:"xAxis",AxisComp:xu},{axisType:"yAxis",AxisComp:Oh}],formatAxisMap:XN}),zde=zO({chartName:"ComposedChart",GraphicalChild:[Ph,Dr,co,Nh],axisComponents:[{axisType:"xAxis",AxisComp:xu},{axisType:"yAxis",AxisComp:Oh},{axisType:"zAxis",AxisComp:Ih}],formatAxisMap:XN});const Hde=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,o]=R.useState(!1),[a,s]=R.useState(!1),[l,u]=R.useState(null),[c,d]=R.useState(null),[h,m]=R.useState(0),[y,w]=R.useState(2e3),[b,v]=R.useState(0),[x,_]=R.useState(!0),[T,S]=R.useState(""),E=async()=>{try{const I=await qv(),M=new Date().toISOString().split("T")[0],D=I.filter(U=>U.date===M);D.sort((U,G)=>G.timestamp.localeCompare(U.timestamp)),e(D),m(D.reduce((U,G)=>U+G.calories,0));const j=await Wv();w(j);const L=await Kv();L!=null&&L.name&&S(L.name);const $=(await lk()).slice(0,7).reverse().map(U=>({cal:U.totalCalories}));for(;$.length<7;)$.unshift({cal:0});r($)}catch(I){console.error("Failed to load dashboard data",I)}finally{_(!1)}};R.useEffect(()=>{E();const I=()=>E();return window.addEventListener("food-entry-updated",I),()=>window.removeEventListener("food-entry-updated",I)},[]),R.useEffect(()=>{if(x)return;const I=Math.min(h/y*100,100),M=setTimeout(()=>{v(I)},100);return()=>clearTimeout(M)},[h,y,x]);const A=async I=>{await uk(I),await E()},k=I=>{u(null),d(I),o(!0)},C=async I=>{await Of(I),w(I),s(!1)},P=()=>{const I=h/y*100;if(I>=100)return{background:"repeating-linear-gradient(45deg, #facc15, #facc15 12px, #171717 12px, #171717 24px)",boxShadow:"0 0 12px rgba(250, 204, 21, 0.4)"};if(I<=60)return{background:"#10b981",boxShadow:"0 0 12px rgba(16, 185, 129, 0.4)"};if(I<=80)return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${60/I*100}%, #facc15 100%)`,boxShadow:"0 0 12px rgba(250, 204, 21, 0.3)"};const M=60/I*100,D=80/I*100;return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${M}%, #facc15 ${D}%, #f97316 100%)`,boxShadow:"0 0 12px rgba(249, 115, 22, 0.3)"}},N=I=>{if(I.isManual)return I.imageUrl?g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-amber-50 dark:bg-amber-950/20 text-amber-600 dark:text-amber-400 text-[10px] font-bold tracking-wide",children:[g.jsx(F2,{size:10}),"EDITED"]}):g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 text-[10px] font-bold tracking-wide",children:[g.jsx(pa,{size:10}),"MANUAL"]});const M=Math.round(I.confidence*100),D=M>80?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-600 dark:text-emerald-400":M>50?"bg-orange-50 dark:bg-orange-950/20 text-orange-600 dark:text-orange-400":"bg-rose-50 dark:bg-rose-950/20 text-rose-600 dark:text-rose-400";return g.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[10px] font-bold tracking-wide ${D}`,children:[g.jsx(oi,{size:10}),M,"% AI"]})};return g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-in fade-in duration-500 overflow-hidden relative",children:[g.jsxs("div",{className:"flex-shrink-0 px-6 pt-10 space-y-8 pb-4",children:[g.jsxs("header",{className:"flex justify-between items-end",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),g.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:["Hello ",T||"there",", ",g.jsx("br",{}),"Let's Eat Well."]})]}),g.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-950/30 rounded-full flex items-center justify-center text-royal-600 dark:text-royal-400 shadow-sm border border-white dark:border-white/5",children:g.jsx(bb,{size:20})})]}),g.jsxs("div",{className:`relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl transition-all duration-500 ${h>y?"bg-red-500 shadow-red-200 dark:shadow-red-900/40":"bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40"}`,children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-white/70 text-xs font-bold uppercase tracking-widest mb-1",children:"Calories Consumed"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-5xl font-bold tracking-tighter",children:x?"...":h}),g.jsx("span",{className:"text-lg text-white/60 font-medium",children:"kcal"})]})]}),g.jsx("div",{className:"text-right",children:g.jsxs("div",{className:"flex items-center justify-end gap-2 text-white/80 mb-1",children:[g.jsxs("span",{className:"text-xs font-semibold",children:["Goal: ",y]}),g.jsx("button",{onClick:()=>s(!0),className:"p-1.5 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm",children:g.jsx(RC,{size:10})})]})})]}),g.jsx("div",{className:"w-full bg-black/20 rounded-full h-4 mb-3 overflow-hidden backdrop-blur-sm relative",children:g.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out will-change-[width] flex items-center justify-center overflow-hidden",style:{width:`${b}%`,...P()},children:h/y>=1&&g.jsx("span",{className:"text-[10px] font-black tracking-tighter text-white drop-shadow-md animate-pulse",children:"OVER LIMIT"})})}),g.jsx("div",{className:"flex justify-end",children:h>y?g.jsxs("div",{className:"flex items-center gap-1.5 bg-white/20 backdrop-blur-md px-3 py-1 rounded-full animate-pulse",children:[g.jsx(T2,{size:14,className:"text-white",fill:"white"}),g.jsxs("span",{className:"font-bold text-xs text-white",children:[Math.abs(y-h).toLocaleString()," kcal over limit"]})]}):g.jsxs("p",{className:"text-xs font-medium text-white/80",children:[Math.max(y-h,0).toLocaleString()," kcal remaining"]})})]})]}),g.jsxs(Zo,{className:"flex items-center justify-between p-4 overflow-hidden relative",children:[g.jsxs("div",{className:"z-10",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Qo,{size:14,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Weekly Trend"})]}),g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Consistent Tracking"})]}),g.jsx("div",{className:"absolute right-0 bottom-0 top-0 w-32 opacity-50 dark:opacity-30",children:g.jsx(EI,{width:"100%",height:"100%",children:g.jsxs(Vde,{data:n,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorCal",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#7c3aed",stopOpacity:.3}),g.jsx("stop",{offset:"95%",stopColor:"#7c3aed",stopOpacity:0})]})}),g.jsx(Dr,{type:"monotone",dataKey:"cal",stroke:"#7c3aed",strokeWidth:3,fillOpacity:1,fill:"url(#colorCal)"})]})})})]})]}),g.jsx("div",{className:"flex-shrink-0 px-6 mb-4",children:g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"Recent Meals"}),g.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[t.length," items"]})]})}),g.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pb-32",children:x?g.jsx("div",{className:"space-y-4",children:[1,2].map(I=>g.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[32px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},I))}):t.length===0?g.jsxs("div",{className:"text-center py-16 bg-white dark:bg-[#1a1c26] rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300 dark:text-gray-700",children:g.jsx(bb,{size:24})}),g.jsx("p",{className:"text-gray-400 dark:text-gray-500 font-medium mb-1",children:"No meals tracked today."}),g.jsx("p",{className:"text-xs text-gray-300 dark:text-gray-700",children:"Tap the + button to add one."})]}):g.jsx("div",{className:"space-y-4",children:t.map(I=>g.jsxs(Zo,{className:"flex gap-4 items-center p-4 group",onClick:()=>u(I),children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-2xl overflow-hidden flex-shrink-0 shadow-inner",children:I.imageUrl?g.jsx("img",{src:I.imageUrl,alt:I.food_item,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-700",children:g.jsx(pa,{size:20})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"flex items-center gap-2 mb-1",children:g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 truncate text-base",children:I.food_item})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500",children:I.time}),N(I)]})]}),g.jsxs("div",{className:"text-right pl-2",children:[g.jsx("span",{className:"block font-extrabold text-gray-900 dark:text-gray-50 text-lg",children:I.calories}),g.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase",children:"kcal"})]})]},I.id))})}),g.jsx("button",{onClick:()=>{d(null),o(!0)},className:"absolute bottom-28 right-6 w-16 h-16 bg-royal-600 text-white rounded-[24px] shadow-[0_12px_24px_-6px_rgba(124,58,237,0.5)] flex items-center justify-center hover:scale-105 hover:bg-royal-700 active:scale-95 transition-all z-[60]",children:g.jsx(G2,{size:32,strokeWidth:2.5})}),i&&g.jsx(sP,{editEntry:c,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),E()}}),a&&g.jsx(nG,{currentGoal:y,onClose:()=>s(!1),onSave:C}),l&&g.jsx(lP,{entry:l,onClose:()=>u(null),onDelete:A,onEdit:k})]})},qde=()=>"AIzaSyBe0v3rn4bATheRJCE77AmY58Op-tiJJVU",Wde=()=>{const t=qde();return new rP({apiKey:t})},Kde=`You are **SnapCal AI Elite Coach**, a dual-certified Professional Fitness Trainer (NSCA-CPT) and Clinical Nutritionist. Your mission is to provide high-performance, science-based fitness and nutrition programming to help users reach their body composition goals with executive-level efficiency.

**Core Principles:**
1. **Data-Driven:** Use the Mifflin-St Jeor equation for BMR and TDEE calculations.
2. **Evidence-Based:** Follow ACSM guidelines for exercise and WHO/ISSN standards for nutrition.
3. **Hyper-Personalized:** Every plan must account for the user's specific height, weight, age, activity level, and injury history.
4. **Actionable & Concise:** Avoid fluff. Provide clear tables, bullet points, and specific numbers (grams, sets, reps, minutes).

**Operational Workflow:**
1. **Phase 1: Assessment:** If user data is missing, proactively ask for: Age, Gender, Height, Weight, Goal (Cut/Bulk/Maintain), Activity Level, and Equipment Access.
2. **Phase 2: Calculation:**
   - Calculate TDEE using provided data.
   - Set Caloric Target (e.g., -500 kcal for sustainable weight loss).
   - Set Macros: Protein (1.6g-2.2g/kg), Fats (20-30% of total), Carbs (Remainder).
3. **Phase 3: Programming:**
   - Create a weekly workout split based on the user's available days.
   - Provide a sample daily meal structure with nutrient timing.
4. **Phase 4: Feedback Loop:** Analyze user's daily progress (e.g., calorie intake, macro balance). If a user is consistently over/under target, offer a "Recovery/Correction Strategy" instead of criticism.

**Output Requirements:**
- **Tone:** Professional, encouraging, and highly analytical.
- **Formatting:** Use Markdown tables for workout plans and nutrition breakdowns. Use bold text for key metrics.
- **Constraints:** Do not provide medical diagnoses. Always include a disclaimer for users to consult a physician before starting a high-intensity program.

**Context Provided:**
You will receive user profile data and recent food tracking history in each message. Use this to provide personalized analysis and recommendations.`,HO=async()=>{try{const t={},e=await Kv();e&&(t.userName=e.name,t.height=e.height,t.weight=e.weight,t.age=e.age,t.gender=e.gender,t.activityLevel=e.activityLevel,t.goal=e.goal,t.equipmentAccess=e.equipmentAccess);const n=await Wv();t.dailyGoal=n;const r=await qv(),i=new Date().toISOString().split("T")[0],o=r.filter(s=>s.date===i);t.todayCalories=o.reduce((s,l)=>s+l.calories,0),t.todayProtein=o.reduce((s,l)=>s+l.protein,0),t.todayCarbs=o.reduce((s,l)=>s+l.carbs,0),t.todayFat=o.reduce((s,l)=>s+l.fat,0);const a=new Map;return r.forEach(s=>{a.has(s.date)||a.set(s.date,[]),a.get(s.date).push(s)}),t.recentEntries=Array.from(a.entries()).slice(0,7).map(([s,l])=>({date:s,totalCalories:l.reduce((u,c)=>u+c.calories,0),totalProtein:l.reduce((u,c)=>u+c.protein,0),totalCarbs:l.reduce((u,c)=>u+c.carbs,0),totalFat:l.reduce((u,c)=>u+c.fat,0),entryCount:l.length})),t}catch(t){return console.error("Failed to build coach context:",t),{}}},Jde=t=>{let e=`**User Profile & Current Data:**

`;return t.userName&&(e+=`- Name: ${t.userName}
`),t.height&&(e+=`- Height: ${t.height} cm
`),t.weight&&(e+=`- Weight: ${t.weight} kg
`),t.age&&(e+=`- Age: ${t.age} years
`),t.gender&&(e+=`- Gender: ${t.gender.charAt(0).toUpperCase()+t.gender.slice(1)}
`),t.activityLevel&&(e+=`- Activity Level: ${{sedentary:"Sedentary",light:"Lightly Active",moderate:"Moderately Active",very:"Very Active",extra:"Extra Active"}[t.activityLevel]}
`),t.goal&&(e+=`- Goal: ${{cut:"Cut (Lose Fat)",bulk:"Bulk (Gain Muscle)",maintain:"Maintain"}[t.goal]}
`),t.equipmentAccess&&(e+=`- Equipment: ${{gym:"Gym Access",home:"Home Equipment",bodyweight:"Bodyweight Only"}[t.equipmentAccess]}
`),t.dailyGoal&&(e+=`- Daily Calorie Goal: ${t.dailyGoal} kcal
`),e+=`
**Today's Nutrition (${new Date().toLocaleDateString()}):**
`,e+=`- Calories: ${t.todayCalories||0} kcal
`,e+=`- Protein: ${t.todayProtein||0}g
`,e+=`- Carbs: ${t.todayCarbs||0}g
`,e+=`- Fat: ${t.todayFat||0}g
`,t.recentEntries&&t.recentEntries.length>0&&(e+=`
**Last 7 Days Summary:**
`,t.recentEntries.forEach(n=>{e+=`
${n.date}:
`,e+=`  - ${n.totalCalories} kcal | Protein: ${n.totalProtein}g | Carbs: ${n.totalCarbs}g | Fat: ${n.totalFat}g | Meals: ${n.entryCount}
`})),e+=`
---

`,e},Yde=async(t,e)=>{try{const n=Wde(),r=await HO(),i=e.slice(-4).map(s=>`${s.role==="user"?"User":"Coach"}: ${s.content}`).join(`

`),o=`${Jde(r)}${i?`**Recent Conversation:**
${i}

`:""}**User's Current Message:**
${t}`;return(await n.models.generateContent({model:"gemini-2.0-flash-exp",contents:[{parts:[{text:o}]}],config:{systemInstruction:Kde,temperature:.7,topP:.95}})).text||"I apologize, but I couldn't generate a response. Please try again."}catch(n){console.error("Coach message error:",n);const r=(n==null?void 0:n.message)||String(n);throw r.includes("429")||r.toLowerCase().includes("quota")?new Error("Rate limit reached. Please wait a moment and try again."):r.toLowerCase().includes("api key")?new Error("Configuration error. Please check your API settings."):new Error("Failed to get coach response. Please try again.")}},Xde=({onNavigate:t})=>{const[e,n]=R.useState([]),[r,i]=R.useState(""),[o,a]=R.useState(!1),[s,l]=R.useState(null),[u,c]=R.useState(!1),d=R.useRef(null),h=R.useRef(null),m=v=>!!(v.activityLevel&&v.goal&&v.equipmentAccess);R.useEffect(()=>{(async()=>{const x=await HO();if(l(x),!m(x)){c(!0);return}const _={id:"welcome",role:"assistant",content:` **Welcome to SnapCal AI Elite Coach**

I'm your dual-certified Professional Fitness Trainer (NSCA-CPT) and Clinical Nutritionist. I'm here to provide science-based fitness and nutrition programming tailored specifically to your goals.

${x.userName?`Great to see you, ${x.userName}! `:""}I can analyze your nutrition data, create personalized workout plans, calculate your TDEE, set macro targets, and provide evidence-based recommendations.

**How can I help you today?**
- "Analyze my recent nutrition"
- "Create a workout plan for me"
- "Calculate my TDEE"
- "Help me set macro targets"

*Disclaimer: Always consult with a physician before starting any new exercise or nutrition program.*`,timestamp:Date.now()};n([_])})()},[]),R.useEffect(()=>{var v;(v=d.current)==null||v.scrollIntoView({behavior:"smooth"})},[e]);const y=async()=>{var x;if(!r.trim()||o)return;const v={id:`user-${Date.now()}`,role:"user",content:r,timestamp:Date.now()};n(_=>[..._,v]),i(""),a(!0);try{const _=await Yde(r,e),T={id:`assistant-${Date.now()}`,role:"assistant",content:_,timestamp:Date.now()};n(S=>[...S,T])}catch(_){const T={id:`error-${Date.now()}`,role:"assistant",content:` ${_.message||"Failed to get response. Please try again."}`,timestamp:Date.now()};n(S=>[...S,T])}finally{a(!1),(x=h.current)==null||x.focus()}},w=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),y())},b=()=>{t(Be.PROFILE)};return u?g.jsx("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:g.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:g.jsxs(Zo,{className:"p-8 max-w-md w-full relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-32 h-32 bg-royal-100 dark:bg-royal-950/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-32 h-32 bg-emerald-100 dark:bg-emerald-950/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-royal-500 to-royal-700 rounded-full flex items-center justify-center text-white shadow-lg mx-auto mb-6",children:g.jsx(wb,{size:32})}),g.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 dark:text-gray-50 text-center mb-3",children:"Set Your Training Goals"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6 leading-relaxed",children:["To provide you with personalized AI coaching, please complete your"," ",g.jsx("span",{className:"font-bold text-royal-600 dark:text-royal-400",children:"Training Goal Setting"})," ","in your Profile."]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 mb-6",children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3",children:"We need to know:"}),g.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your activity level (sedentary to extra active)"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your fitness goal (cut, bulk, or maintain)"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your equipment access (gym, home, or bodyweight)"})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 py-4 bg-royal-600 hover:bg-royal-700 text-white rounded-[20px] font-bold transition-all shadow-lg shadow-royal-200 dark:shadow-royal-900/40 active:scale-95",children:[g.jsx(wb,{size:20}),g.jsx("span",{children:"Go to Profile"}),g.jsx(Dv,{size:20})]}),g.jsx("button",{onClick:()=>c(!1),className:"w-full py-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-[20px] font-semibold transition-all text-sm",children:"I'll do this later"})]})]})]})})}):g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:[g.jsxs("header",{className:"flex justify-between items-end mb-6 flex-shrink-0",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Your Personal Coach"}),g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:"Cal Coach"})]}),g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-royal-500 to-royal-700 rounded-full flex items-center justify-center text-white shadow-sm",children:g.jsx(oi,{size:20})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4 no-scrollbar",children:[e.map(v=>g.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:g.jsx("div",{className:`max-w-[85%] ${v.role==="user"?"bg-royal-600 text-white rounded-[24px] px-5 py-3 shadow-lg":""}`,children:v.role==="assistant"?g.jsx(Zo,{className:"p-5",children:g.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:g.jsx("div",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:v.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}})})}):g.jsx("p",{className:"text-sm font-medium leading-relaxed",children:v.content})})},v.id)),o&&g.jsx("div",{className:"flex justify-start animate-in fade-in duration-300",children:g.jsx(Zo,{className:"p-5",children:g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[g.jsx(vb,{size:16,className:"animate-spin"}),g.jsx("span",{className:"text-sm",children:"Coach is thinking..."})]})})}),g.jsx("div",{ref:d})]}),g.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-[#1a1c26] rounded-[24px] p-3 shadow-diffused dark:shadow-diffused-dark border border-gray-100 dark:border-white/5",children:g.jsxs("div",{className:"flex gap-2 items-end",children:[g.jsx("textarea",{ref:h,value:r,onChange:v=>i(v.target.value),onKeyDown:w,placeholder:"Ask your coach anything...",className:"flex-1 bg-transparent text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 resize-none outline-none text-sm min-h-[40px] max-h-[120px] py-2 px-3",rows:1,disabled:o}),g.jsx("button",{onClick:y,disabled:!r.trim()||o,className:"flex-shrink-0 w-10 h-10 bg-royal-600 text-white rounded-[16px] flex items-center justify-center hover:bg-royal-700 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-royal-200 dark:shadow-royal-900/40",children:o?g.jsx(vb,{size:18,className:"animate-spin"}):g.jsx(z2,{size:18})})]})})]})},Qde=({summary:t,onClose:e})=>{const n=new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl border border-white/50 animate-in slide-in-from-bottom duration-300",children:[g.jsxs("div",{className:"relative bg-royal-50 p-8 pb-10",children:[g.jsx("div",{className:"absolute top-6 right-6",children:g.jsx("button",{onClick:e,className:"p-2 bg-white text-gray-900 rounded-full shadow-sm hover:bg-gray-100 transition-colors",children:g.jsx(ma,{size:20})})}),g.jsxs("div",{className:"flex items-center gap-2 text-royal-600 mb-3",children:[g.jsx(pu,{size:20}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Daily Report"})]}),g.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 leading-tight",children:n})]}),g.jsxs("div",{className:"p-8 -mt-6 bg-white rounded-t-[32px] relative shadow-[-10px_-10px_30px_rgba(0,0,0,0.02)]",children:[g.jsxs("div",{className:"bg-white rounded-[32px] p-6 border border-gray-100 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.05)] mb-8 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1 block",children:"Total Consumed"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-5xl font-extrabold text-gray-900 tracking-tighter",children:t.totalCalories}),g.jsx("span",{className:"text-gray-400 font-bold text-lg",children:"kcal"})]})]}),g.jsx("div",{className:"w-14 h-14 rounded-2xl bg-royal-50 flex items-center justify-center text-royal-600",children:g.jsx($v,{size:28})})]}),g.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[g.jsx(Yc,{size:16})," Macro Breakdown"]}),g.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-emerald-50 hover:border-emerald-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-emerald-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalProtein,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Protein"})]})]})}),g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-blue-50 hover:border-blue-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-blue-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalCarbs,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Carbs"})]})]})}),g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-orange-50 hover:border-orange-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-orange-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalFat,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Fat"})]})]})})]}),g.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center text-xs font-bold text-gray-400 uppercase tracking-wider",children:[g.jsxs("span",{children:[t.entries.length," meals tracked"]}),g.jsxs("span",{className:"flex items-center gap-1.5 text-royal-600",children:[g.jsx(Qo,{size:14}),"See History Tab"]})]})]})]})})},Zde=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(2e3),[i,o]=R.useState(!0),[a,s]=R.useState("week"),[l,u]=R.useState(null),[c,d]=R.useState(null),[h,m]=R.useState(!1),[y,w]=R.useState(null),[b,v]=R.useState({}),x=document.documentElement.classList.contains("dark"),_=async()=>{o(!0);try{const[C,P]=await Promise.all([lk(),Wv()]);e(C),r(P);const N=new Date().toISOString().split("T")[0],I={};C.forEach(M=>{I[M.date]=M.date===N}),v(I)}catch(C){console.error("Failed to load history data",C)}finally{o(!1)}};R.useEffect(()=>{_();const C=()=>_();return window.addEventListener("food-entry-updated",C),()=>window.removeEventListener("food-entry-updated",C)},[]);const T=C=>{v(P=>({...P,[C]:!P[C]}))},S=async C=>{await uk(C),await _()},E=C=>{u(null),w(C),m(!0)},A=a==="week"?7:30,k=[...t].slice(0,A).reverse().map(C=>({name:a==="week"?new Date(C.date).toLocaleDateString("en-US",{weekday:"short"}):new Date(C.date).toLocaleDateString("en-US",{day:"numeric",month:"short"}),calories:C.totalCalories,goal:n,fullData:C}));return g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-in fade-in duration-500 overflow-hidden relative",children:[g.jsxs("div",{className:"flex-shrink-0 px-6 pt-10 space-y-8 pb-4",children:[g.jsxs("header",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Performance"}),g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Analytics"})]}),g.jsxs("div",{className:"flex p-1 bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm",children:[g.jsx("button",{onClick:()=>s("week"),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${a==="week"?"bg-royal-600 text-white":"text-gray-400 dark:text-gray-500"}`,children:"Week"}),g.jsx("button",{onClick:()=>s("month"),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${a==="month"?"bg-royal-600 text-white":"text-gray-400 dark:text-gray-500"}`,children:"Month"})]})]}),g.jsx(Zo,{className:"h-48 pt-8 pb-2 px-2",children:i?g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-royal-600"})}):g.jsx(EI,{width:"100%",height:"100%",children:g.jsxs(zde,{data:k,children:[g.jsx(xu,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:x?"#64748b":"#9ca3af",fontWeight:600},dy:10,interval:a==="month"?4:0}),g.jsx(Zn,{cursor:{fill:x?"rgba(255,255,255,0.03)":"#f3f4f6",radius:8},contentStyle:{borderRadius:"16px",border:"none",backgroundColor:x?"#1e293b":"#1f2937",color:"#fff",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),g.jsx(Sh,{y:n,stroke:"#ef4444",strokeDasharray:"3 3",label:{position:"right",value:"Goal",fill:"#ef4444",fontSize:10,fontWeight:700}}),g.jsx(co,{dataKey:"calories",radius:[8,8,8,8],onClick:C=>{C&&C.fullData?d(C.fullData):C&&C.payload&&C.payload.fullData&&d(C.payload.fullData)},className:"cursor-pointer",children:k.map((C,P)=>g.jsx(uh,{fill:C.calories>n?"#ef4444":"#7c3aed",className:"hover:opacity-80 transition-opacity cursor-pointer"},`cell-${P}`))})]})})})]}),g.jsx("div",{className:"flex-shrink-0 px-6 mb-4",children:g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"History Log"}),g.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[g.jsx(O2,{size:10}),"ALL TIME"]})]})}),g.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pb-32",children:[g.jsx("div",{className:"space-y-6",children:i?g.jsx("div",{className:"space-y-4",children:[1,2].map(C=>g.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[24px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},C))}):g.jsxs(g.Fragment,{children:[t.map(C=>g.jsxs("div",{className:"animate-in slide-in-from-bottom-2 fade-in duration-500",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3 px-2 cursor-pointer group",onClick:()=>T(C.date),children:[g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 group-hover:text-royal-600 dark:group-hover:text-royal-400 transition-colors",children:[g.jsx(pu,{size:14}),g.jsx("span",{className:"text-sm font-semibold",children:new Date(C.date).toLocaleDateString(void 0,{dateStyle:"medium"})}),b[C.date]?g.jsx(PC,{size:14}):g.jsx(Sc,{size:14})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("span",{className:`text-sm font-bold bg-white dark:bg-white/5 px-2 py-1 rounded-lg border transition-colors ${C.totalCalories>n?"text-red-600 border-red-100 dark:border-red-900/30":"text-emerald-600 border-emerald-100 dark:border-emerald-900/30"}`,children:[C.totalCalories," kcal"]})})]}),b[C.date]&&g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[24px] shadow-diffused dark:shadow-diffused-dark border border-gray-100 dark:border-white/5 overflow-hidden divide-y divide-gray-50 dark:divide-white/5 animate-in slide-in-from-top-2 duration-300",children:[C.entries.map(P=>g.jsxs("div",{onClick:()=>u(P),className:"p-4 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-white/5 transition-colors cursor-pointer active:scale-[0.99]",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-50 dark:bg-white/5 overflow-hidden shadow-sm",children:P.imageUrl?g.jsx("img",{src:P.imageUrl,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-white/10 text-gray-300 dark:text-gray-700",children:g.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-700"})})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-50 font-bold",children:P.food_item}),g.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium",children:P.time})]})]}),g.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-400 font-bold",children:P.calories})]},P.id)),C.entries.length===0&&g.jsx("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:"No details available (Summarized)"})]})]},C.date)),t.length===0&&g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No history available yet."})})]})}),l&&g.jsx(lP,{entry:l,onClose:()=>u(null),onDelete:S,onEdit:E}),c&&g.jsx(Qde,{summary:c,onClose:()=>d(null)}),h&&g.jsx(sP,{editEntry:y,onClose:()=>{m(!1),w(null)},onSuccess:()=>{m(!1),w(null),_()}})]})]})},efe=()=>{const[t,e]=R.useState(!0),[n,r]=R.useState(""),[i,o]=R.useState(""),[a,s]=R.useState(null),[l,u]=R.useState(!1),[c,d]=R.useState(null),h=async m=>{m.preventDefault(),s(null),d(null),u(!0);try{t?await ik(n,i):(await PL(n,i),t||(d("Account created successfully!"),e(!0)))}catch(y){console.error(y),s(y.message||"Authentication failed")}finally{u(!1)}};return g.jsxs("div",{className:"min-h-screen bg-royal-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[500px] h-[500px] bg-royal-200/40 rounded-full blur-[100px]"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-80 h-80 bg-pink-200/40 rounded-full blur-[80px]"})]}),g.jsxs("div",{className:"w-full max-w-sm z-10",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("div",{className:"w-20 h-20 bg-white rounded-[24px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-royal-200 rotate-3 transition-transform hover:rotate-0 duration-500",children:g.jsx(LC,{size:36,className:"text-royal-600 fill-royal-600"})}),g.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-2",children:"SnapCal AI"}),g.jsx("p",{className:"text-gray-500 font-medium",children:"Track your vibe, not just calories."})]}),g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white p-8 rounded-[40px] shadow-[0_20px_40px_-12px_rgba(0,0,0,0.05)]",children:[g.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-[20px] mb-8",children:[g.jsx("button",{onClick:()=>{e(!0),s(null),d(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"bg-white text-royal-700 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Sign In"}),g.jsx("button",{onClick:()=>{e(!1),s(null),d(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"text-gray-400 hover:text-gray-600":"bg-white text-royal-700 shadow-sm"}`,children:"Sign Up"})]}),g.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a&&g.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl flex items-center gap-3 text-red-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[g.jsx(CC,{size:18}),a]}),c&&g.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-center gap-3 text-emerald-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[g.jsx(C2,{size:18}),c]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Email"}),g.jsx("input",{type:"email",required:!0,value:n,onChange:m=>r(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"hello@snapcal.ai"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Password"}),g.jsx("input",{type:"password",required:!0,value:i,onChange:m=>o(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"",minLength:6})]})]}),g.jsxs(jt,{className:"w-full mt-4 flex justify-between items-center group py-5",isLoading:l,children:[g.jsx("span",{children:t?"Sign In":"Create Account"}),!l&&g.jsx(Dv,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),g.jsx("p",{className:"text-center text-gray-400 text-xs mt-8 font-medium",children:t?"New here? Create an account above.":"Welcome back. Sign in above."})]})]})},p1=`
-- Run this in your Supabase SQL Editor

-- 1. Create Food Entries Table
create table if not exists food_entries (
  id uuid primary key,
  user_id uuid not null references auth.users(id),
  timestamp text not null,
  date text not null,
  time text not null,
  food_item text not null,
  calories integer not null,
  protein integer default 0,
  carbs integer default 0,
  fat integer default 0,
  confidence float default 1.0,
  is_manual boolean default false,
  image_url text,
  ingredients jsonb default '[]'::jsonb,
  original_ai_response jsonb,
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 2. Create User Profiles Table
create table if not exists user_profiles (
  user_id uuid primary key references auth.users(id),
  name text,
  height float,
  weight float,
  age integer,
  gender text check (gender in ('male', 'female')),
  activity_level text check (activity_level in ('sedentary', 'light', 'moderate', 'very', 'extra')),
  goal text check (goal in ('cut', 'bulk', 'maintain')),
  equipment_access text check (equipment_access in ('gym', 'home', 'bodyweight')),
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 3. Create Settings Table
create table if not exists user_settings (
  user_id uuid primary key references auth.users(id),
  daily_goal integer default 2000,
  has_completed_onboarding boolean default false
);

-- 4. Create Summaries Table (Optional optimization)
create table if not exists daily_summaries (
  id text primary key, -- Composite key user_id + date usually
  user_id uuid not null references auth.users(id),
  date text not null,
  total_calories integer default 0,
  total_protein integer default 0,
  total_carbs integer default 0,
  total_fat integer default 0
);

-- 5. Enable Row Level Security (RLS)
alter table food_entries enable row level security;
alter table user_profiles enable row level security;
alter table user_settings enable row level security;
alter table daily_summaries enable row level security;

-- 6. Create Policies (Allow users to see/edit ONLY their own data)

-- Food Entries
create policy "Users can all own entries" on food_entries
  for all using (auth.uid() = user_id);

-- Profiles
create policy "Users can all own profile" on user_profiles
  for all using (auth.uid() = user_id);

-- Settings
create policy "Users can all own settings" on user_settings
  for all using (auth.uid() = user_id);

-- Summaries
create policy "Users can all own summaries" on daily_summaries
  for all using (auth.uid() = user_id);
`,tfe=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,o]=R.useState(""),[a,s]=R.useState(""),[l,u]=R.useState(""),[c,d]=R.useState(""),[h,m]=R.useState(""),[y,w]=R.useState(""),[b,v]=R.useState(!1),[x,_]=R.useState(!1),[T,S]=R.useState(null),[E,A]=R.useState(document.documentElement.classList.contains("dark")),[k,C]=R.useState(!1),[P,N]=R.useState(!1),[I,M]=R.useState(!1),[D,j]=R.useState("checking"),[L,B]=R.useState(!1),[$,U]=R.useState(!1);R.useEffect(()=>{te(),Ie?(N(RL()),G()):j("ok")},[]);const G=async()=>{const q=await $L();q.missingTables?j("missing_tables"):q.ok?j("ok"):j("error")},K=()=>{const q=!E;A(q),q?(document.documentElement.classList.add("dark"),localStorage.setItem("snapcal-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("snapcal-theme","light"))},H=q=>{if(q===Qm())return;confirm(q==="local"?"Switching to Local Mode means your data will stay on this device only. You will be logged out of Cloud to create a local profile.":"Switching to Cloud Mode allows you to sync data across devices. You will be redirected to log in or sign up.")&&CL(q)},te=async()=>{const q=await Kv();q&&(e(q.name),r(q.height.toString()),o(q.weight.toString()),q.age&&s(q.age.toString()),q.gender&&u(q.gender),q.activityLevel&&d(q.activityLevel),q.goal&&m(q.goal),q.equipmentAccess&&w(q.equipmentAccess))},he=()=>{const q=parseFloat(n),Pe=parseFloat(i);return!q||!Pe?null:Pe/(q/100*(q/100))},Se=q=>q<18.5?{label:"Underweight",color:"text-blue-300"}:q<25?{label:"Healthy",color:"text-emerald-300"}:q<30?{label:"Overweight",color:"text-orange-300"}:{label:"Obese",color:"text-red-300"},Oe=q=>{const Ce=(10*parseFloat(i)+6.25*parseFloat(n)-5*25+5)*1.2;return q<18.5?Math.round(Ce+400):q>25?Math.round(Ce-400):Math.round(Ce)},wt=async()=>{if(!(!t||!n||!i)){v(!0);try{await Jv({name:t,height:parseFloat(n),weight:parseFloat(i),age:a?parseInt(a):void 0,gender:l||void 0,activityLevel:c||void 0,goal:h||void 0,equipmentAccess:y||void 0}),_(!0),setTimeout(()=>_(!1),2e3);const q=he();if(q){const Pe=Oe(q);S(Pe)}}catch(q){console.error(q)}finally{v(!1)}}},ht=async()=>{T&&(await Of(T),alert(`Daily goal updated to ${T} kcal!`))},J=async()=>{if(confirm("Are you sure you want to sign out?")){C(!0);try{await IL()}catch(q){console.error(q)}finally{C(!1)}}},ae=async()=>{if(confirm("This will upload your local history to your Supabase account and clear local storage. Continue?")){M(!0);try{await ML(),N(!1),alert("Migration successful! Your local history is now in the cloud.")}catch(q){alert("Sync failed: "+q.message)}finally{M(!1)}}},ue=()=>{navigator.clipboard.writeText(p1),alert("SQL Copied to clipboard! Paste it into the Supabase SQL Editor.")},V=he(),Ae=V?Se(V):null,pe=V?Oe(V):null,xe=Qm();return g.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-10 space-y-8 animate-in fade-in duration-500",children:[g.jsxs("header",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"My Profile"}),g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Personal Details"})]}),Ie&&P&&g.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-100 dark:border-indigo-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/50 rounded-2xl text-indigo-600 dark:text-indigo-400",children:g.jsx(q2,{size:24})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-extrabold text-indigo-900 dark:text-indigo-200",children:"Local Data Found"}),g.jsx("p",{className:"text-xs text-indigo-700 dark:text-indigo-300 mt-1 mb-3 leading-relaxed",children:"We found meal history on this device that isn't in the cloud yet. Sync now to secure your data."}),g.jsx(jt,{onClick:ae,isLoading:I,className:"py-3 px-6 text-xs bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none",children:"Sync to Cloud"})]})]})}),Ie&&D==="missing_tables"&&g.jsx("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-100 dark:border-rose-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/50 rounded-2xl text-rose-600 dark:text-rose-400",children:g.jsx(gb,{size:24})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-sm font-extrabold text-rose-900 dark:text-rose-200",children:"Database Setup Required"}),g.jsx("p",{className:"text-xs text-rose-700 dark:text-rose-300 mt-1 mb-3 leading-relaxed",children:"Your Supabase project is connected, but the required tables don't exist yet. Saving will fail until you run the setup script."}),g.jsxs("button",{onClick:()=>B(!L),className:"flex items-center gap-2 py-2 px-4 rounded-xl text-xs font-bold bg-white dark:bg-white/10 text-rose-600 dark:text-rose-200 shadow-sm",children:[g.jsx(P2,{size:14})," ",L?"Hide SQL":"View SQL Script"]}),L&&g.jsxs("div",{className:"mt-4 animate-in slide-in-from-top-2",children:[g.jsx("div",{className:"bg-gray-900 rounded-xl p-3 mb-2 overflow-x-auto border border-white/10",children:g.jsx("pre",{className:"text-[10px] text-emerald-400 font-mono leading-relaxed",children:p1})}),g.jsxs(jt,{onClick:ue,className:"w-full py-3 text-xs bg-rose-600 hover:bg-rose-700 text-white",children:[g.jsx(I2,{size:14,className:"mr-2"})," Copy SQL to Clipboard"]}),g.jsx("p",{className:"text-[10px] text-rose-600/70 dark:text-rose-400/70 mt-2 italic text-center",children:"Paste this into the SQL Editor in your Supabase Dashboard."})]})]})]})}),g.jsx("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center text-royal-600 dark:text-royal-400",children:E?g.jsx(U2,{size:20}):g.jsx(H2,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Dark Mode"}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Optimize for low light"})]})]}),g.jsx("button",{onClick:K,className:`w-14 h-8 rounded-full transition-all duration-300 relative ${E?"bg-royal-600":"bg-gray-200 dark:bg-gray-800"}`,children:g.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-sm transition-transform duration-300 ${E?"translate-x-6":""}`})})]})}),V&&Ae&&pe&&g.jsxs("div",{className:"relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40 animate-in slide-in-from-bottom-4 duration-500",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx($v,{size:16,className:"text-royal-200"}),g.jsx("span",{className:"text-royal-200 text-xs font-bold uppercase tracking-widest",children:"Body Insight"})]}),g.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight",children:["BMI: ",V.toFixed(1)]})]}),g.jsx("div",{className:`px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/10 text-sm font-bold ${Ae.color}`,children:Ae.label})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-[24px] p-5 border border-white/5",children:[g.jsx("p",{className:"text-white/70 text-xs font-medium mb-3",children:"Based on your profile, we recommend a daily calorie limit of:"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-4xl font-extrabold tracking-tighter",children:pe}),g.jsx("span",{className:"text-lg font-bold text-white/60",children:"kcal"})]}),g.jsx("button",{onClick:ht,className:"w-10 h-10 bg-white text-royal-600 rounded-full flex items-center justify-center hover:scale-110 active:scale-95 transition-all shadow-lg",children:g.jsx(Dv,{size:20,strokeWidth:3})})]})]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:t,onChange:q=>e(q.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:n,onChange:q=>r(q.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(MC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:i,onChange:q=>o(q.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(DC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Age"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:a,onChange:q=>s(q.target.value),placeholder:"25",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Gender"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"male",children:"Male"}),g.jsx("option",{value:"female",children:"Female"})]}),g.jsx(W2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-white/5",children:[g.jsxs("button",{type:"button",onClick:()=>U(!$),className:"w-full flex items-center justify-between mb-3 group",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fm,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Training Goal Setting"})]}),g.jsx(PC,{size:18,className:`text-royal-600 dark:text-royal-400 transition-transform duration-300 ${$?"rotate-180":""}`})]}),g.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-3 ml-1",children:"Optional - Fill this for personalized AI Coach recommendations"}),$&&g.jsxs("div",{className:"space-y-5 animate-in slide-in-from-top-2 duration-300",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Activity Level"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:c,onChange:q=>d(q.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"sedentary",children:"Sedentary (Little or no exercise)"}),g.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),g.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),g.jsx("option",{value:"very",children:"Very Active (6-7 days/week)"}),g.jsx("option",{value:"extra",children:"Extra Active (Intense daily)"})]}),g.jsx(Qo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Goal"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:h,onChange:q=>m(q.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"cut",children:"Cut (Lose Fat)"}),g.jsx("option",{value:"bulk",children:"Bulk (Gain Muscle)"}),g.jsx("option",{value:"maintain",children:"Maintain"})]}),g.jsx(Fm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Equipment"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:y,onChange:q=>w(q.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"gym",children:"Gym Access"}),g.jsx("option",{value:"home",children:"Home Equipment"}),g.jsx("option",{value:"bodyweight",children:"Bodyweight Only"})]}),g.jsx(N2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]})]})]})]}),g.jsx(jt,{className:"w-full py-5 text-lg shadow-lg shadow-royal-200 dark:shadow-royal-900/40",onClick:wt,isLoading:b,children:x?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(kC,{size:20})," Saved"]}):"Save Profile"})]}),ga&&g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${xe==="cloud"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600":"bg-gray-100 dark:bg-white/10 text-gray-500"}`,children:xe==="cloud"?g.jsx(k2,{size:20}):g.jsx(OC,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Storage Mode"}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:xe==="cloud"?"Connected to Supabase":"Device Storage Only"})]})]}),Ie&&g.jsx("button",{onClick:G,className:"p-2 text-gray-400 hover:text-royal-500 transition-colors",title:"Check Connection",children:g.jsx(Um,{size:16,className:D==="checking"?"animate-spin":""})})]}),g.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-2xl",children:[g.jsx("button",{onClick:()=>H("local"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${xe==="local"?"bg-white dark:bg-white/10 text-gray-900 dark:text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Device Only"}),g.jsx("button",{onClick:()=>H("cloud"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${xe==="cloud"?"bg-emerald-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Cloud Sync"})]})]}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{onClick:J,disabled:k,className:"w-full flex items-center justify-center gap-3 py-5 rounded-[24px] border border-red-200 dark:border-red-900/30 text-red-500 dark:text-red-400 font-bold hover:bg-red-50 dark:hover:bg-red-950/20 active:scale-95 transition-all shadow-sm",children:k?g.jsx(Um,{size:20,className:"animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx(L2,{size:20}),g.jsx("span",{children:"Sign Out"})]})})}),g.jsx("div",{className:"text-center pt-4 pb-2",children:g.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-bold border transition-colors ${Ie?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-700 dark:text-emerald-400 border-emerald-100 dark:border-emerald-900/30":"bg-amber-50 dark:bg-amber-950/20 text-amber-700 dark:text-amber-400 border-amber-100 dark:border-amber-900/30"}`,children:[g.jsx(gb,{size:12}),g.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ie?"bg-emerald-500 animate-pulse":"bg-amber-500"}`}),Ie?"Syncing to Supabase":"Local Storage Mode"]})})]})},nfe=({user:t,onComplete:e})=>{const[n,r]=R.useState(0),[i,o]=R.useState(""),[a,s]=R.useState(""),[l,u]=R.useState(""),[c,d]=R.useState(!1),h=5,m=()=>{const E=parseFloat(a),A=parseFloat(l);return!E||!A?null:A/(E/100*(E/100))},y=E=>{const C=(10*parseFloat(l)+6.25*parseFloat(a)-5*25+5)*1.2;return E<18.5?Math.round(C+400):E>25?Math.round(C-400):Math.round(C)},w=()=>{n<h-1&&r(n+1)},b=()=>{n>0&&r(n-1)},v=async()=>{await LL(t),e()},x=async()=>{d(!0);try{if(i&&a&&l){await Jv({name:i,height:parseFloat(a),weight:parseFloat(l)});const E=m();if(E){const A=y(E);await Of(A)}}await ck(t),e()}catch(E){console.error("Failed to save onboarding data:",E),alert("Failed to save your profile. Please try again.")}finally{d(!1)}},_=i&&a&&l,T=m(),S=T?y(T):null;return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface via-royal-50/30 to-royal-100/40 dark:from-surface-dark dark:via-royal-950/20 dark:to-black flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-royal-200/20 dark:bg-royal-800/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-200/20 dark:bg-purple-900/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsxs("button",{onClick:v,className:"absolute top-6 right-6 z-50 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-sm font-medium flex items-center gap-1",children:["Skip ",g.jsx(ma,{size:16})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[g.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Array.from({length:h}).map((E,A)=>g.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${A===n?"w-12 bg-royal-600 dark:bg-royal-500":A<n?"w-8 bg-royal-400 dark:bg-royal-600":"w-8 bg-gray-200 dark:bg-gray-700"}`},A))}),g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[40px] shadow-diffused-lg dark:shadow-diffused-dark p-8 md:p-12 min-h-[500px] flex flex-col",children:[n===0&&g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-royal-500 to-purple-600 rounded-[32px] flex items-center justify-center shadow-xl shadow-royal-200 dark:shadow-royal-900/40 animate-in zoom-in duration-700",children:g.jsx(oi,{size:48,className:"text-white",strokeWidth:2})}),g.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-bounce"})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"Welcome to SnapCal AI"}),g.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your AI-Powered Nutrition Companion"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 max-w-md leading-relaxed",children:"Track calories effortlessly with the power of artificial intelligence. Just snap a photo of your meal and let AI do the rest."}),g.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-6 w-full max-w-md",children:[g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(qs,{size:28,className:"text-royal-600 dark:text-royal-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Snap"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-purple-50 dark:bg-purple-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(LC,{size:28,className:"text-purple-600 dark:text-purple-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Analyze"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(Qo,{size:28,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Track"})]})]})]}),n===1&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[g.jsx(qs,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"How It Works"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Instant Nutrition Insights"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Our AI analyzes your food photos to provide accurate calorie counts and nutritional breakdowns in seconds."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(qs,{size:24,className:"text-royal-600 dark:text-royal-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"1. Capture Your Meal"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Take a photo of any dish, snack, or beverage"})]})]}),g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(oi,{size:24,className:"text-purple-600 dark:text-purple-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"2. AI Recognition"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced AI identifies ingredients and portions instantly"})]})]}),g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(Qo,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"3. Get Detailed Breakdown"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Calories, protein, carbs, and fatsall automatically calculated"})]})]})]})]}),n===2&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 dark:bg-purple-950/30 rounded-full mb-4",children:[g.jsx(yb,{size:16,className:"text-purple-600 dark:text-purple-400"}),g.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wider",children:"Personalization"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Why Your Profile Matters"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Share a few details to unlock truly personalized nutrition recommendations tailored just for you."})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(Fm,{size:24,className:"text-royal-600 dark:text-royal-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Accurate Goals"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Get a science-backed daily calorie target based on your unique body metrics and health objectives."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 rounded-[28px] border border-emerald-100 dark:border-emerald-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(Qo,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Smart Insights"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Receive personalized BMI analysis and recommendations to help you reach your ideal weight."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/20 dark:to-amber-950/20 rounded-[28px] border border-orange-100 dark:border-orange-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(oi,{size:24,className:"text-orange-600 dark:text-orange-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Better Tracking"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"See how your intake compares to your goals and adjust your habits for optimal results."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-950/20 dark:to-rose-950/20 rounded-[28px] border border-pink-100 dark:border-pink-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(yb,{size:24,className:"text-pink-600 dark:text-pink-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Long-term Success"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Build sustainable habits with data-driven feedback tailored to your wellness journey."})]})]})]}),n===3&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-6 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[g.jsx(pa,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Your Details"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Set Up Your Profile"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Just a few quick details to personalize your experience"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:i,onChange:E=>o(E.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:a,onChange:E=>s(E.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(MC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:l,onChange:E=>u(E.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(DC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),T&&g.jsxs("div",{className:"p-5 bg-gradient-to-r from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[24px] border border-royal-100 dark:border-royal-900/30 animate-in slide-in-from-bottom-2",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-xs font-bold text-royal-700 dark:text-royal-300 uppercase tracking-wider",children:"Your BMI"}),g.jsx("span",{className:"text-2xl font-extrabold text-royal-900 dark:text-royal-100",children:T.toFixed(1)})]}),S&&g.jsxs("p",{className:"text-xs text-royal-600 dark:text-royal-400",children:["Recommended daily goal: ",g.jsxs("span",{className:"font-bold",children:[S," kcal"]})]})]})]})]}),n===4&&g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-500",children:[g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-2xl shadow-emerald-200 dark:shadow-emerald-900/40 animate-in zoom-in duration-700",children:g.jsx(kC,{size:56,className:"text-white",strokeWidth:3})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full animate-ping opacity-20"})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"You're All Set!"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your personalized nutrition journey begins now"}),i&&S&&g.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30 max-w-md w-full",children:[g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Welcome, ",g.jsx("span",{className:"font-bold text-royal-600 dark:text-royal-400",children:i}),"!"]}),g.jsxs("div",{className:"flex items-baseline gap-2 justify-center",children:[g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500 font-medium",children:"Daily Goal:"}),g.jsx("span",{className:"text-3xl font-extrabold text-royal-900 dark:text-royal-100",children:S}),g.jsx("span",{className:"text-sm font-bold text-gray-500 dark:text-gray-500",children:"kcal"})]})]}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-6 max-w-md leading-relaxed",children:"Start snapping photos of your meals to track your nutrition effortlessly. We'll help you stay on track!"})]}),g.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-100 dark:border-white/5",children:[g.jsxs("button",{onClick:b,disabled:n===0,className:`flex items-center gap-2 px-5 py-3 rounded-[16px] font-bold text-sm transition-all ${n===0?"opacity-0 pointer-events-none":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[g.jsx(IC,{size:20}),"Back"]}),n===h-1?g.jsxs(jt,{onClick:x,isLoading:c,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Start Tracking",g.jsx(Sc,{size:20,className:"ml-1"})]}):n===3?g.jsxs(jt,{onClick:w,disabled:!_,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Continue",g.jsx(Sc,{size:20,className:"ml-1"})]}):g.jsxs(jt,{onClick:w,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Next",g.jsx(Sc,{size:20,className:"ml-1"})]})]})]})]})]})};function rfe(){const[t,e]=R.useState(Be.DASHBOARD),[n,r]=R.useState(null),[i,o]=R.useState(!0),[a,s]=R.useState(!1),[l,u]=R.useState(!0);R.useEffect(()=>{kn().then(h=>{r(h),o(!1),h&&zb().catch(m=>console.error("Cleanup failed:",m))});const d=NL(h=>{r(h),o(!1),h&&zb().catch(m=>console.error("Cleanup failed:",m))});return()=>d()},[]),R.useEffect(()=>{(async()=>{if(n){u(!0);const h=await DL(n);s(!h),u(!1)}else s(!1),u(!1)})()},[n]);const c=()=>{s(!1),e(Be.DASHBOARD)};return i||l?g.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:g.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):n?a?g.jsx(nfe,{user:n,onComplete:c}):g.jsxs(K2,{currentView:t,onNavigate:e,children:[t===Be.DASHBOARD&&g.jsx(Hde,{}),t===Be.CAL_COACH&&g.jsx(Xde,{onNavigate:e}),t===Be.HISTORY&&g.jsx(Zde,{}),t===Be.PROFILE&&g.jsx(tfe,{})]}):g.jsx(efe,{})}const qO=document.getElementById("root");if(!qO)throw new Error("Could not find root element to mount to");const ife=qp.createRoot(qO);ife.render(g.jsx(O.StrictMode,{children:g.jsx(rfe,{})}));
