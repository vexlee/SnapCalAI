import{c as w,j as e,S as Q,Z as de,D as B,q,C as Z,p as ne,u as K,k as U,v as ie}from"./index-BOkvYJIO.js";import{r as n}from"./vendor-react-wGySg1uH.js";import{C as D}from"./Card-OoPnMbgp.js";import{W as ce,a as X,S as xe}from"./workoutTypes-C4AxMzYn.js";import{C as ee}from"./chevron-left-CvgWPEtr.js";import{X as te}from"./x-UqcKxpOp.js";import{P as _}from"./plus-CGE0Jctl.js";import{T as G}from"./trash-2-CHZSAWCB.js";import{F as he}from"./flame-BlaBG-Lf.js";import{T as ge}from"./target-B4Ccz6di.js";import{H as ye}from"./heart-KEhuA1Wp.js";import{C as me}from"./calendar-D7qyTET5.js";import{C as ue}from"./chevron-right-j72FCP8v.js";import"./vendor-charts-Bdt_fL2G.js";import"./vendor-supabase-DfwcnzK-.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=w("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=w("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=w("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=w("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=w("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=w("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=w("PersonStanding",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=w("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=w("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=w("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),Me={Dumbbell:B,Heart:ye,Leaf:ke,Trophy:Se,Footprints:fe,Target:ge,Zap:de,Flame:he,Bike:be,PersonStanding:we,Sparkles:Q,Waves:Ce,Music:je,Sword:Ne},De=({isOpen:E,onClose:x,defaultDate:u,onSave:o})=>{var I;const[j,y]=n.useState("select"),[i,N]=n.useState(null),[S,P]=n.useState(u.toISOString().split("T")[0]),[b,p]=n.useState([]),[f,W]=n.useState(!1),[C,m]=n.useState("strength");if(!E)return null;const F=a=>{N(a),p([...a.defaultExercises]),y("customize")},H=()=>{y("select"),N(null),p([])},A=()=>{p([...b,{name:"",sets:3,reps:"10",rest:"60s"}])},O=a=>{p(b.filter((h,g)=>g!==a))},T=(a,h,g)=>{const v=[...b];v[a]={...v[a],[h]:g},p(v)},V=async()=>{if(!i)return;const a=b.filter(h=>h.name.trim());if(a.length===0){alert("Please add at least one exercise");return}W(!0);try{const h=a.map((g,v)=>({...g,id:`ex-${Date.now()}-${v}`,completed:!1}));await q(S,i.name,h,void 0,i.id),y("select"),N(null),p([]),P(u.toISOString().split("T")[0]),o==null||o(),x()}catch(h){console.error("Failed to save workout:",h),alert("Failed to save workout plan")}finally{W(!1)}},M=()=>{y("select"),N(null),p([]),x()},z=ce.filter(a=>a.category===C),Y=(a,h=24,g="")=>{const v=Me[a];return v?e.jsx(v,{size:h,className:g}):null};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300 px-4",children:e.jsxs(D,{className:"w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[j==="customize"&&e.jsx("button",{onClick:H,className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-full transition-colors",children:e.jsx(ee,{size:20,className:"text-gray-500 dark:text-gray-400"})}),e.jsx("h2",{className:"text-xl font-extrabold text-gray-900 dark:text-gray-50",children:j==="select"?"Choose Workout":i==null?void 0:i.name})]}),e.jsx("button",{onClick:M,className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-full transition-colors",children:e.jsx(te,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),j==="select"?e.jsxs("div",{className:"flex-1 overflow-y-auto p-5",children:[e.jsx("div",{className:"flex gap-2 mb-5 overflow-x-auto no-scrollbar pb-1",children:X.map(a=>e.jsxs("button",{onClick:()=>m(a.id),className:`
                                        flex items-center gap-2 px-4 py-2.5 rounded-full font-bold text-sm whitespace-nowrap transition-all
                                        ${C===a.id?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}
                                    `,children:[Y(a.icon,16),e.jsx("span",{children:a.name})]},a.id))}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.map(a=>e.jsxs("button",{onClick:()=>F(a),className:"group relative p-5 bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-2xl transition-all hover:scale-[1.02] active:scale-[0.98] text-left border-2 border-transparent hover:border-gray-200 dark:hover:border-white/10",children:[e.jsx("div",{className:`w-12 h-12 ${a.bgColor} rounded-xl flex items-center justify-center mb-3 shadow-lg group-hover:scale-110 transition-transform`,children:Y(a.icon,24,"text-white")}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.defaultExercises.length," exercises"]})]},a.id))})]}):e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[i&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-white/5 rounded-xl",children:[e.jsx("div",{className:`w-10 h-10 ${i.bgColor} rounded-lg flex items-center justify-center`,children:Y(i.icon,20,"text-white")}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold uppercase tracking-wide",children:(I=X.find(a=>a.id===i.category))==null?void 0:I.name}),e.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-50",children:i.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:S,onChange:a=>P(a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-white/5 border-2 border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-gray-50 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400 transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Exercises"}),e.jsxs("button",{onClick:A,className:"flex items-center gap-1 px-3 py-1.5 bg-royal-600 hover:bg-royal-700 text-white text-sm font-semibold rounded-lg transition-colors",children:[e.jsx(_,{size:16}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"space-y-3",children:b.map((a,h)=>e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-white/5 rounded-xl border-2 border-gray-100 dark:border-white/5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("input",{type:"text",value:a.name,onChange:g=>T(h,"name",g.target.value),placeholder:"Exercise name",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Sets"}),e.jsx("input",{type:"number",value:a.sets,onChange:g=>T(h,"sets",parseInt(g.target.value)||0),min:"1",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Reps"}),e.jsx("input",{type:"text",value:a.reps,onChange:g=>T(h,"reps",g.target.value),placeholder:"8-10",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Rest"}),e.jsx("input",{type:"text",value:a.rest,onChange:g=>T(h,"rest",g.target.value),placeholder:"60s",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]})]})]}),b.length>1&&e.jsx("button",{onClick:()=>O(h),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg transition-colors",children:e.jsx(G,{size:18})})]})},h))})]})]}),j==="customize"&&e.jsxs("div",{className:"flex items-center justify-end gap-3 p-5 border-t border-gray-100 dark:border-white/10",children:[e.jsx("button",{onClick:M,disabled:f,className:"px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 rounded-xl font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:V,disabled:f,className:"px-6 py-3 bg-royal-600 hover:bg-royal-700 text-white rounded-xl font-semibold transition-colors disabled:opacity-50 shadow-lg shadow-royal-200 dark:shadow-royal-900/40",children:f?"Saving...":"Save Workout"})]})]})})},Ee=({isOpen:E,onClose:x,exercise:u,onSave:o})=>{const[j,y]=n.useState(""),[i,N]=n.useState(3),[S,P]=n.useState("10"),[b,p]=n.useState("60s"),[f,W]=n.useState(!1);if(n.useEffect(()=>{u&&(y(u.name),N(u.sets),P(u.reps),p(u.rest))},[u]),!E||!u)return null;const C=async()=>{if(!j.trim()){alert("Please enter an exercise name");return}W(!0);const m={...u,name:j.trim(),sets:i,reps:S.trim(),rest:b.trim()};o(m),W(!1)};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300 px-6",children:e.jsxs(D,{className:"w-full max-w-md animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-white/10",children:[e.jsx("h2",{className:"text-xl font-extrabold text-gray-900 dark:text-gray-50",children:"Edit Exercise"}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-full transition-colors",children:e.jsx(te,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Exercise Name"}),e.jsx("input",{type:"text",value:j,onChange:m=>y(m.target.value),placeholder:"e.g., Bench Press",className:"w-full px-4 py-3 bg-gray-50 dark:bg-white/5 border-2 border-gray-200 dark:border-white/10 rounded-xl text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Sets"}),e.jsx("input",{type:"number",value:i,onChange:m=>N(parseInt(m.target.value)||0),min:"1",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Reps"}),e.jsx("input",{type:"text",value:S,onChange:m=>P(m.target.value),placeholder:"8-10",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Rest"}),e.jsx("input",{type:"text",value:b,onChange:m=>p(m.target.value),placeholder:"60s",className:"w-full px-3 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:border-royal-500 dark:focus:border-royal-400"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100 dark:border-white/10",children:[e.jsx("button",{onClick:x,disabled:f,className:"px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 rounded-xl font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:C,disabled:f,className:"flex items-center gap-2 px-6 py-3 bg-royal-600 hover:bg-royal-700 text-white rounded-xl font-semibold transition-colors disabled:opacity-50 shadow-lg shadow-royal-200 dark:shadow-royal-900/40",children:[e.jsx(xe,{size:18}),e.jsx("span",{children:f?"Saving...":"Save Changes"})]})]})]})})},Ze=({onNavigate:E})=>{const[x,u]=n.useState(new Date),[o,j]=n.useState(new Date),[y,i]=n.useState([]),[N,S]=n.useState(new Set),[P,b]=n.useState(!1),[p,f]=n.useState(!1),[W,C]=n.useState(null),[m,F]=n.useState(null),[H,A]=n.useState(!1),O=async()=>{const t=x.getFullYear(),r=x.getMonth()+1,l=await K(t,r);S(new Set(l));const c=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`,s=await U(c);i(s)};n.useEffect(()=>{(async()=>{const r=x.getFullYear(),l=x.getMonth()+1,c=await K(r,l);S(new Set(c))})()},[x]),n.useEffect(()=>{(async()=>{b(!0);const r=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`,l=await U(r);i(l),b(!1)})()},[o]);const V=(()=>{const t=x.getFullYear(),r=x.getMonth(),l=new Date(t,r,1),c=new Date(t,r+1,0),s=l.getDay(),d=c.getDate(),k=[];for(let $=0;$<s;$++)k.push(null);for(let $=1;$<=d;$++)k.push(new Date(t,r,$));return k})(),M=new Date;M.setHours(0,0,0,0);const z=(t,r)=>t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate(),Y=()=>{u(new Date(x.getFullYear(),x.getMonth()-1))},I=()=>{u(new Date(x.getFullYear(),x.getMonth()+1))},a=t=>{j(t)},h=async(t,r)=>{const l=y.find(d=>d.id===t);if(!l)return;const c=l.exercises.map(d=>d.id===r?{...d,completed:!d.completed}:d);i(d=>d.map(k=>k.id===t?{...k,exercises:c}:k));const s=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`;await q(s,l.title,c,t)},g=(t,r)=>{F(t),C(r),A(!0)},v=async(t,r)=>{const l=y.find(c=>c.id===t);if(l&&confirm("Are you sure you want to delete this exercise?")){const c=l.exercises.filter(d=>d.id!==r);i(d=>d.map(k=>k.id===t?{...k,exercises:c}:k));const s=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`;await q(s,l.title,c,t)}},ae=async t=>{confirm("Are you sure you want to delete this entire workout plan?")&&(await ie(t),await O())},re=async t=>{if(!m)return;const r=y.find(s=>s.id===m);if(!r)return;const l=r.exercises.map(s=>s.id===t.id?t:s);i(s=>s.map(d=>d.id===m?{...d,exercises:l}:d));const c=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`;await q(c,r.title,l,m),A(!1),C(null),F(null)},J=y.flatMap(t=>t.exercises),L=J.filter(t=>t.completed).length,R=J.length,se=R>0?L/R*100:0,le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],oe=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:[e.jsxs("header",{className:"flex justify-between items-end mb-6 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Your Training Schedule"}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:"Workout Plan"})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-royal-500 to-royal-700 rounded-full flex items-center justify-center text-white shadow-sm",children:e.jsx(B,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 no-scrollbar",children:[e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{size:16,className:"text-royal-600 dark:text-royal-400"}),e.jsxs("h2",{className:"text-sm font-bold text-gray-900 dark:text-gray-50 uppercase tracking-wide",children:[oe[x.getMonth()]," ",x.getFullYear()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:Y,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ee,{size:18,className:"text-gray-600 dark:text-gray-400"})}),e.jsx("button",{onClick:I,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ue,{size:18,className:"text-gray-600 dark:text-gray-400"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:le.map((t,r)=>e.jsx("div",{className:"text-center text-xs font-bold text-gray-400 dark:text-gray-500 py-1",children:t},r))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:V.map((t,r)=>{if(!t)return e.jsx("div",{className:"aspect-square"},`empty-${r}`);const l=z(t,o),c=z(t,M),s=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,d=N.has(s);return e.jsxs("button",{onClick:()=>a(t),className:`
                                        aspect-square flex flex-col items-center justify-center p-1 rounded-xl transition-all relative text-sm
                                        ${l?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40 scale-105 font-bold":"bg-gray-50 dark:bg-white/5 text-gray-700 dark:text-gray-300 hover:bg-royal-50 dark:hover:bg-royal-900/20 hover:scale-105"}
                                    `,children:[e.jsx("span",{children:t.getDate()}),c&&!l&&e.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-royal-600 dark:bg-royal-400 rounded-full"}),d&&e.jsx("div",{className:`absolute top-1 right-1 w-1.5 h-1.5 rounded-full ${l?"bg-white":"bg-royal-600 dark:bg-royal-400"}`})]},r)})})]}),P?e.jsx(D,{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-royal-600 border-t-transparent rounded-full animate-spin"})})}):y.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-extrabold text-gray-900 dark:text-gray-50",children:z(o,M)?"Today's Workouts":"Workout Plans"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold mt-0.5",children:[y.length," ",y.length===1?"workout":"workouts"," scheduled"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-extrabold text-royal-600 dark:text-royal-400",children:[L,"/",R]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold",children:"Overall Progress"})]})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-white/5 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-royal-500 to-royal-600 transition-all duration-500 ease-out rounded-full",style:{width:`${se}%`}})}),y.map(t=>{const r=t.exercises.filter(s=>s.completed).length,l=t.exercises.length,c=l>0?r/l*100:0;return e.jsxs(D,{className:"p-6 border-2 border-gray-200 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-50 mb-1",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400",children:[r,"/",l," completed"]}),e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.round(c),"%"]})]})]}),e.jsx("button",{onClick:()=>ae(t.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete entire workout",children:e.jsx(G,{size:16,className:"text-red-600 dark:text-red-400"})})]}),e.jsx("div",{className:"mb-4 bg-gray-100 dark:bg-white/5 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-royal-500 to-royal-600 transition-all duration-500 ease-out rounded-full",style:{width:`${c}%`}})}),e.jsx("div",{className:"space-y-3",children:t.exercises.map(s=>e.jsx("button",{onClick:()=>h(t.id,s.id),className:`
                                                    w-full text-left transition-all active:scale-[0.98]
                                                    ${s.completed?"opacity-60":""}
                                                `,children:e.jsx(D,{className:`p-4 ${s.completed?"bg-royal-50/50 dark:bg-royal-900/10":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.completed?e.jsx(Z,{size:20,className:"text-royal-600 dark:text-royal-400",strokeWidth:2.5}):e.jsx(pe,{size:20,className:"text-gray-300 dark:text-gray-600",strokeWidth:2})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`
                                                                font-bold text-sm mb-1.5
                                                                ${s.completed?"text-gray-500 dark:text-gray-400 line-through":"text-gray-900 dark:text-gray-50"}
                                                            `,children:s.name}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"Sets:"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:s.sets})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"Reps:"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:s.reps})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"Rest:"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:s.rest})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2",children:[e.jsx("button",{onClick:d=>{d.stopPropagation(),g(t.id,s)},className:"p-1.5 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit exercise",children:e.jsx(ve,{size:14,className:"text-blue-600 dark:text-blue-400"})}),e.jsx("button",{onClick:d=>{d.stopPropagation(),v(t.id,s.id)},className:"p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete exercise",children:e.jsx(G,{size:14,className:"text-red-600 dark:text-red-400"})})]})]})})},s.id))}),r===l&&l>0&&e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-br from-royal-50 to-royal-100 dark:from-royal-950/30 dark:to-royal-900/20 border-2 border-royal-200 dark:border-royal-800/50 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{size:20,className:"text-royal-600 dark:text-royal-400",strokeWidth:2.5}),e.jsx("p",{className:"text-sm font-bold text-royal-900 dark:text-royal-100",children:"Workout Complete! ðŸŽ‰"})]})})]},t.id)}),e.jsxs("button",{onClick:()=>f(!0),className:"w-full flex items-center justify-center gap-2 py-4 bg-white dark:bg-white/5 hover:bg-royal-50 dark:hover:bg-royal-900/20 text-gray-900 dark:text-gray-50 rounded-[20px] font-bold transition-all border-2 border-dashed border-gray-300 dark:border-white/20 hover:border-royal-400 dark:hover:border-royal-600 active:scale-95",children:[e.jsx(_,{size:20}),e.jsx("span",{children:"Add Another Workout"})]}),L===R&&R>0&&e.jsx(D,{className:"p-6 bg-gradient-to-br from-royal-50 to-royal-100 dark:from-royal-950/30 dark:to-royal-900/20 border-2 border-royal-200 dark:border-royal-800/50 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-royal-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(Z,{size:32,className:"text-white",strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-extrabold text-royal-900 dark:text-royal-100 mb-2",children:"All Workouts Complete! ðŸŽ‰"}),e.jsxs("p",{className:"text-sm text-royal-700 dark:text-royal-300 font-semibold",children:["Amazing work! You've completed all exercises for ",z(o,M)?"today":"this day","."]})]})})]}):e.jsx(D,{className:"p-8",children:e.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-white/10 dark:to-white/5 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(B,{size:32,className:"text-gray-400 dark:text-gray-500"})}),e.jsx("h3",{className:"text-xl font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"No Workout Plan Yet"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:z(o,M)?"Ready to crush today's workout? Get a personalized plan from your AI coach or create your own!":"No workout plan for this date. Add one to stay on track!"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>E==null?void 0:E(ne.CAL_COACH),className:"w-full flex items-center justify-center gap-2 py-4 bg-royal-600 hover:bg-royal-700 text-white rounded-[20px] font-bold transition-all shadow-lg shadow-royal-200 dark:shadow-royal-900/40 active:scale-95",children:[e.jsx(Q,{size:20}),e.jsx("span",{children:"Get AI Plan from Coach"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"w-full flex items-center justify-center gap-2 py-4 bg-white dark:bg-white/5 hover:bg-gray-50 dark:hover:bg-white/10 text-gray-900 dark:text-gray-50 rounded-[20px] font-bold transition-all border-2 border-gray-200 dark:border-white/10 active:scale-95",children:[e.jsx(_,{size:20}),e.jsx("span",{children:"Create Custom Plan"})]})]})]})})]}),e.jsx(Ee,{isOpen:H,onClose:()=>{A(!1),C(null),F(null)},exercise:W,onSave:re}),e.jsx(De,{isOpen:p,onClose:()=>f(!1),defaultDate:o,onSave:O})]})};export{Ze as WorkoutPlan};
