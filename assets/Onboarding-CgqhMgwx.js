import{j as e,S as m,Z as T,U as k,B as h,X as Y,w as M,f as P,Y as R}from"./index-CouDGB-U.js";import{r as n}from"./vendor-react-wGySg1uH.js";import{X as G}from"./x-QdPRibKp.js";import{C as p}from"./camera-BXq9K9yF.js";import{T as g}from"./trending-up-BgkTTCMB.js";import{H as z}from"./heart-D4MkXjXu.js";import{T as H}from"./target-BdV7N-ie.js";import{R as U,W as E}from"./weight-CTuWvj8G.js";import{C as O}from"./check-lROYYAx7.js";import{C as L}from"./chevron-left-CrCKCX3t.js";import{C as b}from"./chevron-right-zgTCPsVZ.js";import"./vendor-charts-Bdt_fL2G.js";import"./vendor-supabase-DfwcnzK-.js";const le=({user:u,onComplete:f})=>{const[a,y]=n.useState(0),[r,B]=n.useState(""),[l,C]=n.useState(""),[i,D]=n.useState(""),[S,j]=n.useState(!1),c=5,N=()=>{const s=parseFloat(l),t=parseFloat(i);return!s||!t?null:t/(s/100*(s/100))},v=s=>{const x=(10*parseFloat(i)+6.25*parseFloat(l)-5*25+5)*1.2;return s<18.5?Math.round(x+400):s>25?Math.round(x-400):Math.round(x)},w=()=>{a<c-1&&y(a+1)},F=()=>{a>0&&y(a-1)},I=async()=>{await Y(u),f()},A=async()=>{j(!0);try{if(r&&l&&i){await M({name:r,height:parseFloat(l),weight:parseFloat(i)});const s=N();if(s){const t=v(s);await P(t)}}await R(u),f()}catch(s){console.error("Failed to save onboarding data:",s),alert("Failed to save your profile. Please try again.")}finally{j(!1)}},W=r&&l&&i,o=N(),d=o?v(o):null;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#F9F7F2] to-[#F3F0E7] flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary-200/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-primary-800/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),e.jsxs("button",{onClick:I,className:"absolute top-6 right-6 z-50 text-gray-400 hover:text-gray-600:text-gray-300 transition-colors text-sm font-medium flex items-center gap-1",children:["Skip ",e.jsx(G,{size:16})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[e.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Array.from({length:c}).map((s,t)=>e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${t===a?"w-12 bg-[#3D745B]":t<a?"w-8 bg-[#3D745B]/40":"w-8 bg-gray-200"}`},t))}),e.jsxs("div",{className:"bg-white rounded-[40px] shadow-diffused-lg p-8 md:p-12 min-h-[500px] flex flex-col border-2 border-[#3D745B]/10",children:[a===0&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#467A64] to-[#3D745B] rounded-[32px] flex items-center justify-center shadow-xl shadow-primary-200/50 animate-in zoom-in duration-700",children:e.jsx(m,{size:48,className:"text-white",strokeWidth:2})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-bounce"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight",children:"Welcome to SnapCal AI"}),e.jsx("p",{className:"text-xl text-gray-600 font-medium mb-2",children:"Your AI-Powered Nutrition Companion"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-md leading-relaxed",children:"Track calories effortlessly with the power of artificial intelligence. Just snap a photo of your meal and let AI do the rest."}),e.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-14 h-14 bg-primary-50 rounded-2xl flex items-center justify-center border-2 border-primary-100",children:e.jsx(p,{size:28,className:"text-[#3D745B]"})}),e.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Snap"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-14 h-14 bg-primary-100 rounded-2xl flex items-center justify-center border-2 border-primary-200",children:e.jsx(T,{size:28,className:"text-[#3D745B]"})}),e.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Analyze"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-14 h-14 bg-emerald-50 rounded-2xl flex items-center justify-center border-2 border-emerald-100",children:e.jsx(g,{size:28,className:"text-emerald-600"})}),e.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Track"})]})]})]}),a===1&&e.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-50 rounded-full mb-4 border border-[#3D745B]/20",children:[e.jsx(p,{size:16,className:"text-[#3D745B]"}),e.jsx("span",{className:"text-xs font-bold text-[#3D745B] uppercase tracking-wider",children:"How It Works"})]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-3",children:"Instant Nutrition Insights"}),e.jsx("p",{className:"text-gray-600 text-sm max-w-lg mx-auto",children:"Our AI analyzes your food photos to provide accurate calorie counts and nutritional breakdowns in seconds."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 rounded-[24px] border border-gray-100 hover:border-[#3D745B]/30 transition-colors",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center flex-shrink-0 shadow-sm border border-gray-100",children:e.jsx(p,{size:24,className:"text-[#3D745B]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"1. Capture Your Meal"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Take a photo of any dish, snack, or beverage"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 rounded-[24px] border border-gray-100 hover:border-[#3D745B]/30 transition-colors",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center flex-shrink-0 shadow-sm border border-gray-100",children:e.jsx(m,{size:24,className:"text-[#3D745B]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"2. AI Recognition"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Advanced AI identifies ingredients and portions instantly"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 rounded-[24px] border border-gray-100 hover:border-[#3D745B]/30 transition-colors",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center flex-shrink-0 shadow-sm border border-gray-100",children:e.jsx(g,{size:24,className:"text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"3. Get Detailed Breakdown"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Calories, protein, carbs, and fatsâ€”all automatically calculated"})]})]})]})]}),a===2&&e.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-50 rounded-full mb-4 border border-[#3D745B]/20",children:[e.jsx(z,{size:16,className:"text-[#3D745B]"}),e.jsx("span",{className:"text-xs font-bold text-[#3D745B] uppercase tracking-wider",children:"Personalization"})]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-3",children:"Why Your Profile Matters"}),e.jsx("p",{className:"text-gray-600 text-sm max-w-lg mx-auto",children:"Share a few details to unlock truly personalized nutrition recommendations tailored just for you."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-br from-primary-50 to-primary-100/50 rounded-[28px] border-2 border-[#3D745B]/20",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-4 shadow-sm border border-primary-100",children:e.jsx(H,{size:24,className:"text-[#3D745B]"})}),e.jsx("h3",{className:"font-extrabold text-gray-900 mb-2",children:"Accurate Goals"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Get a science-backed daily calorie target based on your unique body metrics and health objectives."})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 rounded-[28px] border border-emerald-100",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:e.jsx(g,{size:24,className:"text-emerald-600"})}),e.jsx("h3",{className:"font-extrabold text-gray-900 mb-2",children:"Smart Insights"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Receive personalized BMI analysis and recommendations to help you reach your ideal weight."})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50 rounded-[28px] border border-orange-100",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:e.jsx(m,{size:24,className:"text-orange-600"})}),e.jsx("h3",{className:"font-extrabold text-gray-900 mb-2",children:"Better Tracking"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"See how your intake compares to your goals and adjust your habits for optimal results."})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-rose-50 rounded-[28px] border border-pink-100",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:e.jsx(z,{size:24,className:"text-pink-600"})}),e.jsx("h3",{className:"font-extrabold text-gray-900 mb-2",children:"Long-term Success"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Build sustainable habits with data-driven feedback tailored to your wellness journey."})]})]})]}),a===3&&e.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-50 rounded-full mb-4",children:[e.jsx(k,{size:16,className:"text-primary-600"}),e.jsx("span",{className:"text-xs font-bold text-primary-600 uppercase tracking-wider",children:"Your Details"})]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-3",children:"Set Up Your Profile"}),e.jsx("p",{className:"text-gray-600 text-sm max-w-lg mx-auto",children:"Just a few quick details to personalize your experience"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r,onChange:s=>B(s.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-gray-900 transition-all placeholder:text-gray-300:text-gray-600"}),e.jsx(k,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:l,onChange:s=>C(s.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-gray-900 transition-all placeholder:text-gray-300:text-gray-600"}),e.jsx(U,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:i,onChange:s=>D(s.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-primary-200 focus:border-primary-400 font-bold text-gray-900 transition-all placeholder:text-gray-300:text-gray-600"}),e.jsx(E,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})]}),o&&e.jsxs("div",{className:"p-5 bg-gradient-to-r from-primary-50 to-emerald-50 rounded-[24px] border border-primary-100 animate-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-primary-700 uppercase tracking-wider",children:"Your BMI"}),e.jsx("span",{className:"text-2xl font-extrabold text-primary-900",children:o.toFixed(1)})]}),d&&e.jsxs("p",{className:"text-xs text-primary-600",children:["Recommended daily goal: ",e.jsxs("span",{className:"font-bold",children:[d," kcal"]})]})]})]})]}),a===4&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-500",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-2xl shadow-emerald-200 animate-in zoom-in duration-700",children:e.jsx(O,{size:56,className:"text-white",strokeWidth:3})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full animate-ping opacity-20"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight",children:"You're All Set!"}),e.jsx("p",{className:"text-lg text-gray-600 font-medium mb-2",children:"Your personalized nutrition journey begins now"}),r&&d&&e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-primary-50 to-emerald-50 rounded-[28px] border border-primary-100 max-w-md w-full",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Welcome, ",e.jsx("span",{className:"font-bold text-primary-600",children:r}),"!"]}),e.jsxs("div",{className:"flex items-baseline gap-2 justify-center",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Daily Goal:"}),e.jsx("span",{className:"text-3xl font-extrabold text-primary-900",children:d}),e.jsx("span",{className:"text-sm font-bold text-gray-500",children:"kcal"})]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-6 max-w-md leading-relaxed",children:"Start snapping photos of your meals to track your nutrition effortlessly. We'll help you stay on track!"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-100",children:[e.jsxs("button",{onClick:F,disabled:a===0,className:`flex items-center gap-2 px-5 py-3 rounded-[16px] font-bold text-sm transition-all ${a===0?"opacity-0 pointer-events-none":"text-gray-600 hover:bg-gray-100:bg-white/5"}`,children:[e.jsx(L,{size:20}),"Back"]}),a===c-1?e.jsxs(h,{onClick:A,isLoading:S,className:"px-8 py-4 text-base shadow-xl shadow-primary-200/50 bg-[#3D745B] hover:bg-[#315C49]",children:["Start Tracking",e.jsx(b,{size:20,className:"ml-1"})]}):a===3?e.jsxs(h,{onClick:w,disabled:!W,className:"px-8 py-4 text-base shadow-xl shadow-primary-200/50 bg-[#3D745B] hover:bg-[#315C49]",children:["Continue",e.jsx(b,{size:20,className:"ml-1"})]}):e.jsxs(h,{onClick:w,className:"px-8 py-4 text-base shadow-xl shadow-primary-200/50 bg-[#3D745B] hover:bg-[#315C49]",children:["Next",e.jsx(b,{size:20,className:"ml-1"})]})]})]})]})]})};export{le as Onboarding};
