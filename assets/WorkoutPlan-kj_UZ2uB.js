import{c as w,j as e,S as Q,Z as oe,D as Z,r as I,C as L,q as ie,v as K,l as U,w as ce}from"./index-Bmqw0fDA.js";import{r as i}from"./vendor-react-wGySg1uH.js";import{C as M}from"./Card-F4uk-vXj.js";import{W as de,a as X,S as xe}from"./workoutTypes-C4hO4CTH.js";import{C as ee}from"./chevron-left-B4jNsPFC.js";import{X as te}from"./x-bPfRYVL4.js";import{P as _}from"./plus-DQJds-o8.js";import{T as G}from"./trash-2-Cy2GHAKV.js";import{F as me}from"./flame-CBUaUl2B.js";import{T as he}from"./target-N8B25JMy.js";import{H as pe}from"./heart-BSaBddQz.js";import{C as ue}from"./calendar-BY3EAGgM.js";import{C as ge}from"./chevron-right-DGjidMu_.js";import"./vendor-charts-Bdt_fL2G.js";import"./vendor-supabase-DfwcnzK-.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=w("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=w("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=w("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=w("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=w("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=w("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=w("PersonStanding",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=w("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=w("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=w("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),De={Dumbbell:Z,Heart:pe,Leaf:je,Trophy:Se,Footprints:fe,Target:he,Zap:oe,Flame:me,Bike:ye,PersonStanding:we,Sparkles:Q,Waves:Ce,Music:ve,Sword:ke},Me=({isOpen:E,onClose:x,defaultDate:g,onSave:n})=>{var O;const[v,p]=i.useState("select"),[c,k]=i.useState(null),[S,P]=i.useState(g.toISOString().split("T")[0]),[y,b]=i.useState([]),[f,W]=i.useState(!1),[C,u]=i.useState("strength");if(!E)return null;const F=s=>{k(s),b([...s.defaultExercises]),p("customize")},q=()=>{p("select"),k(null),b([])},A=()=>{b([...y,{name:"",sets:3,reps:"10",rest:"60s"}])},R=s=>{b(y.filter((m,h)=>h!==s))},T=(s,m,h)=>{const N=[...y];N[s]={...N[s],[m]:h},b(N)},H=async()=>{if(!c)return;const s=y.filter(m=>m.name.trim());if(s.length===0){alert("Please add at least one exercise");return}W(!0);try{const m=s.map((h,N)=>({...h,id:`ex-${Date.now()}-${N}`,completed:!1}));await I(S,c.name,m,void 0,c.id),p("select"),k(null),b([]),P(g.toISOString().split("T")[0]),n==null||n(),x()}catch(m){console.error("Failed to save workout:",m),alert("Failed to save workout plan")}finally{W(!1)}},D=()=>{p("select"),k(null),b([]),x()},z=de.filter(s=>s.category===C),Y=(s,m=24,h="")=>{const N=De[s];return N?e.jsx(N,{size:m,className:h}):null};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300 px-4",children:e.jsxs(M,{className:"w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col bg-[#F3F0E7] animate-in zoom-in-95 duration-300 border-none",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 bg-[#3D745B] text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[v==="customize"&&e.jsx("button",{onClick:q,className:"p-2 -ml-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(ee,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-extrabold",children:v==="select"?"Choose Workout":c==null?void 0:c.name})]}),e.jsx("button",{onClick:D,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(te,{size:20,className:"text-white"})})]}),v==="select"?e.jsxs("div",{className:"flex-1 overflow-y-auto p-5",children:[e.jsx("div",{className:"flex gap-2 mb-5 overflow-x-auto no-scrollbar pb-1",children:X.map(s=>e.jsxs("button",{onClick:()=>u(s.id),className:`
                                        flex items-center gap-2 px-4 py-2.5 rounded-full font-bold text-sm whitespace-nowrap transition-all border-2
                                        ${C===s.id?"bg-[#3D745B] text-white border-[#3D745B] shadow-lg shadow-primary-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}
                                    `,children:[Y(s.icon,16),e.jsx("span",{children:s.name})]},s.id))}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.map(s=>e.jsxs("button",{onClick:()=>F(s),className:"group relative p-5 bg-white hover:bg-gray-50 rounded-2xl transition-all hover:scale-[1.02] active:scale-[0.98] text-left border-2 border-gray-200/50 hover:border-[#3D745B]/30 shadow-sm",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center mb-3 shadow-sm group-hover:scale-110 transition-transform",children:Y(s.icon,24,s.color.split(" ")[0])}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.defaultExercises.length," exercises"]})]},s.id))})]}):e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[c&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl border-2 border-gray-100 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-lg flex items-center justify-center",children:Y(c.icon,20,c.color.split(" ")[0])}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:(O=X.find(s=>s.id===c.category))==null?void 0:O.name}),e.jsx("p",{className:"font-bold text-gray-900",children:c.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:S,onChange:s=>P(s.target.value),className:"w-full px-4 py-3 bg-white border-2 border-gray-100 rounded-xl text-gray-900 focus:outline-none focus:border-[#3D745B] transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Exercises"}),e.jsxs("button",{onClick:A,className:"flex items-center gap-1 px-3 py-1.5 bg-[#3D745B] hover:bg-[#2D5A45] text-white text-sm font-semibold rounded-lg transition-colors shadow-md",children:[e.jsx(_,{size:16}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"space-y-3",children:y.map((s,m)=>e.jsx("div",{className:"p-4 bg-gray-50 rounded-xl border-2 border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("input",{type:"text",value:s.name,onChange:h=>T(m,"name",h.target.value),placeholder:"Exercise name",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:border-primary-500"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Sets"}),e.jsx("input",{type:"number",value:s.sets,onChange:h=>T(m,"sets",parseInt(h.target.value)||0),min:"1",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Reps"}),e.jsx("input",{type:"text",value:s.reps,onChange:h=>T(m,"reps",h.target.value),placeholder:"8-10",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:border-primary-500:border-primary-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Rest"}),e.jsx("input",{type:"text",value:s.rest,onChange:h=>T(m,"rest",h.target.value),placeholder:"60s",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:border-primary-500:border-primary-400"})]})]})]}),y.length>1&&e.jsx("button",{onClick:()=>R(m),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg transition-colors",children:e.jsx(G,{size:18})})]})},m))})]})]}),v==="customize"&&e.jsxs("div",{className:"flex items-center justify-end gap-3 p-5 border-t border-gray-100",children:[e.jsx("button",{onClick:D,disabled:f,className:"px-6 py-3 text-gray-700 hover:bg-gray-100:bg-white/5 rounded-xl font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:H,disabled:f,className:"px-6 py-3 bg-[#3D745B] hover:bg-[#2D5A45] text-white rounded-xl font-semibold transition-colors disabled:opacity-50 shadow-lg shadow-primary-200",children:f?"Saving...":"Save Workout"})]})]})})},Ee=({isOpen:E,onClose:x,exercise:g,onSave:n})=>{const[v,p]=i.useState(""),[c,k]=i.useState(3),[S,P]=i.useState("10"),[y,b]=i.useState("60s"),[f,W]=i.useState(!1);if(i.useEffect(()=>{g&&(p(g.name),k(g.sets),P(g.reps),b(g.rest))},[g]),!E||!g)return null;const C=async()=>{if(!v.trim()){alert("Please enter an exercise name");return}W(!0);const u={...g,name:v.trim(),sets:c,reps:S.trim(),rest:y.trim()};n(u),W(!1)};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300 px-6",children:e.jsxs(M,{className:"w-full max-w-md animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-xl font-extrabold text-gray-900",children:"Edit Exercise"}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100:bg-white/5 rounded-full transition-colors",children:e.jsx(te,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Exercise Name"}),e.jsx("input",{type:"text",value:v,onChange:u=>p(u.target.value),placeholder:"e.g., Bench Press",className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-primary-500:border-primary-400 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2",children:"Sets"}),e.jsx("input",{type:"number",value:c,onChange:u=>k(parseInt(u.target.value)||0),min:"1",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 focus:outline-none focus:border-primary-500:border-primary-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2",children:"Reps"}),e.jsx("input",{type:"text",value:S,onChange:u=>P(u.target.value),placeholder:"8-10",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:border-primary-500:border-primary-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2",children:"Rest"}),e.jsx("input",{type:"text",value:y,onChange:u=>b(u.target.value),placeholder:"60s",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:border-primary-500:border-primary-400"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100",children:[e.jsx("button",{onClick:x,disabled:f,className:"px-6 py-3 text-gray-700 hover:bg-gray-100:bg-white/5 rounded-xl font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:C,disabled:f,className:"flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-semibold transition-colors disabled:opacity-50 shadow-lg shadow-primary-200",children:[e.jsx(xe,{size:18}),e.jsx("span",{children:f?"Saving...":"Save Changes"})]})]})]})})},Le=({onNavigate:E})=>{const[x,g]=i.useState(new Date),[n,v]=i.useState(new Date),[p,c]=i.useState([]),[k,S]=i.useState(new Set),[P,y]=i.useState(!1),[b,f]=i.useState(!1),[W,C]=i.useState(null),[u,F]=i.useState(null),[q,A]=i.useState(!1),R=async()=>{const t=x.getFullYear(),a=x.getMonth()+1,l=await K(t,a);S(new Set(l));const d=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,r=await U(d);c(r)};i.useEffect(()=>{(async()=>{const a=x.getFullYear(),l=x.getMonth()+1,d=await K(a,l);S(new Set(d))})()},[x]),i.useEffect(()=>{(async()=>{y(!0);const a=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,l=await U(a);c(l),y(!1)})()},[n]);const H=(()=>{const t=x.getFullYear(),a=x.getMonth(),l=new Date(t,a,1),d=new Date(t,a+1,0),r=l.getDay(),o=d.getDate(),j=[];for(let $=0;$<r;$++)j.push(null);for(let $=1;$<=o;$++)j.push(new Date(t,a,$));return j})(),D=new Date;D.setHours(0,0,0,0);const z=(t,a)=>t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate(),Y=()=>{g(new Date(x.getFullYear(),x.getMonth()-1))},O=()=>{g(new Date(x.getFullYear(),x.getMonth()+1))},s=t=>{v(t)},m=async(t,a)=>{const l=p.find(o=>o.id===t);if(!l)return;const d=l.exercises.map(o=>o.id===a?{...o,completed:!o.completed}:o);c(o=>o.map(j=>j.id===t?{...j,exercises:d}:j));const r=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`;await I(r,l.title,d,t)},h=(t,a)=>{F(t),C(a),A(!0)},N=async(t,a)=>{const l=p.find(d=>d.id===t);if(l&&confirm("Are you sure you want to delete this exercise?")){const d=l.exercises.filter(o=>o.id!==a);c(o=>o.map(j=>j.id===t?{...j,exercises:d}:j));const r=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`;await I(r,l.title,d,t)}},se=async t=>{confirm("Are you sure you want to delete this entire workout plan?")&&(await ce(t),await R())},ae=async t=>{if(!u)return;const a=p.find(r=>r.id===u);if(!a)return;const l=a.exercises.map(r=>r.id===t.id?t:r);c(r=>r.map(o=>o.id===u?{...o,exercises:l}:o));const d=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`;await I(d,a.title,l,u),A(!1),C(null),F(null)},J=p.flatMap(t=>t.exercises),V=J.filter(t=>t.completed).length,B=J.length,re=B>0?V/B*100:0,le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ne=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:[e.jsxs("header",{className:"flex justify-between items-end mb-6 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs font-semibold uppercase tracking-widest mb-2",children:"Your Training Schedule"}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight leading-none",children:"Workout Plan"})]}),e.jsx("div",{className:"w-12 h-12 bg-[#3D745B] rounded-full flex items-center justify-center text-white shadow-sm",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 no-scrollbar",children:[e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{size:16,className:"text-primary-600"}),e.jsxs("h2",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide",children:[ne[x.getMonth()]," ",x.getFullYear()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:Y,className:"p-1.5 hover:bg-gray-100:bg-white/5 rounded-lg transition-colors",children:e.jsx(ee,{size:18,className:"text-gray-600"})}),e.jsx("button",{onClick:O,className:"p-1.5 hover:bg-gray-100:bg-white/5 rounded-lg transition-colors",children:e.jsx(ge,{size:18,className:"text-gray-600"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:le.map((t,a)=>e.jsx("div",{className:"text-center text-xs font-bold text-gray-400 py-1",children:t},a))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:H.map((t,a)=>{if(!t)return e.jsx("div",{className:"aspect-square"},`empty-${a}`);const l=z(t,n),d=z(t,D),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,o=k.has(r);return e.jsxs("button",{onClick:()=>s(t),className:`
                                        aspect-square flex flex-col items-center justify-center p-1 rounded-xl transition-all relative text-sm
                                        ${l?"bg-[#3D745B] text-white shadow-lg shadow-primary-200 scale-105 font-bold":"bg-gray-50 text-gray-700 hover:bg-primary-100 hover:scale-105"}
                                    `,children:[e.jsx("span",{children:t.getDate()}),d&&!l&&e.jsx("div",{className:"absolute bottom-1 w-1 h-1 bg-[#3D745B] rounded-full"}),o&&e.jsx("div",{className:`absolute top-1 right-1 w-1.5 h-1.5 rounded-full ${l?"bg-white":"bg-[#3D745B]"}`})]},a)})})]}),P?e.jsx(M,{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"})})}):p.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-extrabold text-gray-900",children:z(n,D)?"Today's Workouts":"Workout Plans"}),e.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-0.5",children:[p.length," ",p.length===1?"workout":"workouts"," scheduled"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-extrabold text-primary-600",children:[V,"/",B]}),e.jsx("p",{className:"text-xs text-gray-500 font-semibold",children:"Overall Progress"})]})]}),e.jsx("div",{className:"bg-gray-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 transition-all duration-500 ease-out rounded-full",style:{width:`${re}%`}})}),p.map(t=>{const a=t.exercises.filter(r=>r.completed).length,l=t.exercises.length,d=l>0?a/l*100:0;return e.jsxs(M,{className:"p-6 border-2 border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-extrabold text-gray-900 mb-1",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-bold text-primary-600",children:[a,"/",l," completed"]}),e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(d),"%"]})]})]}),e.jsx("button",{onClick:()=>se(t.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Delete entire workout",children:e.jsx(G,{size:16,className:"text-red-600"})})]}),e.jsx("div",{className:"mb-4 bg-gray-100 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 transition-all duration-500 ease-out rounded-full",style:{width:`${d}%`}})}),e.jsx("div",{className:"space-y-3",children:t.exercises.map(r=>e.jsx("button",{onClick:()=>m(t.id,r.id),className:`
                                                    w-full text-left transition-all active:scale-[0.98]
                                                    ${r.completed?"opacity-60":""}
                                                `,children:e.jsx(M,{className:`p-4 ${r.completed?"bg-primary-50/50":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.completed?e.jsx(L,{size:20,className:"text-primary-600",strokeWidth:2.5}):e.jsx(be,{size:20,className:"text-gray-300",strokeWidth:2})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`
                                                                font-bold text-sm mb-1.5
                                                                ${r.completed?"text-gray-500 line-through":"text-gray-900"}
                                                            `,children:r.name}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500",children:"Sets:"}),e.jsx("span",{className:"font-bold text-gray-700",children:r.sets})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500",children:"Reps:"}),e.jsx("span",{className:"font-bold text-gray-700",children:r.reps})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500",children:"Rest:"}),e.jsx("span",{className:"font-bold text-gray-700",children:r.rest})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2",children:[e.jsx("button",{onClick:o=>{o.stopPropagation(),h(t.id,r)},className:"p-1.5 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit exercise",children:e.jsx(Ne,{size:14,className:"text-blue-600"})}),e.jsx("button",{onClick:o=>{o.stopPropagation(),N(t.id,r.id)},className:"p-1.5 hover:bg-red-50 rounded-lg transition-colors",title:"Delete exercise",children:e.jsx(G,{size:14,className:"text-red-600"})})]})]})})},r.id))}),a===l&&l>0&&e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-br from-primary-50 to-primary-100 border-2 border-primary-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{size:20,className:"text-primary-600",strokeWidth:2.5}),e.jsx("p",{className:"text-sm font-bold text-primary-900",children:"Workout Complete! ðŸŽ‰"})]})})]},t.id)}),e.jsxs("button",{onClick:()=>f(!0),className:"w-full flex items-center justify-center gap-2 py-4 bg-white hover:bg-primary-100 text-gray-900 rounded-[20px] font-bold transition-all border-2 border-dashed border-gray-300 hover:border-primary-400:border-primary-600 active:scale-95",children:[e.jsx(_,{size:20}),e.jsx("span",{children:"Add Another Workout"})]}),V===B&&B>0&&e.jsx(M,{className:"p-6 bg-gradient-to-br from-primary-50 to-primary-100 border-2 border-primary-200 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(L,{size:32,className:"text-white",strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-extrabold text-primary-900 mb-2",children:"All Workouts Complete! ðŸŽ‰"}),e.jsxs("p",{className:"text-sm text-primary-700 font-semibold",children:["Amazing work! You've completed all exercises for ",z(n,D)?"today":"this day","."]})]})})]}):e.jsx(M,{className:"p-8",children:e.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Z,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-extrabold text-gray-900 mb-2",children:"No Workout Plan Yet"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6 leading-relaxed",children:z(n,D)?"Ready to crush today's workout? Get a personalized plan from your AI coach or create your own!":"No workout plan for this date. Add one to stay on track!"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>E==null?void 0:E(ie.CAL_COACH),className:"w-full flex items-center justify-center gap-2 py-4 bg-[#3D745B] hover:bg-primary-700 text-white rounded-[20px] font-bold transition-all shadow-lg shadow-primary-200 active:scale-95",children:[e.jsx(Q,{size:20}),e.jsx("span",{children:"Get AI Plan from Coach"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"w-full flex items-center justify-center gap-2 py-4 bg-white hover:bg-gray-50 text-gray-900 rounded-[20px] font-bold transition-all border-2 border-gray-200 active:scale-95",children:[e.jsx(_,{size:20}),e.jsx("span",{children:"Create Custom Plan"})]})]})]})})]}),e.jsx(Ee,{isOpen:q,onClose:()=>{A(!1),C(null),F(null)},exercise:W,onSave:ae}),e.jsx(Me,{isOpen:b,onClose:()=>f(!1),defaultDate:n,onSave:R})]})};export{Le as WorkoutPlan};
