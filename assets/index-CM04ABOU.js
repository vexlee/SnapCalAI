var xO=Object.defineProperty;var _O=(t,e,n)=>e in t?xO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gh=(t,e,n)=>_O(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XE={exports:{}},Qd={},QE={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),SO=Symbol.for("react.portal"),EO=Symbol.for("react.fragment"),TO=Symbol.for("react.strict_mode"),AO=Symbol.for("react.profiler"),CO=Symbol.for("react.provider"),kO=Symbol.for("react.context"),PO=Symbol.for("react.forward_ref"),IO=Symbol.for("react.suspense"),NO=Symbol.for("react.memo"),OO=Symbol.for("react.lazy"),W0=Symbol.iterator;function RO(t){return t===null||typeof t!="object"?null:(t=W0&&t[W0]||t["@@iterator"],typeof t=="function"?t:null)}var ZE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eT=Object.assign,tT={};function Ma(t,e,n){this.props=t,this.context=e,this.refs=tT,this.updater=n||ZE}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nT(){}nT.prototype=Ma.prototype;function _y(t,e,n){this.props=t,this.context=e,this.refs=tT,this.updater=n||ZE}var Sy=_y.prototype=new nT;Sy.constructor=_y;eT(Sy,Ma.prototype);Sy.isPureReactComponent=!0;var K0=Array.isArray,rT=Object.prototype.hasOwnProperty,Ey={current:null},iT={key:!0,ref:!0,__self:!0,__source:!0};function oT(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)rT.call(e,r)&&!iT.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ql,type:t,key:o,ref:a,props:i,_owner:Ey.current}}function MO(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ty(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function $O(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J0=/\/+/g;function yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$O(""+t.key):e.toString(36)}function tc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ql:case SO:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+yh(a,0):r,K0(i)?(n="",t!=null&&(n=t.replace(J0,"$&/")+"/"),tc(i,e,n,"",function(u){return u})):i!=null&&(Ty(i)&&(i=MO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(J0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",K0(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+yh(o,s);a+=tc(o,e,n,l,i)}else if(l=RO(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+yh(o,s++),a+=tc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function pu(t,e,n){if(t==null)return t;var r=[],i=0;return tc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function DO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},nc={transition:null},LO={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:nc,ReactCurrentOwner:Ey};function aT(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Ty(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Ma;me.Fragment=EO;me.Profiler=AO;me.PureComponent=_y;me.StrictMode=TO;me.Suspense=IO;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LO;me.act=aT;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eT({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Ey.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)rT.call(e,l)&&!iT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ql,type:t.type,key:i,ref:o,props:r,_owner:a}};me.createContext=function(t){return t={$$typeof:kO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CO,_context:t},t.Consumer=t};me.createElement=oT;me.createFactory=function(t){var e=oT.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:PO,render:t}};me.isValidElement=Ty;me.lazy=function(t){return{$$typeof:OO,_payload:{_status:-1,_result:t},_init:DO}};me.memo=function(t,e){return{$$typeof:NO,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=nc.transition;nc.transition={};try{t()}finally{nc.transition=e}};me.unstable_act=aT;me.useCallback=function(t,e){return Bt.current.useCallback(t,e)};me.useContext=function(t){return Bt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Bt.current.useEffect(t,e)};me.useId=function(){return Bt.current.useId()};me.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Bt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};me.useRef=function(t){return Bt.current.useRef(t)};me.useState=function(t){return Bt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Bt.current.useTransition()};me.version="18.3.1";QE.exports=me;var O=QE.exports;const M=je(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=O,UO=Symbol.for("react.element"),FO=Symbol.for("react.fragment"),BO=Object.prototype.hasOwnProperty,GO=jO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VO={key:!0,ref:!0,__self:!0,__source:!0};function sT(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)BO.call(e,r)&&!VO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UO,type:t,key:o,ref:a,props:i,_owner:GO.current}}Qd.Fragment=FO;Qd.jsx=sT;Qd.jsxs=sT;XE.exports=Qd;var g=XE.exports,Np={},lT={exports:{}},ln={},uT={exports:{}},cT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var V=$.length;$.push(U);e:for(;0<V;){var J=V-1>>>1,H=$[J];if(0<i(H,U))$[J]=U,$[V]=H,V=J;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],V=$.pop();if(V!==U){$[0]=V;e:for(var J=0,H=$.length,re=H>>>1;J<re;){var fe=2*(J+1)-1,be=$[fe],Ie=fe+1,q=$[Ie];if(0>i(be,V))Ie<H&&0>i(q,be)?($[J]=q,$[Ie]=V,J=Ie):($[J]=be,$[fe]=V,J=fe);else if(Ie<H&&0>i(q,V))$[J]=q,$[Ie]=V,J=Ie;else break e}}return U}function i($,U){var V=$.sortIndex-U.sortIndex;return V!==0?V:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function T($){if(w=!1,_($),!y)if(n(l)!==null)y=!0,L(S);else{var U=n(u);U!==null&&F(T,U.startTime-$)}}function S($,U){y=!1,w&&(w=!1,b(C),C=-1),m=!0;var V=h;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||$&&!N());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var H=J(d.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var re=!0;else{var fe=n(u);fe!==null&&F(T,fe.startTime-U),re=!1}return re}finally{d=null,h=V,m=!1}}var E=!1,A=null,C=-1,k=5,P=-1;function N(){return!(t.unstable_now()-P<k)}function I(){if(A!==null){var $=t.unstable_now();P=$;var U=!0;try{U=A(!0,$)}finally{U?R():(E=!1,A=null)}}else E=!1}var R;if(typeof x=="function")R=function(){x(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,j=D.port2;D.port1.onmessage=I,R=function(){j.postMessage(null)}}else R=function(){v(I,0)};function L($){A=$,E||(E=!0,R())}function F($,U){C=v(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,L(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var V=h;h=U;try{return $()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=h;h=$;try{return U()}finally{h=V}},t.unstable_scheduleCallback=function($,U,V){var J=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?J+V:J):V=J,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,$={id:c++,callback:U,priorityLevel:$,startTime:V,expirationTime:H,sortIndex:-1},V>J?($.sortIndex=V,e(u,$),n(l)===null&&$===n(u)&&(w?(b(C),C=-1):w=!0,F(T,V-J))):($.sortIndex=H,e(l,$),y||m||(y=!0,L(S))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var U=h;return function(){var V=h;h=U;try{return $.apply(this,arguments)}finally{h=V}}}})(cT);uT.exports=cT;var zO=uT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO=O,an=zO;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dT=new Set,Hs={};function Qi(t,e){ta(t,e),ta(t+"Capture",e)}function ta(t,e){for(Hs[t]=e,t=0;t<e.length;t++)dT.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=Object.prototype.hasOwnProperty,qO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y0={},X0={};function WO(t){return Op.call(X0,t)?!0:Op.call(Y0,t)?!1:qO.test(t)?X0[t]=!0:(Y0[t]=!0,!1)}function KO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JO(t,e,n,r){if(e===null||typeof e>"u"||KO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ay=/[\-:]([a-z])/g;function Cy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ay,Cy);At[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ay,Cy);At[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ay,Cy);At[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ky(t,e,n,r){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JO(e,n,i,r)&&(n=null),r||i===null?WO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=HO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),_o=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),Py=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),fT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),Iy=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),pT=Symbol.for("react.offscreen"),Q0=Symbol.iterator;function ts(t){return t===null||typeof t!="object"?null:(t=Q0&&t[Q0]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,vh;function xs(t){if(vh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vh=e&&e[1]||""}return`
`+vh+t}var wh=!1;function bh(t,e){if(!t||wh)return"";wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xs(t):""}function YO(t){switch(t.tag){case 5:return xs(t.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 2:case 15:return t=bh(t.type,!1),t;case 11:return t=bh(t.type.render,!1),t;case 1:return t=bh(t.type,!0),t;default:return""}}function Dp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case So:return"Fragment";case _o:return"Portal";case Rp:return"Profiler";case Py:return"StrictMode";case Mp:return"Suspense";case $p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hT:return(t.displayName||"Context")+".Consumer";case fT:return(t._context.displayName||"Context")+".Provider";case Iy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ny:return e=t.displayName||null,e!==null?e:Dp(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return Dp(t(e))}catch{}}return null}function XO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dp(e);case 8:return e===Py?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QO(t){var e=mT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=QO(t))}function gT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lp(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Z0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yT(t,e){e=e.checked,e!=null&&ky(t,"checked",e,!1)}function jp(t,e){yT(t,e);var n=ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Up(t,e.type,n):e.hasOwnProperty("defaultValue")&&Up(t,e.type,ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ew(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Up(t,e,n){(e!=="number"||mc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _s=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(_s(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ai(n)}}function vT(t,e){var n=ai(e.value),r=ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,bT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZO=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(t){ZO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ks[e]=ks[t]})});function xT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ks.hasOwnProperty(t)&&ks[t]?(""+e).trim():e+"px"}function _T(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var eR=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(t,e){if(e){if(eR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Vp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function Oy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hp=null,Bo=null,Go=null;function rw(t){if(t=tu(t)){if(typeof Hp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=rf(e),Hp(t.stateNode,t.type,e))}}function ST(t){Bo?Go?Go.push(t):Go=[t]:Bo=t}function ET(){if(Bo){var t=Bo,e=Go;if(Go=Bo=null,rw(t),e)for(t=0;t<e.length;t++)rw(e[t])}}function TT(t,e){return t(e)}function AT(){}var xh=!1;function CT(t,e,n){if(xh)return t(e,n);xh=!0;try{return TT(t,e,n)}finally{xh=!1,(Bo!==null||Go!==null)&&(AT(),ET())}}function Ws(t,e){var n=t.stateNode;if(n===null)return null;var r=rf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var qp=!1;if(wr)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){qp=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{qp=!1}function tR(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ps=!1,gc=null,yc=!1,Wp=null,nR={onError:function(t){Ps=!0,gc=t}};function rR(t,e,n,r,i,o,a,s,l){Ps=!1,gc=null,tR.apply(nR,arguments)}function iR(t,e,n,r,i,o,a,s,l){if(rR.apply(this,arguments),Ps){if(Ps){var u=gc;Ps=!1,gc=null}else throw Error(W(198));yc||(yc=!0,Wp=u)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iw(t){if(Zi(t)!==t)throw Error(W(188))}function oR(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return iw(i),t;if(o===r)return iw(i),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function PT(t){return t=oR(t),t!==null?IT(t):null}function IT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IT(t);if(e!==null)return e;t=t.sibling}return null}var NT=an.unstable_scheduleCallback,ow=an.unstable_cancelCallback,aR=an.unstable_shouldYield,sR=an.unstable_requestPaint,et=an.unstable_now,lR=an.unstable_getCurrentPriorityLevel,Ry=an.unstable_ImmediatePriority,OT=an.unstable_UserBlockingPriority,vc=an.unstable_NormalPriority,uR=an.unstable_LowPriority,RT=an.unstable_IdlePriority,Zd=null,tr=null;function cR(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Zd,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:hR,dR=Math.log,fR=Math.LN2;function hR(t){return t>>>=0,t===0?32:31-(dR(t)/fR|0)|0}var vu=64,wu=4194304;function Ss(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Ss(s):(o&=a,o!==0&&(r=Ss(o)))}else a=n&~i,a!==0?r=Ss(a):o!==0&&(r=Ss(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),i=1<<n,r|=t[n],e&=~i;return r}function pR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Bn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=pR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MT(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function _h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function gR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function My(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function $T(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DT,$y,LT,jT,UT,Jp=!1,bu=[],Kr=null,Jr=null,Yr=null,Ks=new Map,Js=new Map,Br=[],yR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aw(t,e){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(e.pointerId)}}function rs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=tu(e),e!==null&&$y(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vR(t,e,n,r,i){switch(e){case"focusin":return Kr=rs(Kr,t,e,n,r,i),!0;case"dragenter":return Jr=rs(Jr,t,e,n,r,i),!0;case"mouseover":return Yr=rs(Yr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ks.set(o,rs(Ks.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Js.set(o,rs(Js.get(o)||null,t,e,n,r,i)),!0}return!1}function FT(t){var e=Pi(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=kT(n),e!==null){t.blockedOn=e,UT(t.priority,function(){LT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zp=r,n.target.dispatchEvent(r),zp=null}else return e=tu(n),e!==null&&$y(e),t.blockedOn=n,!1;e.shift()}return!0}function sw(t,e,n){rc(t)&&n.delete(e)}function wR(){Jp=!1,Kr!==null&&rc(Kr)&&(Kr=null),Jr!==null&&rc(Jr)&&(Jr=null),Yr!==null&&rc(Yr)&&(Yr=null),Ks.forEach(sw),Js.forEach(sw)}function is(t,e){t.blockedOn===e&&(t.blockedOn=null,Jp||(Jp=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,wR)))}function Ys(t){function e(i){return is(i,t)}if(0<bu.length){is(bu[0],t);for(var n=1;n<bu.length;n++){var r=bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kr!==null&&is(Kr,t),Jr!==null&&is(Jr,t),Yr!==null&&is(Yr,t),Ks.forEach(e),Js.forEach(e),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)FT(n),n.blockedOn===null&&Br.shift()}var Vo=kr.ReactCurrentBatchConfig,bc=!0;function bR(t,e,n,r){var i=Ce,o=Vo.transition;Vo.transition=null;try{Ce=1,Dy(t,e,n,r)}finally{Ce=i,Vo.transition=o}}function xR(t,e,n,r){var i=Ce,o=Vo.transition;Vo.transition=null;try{Ce=4,Dy(t,e,n,r)}finally{Ce=i,Vo.transition=o}}function Dy(t,e,n,r){if(bc){var i=Yp(t,e,n,r);if(i===null)Oh(t,e,r,xc,n),aw(t,r);else if(vR(i,t,e,n,r))r.stopPropagation();else if(aw(t,r),e&4&&-1<yR.indexOf(t)){for(;i!==null;){var o=tu(i);if(o!==null&&DT(o),o=Yp(t,e,n,r),o===null&&Oh(t,e,r,xc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Oh(t,e,r,null,n)}}var xc=null;function Yp(t,e,n,r){if(xc=null,t=Oy(r),t=Pi(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xc=t,null}function BT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lR()){case Ry:return 1;case OT:return 4;case vc:case uR:return 16;case RT:return 536870912;default:return 16}default:return 16}}var zr=null,Ly=null,ic=null;function GT(){if(ic)return ic;var t,e=Ly,n=e.length,r,i="value"in zr?zr.value:zr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return ic=i.slice(t,1<r?1-r:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function lw(){return!1}function un(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xu:lw,this.isPropagationStopped=lw,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jy=un($a),eu=Ye({},$a,{view:0,detail:0}),_R=un(eu),Sh,Eh,os,ef=Ye({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(Sh=t.screenX-os.screenX,Eh=t.screenY-os.screenY):Eh=Sh=0,os=t),Sh)},movementY:function(t){return"movementY"in t?t.movementY:Eh}}),uw=un(ef),SR=Ye({},ef,{dataTransfer:0}),ER=un(SR),TR=Ye({},eu,{relatedTarget:0}),Th=un(TR),AR=Ye({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),CR=un(AR),kR=Ye({},$a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PR=un(kR),IR=Ye({},$a,{data:0}),cw=un(IR),NR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RR[t])?!!e[t]:!1}function Uy(){return MR}var $R=Ye({},eu,{key:function(t){if(t.key){var e=NR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uy,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DR=un($R),LR=Ye({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dw=un(LR),jR=Ye({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uy}),UR=un(jR),FR=Ye({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),BR=un(FR),GR=Ye({},ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VR=un(GR),zR=[9,13,27,32],Fy=wr&&"CompositionEvent"in window,Is=null;wr&&"documentMode"in document&&(Is=document.documentMode);var HR=wr&&"TextEvent"in window&&!Is,VT=wr&&(!Fy||Is&&8<Is&&11>=Is),fw=" ",hw=!1;function zT(t,e){switch(t){case"keyup":return zR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function qR(t,e){switch(t){case"compositionend":return HT(e);case"keypress":return e.which!==32?null:(hw=!0,fw);case"textInput":return t=e.data,t===fw&&hw?null:t;default:return null}}function WR(t,e){if(Eo)return t==="compositionend"||!Fy&&zT(t,e)?(t=GT(),ic=Ly=zr=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VT&&e.locale!=="ko"?null:e.data;default:return null}}var KR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KR[t.type]:e==="textarea"}function qT(t,e,n,r){ST(r),e=_c(e,"onChange"),0<e.length&&(n=new jy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ns=null,Xs=null;function JR(t){rA(t,0)}function tf(t){var e=Co(t);if(gT(e))return t}function YR(t,e){if(t==="change")return e}var WT=!1;if(wr){var Ah;if(wr){var Ch="oninput"in document;if(!Ch){var mw=document.createElement("div");mw.setAttribute("oninput","return;"),Ch=typeof mw.oninput=="function"}Ah=Ch}else Ah=!1;WT=Ah&&(!document.documentMode||9<document.documentMode)}function gw(){Ns&&(Ns.detachEvent("onpropertychange",KT),Xs=Ns=null)}function KT(t){if(t.propertyName==="value"&&tf(Xs)){var e=[];qT(e,Xs,t,Oy(t)),CT(JR,e)}}function XR(t,e,n){t==="focusin"?(gw(),Ns=e,Xs=n,Ns.attachEvent("onpropertychange",KT)):t==="focusout"&&gw()}function QR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tf(Xs)}function ZR(t,e){if(t==="click")return tf(e)}function eM(t,e){if(t==="input"||t==="change")return tf(e)}function tM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:tM;function Qs(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Op.call(e,i)||!qn(t[i],e[i]))return!1}return!0}function yw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vw(t,e){var n=yw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yw(n)}}function JT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YT(){for(var t=window,e=mc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mc(t.document)}return e}function By(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nM(t){var e=YT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JT(n.ownerDocument.documentElement,n)){if(r!==null&&By(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=vw(n,o);var a=vw(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rM=wr&&"documentMode"in document&&11>=document.documentMode,To=null,Xp=null,Os=null,Qp=!1;function ww(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qp||To==null||To!==mc(r)||(r=To,"selectionStart"in r&&By(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Os&&Qs(Os,r)||(Os=r,r=_c(Xp,"onSelect"),0<r.length&&(e=new jy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=To)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ao={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},kh={},XT={};wr&&(XT=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function nf(t){if(kh[t])return kh[t];if(!Ao[t])return t;var e=Ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XT)return kh[t]=e[n];return t}var QT=nf("animationend"),ZT=nf("animationiteration"),eA=nf("animationstart"),tA=nf("transitionend"),nA=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){nA.set(t,e),Qi(e,[t])}for(var Ph=0;Ph<bw.length;Ph++){var Ih=bw[Ph],iM=Ih.toLowerCase(),oM=Ih[0].toUpperCase()+Ih.slice(1);li(iM,"on"+oM)}li(QT,"onAnimationEnd");li(ZT,"onAnimationIteration");li(eA,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(tA,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function xw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iR(r,e,void 0,t),t.currentTarget=null}function rA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;xw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;xw(i,s,u),o=l}}}if(yc)throw t=Wp,yc=!1,Wp=null,t}function Ue(t,e){var n=e[rm];n===void 0&&(n=e[rm]=new Set);var r=t+"__bubble";n.has(r)||(iA(e,t,2,!1),n.add(r))}function Nh(t,e,n){var r=0;e&&(r|=4),iA(n,t,r,e)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Zs(t){if(!t[Su]){t[Su]=!0,dT.forEach(function(n){n!=="selectionchange"&&(aM.has(n)||Nh(n,!1,t),Nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Su]||(e[Su]=!0,Nh("selectionchange",!1,e))}}function iA(t,e,n,r){switch(BT(e)){case 1:var i=bR;break;case 4:i=xR;break;default:i=Dy}n=i.bind(null,e,n,t),i=void 0,!qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Oh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Pi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}CT(function(){var u=o,c=Oy(n),d=[];e:{var h=nA.get(t);if(h!==void 0){var m=jy,y=t;switch(t){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":m=DR;break;case"focusin":y="focus",m=Th;break;case"focusout":y="blur",m=Th;break;case"beforeblur":case"afterblur":m=Th;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ER;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UR;break;case QT:case ZT:case eA:m=CR;break;case tA:m=BR;break;case"scroll":m=_R;break;case"wheel":m=VR;break;case"copy":case"cut":case"paste":m=PR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=dw}var w=(e&4)!==0,v=!w&&t==="scroll",b=w?h!==null?h+"Capture":null:h;w=[];for(var x=u,_;x!==null;){_=x;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,b!==null&&(T=Ws(x,b),T!=null&&w.push(el(x,T,_)))),v)break;x=x.return}0<w.length&&(h=new m(h,y,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==zp&&(y=n.relatedTarget||n.fromElement)&&(Pi(y)||y[br]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Pi(y):null,y!==null&&(v=Zi(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=uw,T="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=dw,T="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?h:Co(m),_=y==null?h:Co(y),h=new w(T,x+"leave",m,n,c),h.target=v,h.relatedTarget=_,T=null,Pi(c)===u&&(w=new w(b,x+"enter",y,n,c),w.target=_,w.relatedTarget=v,T=w),v=T,m&&y)t:{for(w=m,b=y,x=0,_=w;_;_=so(_))x++;for(_=0,T=b;T;T=so(T))_++;for(;0<x-_;)w=so(w),x--;for(;0<_-x;)b=so(b),_--;for(;x--;){if(w===b||b!==null&&w===b.alternate)break t;w=so(w),b=so(b)}w=null}else w=null;m!==null&&_w(d,h,m,w,!1),y!==null&&v!==null&&_w(d,v,y,w,!0)}}e:{if(h=u?Co(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=YR;else if(pw(h))if(WT)S=eM;else{S=QR;var E=XR}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=ZR);if(S&&(S=S(t,u))){qT(d,S,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Up(h,"number",h.value)}switch(E=u?Co(u):window,t){case"focusin":(pw(E)||E.contentEditable==="true")&&(To=E,Xp=u,Os=null);break;case"focusout":Os=Xp=To=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,ww(d,n,c);break;case"selectionchange":if(rM)break;case"keydown":case"keyup":ww(d,n,c)}var A;if(Fy)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Eo?zT(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(VT&&n.locale!=="ko"&&(Eo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Eo&&(A=GT()):(zr=c,Ly="value"in zr?zr.value:zr.textContent,Eo=!0)),E=_c(u,C),0<E.length&&(C=new cw(C,t,null,n,c),d.push({event:C,listeners:E}),A?C.data=A:(A=HT(n),A!==null&&(C.data=A)))),(A=HR?qR(t,n):WR(t,n))&&(u=_c(u,"onBeforeInput"),0<u.length&&(c=new cw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}rA(d,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _c(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ws(t,n),o!=null&&r.unshift(el(t,o,i)),o=Ws(t,e),o!=null&&r.push(el(t,o,i))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _w(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Ws(n,o),l!=null&&a.unshift(el(n,l,s))):i||(l=Ws(n,o),l!=null&&a.push(el(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var sM=/\r\n?/g,lM=/\u0000|\uFFFD/g;function Sw(t){return(typeof t=="string"?t:""+t).replace(sM,`
`).replace(lM,"")}function Eu(t,e,n){if(e=Sw(e),Sw(t)!==e&&n)throw Error(W(425))}function Sc(){}var Zp=null,em=null;function tm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nm=typeof setTimeout=="function"?setTimeout:void 0,uM=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,cM=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(t){return Ew.resolve(null).then(t).catch(dM)}:nm;function dM(t){setTimeout(function(){throw t})}function Rh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ys(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ys(e)}function Xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Da,tl="__reactProps$"+Da,br="__reactContainer$"+Da,rm="__reactEvents$"+Da,fM="__reactListeners$"+Da,hM="__reactHandles$"+Da;function Pi(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[br]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tw(t);t!==null;){if(n=t[Qn])return n;t=Tw(t)}return e}t=n,n=t.parentNode}return null}function tu(t){return t=t[Qn]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function rf(t){return t[tl]||null}var im=[],ko=-1;function ui(t){return{current:t}}function Ge(t){0>ko||(t.current=im[ko],im[ko]=null,ko--)}function Le(t,e){ko++,im[ko]=t.current,t.current=e}var si={},Rt=ui(si),qt=ui(!1),Vi=si;function na(t,e){var n=t.type.contextTypes;if(!n)return si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(t){return t=t.childContextTypes,t!=null}function Ec(){Ge(qt),Ge(Rt)}function Aw(t,e,n){if(Rt.current!==si)throw Error(W(168));Le(Rt,e),Le(qt,n)}function oA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,XO(t)||"Unknown",i));return Ye({},n,r)}function Tc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,Vi=Rt.current,Le(Rt,t),Le(qt,qt.current),!0}function Cw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=oA(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,Ge(qt),Ge(Rt),Le(Rt,t)):Ge(qt),Le(qt,n)}var dr=null,of=!1,Mh=!1;function aA(t){dr===null?dr=[t]:dr.push(t)}function pM(t){of=!0,aA(t)}function ci(){if(!Mh&&dr!==null){Mh=!0;var t=0,e=Ce;try{var n=dr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,of=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),NT(Ry,ci),i}finally{Ce=e,Mh=!1}}return null}var Po=[],Io=0,Ac=null,Cc=0,pn=[],mn=0,zi=null,fr=1,hr="";function bi(t,e){Po[Io++]=Cc,Po[Io++]=Ac,Ac=t,Cc=e}function sA(t,e,n){pn[mn++]=fr,pn[mn++]=hr,pn[mn++]=zi,zi=t;var r=fr;t=hr;var i=32-Bn(r)-1;r&=~(1<<i),n+=1;var o=32-Bn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,fr=1<<32-Bn(e)+i|n<<i|r,hr=o+t}else fr=1<<o|n<<i|r,hr=t}function Gy(t){t.return!==null&&(bi(t,1),sA(t,1,0))}function Vy(t){for(;t===Ac;)Ac=Po[--Io],Po[Io]=null,Cc=Po[--Io],Po[Io]=null;for(;t===zi;)zi=pn[--mn],pn[mn]=null,hr=pn[--mn],pn[mn]=null,fr=pn[--mn],pn[mn]=null}var on=null,rn=null,ze=!1,jn=null;function lA(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,rn=Xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:fr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,rn=null,!0):!1;default:return!1}}function om(t){return(t.mode&1)!==0&&(t.flags&128)===0}function am(t){if(ze){var e=rn;if(e){var n=e;if(!kw(t,e)){if(om(t))throw Error(W(418));e=Xr(n.nextSibling);var r=on;e&&kw(t,e)?lA(r,n):(t.flags=t.flags&-4097|2,ze=!1,on=t)}}else{if(om(t))throw Error(W(418));t.flags=t.flags&-4097|2,ze=!1,on=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function Tu(t){if(t!==on)return!1;if(!ze)return Pw(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tm(t.type,t.memoizedProps)),e&&(e=rn)){if(om(t))throw uA(),Error(W(418));for(;e;)lA(t,e),e=Xr(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=Xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=on?Xr(t.stateNode.nextSibling):null;return!0}function uA(){for(var t=rn;t;)t=Xr(t.nextSibling)}function ra(){rn=on=null,ze=!1}function zy(t){jn===null?jn=[t]:jn.push(t)}var mM=kr.ReactCurrentBatchConfig;function as(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Au(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Iw(t){var e=t._init;return e(t._payload)}function cA(t){function e(b,x){if(t){var _=b.deletions;_===null?(b.deletions=[x],b.flags|=16):_.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=ti(b,x),b.index=0,b.sibling=null,b}function o(b,x,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<x?(b.flags|=2,x):_):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,x,_,T){return x===null||x.tag!==6?(x=Bh(_,b.mode,T),x.return=b,x):(x=i(x,_),x.return=b,x)}function l(b,x,_,T){var S=_.type;return S===So?c(b,x,_.props.children,T,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lr&&Iw(S)===x.type)?(T=i(x,_.props),T.ref=as(b,x,_),T.return=b,T):(T=fc(_.type,_.key,_.props,null,b.mode,T),T.ref=as(b,x,_),T.return=b,T)}function u(b,x,_,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Gh(_,b.mode,T),x.return=b,x):(x=i(x,_.children||[]),x.return=b,x)}function c(b,x,_,T,S){return x===null||x.tag!==7?(x=Ui(_,b.mode,T,S),x.return=b,x):(x=i(x,_),x.return=b,x)}function d(b,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Bh(""+x,b.mode,_),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mu:return _=fc(x.type,x.key,x.props,null,b.mode,_),_.ref=as(b,null,x),_.return=b,_;case _o:return x=Gh(x,b.mode,_),x.return=b,x;case Lr:var T=x._init;return d(b,T(x._payload),_)}if(_s(x)||ts(x))return x=Ui(x,b.mode,_,null),x.return=b,x;Au(b,x)}return null}function h(b,x,_,T){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(b,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mu:return _.key===S?l(b,x,_,T):null;case _o:return _.key===S?u(b,x,_,T):null;case Lr:return S=_._init,h(b,x,S(_._payload),T)}if(_s(_)||ts(_))return S!==null?null:c(b,x,_,T,null);Au(b,_)}return null}function m(b,x,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(_)||null,s(x,b,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mu:return b=b.get(T.key===null?_:T.key)||null,l(x,b,T,S);case _o:return b=b.get(T.key===null?_:T.key)||null,u(x,b,T,S);case Lr:var E=T._init;return m(b,x,_,E(T._payload),S)}if(_s(T)||ts(T))return b=b.get(_)||null,c(x,b,T,S,null);Au(x,T)}return null}function y(b,x,_,T){for(var S=null,E=null,A=x,C=x=0,k=null;A!==null&&C<_.length;C++){A.index>C?(k=A,A=null):k=A.sibling;var P=h(b,A,_[C],T);if(P===null){A===null&&(A=k);break}t&&A&&P.alternate===null&&e(b,A),x=o(P,x,C),E===null?S=P:E.sibling=P,E=P,A=k}if(C===_.length)return n(b,A),ze&&bi(b,C),S;if(A===null){for(;C<_.length;C++)A=d(b,_[C],T),A!==null&&(x=o(A,x,C),E===null?S=A:E.sibling=A,E=A);return ze&&bi(b,C),S}for(A=r(b,A);C<_.length;C++)k=m(A,b,C,_[C],T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?C:k.key),x=o(k,x,C),E===null?S=k:E.sibling=k,E=k);return t&&A.forEach(function(N){return e(b,N)}),ze&&bi(b,C),S}function w(b,x,_,T){var S=ts(_);if(typeof S!="function")throw Error(W(150));if(_=S.call(_),_==null)throw Error(W(151));for(var E=S=null,A=x,C=x=0,k=null,P=_.next();A!==null&&!P.done;C++,P=_.next()){A.index>C?(k=A,A=null):k=A.sibling;var N=h(b,A,P.value,T);if(N===null){A===null&&(A=k);break}t&&A&&N.alternate===null&&e(b,A),x=o(N,x,C),E===null?S=N:E.sibling=N,E=N,A=k}if(P.done)return n(b,A),ze&&bi(b,C),S;if(A===null){for(;!P.done;C++,P=_.next())P=d(b,P.value,T),P!==null&&(x=o(P,x,C),E===null?S=P:E.sibling=P,E=P);return ze&&bi(b,C),S}for(A=r(b,A);!P.done;C++,P=_.next())P=m(A,b,C,P.value,T),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?C:P.key),x=o(P,x,C),E===null?S=P:E.sibling=P,E=P);return t&&A.forEach(function(I){return e(b,I)}),ze&&bi(b,C),S}function v(b,x,_,T){if(typeof _=="object"&&_!==null&&_.type===So&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case mu:e:{for(var S=_.key,E=x;E!==null;){if(E.key===S){if(S=_.type,S===So){if(E.tag===7){n(b,E.sibling),x=i(E,_.props.children),x.return=b,b=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lr&&Iw(S)===E.type){n(b,E.sibling),x=i(E,_.props),x.ref=as(b,E,_),x.return=b,b=x;break e}n(b,E);break}else e(b,E);E=E.sibling}_.type===So?(x=Ui(_.props.children,b.mode,T,_.key),x.return=b,b=x):(T=fc(_.type,_.key,_.props,null,b.mode,T),T.ref=as(b,x,_),T.return=b,b=T)}return a(b);case _o:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(b,x.sibling),x=i(x,_.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=Gh(_,b.mode,T),x.return=b,b=x}return a(b);case Lr:return E=_._init,v(b,x,E(_._payload),T)}if(_s(_))return y(b,x,_,T);if(ts(_))return w(b,x,_,T);Au(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,_),x.return=b,b=x):(n(b,x),x=Bh(_,b.mode,T),x.return=b,b=x),a(b)):n(b,x)}return v}var ia=cA(!0),dA=cA(!1),kc=ui(null),Pc=null,No=null,Hy=null;function qy(){Hy=No=Pc=null}function Wy(t){var e=kc.current;Ge(kc),t._currentValue=e}function sm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zo(t,e){Pc=t,Hy=No=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(Hy!==t)if(t={context:t,memoizedValue:e,next:null},No===null){if(Pc===null)throw Error(W(308));No=t,Pc.dependencies={lanes:0,firstContext:t}}else No=No.next=t;return e}var Ii=null;function Ky(t){Ii===null?Ii=[t]:Ii.push(t)}function fA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ky(e)):(n.next=i.next,i.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jr=!1;function Jy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ky(r)):(e.next=i.next,i.next=e),r.interleaved=e,xr(t,n)}function ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,My(t,n)}}function Nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ic(t,e,n,r){var i=t.updateQueue;jr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,w=s;switch(h=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=Ye({},d,h);break e;case 2:jr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);qi|=a,t.lanes=a,t.memoizedState=d}}function Ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var nu={},nr=ui(nu),nl=ui(nu),rl=ui(nu);function Ni(t){if(t===nu)throw Error(W(174));return t}function Yy(t,e){switch(Le(rl,e),Le(nl,t),Le(nr,nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bp(e,t)}Ge(nr),Le(nr,e)}function oa(){Ge(nr),Ge(nl),Ge(rl)}function pA(t){Ni(rl.current);var e=Ni(nr.current),n=Bp(e,t.type);e!==n&&(Le(nl,t),Le(nr,n))}function Xy(t){nl.current===t&&(Ge(nr),Ge(nl))}var We=ui(0);function Nc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $h=[];function Qy(){for(var t=0;t<$h.length;t++)$h[t]._workInProgressVersionPrimary=null;$h.length=0}var sc=kr.ReactCurrentDispatcher,Dh=kr.ReactCurrentBatchConfig,Hi=0,Je=null,ct=null,mt=null,Oc=!1,Rs=!1,il=0,gM=0;function Ct(){throw Error(W(321))}function Zy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function ev(t,e,n,r,i,o){if(Hi=o,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sc.current=t===null||t.memoizedState===null?bM:xM,t=n(r,i),Rs){o=0;do{if(Rs=!1,il=0,25<=o)throw Error(W(301));o+=1,mt=ct=null,e.updateQueue=null,sc.current=_M,t=n(r,i)}while(Rs)}if(sc.current=Rc,e=ct!==null&&ct.next!==null,Hi=0,mt=ct=Je=null,Oc=!1,e)throw Error(W(300));return t}function tv(){var t=il!==0;return il=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Je.memoizedState=mt=t:mt=mt.next=t,mt}function Sn(){if(ct===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=mt===null?Je.memoizedState:mt.next;if(e!==null)mt=e,ct=t;else{if(t===null)throw Error(W(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?Je.memoizedState=mt=t:mt=mt.next=t}return mt}function ol(t,e){return typeof e=="function"?e(t):e}function Lh(t){var e=Sn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=ct,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Hi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Je.lanes|=c,qi|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,qn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Je.lanes|=o,qi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jh(t){var e=Sn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);qn(o,e.memoizedState)||(zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function mA(){}function gA(t,e){var n=Je,r=Sn(),i=e(),o=!qn(r.memoizedState,i);if(o&&(r.memoizedState=i,zt=!0),r=r.queue,nv(wA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,al(9,vA.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(W(349));Hi&30||yA(n,e,i)}return i}function yA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vA(t,e,n,r){e.value=n,e.getSnapshot=r,bA(e)&&xA(t)}function wA(t,e,n){return n(function(){bA(e)&&xA(t)})}function bA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function xA(t){var e=xr(t,1);e!==null&&Gn(e,t,1,-1)}function Rw(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:t},e.queue=t,t=t.dispatch=wM.bind(null,Je,t),[e.memoizedState,t]}function al(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _A(){return Sn().memoizedState}function lc(t,e,n,r){var i=Xn();Je.flags|=t,i.memoizedState=al(1|e,n,void 0,r===void 0?null:r)}function af(t,e,n,r){var i=Sn();r=r===void 0?null:r;var o=void 0;if(ct!==null){var a=ct.memoizedState;if(o=a.destroy,r!==null&&Zy(r,a.deps)){i.memoizedState=al(e,n,o,r);return}}Je.flags|=t,i.memoizedState=al(1|e,n,o,r)}function Mw(t,e){return lc(8390656,8,t,e)}function nv(t,e){return af(2048,8,t,e)}function SA(t,e){return af(4,2,t,e)}function EA(t,e){return af(4,4,t,e)}function TA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AA(t,e,n){return n=n!=null?n.concat([t]):null,af(4,4,TA.bind(null,e,t),n)}function rv(){}function CA(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kA(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PA(t,e,n){return Hi&21?(qn(n,e)||(n=MT(),Je.lanes|=n,qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function yM(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Dh.transition;Dh.transition={};try{t(!1),e()}finally{Ce=n,Dh.transition=r}}function IA(){return Sn().memoizedState}function vM(t,e,n){var r=ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NA(t))OA(e,n);else if(n=fA(t,e,n,r),n!==null){var i=Ut();Gn(n,t,r,i),RA(n,e,r)}}function wM(t,e,n){var r=ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NA(t))OA(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,qn(s,a)){var l=e.interleaved;l===null?(i.next=i,Ky(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=fA(t,e,i,r),n!==null&&(i=Ut(),Gn(n,t,r,i),RA(n,e,r))}}function NA(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function OA(t,e){Rs=Oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,My(t,n)}}var Rc={readContext:_n,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},bM={readContext:_n,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Mw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lc(4194308,4,TA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return lc(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vM.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:Rw,useDebugValue:rv,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=Rw(!1),e=t[0];return t=yM.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=Xn();if(ze){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),gt===null)throw Error(W(349));Hi&30||yA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Mw(wA.bind(null,r,o,t),[t]),r.flags|=2048,al(9,vA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Xn(),e=gt.identifierPrefix;if(ze){var n=hr,r=fr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xM={readContext:_n,useCallback:CA,useContext:_n,useEffect:nv,useImperativeHandle:AA,useInsertionEffect:SA,useLayoutEffect:EA,useMemo:kA,useReducer:Lh,useRef:_A,useState:function(){return Lh(ol)},useDebugValue:rv,useDeferredValue:function(t){var e=Sn();return PA(e,ct.memoizedState,t)},useTransition:function(){var t=Lh(ol)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:mA,useSyncExternalStore:gA,useId:IA,unstable_isNewReconciler:!1},_M={readContext:_n,useCallback:CA,useContext:_n,useEffect:nv,useImperativeHandle:AA,useInsertionEffect:SA,useLayoutEffect:EA,useMemo:kA,useReducer:jh,useRef:_A,useState:function(){return jh(ol)},useDebugValue:rv,useDeferredValue:function(t){var e=Sn();return ct===null?e.memoizedState=t:PA(e,ct.memoizedState,t)},useTransition:function(){var t=jh(ol)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:mA,useSyncExternalStore:gA,useId:IA,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sf={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ei(t),o=gr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Qr(t,o,i),e!==null&&(Gn(e,t,i,r),ac(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ei(t),o=gr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Qr(t,o,i),e!==null&&(Gn(e,t,i,r),ac(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ei(t),i=gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qr(t,i,r),e!==null&&(Gn(e,t,r,n),ac(e,t,r))}};function $w(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Qs(n,r)||!Qs(i,o):!0}function MA(t,e,n){var r=!1,i=si,o=e.contextType;return typeof o=="object"&&o!==null?o=_n(o):(i=Wt(e)?Vi:Rt.current,r=e.contextTypes,o=(r=r!=null)?na(t,i):si),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Dw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sf.enqueueReplaceState(e,e.state,null)}function um(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Jy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=_n(o):(o=Wt(e)?Vi:Rt.current,i.context=na(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(lm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sf.enqueueReplaceState(i,i.state,null),Ic(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,e){try{var n="",r=e;do n+=YO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Uh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SM=typeof WeakMap=="function"?WeakMap:Map;function $A(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$c||($c=!0,bm=r),cm(t,e)},n}function DA(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){cm(t,e),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Lw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LM.bind(null,t,e,n),e.then(t,t))}function jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,Qr(n,e,1))),n.lanes|=1),t)}var EM=kr.ReactCurrentOwner,zt=!1;function Dt(t,e,n,r){e.child=t===null?dA(e,null,n,r):ia(e,t.child,n,r)}function Fw(t,e,n,r,i){n=n.render;var o=e.ref;return zo(e,i),r=ev(t,e,n,r,o,i),n=tv(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(ze&&n&&Gy(e),e.flags|=1,Dt(t,e,r,i),e.child)}function Bw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!dv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,LA(t,e,o,r,i)):(t=fc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(a,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=ti(o,r),t.ref=e.ref,t.return=e,e.child=t}function LA(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Qs(o,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return dm(t,e,n,r,i)}function jA(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ro,Qt),Qt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Ro,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(Ro,Qt),Qt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Le(Ro,Qt),Qt|=r;return Dt(t,e,i,n),e.child}function UA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dm(t,e,n,r,i){var o=Wt(n)?Vi:Rt.current;return o=na(e,o),zo(e,i),n=ev(t,e,n,r,o,i),r=tv(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(ze&&r&&Gy(e),e.flags|=1,Dt(t,e,n,i),e.child)}function Gw(t,e,n,r,i){if(Wt(n)){var o=!0;Tc(e)}else o=!1;if(zo(e,i),e.stateNode===null)uc(t,e),MA(e,n,r),um(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_n(u):(u=Wt(n)?Vi:Rt.current,u=na(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Dw(e,a,r,u),jr=!1;var h=e.memoizedState;a.state=h,Ic(e,r,a,i),l=e.memoizedState,s!==r||h!==l||qt.current||jr?(typeof c=="function"&&(lm(e,n,c,r),l=e.memoizedState),(s=jr||$w(e,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,hA(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Rn(e.type,s),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Wt(n)?Vi:Rt.current,l=na(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Dw(e,a,r,l),jr=!1,h=e.memoizedState,a.state=h,Ic(e,r,a,i);var y=e.memoizedState;s!==d||h!==y||qt.current||jr?(typeof m=="function"&&(lm(e,n,m,r),y=e.memoizedState),(u=jr||$w(e,n,u,r,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return fm(t,e,n,r,o,i)}function fm(t,e,n,r,i,o){UA(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Cw(e,n,!1),_r(t,e,o);r=e.stateNode,EM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ia(e,t.child,null,o),e.child=ia(e,null,s,o)):Dt(t,e,s,o),e.memoizedState=r.state,i&&Cw(e,n,!0),e.child}function FA(t){var e=t.stateNode;e.pendingContext?Aw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Aw(t,e.context,!1),Yy(t,e.containerInfo)}function Vw(t,e,n,r,i){return ra(),zy(i),e.flags|=256,Dt(t,e,n,r),e.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function pm(t){return{baseLanes:t,cachePool:null,transitions:null}}function BA(t,e,n){var r=e.pendingProps,i=We.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(We,i&1),t===null)return am(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=cf(a,r,0,null),t=Ui(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=pm(n),e.memoizedState=hm,t):iv(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return TM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ti(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ti(s,o):(o=Ui(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?pm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=hm,r}return o=t.child,t=o.sibling,r=ti(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iv(t,e){return e=cf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cu(t,e,n,r){return r!==null&&zy(r),ia(e,t.child,null,n),t=iv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Uh(Error(W(422))),Cu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cf({mode:"visible",children:r.children},i,0,null),o=Ui(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ia(e,t.child,null,a),e.child.memoizedState=pm(a),e.memoizedState=hm,o);if(!(e.mode&1))return Cu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(W(419)),r=Uh(o,r,void 0),Cu(t,e,a,r)}if(s=(a&t.childLanes)!==0,zt||s){if(r=gt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xr(t,i),Gn(r,t,i,-1))}return cv(),r=Uh(Error(W(421))),Cu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,rn=Xr(i.nextSibling),on=e,ze=!0,jn=null,t!==null&&(pn[mn++]=fr,pn[mn++]=hr,pn[mn++]=zi,fr=t.id,hr=t.overflow,zi=e),e=iv(e,r.children),e.flags|=4096,e)}function zw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sm(t.return,e,n)}function Fh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function GA(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Dt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zw(t,n,e);else if(t.tag===19)zw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fh(e,!0,n,null,o);break;case"together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AM(t,e,n){switch(e.tag){case 3:FA(e),ra();break;case 5:pA(e);break;case 1:Wt(e.type)&&Tc(e);break;case 4:Yy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(kc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?BA(t,e,n):(Le(We,We.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Le(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,jA(t,e,n)}return _r(t,e,n)}var VA,mm,zA,HA;VA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mm=function(){};zA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ni(nr.current);var o=null;switch(n){case"input":i=Lp(t,i),r=Lp(t,r),o=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),o=[];break;case"textarea":i=Fp(t,i),r=Fp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sc)}Gp(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};HA=function(t,e,n,r){n!==r&&(e.flags|=4)};function ss(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CM(t,e,n){var r=e.pendingProps;switch(Vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Wt(e.type)&&Ec(),kt(e),null;case 3:return r=e.stateNode,oa(),Ge(qt),Ge(Rt),Qy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Sm(jn),jn=null))),mm(t,e),kt(e),null;case 5:Xy(e);var i=Ni(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)zA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return kt(e),null}if(t=Ni(nr.current),Tu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Qn]=e,r[tl]=o,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<Es.length;i++)Ue(Es[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Z0(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":tw(r,o),Ue("invalid",r)}Gp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Eu(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Eu(r.textContent,s,t),i=["children",""+s]):Hs.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ue("scroll",r)}switch(n){case"input":gu(r),ew(r,o,!0);break;case"textarea":gu(r),nw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Qn]=e,t[tl]=r,VA(t,e,!1,!1),e.stateNode=t;e:{switch(a=Vp(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),i=r;break;case"iframe":case"object":case"embed":Ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<Es.length;i++)Ue(Es[i],t);i=r;break;case"source":Ue("error",t),i=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),i=r;break;case"details":Ue("toggle",t),i=r;break;case"input":Z0(t,r),i=Lp(t,r),Ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":tw(t,r),i=Fp(t,r),Ue("invalid",t);break;default:i=r}Gp(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?_T(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bT(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qs(t,l):typeof l=="number"&&qs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ue("scroll",t):l!=null&&ky(t,o,l,a))}switch(n){case"input":gu(t),ew(t,r,!1);break;case"textarea":gu(t),nw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ai(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Fo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)HA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ni(rl.current),Ni(nr.current),Tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qn]=e,(o=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:Eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return kt(e),null;case 13:if(Ge(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&rn!==null&&e.mode&1&&!(e.flags&128))uA(),ra(),e.flags|=98560,o=!1;else if(o=Tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Qn]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),o=!1}else jn!==null&&(Sm(jn),jn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?dt===0&&(dt=3):cv())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return oa(),mm(t,e),t===null&&Zs(e.stateNode.containerInfo),kt(e),null;case 10:return Wy(e.type._context),kt(e),null;case 17:return Wt(e.type)&&Ec(),kt(e),null;case 19:if(Ge(We),o=e.memoizedState,o===null)return kt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ss(o,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Nc(t),a!==null){for(e.flags|=128,ss(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(We,We.current&1|2),e.child}t=t.sibling}o.tail!==null&&et()>sa&&(e.flags|=128,r=!0,ss(o,!1),e.lanes=4194304)}else{if(!r)if(t=Nc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ze)return kt(e),null}else 2*et()-o.renderingStartTime>sa&&n!==1073741824&&(e.flags|=128,r=!0,ss(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=et(),e.sibling=null,n=We.current,Le(We,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return uv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function kM(t,e){switch(Vy(e),e.tag){case 1:return Wt(e.type)&&Ec(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(),Ge(qt),Ge(Rt),Qy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xy(e),null;case 13:if(Ge(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(We),null;case 4:return oa(),null;case 10:return Wy(e.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var ku=!1,It=!1,PM=typeof WeakSet=="function"?WeakSet:Set,te=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function gm(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var Hw=!1;function IM(t,e){if(Zp=bc,t=YT(),By(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(em={focusedElem:t,selectionRange:n},bc=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,v=y.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:Rn(e.type,w),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(T){Qe(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return y=Hw,Hw=!1,y}function Ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&gm(e,n,o)}i=i.next}while(i!==r)}}function lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ym(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qA(t){var e=t.alternate;e!==null&&(t.alternate=null,qA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[tl],delete e[rm],delete e[fM],delete e[hM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WA(t){return t.tag===5||t.tag===3||t.tag===4}function qw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sc));else if(r!==4&&(t=t.child,t!==null))for(vm(t,e,n),t=t.sibling;t!==null;)vm(t,e,n),t=t.sibling}function wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wm(t,e,n),t=t.sibling;t!==null;)wm(t,e,n),t=t.sibling}var St=null,$n=!1;function $r(t,e,n){for(n=n.child;n!==null;)KA(t,e,n),n=n.sibling}function KA(t,e,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Zd,n)}catch{}switch(n.tag){case 5:It||Oo(n,e);case 6:var r=St,i=$n;St=null,$r(t,e,n),St=r,$n=i,St!==null&&($n?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&($n?(t=St,n=n.stateNode,t.nodeType===8?Rh(t.parentNode,n):t.nodeType===1&&Rh(t,n),Ys(t)):Rh(St,n.stateNode));break;case 4:r=St,i=$n,St=n.stateNode.containerInfo,$n=!0,$r(t,e,n),St=r,$n=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&gm(n,e,a),i=i.next}while(i!==r)}$r(t,e,n);break;case 1:if(!It&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Qe(n,e,s)}$r(t,e,n);break;case 21:$r(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,$r(t,e,n),It=r):$r(t,e,n);break;default:$r(t,e,n)}}function Ww(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PM),e.forEach(function(r){var i=UM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function In(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:St=s.stateNode,$n=!1;break e;case 3:St=s.stateNode.containerInfo,$n=!0;break e;case 4:St=s.stateNode.containerInfo,$n=!0;break e}s=s.return}if(St===null)throw Error(W(160));KA(o,a,i),St=null,$n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JA(e,t),e=e.sibling}function JA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),Yn(t),r&4){try{Ms(3,t,t.return),lf(3,t)}catch(w){Qe(t,t.return,w)}try{Ms(5,t,t.return)}catch(w){Qe(t,t.return,w)}}break;case 1:In(e,t),Yn(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(In(e,t),Yn(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var i=t.stateNode;try{qs(i,"")}catch(w){Qe(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&yT(i,o),Vp(s,a);var u=Vp(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?_T(i,d):c==="dangerouslySetInnerHTML"?bT(i,d):c==="children"?qs(i,d):ky(i,c,d,u)}switch(s){case"input":jp(i,o);break;case"textarea":vT(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Fo(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Fo(i,!!o.multiple,o.defaultValue,!0):Fo(i,!!o.multiple,o.multiple?[]:"",!1))}i[tl]=o}catch(w){Qe(t,t.return,w)}}break;case 6:if(In(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){Qe(t,t.return,w)}}break;case 3:if(In(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(e.containerInfo)}catch(w){Qe(t,t.return,w)}break;case 4:In(e,t),Yn(t);break;case 13:In(e,t),Yn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sv=et())),r&4&&Ww(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||c,In(e,t),It=u):In(e,t),Yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(d=te=c;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ms(4,h,h.return);break;case 1:Oo(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Qe(r,n,w)}}break;case 5:Oo(h,h.return);break;case 22:if(h.memoizedState!==null){Jw(d);continue}}m!==null?(m.return=h,te=m):Jw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=xT("display",a))}catch(w){Qe(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Qe(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:In(e,t),Yn(t),r&4&&Ww(t);break;case 21:break;default:In(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WA(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qs(i,""),r.flags&=-33);var o=qw(t);wm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=qw(t);vm(t,s,a);break;default:throw Error(W(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NM(t,e,n){te=t,YA(t)}function YA(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ku;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||It;s=ku;var u=It;if(ku=a,(It=l)&&!u)for(te=i;te!==null;)a=te,l=a.child,a.tag===22&&a.memoizedState!==null?Yw(i):l!==null?(l.return=a,te=l):Yw(i);for(;o!==null;)te=o,YA(o),o=o.sibling;te=i,ku=s,It=u}Kw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,te=o):Kw(t)}}function Kw(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||lf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ow(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ow(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}It||e.flags&512&&ym(e)}catch(h){Qe(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Jw(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Yw(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lf(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qe(e,i,l)}}var o=e.return;try{ym(e)}catch(l){Qe(e,o,l)}break;case 5:var a=e.return;try{ym(e)}catch(l){Qe(e,a,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){te=null;break}var s=e.sibling;if(s!==null){s.return=e.return,te=s;break}te=e.return}}var OM=Math.ceil,Mc=kr.ReactCurrentDispatcher,ov=kr.ReactCurrentOwner,wn=kr.ReactCurrentBatchConfig,we=0,gt=null,rt=null,Tt=0,Qt=0,Ro=ui(0),dt=0,sl=null,qi=0,uf=0,av=0,$s=null,Vt=null,sv=0,sa=1/0,lr=null,$c=!1,bm=null,Zr=null,Pu=!1,Hr=null,Dc=0,Ds=0,xm=null,cc=-1,dc=0;function Ut(){return we&6?et():cc!==-1?cc:cc=et()}function ei(t){return t.mode&1?we&2&&Tt!==0?Tt&-Tt:mM.transition!==null?(dc===0&&(dc=MT()),dc):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:BT(t.type)),t):1}function Gn(t,e,n,r){if(50<Ds)throw Ds=0,xm=null,Error(W(185));Zl(t,n,r),(!(we&2)||t!==gt)&&(t===gt&&(!(we&2)&&(uf|=n),dt===4&&Gr(t,Tt)),Kt(t,r),n===1&&we===0&&!(e.mode&1)&&(sa=et()+500,of&&ci()))}function Kt(t,e){var n=t.callbackNode;mR(t,e);var r=wc(t,t===gt?Tt:0);if(r===0)n!==null&&ow(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ow(n),e===1)t.tag===0?pM(Xw.bind(null,t)):aA(Xw.bind(null,t)),cM(function(){!(we&6)&&ci()}),n=null;else{switch($T(r)){case 1:n=Ry;break;case 4:n=OT;break;case 16:n=vc;break;case 536870912:n=RT;break;default:n=vc}n=iC(n,XA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XA(t,e){if(cc=-1,dc=0,we&6)throw Error(W(327));var n=t.callbackNode;if(Ho()&&t.callbackNode!==n)return null;var r=wc(t,t===gt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lc(t,r);else{e=r;var i=we;we|=2;var o=ZA();(gt!==t||Tt!==e)&&(lr=null,sa=et()+500,ji(t,e));do try{$M();break}catch(s){QA(t,s)}while(!0);qy(),Mc.current=o,we=i,rt!==null?e=0:(gt=null,Tt=0,e=dt)}if(e!==0){if(e===2&&(i=Kp(t),i!==0&&(r=i,e=_m(t,i))),e===1)throw n=sl,ji(t,0),Gr(t,r),Kt(t,et()),n;if(e===6)Gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!RM(i)&&(e=Lc(t,r),e===2&&(o=Kp(t),o!==0&&(r=o,e=_m(t,o))),e===1))throw n=sl,ji(t,0),Gr(t,r),Kt(t,et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:xi(t,Vt,lr);break;case 3:if(Gr(t,r),(r&130023424)===r&&(e=sv+500-et(),10<e)){if(wc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nm(xi.bind(null,t,Vt,lr),e);break}xi(t,Vt,lr);break;case 4:if(Gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Bn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OM(r/1960))-r,10<r){t.timeoutHandle=nm(xi.bind(null,t,Vt,lr),r);break}xi(t,Vt,lr);break;case 5:xi(t,Vt,lr);break;default:throw Error(W(329))}}}return Kt(t,et()),t.callbackNode===n?XA.bind(null,t):null}function _m(t,e){var n=$s;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=Lc(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&Sm(e)),t}function Sm(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function RM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~av,e&=~uf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function Xw(t){if(we&6)throw Error(W(327));Ho();var e=wc(t,0);if(!(e&1))return Kt(t,et()),null;var n=Lc(t,e);if(t.tag!==0&&n===2){var r=Kp(t);r!==0&&(e=r,n=_m(t,r))}if(n===1)throw n=sl,ji(t,0),Gr(t,e),Kt(t,et()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,Vt,lr),Kt(t,et()),null}function lv(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(sa=et()+500,of&&ci())}}function Wi(t){Hr!==null&&Hr.tag===0&&!(we&6)&&Ho();var e=we;we|=1;var n=wn.transition,r=Ce;try{if(wn.transition=null,Ce=1,t)return t()}finally{Ce=r,wn.transition=n,we=e,!(we&6)&&ci()}}function uv(){Qt=Ro.current,Ge(Ro)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uM(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(Vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ec();break;case 3:oa(),Ge(qt),Ge(Rt),Qy();break;case 5:Xy(r);break;case 4:oa();break;case 13:Ge(We);break;case 19:Ge(We);break;case 10:Wy(r.type._context);break;case 22:case 23:uv()}n=n.return}if(gt=t,rt=t=ti(t.current,null),Tt=Qt=e,dt=0,sl=null,av=uf=qi=0,Vt=$s=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ii=null}return t}function QA(t,e){do{var n=rt;try{if(qy(),sc.current=Rc,Oc){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oc=!1}if(Hi=0,mt=ct=Je=null,Rs=!1,il=0,ov.current=null,n===null||n.return===null){dt=1,sl=e,rt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Tt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=jw(a);if(m!==null){m.flags&=-257,Uw(m,a,s,o,e),m.mode&1&&Lw(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Lw(o,u,e),cv();break e}l=Error(W(426))}}else if(ze&&s.mode&1){var v=jw(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Uw(v,a,s,o,e),zy(aa(l,s));break e}}o=l=aa(l,s),dt!==4&&(dt=2),$s===null?$s=[o]:$s.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=$A(o,l,e);Nw(o,b);break e;case 1:s=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zr===null||!Zr.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=DA(o,s,e);Nw(o,T);break e}}o=o.return}while(o!==null)}tC(n)}catch(S){e=S,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function ZA(){var t=Mc.current;return Mc.current=Rc,t===null?Rc:t}function cv(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||!(qi&268435455)&&!(uf&268435455)||Gr(gt,Tt)}function Lc(t,e){var n=we;we|=2;var r=ZA();(gt!==t||Tt!==e)&&(lr=null,ji(t,e));do try{MM();break}catch(i){QA(t,i)}while(!0);if(qy(),we=n,Mc.current=r,rt!==null)throw Error(W(261));return gt=null,Tt=0,dt}function MM(){for(;rt!==null;)eC(rt)}function $M(){for(;rt!==null&&!aR();)eC(rt)}function eC(t){var e=rC(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?tC(t):rt=e,ov.current=null}function tC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kM(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,rt=null;return}}else if(n=CM(n,e,Qt),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);dt===0&&(dt=5)}function xi(t,e,n){var r=Ce,i=wn.transition;try{wn.transition=null,Ce=1,DM(t,e,n,r)}finally{wn.transition=i,Ce=r}return null}function DM(t,e,n,r){do Ho();while(Hr!==null);if(we&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(gR(t,o),t===gt&&(rt=gt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,iC(vc,function(){return Ho(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wn.transition,wn.transition=null;var a=Ce;Ce=1;var s=we;we|=4,ov.current=null,IM(t,n),JA(n,t),nM(em),bc=!!Zp,em=Zp=null,t.current=n,NM(n),sR(),we=s,Ce=a,wn.transition=o}else t.current=n;if(Pu&&(Pu=!1,Hr=t,Dc=i),o=t.pendingLanes,o===0&&(Zr=null),cR(n.stateNode),Kt(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($c)throw $c=!1,t=bm,bm=null,t;return Dc&1&&t.tag!==0&&Ho(),o=t.pendingLanes,o&1?t===xm?Ds++:(Ds=0,xm=t):Ds=0,ci(),null}function Ho(){if(Hr!==null){var t=$T(Dc),e=wn.transition,n=Ce;try{if(wn.transition=null,Ce=16>t?16:t,Hr===null)var r=!1;else{if(t=Hr,Hr=null,Dc=0,we&6)throw Error(W(331));var i=we;for(we|=4,te=t.current;te!==null;){var o=te,a=o.child;if(te.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:Ms(8,c,o)}var d=c.child;if(d!==null)d.return=c,te=d;else for(;te!==null;){c=te;var h=c.sibling,m=c.return;if(qA(c),c===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}te=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,te=a;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ms(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,te=b;break e}te=o.return}}var x=t.current;for(te=x;te!==null;){a=te;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,te=_;else e:for(a=x;te!==null;){if(s=te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:lf(9,s)}}catch(S){Qe(s,s.return,S)}if(s===a){te=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,te=T;break e}te=s.return}}if(we=i,ci(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Zd,t)}catch{}r=!0}return r}finally{Ce=n,wn.transition=e}}return!1}function Qw(t,e,n){e=aa(n,e),e=$A(t,e,1),t=Qr(t,e,1),e=Ut(),t!==null&&(Zl(t,1,e),Kt(t,e))}function Qe(t,e,n){if(t.tag===3)Qw(t,t,n);else for(;e!==null;){if(e.tag===3){Qw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){t=aa(n,t),t=DA(e,t,1),e=Qr(e,t,1),t=Ut(),e!==null&&(Zl(e,1,t),Kt(e,t));break}}e=e.return}}function LM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(Tt&n)===n&&(dt===4||dt===3&&(Tt&130023424)===Tt&&500>et()-sv?ji(t,0):av|=n),Kt(t,e)}function nC(t,e){e===0&&(t.mode&1?(e=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):e=1);var n=Ut();t=xr(t,e),t!==null&&(Zl(t,e,n),Kt(t,n))}function jM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nC(t,n)}function UM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),nC(t,n)}var rC;rC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,AM(t,e,n);zt=!!(t.flags&131072)}else zt=!1,ze&&e.flags&1048576&&sA(e,Cc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uc(t,e),t=e.pendingProps;var i=na(e,Rt.current);zo(e,n),i=ev(null,e,r,t,i,n);var o=tv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(o=!0,Tc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jy(e),i.updater=sf,e.stateNode=i,i._reactInternals=e,um(e,r,t,n),e=fm(null,e,r,!0,o,n)):(e.tag=0,ze&&o&&Gy(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BM(r),t=Rn(r,t),i){case 0:e=dm(null,e,r,t,n);break e;case 1:e=Gw(null,e,r,t,n);break e;case 11:e=Fw(null,e,r,t,n);break e;case 14:e=Bw(null,e,r,Rn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),dm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Gw(t,e,r,i,n);case 3:e:{if(FA(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,hA(t,e),Ic(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=aa(Error(W(423)),e),e=Vw(t,e,r,n,i);break e}else if(r!==i){i=aa(Error(W(424)),e),e=Vw(t,e,r,n,i);break e}else for(rn=Xr(e.stateNode.containerInfo.firstChild),on=e,ze=!0,jn=null,n=dA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),r===i){e=_r(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return pA(e),t===null&&am(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,tm(r,i)?a=null:o!==null&&tm(r,o)&&(e.flags|=32),UA(t,e),Dt(t,e,a,n),e.child;case 6:return t===null&&am(e),null;case 13:return BA(t,e,n);case 4:return Yy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ia(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Fw(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Le(kc,r._currentValue),r._currentValue=a,o!==null)if(qn(o.value,a)){if(o.children===i.children&&!qt.current){e=_r(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=gr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sm(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(W(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),sm(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zo(e,n),i=_n(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=Rn(r,e.pendingProps),i=Rn(r.type,i),Bw(t,e,r,i,n);case 15:return LA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),uc(t,e),e.tag=1,Wt(r)?(t=!0,Tc(e)):t=!1,zo(e,n),MA(e,r,i),um(e,r,i,n),fm(null,e,r,!0,t,n);case 19:return GA(t,e,n);case 22:return jA(t,e,n)}throw Error(W(156,e.tag))};function iC(t,e){return NT(t,e)}function FM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new FM(t,e,n,r)}function dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BM(t){if(typeof t=="function")return dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iy)return 11;if(t===Ny)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")dv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case So:return Ui(n.children,i,o,e);case Py:a=8,i|=8;break;case Rp:return t=yn(12,n,e,i|2),t.elementType=Rp,t.lanes=o,t;case Mp:return t=yn(13,n,e,i),t.elementType=Mp,t.lanes=o,t;case $p:return t=yn(19,n,e,i),t.elementType=$p,t.lanes=o,t;case pT:return cf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fT:a=10;break e;case hT:a=9;break e;case Iy:a=11;break e;case Ny:a=14;break e;case Lr:a=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=yn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ui(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function cf(t,e,n,r){return t=yn(22,t,r,e),t.elementType=pT,t.lanes=n,t.stateNode={isHidden:!1},t}function Bh(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Gh(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fv(t,e,n,r,i,o,a,s,l){return t=new GM(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=yn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jy(o),t}function VM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oC(t){if(!t)return si;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Wt(n))return oA(t,n,e)}return e}function aC(t,e,n,r,i,o,a,s,l){return t=fv(n,r,!0,t,i,o,a,s,l),t.context=oC(null),n=t.current,r=Ut(),i=ei(n),o=gr(r,i),o.callback=e??null,Qr(n,o,i),t.current.lanes=i,Zl(t,i,r),Kt(t,r),t}function df(t,e,n,r){var i=e.current,o=Ut(),a=ei(i);return n=oC(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qr(i,e,a),t!==null&&(Gn(t,i,a,o),ac(t,i,a)),a}function jc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hv(t,e){Zw(t,e),(t=t.alternate)&&Zw(t,e)}function zM(){return null}var sC=typeof reportError=="function"?reportError:function(t){console.error(t)};function pv(t){this._internalRoot=t}ff.prototype.render=pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));df(t,e,null,null)};ff.prototype.unmount=pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wi(function(){df(null,t,null,null)}),e[br]=null}};function ff(t){this._internalRoot=t}ff.prototype.unstable_scheduleHydration=function(t){if(t){var e=jT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Br.length&&e!==0&&e<Br[n].priority;n++);Br.splice(n,0,t),n===0&&FT(t)}};function mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eb(){}function HM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=jc(a);o.call(u)}}var a=aC(e,r,t,0,null,!1,!1,"",eb);return t._reactRootContainer=a,t[br]=a.current,Zs(t.nodeType===8?t.parentNode:t),Wi(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=jc(l);s.call(u)}}var l=fv(t,0,!1,null,null,!1,!1,"",eb);return t._reactRootContainer=l,t[br]=l.current,Zs(t.nodeType===8?t.parentNode:t),Wi(function(){df(e,l,n,r)}),l}function pf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=jc(a);s.call(l)}}df(e,a,t,i)}else a=HM(n,e,t,i,r);return jc(a)}DT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ss(e.pendingLanes);n!==0&&(My(e,n|1),Kt(e,et()),!(we&6)&&(sa=et()+500,ci()))}break;case 13:Wi(function(){var r=xr(t,1);if(r!==null){var i=Ut();Gn(r,t,1,i)}}),hv(t,1)}};$y=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=Ut();Gn(e,t,134217728,n)}hv(t,134217728)}};LT=function(t){if(t.tag===13){var e=ei(t),n=xr(t,e);if(n!==null){var r=Ut();Gn(n,t,e,r)}hv(t,e)}};jT=function(){return Ce};UT=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Hp=function(t,e,n){switch(e){case"input":if(jp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rf(r);if(!i)throw Error(W(90));gT(r),jp(r,i)}}}break;case"textarea":vT(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};TT=lv;AT=Wi;var qM={usingClientEntryPoint:!1,Events:[tu,Co,rf,ST,ET,lv]},ls={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WM={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PT(t),t===null?null:t.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||zM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Zd=Iu.inject(WM),tr=Iu}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qM;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(e))throw Error(W(200));return VM(t,e,null,n)};ln.createRoot=function(t,e){if(!mv(t))throw Error(W(299));var n=!1,r="",i=sC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fv(t,1,!1,null,null,n,!1,r,i),t[br]=e.current,Zs(t.nodeType===8?t.parentNode:t),new pv(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=PT(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return Wi(t)};ln.hydrate=function(t,e,n){if(!hf(e))throw Error(W(200));return pf(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!mv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=sC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=aC(e,null,t,1,n??null,i,!1,o,a),t[br]=e.current,Zs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ff(e)};ln.render=function(t,e,n){if(!hf(e))throw Error(W(200));return pf(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!hf(t))throw Error(W(40));return t._reactRootContainer?(Wi(function(){pf(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};ln.unstable_batchedUpdates=lv;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return pf(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function lC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lC)}catch(t){console.error(t)}}lC(),lT.exports=ln;var KM=lT.exports,tb=KM;Np.createRoot=tb.createRoot,Np.hydrateRoot=tb.hydrateRoot;var Ve=(t=>(t.DASHBOARD="DASHBOARD",t.CAL_COACH="CAL_COACH",t.HISTORY="HISTORY",t.PROFILE="PROFILE",t.ONBOARDING="ONBOARDING",t))(Ve||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>O.createElement("svg",{ref:c,...JM,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${YM(t)}`,s].join(" "),...u},[...e.map(([d,h])=>O.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ae("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=ae("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ae("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ae("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ae("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ae("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ae("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=ae("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ae("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ae("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ae("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=ae("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=ae("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ae("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=ae("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=ae("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function vC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function he(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vC(t))&&(r&&(r+=" "),r+=e);return r}const x2=({children:t,currentView:e,onNavigate:n})=>g.jsxs("div",{className:"h-[100dvh] bg-surface dark:bg-surface-dark flex flex-col max-w-md mx-auto relative shadow-2xl shadow-gray-200 dark:shadow-black/50 overflow-hidden border-x border-gray-100/50 dark:border-white/5 transition-colors duration-300",children:[g.jsx("main",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:t}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-white/60 dark:bg-[#0f111a]/60 backdrop-blur-md pointer-events-auto z-40"}),g.jsx("div",{className:"absolute bottom-8 left-6 right-6 z-50",children:g.jsxs("nav",{className:"bg-white/80 dark:bg-[#1a1c26]/80 backdrop-blur-xl rounded-[32px] p-2 shadow-diffused-lg dark:shadow-diffused-dark border border-white dark:border-white/5 flex justify-between items-center",children:[g.jsxs("button",{onClick:()=>n(Ve.DASHBOARD),className:he("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Ve.DASHBOARD?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(o2,{size:22,strokeWidth:e===Ve.DASHBOARD?2.5:2}),e===Ve.DASHBOARD&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Today"})]}),g.jsxs("button",{onClick:()=>n(Ve.CAL_COACH),className:he("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Ve.CAL_COACH?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(ni,{size:22,strokeWidth:e===Ve.CAL_COACH?2.5:2}),e===Ve.CAL_COACH&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-left-2 duration-300",children:"Coach"})]}),g.jsxs("button",{onClick:()=>n(Ve.HISTORY),className:he("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Ve.HISTORY?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(QM,{size:22,strokeWidth:e===Ve.HISTORY?2.5:2}),e===Ve.HISTORY&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Report"})]}),g.jsxs("button",{onClick:()=>n(Ve.PROFILE),className:he("flex-1 flex items-center justify-center gap-2 py-4 rounded-[24px] transition-all duration-300",e===Ve.PROFILE?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40":"text-gray-400 dark:text-gray-500 hover:text-royal-500 dark:hover:text-royal-400 hover:bg-royal-50/50 dark:hover:bg-white/5"),children:[g.jsx(ua,{size:22,strokeWidth:e===Ve.PROFILE?2.5:2}),e===Ve.PROFILE&&g.jsx("span",{className:"text-sm font-semibold animate-in fade-in slide-in-from-right-2 duration-300",children:"Profile"})]})]})})]}),ri=({children:t,className:e,onClick:n})=>g.jsx("div",{onClick:n,className:he("bg-white dark:bg-[#1a1c26] rounded-[32px] p-5 shadow-diffused dark:shadow-diffused-dark border border-white/60 dark:border-white/5",n&&"cursor-pointer active:scale-[0.98] transition-all hover:shadow-diffused-lg dark:hover:shadow-diffused-dark hover:-translate-y-0.5",e),children:t});function mf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _2(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const S2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class vv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class E2 extends vv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ab extends vv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sb extends vv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Am;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Am||(Am={}));class T2{constructor(e,{headers:n={},customFetch:r,region:i=Am.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=S2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _2(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let v=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(v=a.signal,c.addEventListener("abort",()=>a.abort())):v=a.signal);const b=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:w,signal:v}).catch(S=>{throw new E2(S)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new ab(b);if(!b.ok)throw new sb(b);let _=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield b.json():_==="application/octet-stream"||_==="application/pdf"?T=yield b.blob():_==="text/event-stream"?T=b:_==="multipart/form-data"?T=yield b.formData():T=yield b.text(),{data:T,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof sb||s instanceof ab?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var A2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},C2=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var m;const b=await o.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=b:s=JSON.parse(b))}const w=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&v&&v.length>1&&(l=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;const w=await o.text();try{a=JSON.parse(w),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new A2(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,d,h;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${y}`,w&&(s+=` (${w})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},k2=class extends C2{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const lb=new RegExp("[,()]");var yo=class extends k2{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&lb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&lb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},P2=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new yo({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new yo({method:i,url:o,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&s.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);s.searchParams.set("columns",c.join(","))}}return new yo({method:a,url:s,headers:l,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new yo({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new yo({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},I2=class wC{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new P2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=r&&Object.values(n).some(c);d?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{l.searchParams.append(m,y)})):(s="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new yo({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class N2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const O2="2.90.1",R2=`realtime-js/${O2}`,bC="1.0.0",M2="2.0.0",ub=bC,Cm=1e4,$2=1e3,D2=100;var Ur;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ur||(Ur={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var Dn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dn||(Dn={}));var km;(function(t){t.websocket="websocket"})(km||(km={}));var Ci;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ci||(Ci={}));class L2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,s.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,d.length),y.setUint8(w++,n),Array.from(l,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(s,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(d,b=>y.setUint8(w++,b.charCodeAt(0)));var v=new Uint8Array(m.byteLength+r.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(r),m.byteLength),v.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class xC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const cb=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=j2(a,t,e,i),o),{}):{}},j2=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?_C(o,a):Pm(a)},_C=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return G2(e,n)}switch(t){case $e.bool:return U2(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return F2(e);case $e.json:case $e.jsonb:return B2(e);case $e.timestamp:return V2(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Pm(e);default:return Pm(e)}},Pm=t=>t,U2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},F2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},B2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},G2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>_C(e,s))}return t},V2=t=>typeof t=="string"?t.replace(" ","T"):t,SC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zh{constructor(e,n,r={},i=Cm){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var db;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(db||(db={}));class js{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=js.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=js.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=js.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(v=>v.presence_ref),m=d.map(v=>v.presence_ref),y=c.filter(v=>m.indexOf(v.presence_ref)<0),w=d.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(s[u]=y),w.length>0&&(l[u]=w)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fb||(fb={}));var Us;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Us||(Us={}));var ur;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class Mo{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zh(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new xC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new js(this),this.broadcastEndpointURL=SC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Us.PRESENCE]&&this.bindings[Us.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ur.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(ur.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,b=[];for(let x=0;x<v;x++){const _=w[x],{filter:{event:T,schema:S,table:E,filter:A}}=_,C=m&&m[x];if(C&&C.event===T&&Mo.isFilterValueEqual(C.schema,S)&&Mo.isFilterValueEqual(C.table,E)&&Mo.isFilterValueEqual(C.filter,A))b.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=ut.errored,e==null||e(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(ur.SUBSCRIBED);return}}).receive("error",m=>{this.state=ut.errored,e==null||e(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ut.joined&&e===Us.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new zh(this,Dn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zh(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>D2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Dn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,w,v;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(w=m.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var y,w,v,b,x,_,T,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,A=(y=m.filter)===null||y===void 0?void 0:y.event;return E&&((w=n.ids)===null||w===void 0?void 0:w.includes(E))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((b=m.filter)===null||b===void 0)&&b.table)||m.filter.table===((x=n.data)===null||x===void 0?void 0:x.table))}else{const E=(T=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:v,commit_timestamp:b,type:x,errors:_}=y;h=Object.assign(Object.assign({},{schema:w,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Mo.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dn.close,{},e)}_onError(e){this._on(Dn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=cb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=cb(e.columns,e.old_record)),n}}const Hh=()=>{},Nu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z2=[1e3,2e3,5e3,1e4],H2=1e4,q2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W2{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cm,this.transport=null,this.heartbeatIntervalMs=Nu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hh,this.ref=0,this.reconnectTimer=null,this.vsn=ub,this.logger=Hh,this.conn=null,this.sendBuffer=[],this.serializer=new L2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${km.websocket}`,this.httpEndpoint=SC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ur.connecting:return Ci.Connecting;case Ur.open:return Ci.Open;case Ur.closing:return Ci.Closing;default:return Ci.Closed}}isConnected(){return this.connectionState()===Ci.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Mo(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ur.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ur.open||this.conn.readyState===Ur.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([q2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:R2};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Dn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,c,d,h,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Cm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Nu.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Hh,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:ub,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>z2[y-1]||H2,this.vsn){case bC:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,w)=>w(JSON.parse(y));break;case M2:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ll=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function K2(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function J2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Y2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=K2(t.baseUrl,r,i),l=await J2(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,y=m==null?void 0:m.error;throw new ll((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Ou(t){return t.join("")}var X2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ou(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ou(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ou(t.namespace)}`}),!0}catch(e){if(e instanceof ll&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ll&&n.status===409)return;throw n}}};function lo(t){return t.join("")}var Q2=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${lo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${lo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ll&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ll&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Z2=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Y2({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new X2(this.client,e),this.tableOps=new Q2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},gf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var e$=class extends gf{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Im=class extends gf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const wv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),t$=()=>Response,Nm=t=>{if(Array.isArray(t))return t.map(n=>Nm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Nm(r)}),e},n$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r$=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function i$(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o$(t){var e=i$(t,"string");return ul(e)=="symbol"?e:e+""}function a$(t,e,n){return(e=o$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hb(Object(n),!0).forEach(function(r){a$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const qh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},s$=async(t,e,n)=>{t instanceof await t$()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new e$(qh(r),i,o))}).catch(r=>{e(new Im(qh(r),r))}):e(new Im(qh(t),t))},l$=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(n$(r)?(i.headers=ue({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),ue(ue({},i),n))};async function ru(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,l$(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>s$(l,s,r))})}async function cl(t,e,n,r){return ru(t,"GET",e,n,r)}async function Mn(t,e,n,r,i){return ru(t,"POST",e,r,i,n)}async function Om(t,e,n,r,i){return ru(t,"PUT",e,r,i,n)}async function u$(t,e,n,r){return ru(t,"HEAD",e,ue(ue({},n),{},{noResolveJson:!0}),r)}async function bv(t,e,n,r,i){return ru(t,"DELETE",e,r,i,n)}var c$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}}};let EC;EC=Symbol.toStringTag;var d$=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[EC]="BlobDownloadBuilder",this.promise=null}asStream(){return new c$(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}}};const f$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var h$=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=wv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=ue(ue({},pb),r);let s=ue(ue({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=ue(ue({},s),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),d=await(t=="PUT"?Om:Mn)(i.fetch,`${i.url}/object/${c}`,o,ue({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=ue({upsert:pb.upsert},r),c=ue(ue({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:o,fullPath:(await Om(i.fetch,s.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=ue({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await Mn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new gf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Mn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Mn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await Mn(r.fetch,`${r.url}/object/sign/${i}`,ue({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Mn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>ue(ue({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>cl(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new d$(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Nm(await cl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await u$(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(qe(r)&&r instanceof Im){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await bv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=ue(ue(ue({},f$),e),{},{prefix:t||""});return{data:await Mn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=ue({},t);return{data:await Mn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const TC="2.90.1",AC={"X-Client-Info":`storage-js/${TC}`};var p$=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ue(ue({},AC),e),this.fetch=wv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await cl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await cl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Mn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Om(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Mn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await bv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},m$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ue(ue({},AC),e),this.fetch=wv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Mn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await cl(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await bv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!r$(t))throw new gf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Z2({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const xv={"X-Client-Info":`storage-js/${TC}`,"Content-Type":"application/json"};var CC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function en(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Wh=class extends CC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},g$=class extends CC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const _v=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),v$=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new Wh(mb(o),r,a))}).catch(()=>{const o=r+"";e(new Wh(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new Wh(i.statusText||`HTTP ${r} error`,r,o))}}else e(new g$(mb(t),t))},w$=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(y$(r)?(i.headers=ue({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,ue(ue({},i),n)):i};async function b$(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,w$(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>v$(l,s,r))})}async function tn(t,e,n,r,i){return b$(t,"POST",e,r,i,n)}var x$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ue(ue({},xv),e),this.fetch=_v(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await tn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await tn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}},_$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ue(ue({},xv),e),this.fetch=_v(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await tn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},S$=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ue(ue({},xv),e),this.fetch=_v(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await tn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await tn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},E$=class extends S${constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new T$(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},T$=class extends x${constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ue(ue({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ue(ue({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new A$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},A$=class extends _${constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ue(ue({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ue(ue({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ue(ue({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ue(ue({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ue(ue({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},C$=class extends p${constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new h$(this.url,this.headers,t,this.fetch)}get vectors(){return new E$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new m$(this.url+"/iceberg",this.headers,this.fetch)}};const kC="2.90.1",vo=30*1e3,Rm=3,Kh=Rm*vo,k$="http://localhost:9999",P$="supabase.auth.token",I$={"X-Client-Info":`gotrue-js/${kC}`},Mm="X-Supabase-Api-Version",PC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O$=10*60*1e3;class dl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class R$ extends dl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function M$(t){return oe(t)&&t.name==="AuthApiError"}class ki extends dl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Pr extends dl{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Yt extends Pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $$(t){return oe(t)&&t.name==="AuthSessionMissingError"}class uo extends Pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ru extends Pr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mu extends Pr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D$(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class gb extends Pr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class L$ extends Pr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $m extends Pr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Jh(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class yb extends Pr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Dm extends Pr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vb=` 	
\r=`.split(""),j$=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vb.length;e+=1)t[vb[e].charCodeAt(0)]=-2;for(let e=0;e<Bc.length;e+=1)t[Bc[e].charCodeAt(0)]=e;return t})();function wb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Bc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Bc[r]),e.queuedBits-=6}}function IC(t,e,n){const r=j$[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bb(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{B$(a,r,n)};for(let a=0;a<t.length;a+=1)IC(t.charCodeAt(a),i,o);return e.join("")}function U$(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function F$(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}U$(r,e)}}function B$(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ko(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)IC(t.charCodeAt(i),n,r);return new Uint8Array(e)}function G$(t){const e=[];return F$(t,n=>e.push(n)),new Uint8Array(e)}function Oi(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>wb(i,n,r)),wb(null,n,r),e.join("")}function V$(t){return Math.round(Date.now()/1e3)+t}function z$(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},NC=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function H$(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const OC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),q$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},vi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(t,e)=>{await t.removeItem(e)};class yf{constructor(){this.promise=new yf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}yf.promiseConstructor=Promise;function Yh(t){const e=t.split(".");if(e.length!==3)throw new Dm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!N$.test(e[r]))throw new Dm("JWT not in base64url format");return{header:JSON.parse(bb(e[0])),payload:JSON.parse(bb(e[1])),signature:Ko(e[2]),raw:{header:e[0],payload:e[1]}}}async function W$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function K$(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function J$(t){return("0"+t.toString(16)).substr(-2)}function Y$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,J$).join("")}async function X$(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Q$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await X$(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function co(t,e,n=!1){const r=Y$();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await wo(t,`${e}-code-verifier`,i);const o=await Q$(r);return[o,r===o?"plain":"s256"]}const Z$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eD(t){const e=t.headers.get(Mm);if(!e||!e.match(Z$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function nD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(t){if(!rD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iD(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function xb(t){return JSON.parse(JSON.stringify(t))}const _i=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oD=[502,503,504];async function _b(t){var e;if(!q$(t))throw new $m(_i(t),0);if(oD.includes(t.status))throw new $m(_i(t),t.status);let n;try{n=await t.json()}catch(o){throw new ki(_i(o),o)}let r;const i=eD(t);if(i&&i.getTime()>=PC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yb(_i(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Yt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new yb(_i(n),t.status,n.weak_password.reasons);throw new R$(_i(n),t.status||500,r)}const aD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function le(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Mm]||(o[Mm]=PC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await sD(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function sD(t,e,n,r,i,o){const a=aD(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new $m(_i(l),0)}if(s.ok||await _b(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await _b(l)}}function On(t){var e;let n=null;cD(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=V$(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Sb(t){const e=On(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lD(t){return{data:t,error:null}}function uD(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=mf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Eb(t){return t}function cD(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qh=["global","local","others"];class dD{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=OC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Qh[0]){if(Qh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qh.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Vr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=mf(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:uD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Eb});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){fo(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fo(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Vr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){fo(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Vr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fo(e.userId);try{const{data:n,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fo(e.userId),fo(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Eb});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(oe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}}function Tb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ho={debug:!!(globalThis&&NC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fD extends RC{}async function hD(t,e,n){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ho.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function pD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function mD(t){return parseInt(t,16)}function gD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function yD(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=MC(t.address),y=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let b=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}b+=x}return`${v}
${b}`}class nt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Gc extends nt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function vD({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if($C(a)){if(o.rp.id!==a)return new nt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function wD({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if($C(r)){if(n.rpId!==r)return new nt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class bD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const xD=new bD;function _D(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=mf(t,["challenge","user","excludeCredentials"]),o=Ko(e).buffer,a=Object.assign(Object.assign({},n),{id:Ko(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ko(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function SD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=mf(t,["challenge","allowCredentials"]),i=Ko(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ko(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function ED(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Oi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Oi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function TD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Oi(new Uint8Array(i.authenticatorData)),clientDataJSON:Oi(new Uint8Array(i.clientDataJSON)),signature:Oi(new Uint8Array(i.signature)),userHandle:i.userHandle?Oi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $C(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ab(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function AD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Gc("Browser returned unexpected credential type",e)}:{data:null,error:new Gc("Empty credential response",e)}}catch(e){return{data:null,error:vD({error:e,options:t})}}}async function CD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Gc("Browser returned unexpected credential type",e)}:{data:null,error:new Gc("Empty credential response",e)}}catch(e){return{data:null,error:wD({error:e,options:t})}}}const kD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Vc(s,a):r[o]=Vc(a)}else r[o]=a}return r}function ID(t,e){return Vc(kD,t,e||{})}function ND(t,e){return Vc(PD,t,e||{})}class OD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??xD.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=ID(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:d}=await AD({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=ND(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:d}=await CD(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return oe(a)?{data:null,error:a}:{data:null,error:new ki("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new dl("rpId is required for WebAuthn authentication")};try{if(!Ab())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return oe(a)?{data:null,error:a}:{data:null,error:new ki("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new dl("rpId is required for WebAuthn registration")};try{if(!Ab())return{data:null,error:new ki("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return oe(a)?{data:null,error:a}:{data:null,error:new ki("Unexpected error in register",a)}}}}pD();const RD={url:k$,storageKey:P$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Cb(t,e,n){return await n()}const po={};class fl{get jwks(){var e,n;return(n=(e=po[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){po[this.storageKey]=Object.assign(Object.assign({},po[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=po[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){po[this.storageKey]=Object.assign(Object.assign({},po[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},RD),e);if(this.storageKey=o.storageKey,this.instanceID=(n=fl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,fl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&xt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new dD({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=OC(o.fetch),this.lock=o.lock||Cb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hD:this.lock=Cb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:NC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Tb(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(xt()&&(n=H$(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),D$(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?this._returnResult({error:n}):this._returnResult({error:new ki("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:On}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await co(this.storage,this.storageKey)),o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:On})}else if("phone"in e){const{phone:c,password:d,options:h}=e;o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:On})}else throw new Ru("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Sb})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Sb})}else throw new Ru("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new uo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,c,d,h;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:v,statement:b,options:x}=e;let _;if(xt())if(typeof v=="object")_=v;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=MC(S[0]);let A=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const k=await _.request({method:"eth_chainId"});A=mD(k)}const C={domain:T.host,address:E,statement:b,uri:T.href,version:"1",chainId:A,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=yD(C),y=await _.request({method:"personal_sign",params:[gD(m),E]})}try{const{data:w,error:v}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:On});if(v)throw v;if(!w||!w.session||!w.user){const b=new uo;return this._returnResult({data:{user:null,session:null},error:b})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(oe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,c,d,h,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:v,wallet:b,statement:x,options:_}=e;let T;if(xt())if(typeof b=="object")T=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=b}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),w=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:v,error:b}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Oi(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:On});if(b)throw b;if(!v||!v.session||!v.user){const x=new uo;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(oe(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const n=await vi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new L$;const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:On});if(await wt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new uo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:On}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new uo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await co(this.storage,this.storageKey));const{error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ru("You must provide either an email or phone number.")}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:On});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await co(this.storage,this.storageKey));const u=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:lD});return!((o=u.data)===null||o===void 0)&&o.url&&xt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Yt;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Ru("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Kh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await vi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Xh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=iD(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Vr})})}catch(n){if(oe(n))return $$(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Yt;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await co(this.storage,this.storageKey));const{data:u,error:c}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Vr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await wt(this.storage,`${this.storageKey}-code-verifier`),oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Yh(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Yt;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!xt())throw new Mu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gb("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Mu("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=vo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:w,error:v}=await this._getUser(o);if(v)throw v;const b={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await vi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(M$(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=z$(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await co(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return xt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(oe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=e,d=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:On}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new uo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await wt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await K$(async i=>(i>0&&await W$(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:On})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Jh(o)&&Date.now()+a-r<vo})}catch(r){if(this._debug(n,"error",r),oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),xt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await vi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await wo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Xh()}else if(i&&!i.user&&!i.user){const a=await vi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await wt(this.storage,this.storageKey+"-user"),await wo(this.storage,this.storageKey,i)):i.user=Xh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Kh;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Kh}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Jh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yf;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Yt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),oe(o)){const a={data:null,error:o};return Jh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=xb(i);await wo(this.storage,this.storageKey,o)}else{const i=xb(n);await wo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vo}ms, refresh threshold is ${Rm} ticks`),i<=Rm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof RC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await co(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await le(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ED(e.webauthn.credential_response):TD(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:_D(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:SD(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Yh(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Yt});const a=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&xt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Yt});const a=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&xt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+O$>i)return r;const{data:o,error:a}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Yh(r);n!=null&&n.allowExpired||tD(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=nD(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,G$(`${s}.${l}`)))throw new Dm("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}}fl.nextInstanceID={};const MD=fl,$D="2.90.1";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const DD={"X-Client-Info":`supabase-js-${Ts}/${$D}`},LD={headers:DD},jD={schema:"public"},UD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FD={};function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function BD(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GD(t){var e=BD(t,"string");return hl(e)=="symbol"?e:e+""}function VD(t,e,n){return(e=GD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kb(Object(n),!0).forEach(function(r){VD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const zD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HD=()=>Headers,qD=(t,e,n)=>{const r=zD(n),i=HD();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Xe(Xe({},a),{},{headers:u}))}};function WD(t){return t.endsWith("/")?t:t+"/"}function KD(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Xe(Xe({},l),i),auth:Xe(Xe({},u),o),realtime:Xe(Xe({},c),a),storage:{},global:Xe(Xe(Xe({},d),s),{},{headers:Xe(Xe({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function JD(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var YD=class extends MD{constructor(t){super(t)}},XD=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=JD(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:jD,realtime:FD,auth:Xe(Xe({},UD),{},{storageKey:a}),global:LD},l=KD(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=qD(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new I2(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new C$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new T2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YD({url:this.authUrl.href,headers:Xe(Xe({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new W2(this.realtimeUrl.href,Xe(Xe({},t),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const QD=(t,e,n)=>new XD(t,e,n);function ZD(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}ZD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sv="https://vsqytdzbxxhketbvcoif.supabase.co",DC=`sb_publishable_m-b7gwiZtZu4k0eaXHPoTg_mM_qFuvG
`;console.log("Supabase URL Detected:","Yes",`(Length: ${Sv.length})`);console.log("Supabase Key Detected:","Yes",`(Length: ${DC.length})`);const da=Sv.startsWith("http"),LC="snapcal_mode_preference",Lm=()=>da?localStorage.getItem(LC)==="local"?"local":"cloud":"local",eL=t=>{localStorage.setItem(LC,t),window.location.reload()},ve=da&&Lm()==="cloud";da?ve||console.log("Supabase configured but user prefers Local Storage."):console.log("Supabase is not configured. Using Mock Auth & Local Storage.");const ke=QD(da?Sv:"https://placeholder.supabase.co",da?DC:"placeholder"),vf="snapcal_mock_session",zc="snapcal_auth_change",tL=t=>new Promise(e=>setTimeout(e,t)),jC=async(t,e)=>{var n,r;if(ve){const{data:i,error:o}=await ke.auth.signInWithPassword({email:t,password:e});if(o)throw new Error(o.message);return{user:{id:((n=i.user)==null?void 0:n.id)||"",email:(r=i.user)==null?void 0:r.email}}}else{await tL(600);const i={id:btoa(t.toLowerCase()),email:t};return localStorage.setItem(vf,JSON.stringify(i)),window.dispatchEvent(new Event(zc)),{user:i}}},nL=async(t,e)=>{var n,r;if(ve){const{data:i,error:o}=await ke.auth.signUp({email:t,password:e});if(o)throw new Error(o.message);return{user:{id:((n=i.user)==null?void 0:n.id)||"",email:(r=i.user)==null?void 0:r.email}}}else return jC(t,e)},rL=async()=>{if(ve){const{error:t}=await ke.auth.signOut();if(t)throw t}else localStorage.removeItem(vf),window.dispatchEvent(new Event(zc))},ot=async()=>{if(ve){const{data:t}=await ke.auth.getUser();return t.user?{id:t.user.id,email:t.user.email}:null}else{const t=localStorage.getItem(vf);return t?JSON.parse(t):null}},iL=t=>{if(ve){const{data:e}=ke.auth.onAuthStateChange((n,r)=>{r!=null&&r.user?t({id:r.user.id,email:r.user.email}):t(null)});return()=>e.subscription.unsubscribe()}else{const e=()=>{const n=localStorage.getItem(vf);t(n?JSON.parse(n):null)};return window.addEventListener(zc,e),window.addEventListener("storage",e),()=>{window.removeEventListener(zc,e),window.removeEventListener("storage",e)}}};class oL{constructor(){gh(this,"cache",new Map);gh(this,"defaultTTL",5*60*1e3)}get(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),null):n.data:null}set(e,n,r){this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r||this.defaultTTL})}has(e){return this.get(e)!==null}invalidate(e){this.cache.delete(e)}invalidatePattern(e){const n=[];this.cache.forEach((r,i)=>{e.test(i)&&n.push(i)}),n.forEach(r=>this.cache.delete(r))}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const En=new oL,Wn={ENTRIES:"food:entries",ENTRIES_LITE:"food:entries:lite",DAILY_SUMMARIES:"food:summaries",DAILY_SUMMARIES_LITE:"food:summaries:lite",DAILY_GOAL:"user:goal",USER_PROFILE:"user:profile",entriesForDate:t=>`food:entries:${t}`,entryImage:t=>`food:image:${t}`};async function eo(t,e,n){const r=En.get(t);if(r!==null)return r;const i=await e();return En.set(t,i,n),i}const Ev="snapcal_data_v1",pl="snapcal_settings_v1",ml="snapcal_profile_v1",Tv="snapcal_summaries_v1",UC="snapcal_coach_messages_v1",aL="id, user_id, timestamp, date, time, food_item, calories, protein, carbs, fat, confidence, image_url, is_manual, ingredients, original_ai_response",FC="id, user_id, timestamp, date, time, food_item, calories, protein, carbs, fat, confidence, is_manual, ingredients",sL="id, date, calories, protein, carbs, fat",Tn=()=>{try{const t=localStorage.getItem(Ev);return t?JSON.parse(t):[]}catch{return[]}},wf=t=>{try{localStorage.setItem(Ev,JSON.stringify(t))}catch(e){throw e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"||String(e).toLowerCase().includes("quota")?new Error("Browser Storage Full: Your local history (with photos) has reached the browser's 5MB limit. Please delete some old entries in the History tab or connect to Supabase for unlimited cloud storage."):e}},Av=()=>{try{const t=localStorage.getItem(Tv);return t?JSON.parse(t):[]}catch{return[]}},lL=t=>{try{localStorage.setItem(Tv,JSON.stringify(t))}catch{throw new Error("Browser Storage Full: Cannot even save simple summaries. Please clear your browser data.")}},bf=t=>({id:t.id,user_id:t.user_id,timestamp:t.timestamp,date:t.date,time:t.time,food_item:t.food_item,calories:t.calories,protein:t.protein||0,carbs:t.carbs||0,fat:t.fat||0,confidence:t.confidence,imageUrl:t.image_url,isManual:t.is_manual,ingredients:t.ingredients||[],originalAiResponse:t.original_ai_response}),iu=(t,e)=>{console.error(`Supabase ${e} Error:`,t);const n=(t==null?void 0:t.message)||String(t)||"",r=n.toLowerCase();throw r.includes("quota")||r.includes("limit")||r.includes("tier")?new Error("Cloud Quota Reached: Your Supabase storage limit has been exceeded. Try deleting old entries."):r.includes("relation")||r.includes("column")||r.includes("does not exist")?new Error("Database Setup Required: It looks like the 'food_entries' table is missing in Supabase. Please check the Profile tab for the setup SQL script."):r.includes("policy")||r.includes("permission")||r.includes("row-level security")?new Error("Permission Denied: Supabase RLS policies are blocking this save. Ensure authenticated users have 'INSERT' and 'UPDATE' access."):new Error(`Cloud Save Failed: ${n}`)},uL=async t=>{const e=await ot();if(!e)throw new Error("User must be logged in to save.");if(!ve){const r=Tn(),i=r.findIndex(a=>a.id===t.id),o={...t,user_id:e.id};i>=0?r[i]=o:r.push(o),wf(r),En.invalidatePattern(/^food:/);return}const{error:n}=await ke.from("food_entries").upsert({id:t.id,user_id:e.id,timestamp:t.timestamp,date:t.date,time:t.time,food_item:t.food_item,calories:t.calories,protein:t.protein,carbs:t.carbs,fat:t.fat,confidence:t.confidence,is_manual:t.isManual,image_url:t.imageUrl===void 0?null:t.imageUrl,ingredients:t.ingredients,original_ai_response:t.originalAiResponse});n&&iu(n,"Save Entry"),En.invalidatePattern(/^food:/)},BC=async()=>eo(Wn.ENTRIES,async()=>{const t=await ot();if(!t)return[];if(!ve)return Tn().filter(r=>r.user_id===t.id).sort((r,i)=>i.timestamp.localeCompare(r.timestamp));const{data:e,error:n}=await ke.from("food_entries").select(aL).eq("user_id",t.id).order("timestamp",{ascending:!1}).limit(200);return n?(console.error("Supabase Fetch Error:",n),n.message.includes("relation")?[]:[]):e?e.map(bf):[]},3*60*1e3),cL=async()=>eo(Wn.ENTRIES_LITE,async()=>{const t=await ot();if(!t)return[];if(!ve)return Tn().filter(r=>r.user_id===t.id).map(r=>({...r,imageUrl:void 0,originalAiResponse:void 0})).sort((r,i)=>i.timestamp.localeCompare(r.timestamp));const{data:e,error:n}=await ke.from("food_entries").select(FC).eq("user_id",t.id).order("timestamp",{ascending:!1}).limit(200);return n?(console.error("Supabase Fetch Lite Error:",n),[]):e?e.map(bf):[]},3*60*1e3),dL=async()=>eo(Wn.DAILY_SUMMARIES_LITE,async()=>{const t=await ot();if(!t)return[];if(!ve){const i=Tn().filter(l=>l.user_id===t.id),o={};i.forEach(l=>{o[l.date]||(o[l.date]=[]),o[l.date].push(l)});const a=Av().filter(l=>l.user_id===t.id),s={};return a.forEach(l=>{s[l.date]={date:l.date,totalCalories:l.total_calories||l.totalCalories,totalProtein:l.total_protein||l.totalProtein||0,totalCarbs:l.total_carbs||l.totalCarbs||0,totalFat:l.total_fat||l.totalFat||0}}),Object.keys(o).forEach(l=>{const u=o[l];s[l]={date:l,totalCalories:u.reduce((c,d)=>c+d.calories,0),totalProtein:u.reduce((c,d)=>c+(d.protein||0),0),totalCarbs:u.reduce((c,d)=>c+(d.carbs||0),0),totalFat:u.reduce((c,d)=>c+(d.fat||0),0)}}),Object.values(s).sort((l,u)=>new Date(u.date).getTime()-new Date(l.date).getTime())}const{data:e,error:n}=await ke.from("food_entries").select("date, calories, protein, carbs, fat").eq("user_id",t.id).order("date",{ascending:!1});if(n)return console.error("Supabase summary fetch error:",n),[];const r={};(e||[]).forEach(i=>{r[i.date]||(r[i.date]={calories:0,protein:0,carbs:0,fat:0}),r[i.date].calories+=i.calories||0,r[i.date].protein+=i.protein||0,r[i.date].carbs+=i.carbs||0,r[i.date].fat+=i.fat||0});try{const{data:i}=await ke.from("daily_summaries").select("date, total_calories, total_protein, total_carbs, total_fat").eq("user_id",t.id);(i||[]).forEach(o=>{r[o.date]||(r[o.date]={calories:o.total_calories,protein:o.total_protein,carbs:o.total_carbs,fat:o.total_fat})})}catch{}return Object.entries(r).map(([i,o])=>({date:i,totalCalories:o.calories,totalProtein:o.protein,totalCarbs:o.carbs,totalFat:o.fat})).sort((i,o)=>new Date(o.date).getTime()-new Date(i.date).getTime())},3*60*1e3),fL=async t=>eo(Wn.entriesForDate(t),async()=>{const e=await ot();if(!e)return[];if(!ve)return Tn().filter(i=>i.user_id===e.id&&i.date===t).map(i=>({...i,imageUrl:void 0,originalAiResponse:void 0})).sort((i,o)=>o.timestamp.localeCompare(i.timestamp));const{data:n,error:r}=await ke.from("food_entries").select(FC).eq("user_id",e.id).eq("date",t).order("timestamp",{ascending:!1});return r?(console.error("Supabase date fetch error:",r),[]):n?n.map(bf):[]},5*60*1e3),hL=async t=>eo(Wn.entryImage(t),async()=>{const e=await ot();if(!e)return null;if(!ve){const o=Tn().find(a=>a.id===t&&a.user_id===e.id);return(o==null?void 0:o.imageUrl)||null}const{data:n,error:r}=await ke.from("food_entries").select("image_url").eq("id",t).eq("user_id",e.id).single();return r||!n?null:n.image_url},30*60*1e3),pL=async()=>{const t=await ot();if(!t)return[];const e=await BC(),n={};e.forEach(o=>{n[o.date]||(n[o.date]=[]),n[o.date].push(o)});let r=[];if(!ve)r=Av().filter(o=>o.user_id===t.id);else try{const{data:o,error:a}=await ke.from("daily_summaries").select("date, total_calories, total_protein, total_carbs, total_fat").eq("user_id",t.id);!a&&o&&(r=o)}catch{console.warn("Summary fetch failed, likely missing table")}const i={};return r.forEach(o=>{i[o.date]={date:o.date,totalCalories:o.total_calories,totalProtein:o.total_protein,totalCarbs:o.total_carbs,totalFat:o.total_fat,entries:[]}}),Object.keys(n).forEach(o=>{const a=n[o];i[o]={date:o,totalCalories:a.reduce((s,l)=>s+l.calories,0),totalProtein:a.reduce((s,l)=>s+(l.protein||0),0),totalCarbs:a.reduce((s,l)=>s+(l.carbs||0),0),totalFat:a.reduce((s,l)=>s+(l.fat||0),0),entries:a}}),Object.values(i).sort((o,a)=>new Date(a.date).getTime()-new Date(o.date).getTime())},Pb=async()=>{const t=await ot();if(!t)return;const e=new Date;e.setDate(e.getDate()-7);const n=e.toISOString().split("T")[0];let r=[];if(!ve)r=Tn().filter(o=>o.user_id===t.id&&o.date<n);else try{const{data:o}=await ke.from("food_entries").select(sL).eq("user_id",t.id).lt("date",n);o&&(r=o.map(bf))}catch{return}if(r.length===0)return;const i={};r.forEach(o=>{i[o.date]||(i[o.date]=[]),i[o.date].push(o)});for(const o of Object.keys(i)){const a=i[o],s={id:`${t.id}_${o}`,user_id:t.id,date:o,total_calories:a.reduce((l,u)=>l+u.calories,0),total_protein:a.reduce((l,u)=>l+(u.protein||0),0),total_carbs:a.reduce((l,u)=>l+(u.carbs||0),0),total_fat:a.reduce((l,u)=>l+(u.fat||0),0)};if(ve)await ke.from("daily_summaries").upsert(s),await ke.from("food_entries").delete().eq("user_id",t.id).eq("date",o);else{const l=Av(),u=l.findIndex(d=>d.user_id===t.id&&d.date===o);u>=0?l[u]=s:l.push(s),lL(l);const c=Tn().filter(d=>!(d.user_id===t.id&&d.date===o));wf(c)}}},GC=async t=>{const e=await ot();if(!e)throw new Error("Not logged in");if(!ve){const r=Tn().filter(i=>!(i.id===t&&i.user_id===e.id));wf(r),En.invalidatePattern(/^food:/);return}const{error:n}=await ke.from("food_entries").delete().eq("id",t).eq("user_id",e.id);n&&iu(n,"Delete Entry"),En.invalidatePattern(/^food:/)},mL=async t=>{const e=await ot();if(!e)throw new Error("Not logged in");if(!ve){const r=Tn(),i=r.findIndex(o=>o.id===t&&o.user_id===e.id);i>=0&&(r[i].imageUrl=void 0,wf(r)),En.invalidatePattern(/^food:/);return}const{error:n}=await ke.from("food_entries").update({image_url:null}).eq("id",t).eq("user_id",e.id);n&&iu(n,"Clear Image"),En.invalidatePattern(/^food:/)},Cv=async()=>eo(Wn.DAILY_GOAL,async()=>{const t=await ot();if(!t)return 2e3;if(!ve){const r=localStorage.getItem(pl);return(r?JSON.parse(r):{})[t.id]||2e3}const{data:e,error:n}=await ke.from("user_settings").select("daily_goal").eq("user_id",t.id).single();return n||!e?2e3:e.daily_goal},10*60*1e3),xf=async t=>{const e=await ot();if(!e)throw new Error("Not logged in");if(!ve){const r=localStorage.getItem(pl),i=r?JSON.parse(r):{};i[e.id]=t,localStorage.setItem(pl,JSON.stringify(i)),En.invalidate(Wn.DAILY_GOAL);return}const{error:n}=await ke.from("user_settings").upsert({user_id:e.id,daily_goal:t},{onConflict:"user_id"});n&&iu(n,"Save Daily Goal"),En.invalidate(Wn.DAILY_GOAL)},kv=async()=>eo(Wn.USER_PROFILE,async()=>{const t=await ot();if(!t)return null;if(!ve){const r=localStorage.getItem(ml);return(r?JSON.parse(r):{})[t.id]||null}const{data:e,error:n}=await ke.from("user_profiles").select("name, height, weight, age, gender, activity_level, goal, equipment_access").eq("user_id",t.id).single();return n||!e?null:{name:e.name,height:e.height,weight:e.weight,age:e.age,gender:e.gender,activityLevel:e.activity_level,goal:e.goal,equipmentAccess:e.equipment_access}},10*60*1e3),Pv=async t=>{const e=await ot();if(!e)throw new Error("Not logged in");if(!ve){const r=localStorage.getItem(ml),i=r?JSON.parse(r):{};i[e.id]=t,localStorage.setItem(ml,JSON.stringify(i)),En.invalidate(Wn.USER_PROFILE);return}const{error:n}=await ke.from("user_profiles").upsert({user_id:e.id,name:t.name,height:t.height,weight:t.weight,age:t.age,gender:t.gender,activity_level:t.activityLevel,goal:t.goal,equipment_access:t.equipmentAccess},{onConflict:"user_id"});n&&iu(n,"Save Profile"),En.invalidate(Wn.USER_PROFILE)},gL=()=>Tn().length>0,yL=async()=>{if(!ve)throw new Error("Must be in Cloud Mode to sync");const t=await ot();if(!t)throw new Error("Must be logged in to sync");const e=Tn();if(e.length>0){const i=e.map(a=>({id:a.id,user_id:t.id,timestamp:a.timestamp,date:a.date,time:a.time,food_item:a.food_item,calories:a.calories,protein:a.protein,carbs:a.carbs,fat:a.fat,confidence:a.confidence,is_manual:a.isManual,image_url:a.imageUrl,ingredients:a.ingredients,original_ai_response:a.originalAiResponse})),o=5;for(let a=0;a<i.length;a+=o){const s=i.slice(a,a+o),{error:l}=await ke.from("food_entries").upsert(s);if(l)throw console.error("Chunk upload failed",l),new Error(`Sync failed at item ${a+1}: `+l.message)}}const n=localStorage.getItem(pl);if(n){const i=JSON.parse(n),o=Object.keys(i)[0];o&&i[o]&&await xf(i[o])}const r=localStorage.getItem(ml);if(r){const i=JSON.parse(r),o=Object.keys(i)[0];o&&i[o]&&await Pv(i[o])}localStorage.removeItem(Ev),localStorage.removeItem(Tv),localStorage.removeItem(pl),localStorage.removeItem(ml)},vL=async()=>{if(!ve)return{ok:!0};if(!await ot())return{ok:!0};const{error:e}=await ke.from("food_entries").select("id").limit(1);return e?e.message.includes("relation")||e.code==="42P01"?{ok:!1,missingTables:!0,error:"Tables missing"}:{ok:!1,error:e.message}:{ok:!0}},Hc="snapcal_onboarding_v1",wL=async t=>{if(!t||!t.id)return!1;const e=localStorage.getItem(Hc),n=e?JSON.parse(e):{};if(n[t.id]===!0)return!0;if(!ve)return!1;try{const{data:r,error:i}=await ke.from("user_settings").select("has_completed_onboarding").eq("user_id",t.id).maybeSingle(),o=(r==null?void 0:r.has_completed_onboarding)||!1;return o&&(n[t.id]=!0,localStorage.setItem(Hc,JSON.stringify(n))),o}catch{return!1}},VC=async t=>{if(!t||!t.id)return;const e=localStorage.getItem(Hc),n=e?JSON.parse(e):{};if(n[t.id]=!0,localStorage.setItem(Hc,JSON.stringify(n)),ve)try{const{error:r}=await ke.from("user_settings").upsert({user_id:t.id,has_completed_onboarding:!0},{onConflict:"user_id"});r&&console.error("Cloud mark onboarding error:",r)}catch(r){console.error("Cloud mark onboarding exception:",r)}},bL=async t=>{await VC(t)},Iv=()=>{try{const t=localStorage.getItem(UC);return t?JSON.parse(t):[]}catch{return[]}},zC=t=>{try{localStorage.setItem(UC,JSON.stringify(t))}catch(e){console.error("Failed to save chat messages to local storage:",e)}},Ib=async t=>{const e=await ot();if(!e){console.warn("User not logged in, cannot save chat message");return}const n=new Date(t.timestamp).toISOString().split("T")[0];if(!ve){const r=Iv(),i={...t,user_id:e.id,date:n};r.push(i),zC(r);return}try{const{error:r}=await ke.from("coach_messages").insert({id:t.id,user_id:e.id,role:t.role,content:t.content,timestamp:t.timestamp,date:n});r&&console.error("Failed to save chat message to Supabase:",r)}catch(r){console.error("Exception saving chat message:",r)}},HC=async t=>{const e=await ot();if(!e)return[];if(!ve)return Iv().filter(r=>r.user_id===e.id&&r.date===t).sort((r,i)=>r.timestamp-i.timestamp);try{const{data:n,error:r}=await ke.from("coach_messages").select("id, role, content, timestamp").eq("user_id",e.id).eq("date",t).order("timestamp",{ascending:!0});return r?(console.error("Failed to fetch chat messages:",r),[]):n||[]}catch(n){return console.error("Exception fetching chat messages:",n),[]}},xL=async()=>{const t=new Date().toISOString().split("T")[0];return HC(t)},_L=async()=>{const t=await ot();if(!t)return;const e=new Date;e.setDate(e.getDate()-7);const n=e.toISOString().split("T")[0];if(!ve){const i=Iv().filter(o=>o.user_id!==t.id||o.date>=n);zC(i);return}try{const{error:r}=await ke.from("coach_messages").delete().eq("user_id",t.id).lt("date",n);r&&console.error("Failed to cleanup old chat messages:",r)}catch(r){console.error("Exception during chat cleanup:",r)}},Lt=({className:t,variant:e="primary",isLoading:n,children:r,...i})=>{const o="inline-flex items-center justify-center px-6 py-4 rounded-[24px] font-semibold transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:pointer-events-none text-sm tracking-wide",a={primary:"bg-royal-600 text-white hover:bg-royal-700 shadow-[0_10px_20px_-10px_rgba(124,58,237,0.5)]",secondary:"bg-royal-50 text-royal-700 hover:bg-royal-100",ghost:"bg-transparent text-gray-500 hover:text-royal-600 hover:bg-royal-50"};return g.jsx("button",{className:he(o,a[e],t),disabled:n||i.disabled,...i,children:n?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):r})};var SL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let EL,TL;function AL(){return{geminiUrl:EL,vertexUrl:TL}}function CL(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=AL();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ir{}function Q(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>f(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function kL(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}jm(t,i,o,0,a)}}function jm(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])jm(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=t;o in a&&jm(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nv(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PL(t){const e={},n=f(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function IL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],OL(a)),e}function NL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],RL(a)),e}function OL(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>ML(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function RL(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>$L(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function ML(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],BL(n)),e}function $L(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],GL(n)),e}function DL(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function LL(t){const e={},n=f(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function jL(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],UL(a)),e}function UL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function qC(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],FL(a)),e}function FL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function BL(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Nv(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function GL(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Nv(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nb;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Nb||(Nb={}));var Ob;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ob||(Ob={}));var Rb;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Rb||(Rb={}));var xe;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(xe||(xe={}));var Mb;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mb||(Mb={}));var $b;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})($b||($b={}));var Db;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Db||(Db={}));var Lb;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Lb||(Lb={}));var jb;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(jb||(jb={}));var Ub;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ub||(Ub={}));var Fb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Fb||(Fb={}));var Bb;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Bb||(Bb={}));var Gb;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Gb||(Gb={}));var Vb;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Vb||(Vb={}));var zb;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(zb||(zb={}));var Hb;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Hb||(Hb={}));var qb;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(qb||(qb={}));var Wb;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Wb||(Wb={}));var Kb;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Kb||(Kb={}));var Jb;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Jb||(Jb={}));var Yb;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Yb||(Yb={}));var qc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(qc||(qc={}));var Xb;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xb||(Xb={}));var Qb;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Qb||(Qb={}));var Zb;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zb||(Zb={}));var Um;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Um||(Um={}));var ex;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ex||(ex={}));var tx;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(tx||(tx={}));var nx;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(nx||(nx={}));var rx;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rx||(rx={}));var ix;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ix||(ix={}));var ox;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ox||(ox={}));var ax;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ax||(ax={}));var sx;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sx||(sx={}));var lx;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lx||(lx={}));var ux;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ux||(ux={}));var cx;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cx||(cx={}));var dx;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(dx||(dx={}));var fx;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(fx||(fx={}));var hx;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(hx||(hx={}));var px;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(px||(px={}));var mx;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(mx||(mx={}));var gx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(gx||(gx={}));var yx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(yx||(yx={}));var vx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(vx||(vx={}));var wx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(wx||(wx={}));var bx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bx||(bx={}));var xx;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(xx||(xx={}));var _x;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(_x||(_x={}));var Sx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sx||(Sx={}));var Ex;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Ex||(Ex={}));var Tx;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Tx||(Tx={}));var Ax;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ax||(Ax={}));var Cx;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Cx||(Cx={}));var $o;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})($o||($o={}));class Fm{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class us{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,y]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(y!==null||y!==void 0)&&d.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(d))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class kx{}class Px{}class VL{}class zL{}class HL{}class qL{}class Ix{}class Nx{}class Ox{}class WL{}class Wc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Wc;let i;const o=e;return n?i=NL(o):i=IL(o),Object.assign(r,i),r}}class Rx{}class Mx{}class $x{}class Dx{}class KL{}class JL{}class YL{}class Ov{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ov,o=jL(e);return Object.assign(r,o),r}}class XL{}class QL{}class ZL{}class Lx{}class ej{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class tj{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Rv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Rv,o=qC(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function WC(t,e){const n=_e(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function KC(t){return Array.isArray(t)?t.map(e=>Kc(e)):[Kc(t)]}function Kc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function JC(t){const e=Kc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function YC(t){const e=Kc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jx(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function XC(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jx(e)):[jx(t)]}function Bm(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ux(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Fx(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ot(t){if(t==null)throw new Error("ContentUnion is required");return Bm(t)?t:{role:"user",parts:XC(t)}}function Mv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ot(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ot(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ot(n)):[Ot(e)]}function bn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ux(t)||Fx(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ot(t)]}const e=[],n=[],r=Bm(t[0]);for(const i of t){const o=Bm(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(Ux(i)||Fx(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:XC(n)}),e}function nj(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(xe).includes(n[0].toUpperCase())?n[0].toUpperCase():xe.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(xe).includes(r.toUpperCase())?r.toUpperCase():xe.TYPE_UNSPECIFIED})}}function Jo(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&nj(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(xe).includes(s.toUpperCase())?s.toUpperCase():xe.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Jo(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Jo(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Jo(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function $v(t){return Jo(t)}function Dv(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Lv(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function La(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Jo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Jo(e.response));return t}function ja(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function rj(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Nr(t,e){if(typeof e!="string")throw new Error("name must be a string");return rj(t,e,"cachedContents")}function QC(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function di(t){return Nv(t)}function ij(t){return t!=null&&typeof t=="object"&&"name"in t}function oj(t){return t!=null&&typeof t=="object"&&"video"in t}function aj(t){return t!=null&&typeof t=="object"&&"uri"in t}function ZC(t){var e;let n;if(ij(t)&&(n=t.name),!(aj(t)&&(n=t.uri,n===void 0))&&!(oj(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ek(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tk(t){for(const e of["models","tunedModels","publisherModels"])if(sj(t,e))return t[e];return[]}function sj(t,e){return t!==null&&typeof t=="object"&&e in t}function lj(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function uj(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=lj(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function nk(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function cj(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function rk(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ua(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ik(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dj(t){const e={},n=f(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Hj(a))),p(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["inlinedEmbedContentResponses"],o)}return e}function fj(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function hj(t){const e={},n=f(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function hc(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&p(e,["state"],ik(i));const o=f(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const a=f(t,["metadata","endTime"]);a!=null&&p(e,["endTime"],a);const s=f(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&p(e,["dest"],dj(rk(u))),e}function Gm(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["state"]);i!=null&&p(e,["state"],ik(i));const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["createTime"]);a!=null&&p(e,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&p(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&p(e,["src"],pj(d));const h=f(t,["outputConfig"]);h!=null&&p(e,["dest"],fj(rk(h)));const m=f(t,["completionStats"]);return m!=null&&p(e,["completionStats"],m),e}function pj(t){const e={},n=f(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function mj(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>zj(t,a))),p(n,["requests","requests"],o)}return n}function gj(t){const e={},n=f(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function yj(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ua(t,r)),n}function wj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ua(t,r)),n}function bj(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],xj(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function xj(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function ok(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qj(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function _j(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Sj(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],hj(cj(i))),n}function Bx(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],mj(t,nk(t,i)));const o=f(e,["config"]);return o!=null&&_j(o,n),n}function Ej(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],_e(t,r));const i=f(e,["src"]);i!=null&&p(n,["inputConfig"],gj(nk(t,i)));const o=f(e,["config"]);return o!=null&&Sj(o,n),n}function Tj(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Aj(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Rj(t,i));const o=f(e,["config"]);return o!=null&&Tj(o,n),n}function Cj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ua(t,r)),n}function kj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ua(t,r)),n}function Pj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function Ij(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);return o!=null&&p(e,["error"],o),e}function Nj(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=Mv(t,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(p(n,["_self"],Oj(i,n)),kL(n,{"requests[].*":"requests[].request.*"})),n}function Oj(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Rj(t,e){const n={},r=f(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],Nj(t,i)),n}function Mj(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function $j(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Dj(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Lj(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],ok(Ot(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&p(r,["responseMimeType"],v);const b=f(e,["responseSchema"]);b!=null&&p(r,["responseSchema"],$v(b));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(D=>Zj(D))),p(n,["safetySettings"],R)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let R=ja(T);Array.isArray(R)&&(R=R.map(D=>tU(La(D)))),p(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],eU(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Nr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],Dv(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&p(r,["thinkingConfig"],P);const N=f(e,["imageConfig"]);N!=null&&p(r,["imageConfig"],Vj(N));const I=f(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function jj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>bj(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function Uj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ua(t,r)),n}function Fj(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Ua(t,r)),n}function Bj(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Gj(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Vj(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function zj(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["request","model"],_e(t,r));const i=f(e,["contents"]);if(i!=null){let s=bn(i);Array.isArray(s)&&(s=s.map(l=>ok(l))),p(n,["request","contents"],s)}const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["config"]);return a!=null&&p(n,["request","generationConfig"],Lj(t,a,f(n,["request"],{}))),n}function Hj(t){const e={},n=f(t,["response"]);n!=null&&p(e,["response"],jj(n));const r=f(t,["error"]);return r!=null&&p(e,["error"],r),e}function qj(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Wj(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function Kj(t){const e={},n=f(t,["config"]);return n!=null&&qj(n,e),e}function Jj(t){const e={},n=f(t,["config"]);return n!=null&&Wj(n,e),e}function Yj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>hc(a))),p(e,["batchJobs"],o)}return e}function Xj(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Gm(a))),p(e,["batchJobs"],o)}return e}function Qj(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],Mj(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],$j(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],yj(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Zj(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function eU(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],Dj(r)),e}function tU(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],Bj(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],Gj(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Sr||(Sr={}));class to{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nU extends Ir{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new to(Sr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Bx(this.apiClient,e),r=n._url,i=Q("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const m=d.request;m.systemInstruction=h,d.request=m}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ej(this.apiClient,e);return s=Q("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Gm(c))}else{const u=Bx(this.apiClient,e);return s=Q("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>hc(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Aj(this.apiClient,e);return o=Q("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>hc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Fj(this.apiClient,e);return s=Q("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Gm(c))}else{const u=Uj(this.apiClient,e);return s=Q("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>hc(c))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=wj(this.apiClient,e);a=Q("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=vj(this.apiClient,e);a=Q("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Jj(e);return s=Q("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Xj(c),h=new Lx;return Object.assign(h,d),h})}else{const u=Kj(e);return s=Q("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Yj(c),h=new Lx;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=kj(this.apiClient,e);return s=Q("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Ij(c))}else{const u=Cj(this.apiClient,e);return s=Q("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Pj(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rU(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Gx(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>AU(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function iU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let c=bn(a);Array.isArray(c)&&(c=c.map(d=>Gx(d))),p(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],Gx(Ot(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>kU(d))),p(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],CU(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function oU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const a=f(t,["contents"]);if(e!==void 0&&a!=null){let d=bn(a);Array.isArray(d)&&(d=d.map(h=>h)),p(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],Ot(s));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>PU(h))),p(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function aU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],WC(t,r));const i=f(e,["config"]);return i!=null&&iU(i,n),n}function sU(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["model"],WC(t,r));const i=f(e,["config"]);return i!=null&&oU(i,n),n}function lU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Nr(t,r)),n}function uU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Nr(t,r)),n}function cU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function dU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function fU(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function hU(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pU(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mU(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function gU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Nr(t,r)),n}function yU(t,e){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],Nr(t,r)),n}function vU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function wU(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function bU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function xU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function _U(t){const e={},n=f(t,["config"]);return n!=null&&bU(n,e),e}function SU(t){const e={},n=f(t,["config"]);return n!=null&&xU(n,e),e}function EU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function TU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["cachedContents"],o)}return e}function AU(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],fU(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],hU(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],rU(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function CU(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],pU(r)),e}function kU(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],vU(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],wU(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function PU(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>mU(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function IU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function NU(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function OU(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Nr(t,r));const i=f(e,["config"]);return i!=null&&IU(i,n),n}function RU(t,e){const n={},r=f(e,["name"]);r!=null&&p(n,["_url","name"],Nr(t,r));const i=f(e,["config"]);return i!=null&&NU(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MU extends Ir{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new to(Sr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=sU(this.apiClient,e);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=aU(this.apiClient,e);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yU(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=gU(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=uU(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=dU(c),h=new $x;return Object.assign(h,d),h})}else{const u=lU(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=cU(c),h=new $x;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=RU(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=OU(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=SU(e);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=TU(c),h=new Dx;return Object.assign(h,d),h})}else{const u=_U(e);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=EU(c),h=new Dx;return Object.assign(h,d),h})}}}function Jc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(t){return this instanceof ce?(this.v=t,this):new ce(t)}function Vn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(y){return Promise.resolve(y).then(m,d)}}function s(m,y){r[m]&&(i[m]=function(w){return new Promise(function(v,b){o.push([m,w,v,b])>1||l(m,w)})},y&&(i[m]=y(i[m])))}function l(m,y){try{u(r[m](y))}catch(w){h(o[0][3],w)}}function u(m){m.value instanceof ce?Promise.resolve(m.value.v).then(c,d):h(o[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function h(m,y){m(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function zn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vx=="function"?Vx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $U(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ak(n)}function ak(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function DU(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zx(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!ak(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class LU{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new jU(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jU{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),DU(o)}async sendMessage(e){var n;await this.sendPromise;const r=Ot(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ot(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?zx(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Vn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var d=!0,h=zn(e),m;m=yield ce(h.next()),i=m.done,!i;d=!0){s=m.value,d=!1;const y=s;if($U(y)){const w=(u=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield ce(y)}}catch(y){o={error:y}}finally{try{!d&&!i&&(a=h.return)&&(yield ce(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...zx(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _f extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_f.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UU(t){const e={},n=f(t,["file"]);return n!=null&&p(e,["file"],n),e}function FU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function BU(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],ZC(n)),e}function GU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function VU(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","file"],ZC(n)),e}function zU(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function HU(t){const e={},n=f(t,["config"]);return n!=null&&zU(n,e),e}function qU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WU extends Ir{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new to(Sr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=HU(e);return o=Q("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=qU(l),c=new XL;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=UU(e);return o=Q("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=FU(l),c=new QL;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=VU(e);return o=Q("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=BU(e);return o=Q("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=GU(l),c=new ZL;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pc(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function KU(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>c4(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function JU(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function YU(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function XU(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function QU(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=f(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const w=f(t,["responseSchema"]);w!=null&&p(e,["responseSchema"],w);const v=f(t,["routingConfig"]);v!=null&&p(e,["routingConfig"],v);const b=f(t,["seed"]);b!=null&&p(e,["seed"],b);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],x);const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ZU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function e4(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function t4(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],Lv(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],KU(Ot(y)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let E=ja(w);Array.isArray(E)&&(E=E.map(A=>f4(La(A)))),p(e,["setup","tools"],E)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],d4(v));const b=f(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","inputAudioTranscription"],b);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function n4(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],QU(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],Lv(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],Ot(y));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let A=ja(w);Array.isArray(A)&&(A=A.map(C=>h4(La(C)))),p(e,["setup","tools"],A)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],v);const b=f(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","inputAudioTranscription"],b);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);e!==void 0&&S!=null&&p(e,["setup","proactivity"],S);const E=f(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&p(e,["setup","explicitVadSignal"],E),n}function r4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],_e(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],t4(i,n)),n}function i4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],_e(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],n4(i,n)),n}function o4(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function a4(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function s4(t){const e={},n=f(t,["media"]);if(n!=null){let u=KC(n);Array.isArray(u)&&(u=u.map(c=>pc(c))),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],pc(YC(r)));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],pc(JC(o)));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function l4(t){const e={},n=f(t,["media"]);if(n!=null){let u=KC(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&p(e,["audio"],YC(r));const i=f(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&p(e,["video"],JC(o));const a=f(t,["text"]);a!=null&&p(e,["text"],a);const s=f(t,["activityStart"]);s!=null&&p(e,["activityStart"],s);const l=f(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function u4(t){const e={},n=f(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const a=f(t,["usageMetadata"]);a!=null&&p(e,["usageMetadata"],p4(a));const s=f(t,["goAway"]);s!=null&&p(e,["goAway"],s);const l=f(t,["sessionResumptionUpdate"]);l!=null&&p(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);return u!=null&&p(e,["voiceActivityDetectionSignal"],u),e}function c4(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],JU(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],YU(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],pc(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function d4(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function f4(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],ZU(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],e4(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function h4(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>XU(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function p4(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const a=f(t,["thoughtsTokenCount"]);a!=null&&p(e,["thoughtsTokenCount"],a);const s=f(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["promptTokensDetails"],m)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["cacheTokensDetails"],m)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["responseTokensDetails"],m)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["toolUsePromptTokensDetails"],m)}const h=f(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m4(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function g4(t){const e={},n=f(t,["content"]);n!=null&&p(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],y4(r));const i=f(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const a=f(t,["avgLogprobs"]);a!=null&&p(e,["avgLogprobs"],a);const s=f(t,["groundingMetadata"]);s!=null&&p(e,["groundingMetadata"],s);const l=f(t,["index"]);l!=null&&p(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&p(e,["urlContextMetadata"],d),e}function y4(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function v4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["contents"]);if(i!=null){let o=bn(i);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["contents"],o)}return n}function w4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function b4(t){const e={},n=f(t,["values"]);n!=null&&p(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&p(e,["statistics"],x4(r)),e}function x4(t){const e={},n=f(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Sf(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>IF(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function _4(t){const e={},n=f(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function S4(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function E4(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],Ot(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ck(s))),p(e,["tools"],a)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],mF(o)),n}function T4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["contents"]);if(i!=null){let a=bn(i);Array.isArray(a)&&(a=a.map(s=>Sf(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&S4(o),n}function A4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["contents"]);if(i!=null){let a=bn(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&E4(o,n),n}function C4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function k4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function P4(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],_e(t,r)),n}function I4(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],_e(t,r)),n}function N4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function O4(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function R4(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=f(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","compressionQuality"],w);const v=f(t,["addWatermark"]);e!==void 0&&v!=null&&p(e,["parameters","addWatermark"],v);const b=f(t,["labels"]);e!==void 0&&b!=null&&p(e,["labels"],b);const x=f(t,["editMode"]);e!==void 0&&x!=null&&p(e,["parameters","editMode"],x);const _=f(t,["baseSteps"]);return e!==void 0&&_!=null&&p(e,["parameters","editConfig","baseSteps"],_),n}function M4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>DF(l))),p(n,["instances[0]","referenceImages"],s)}const a=f(e,["config"]);return a!=null&&R4(a,n),n}function $4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ef(o))),p(e,["generatedImages"],i)}return e}function D4(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function L4(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const a=f(t,["mimeType"]);e!==void 0&&a!=null&&p(e,["instances[]","mimeType"],a);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function j4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["contents"]);if(i!=null){let s=Mv(t,i);Array.isArray(s)&&(s=s.map(l=>l)),p(n,["requests[]","content"],s)}const o=f(e,["config"]);o!=null&&D4(o,n);const a=f(e,["model"]);return a!==void 0&&p(n,["requests[]","model"],_e(t,a)),n}function U4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["contents"]);if(i!=null){let a=Mv(t,i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["instances[]","content"],a)}const o=f(e,["config"]);return o!=null&&L4(o,n),n}function F4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function B4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>b4(a))),p(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function G4(t){const e={},n=f(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function V4(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function z4(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function H4(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&p(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&p(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function q4(t){const e={},n=f(t,["description"]);n!=null&&p(e,["description"],n);const r=f(t,["name"]);r!=null&&p(e,["name"],r);const i=f(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const a=f(t,["response"]);a!=null&&p(e,["response"],a);const s=f(t,["responseJsonSchema"]);if(s!=null&&p(e,["responseJsonSchema"],s),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function W4(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Sf(Ot(i)));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&p(r,["responseMimeType"],v);const b=f(e,["responseSchema"]);b!=null&&p(r,["responseSchema"],$v(b));const x=f(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(D=>LF(D))),p(n,["safetySettings"],R)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let R=ja(T);Array.isArray(R)&&(R=R.map(D=>zF(La(D)))),p(n,["tools"],R)}const S=f(e,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],VF(S)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(e,["cachedContent"]);n!==void 0&&E!=null&&p(n,["cachedContent"],Nr(t,E));const A=f(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const C=f(e,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const k=f(e,["speechConfig"]);if(k!=null&&p(r,["speechConfig"],Dv(k)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&p(r,["thinkingConfig"],P);const N=f(e,["imageConfig"]);N!=null&&p(r,["imageConfig"],bF(N));const I=f(e,["enableEnhancedCivicAnswers"]);return I!=null&&p(r,["enableEnhancedCivicAnswers"],I),r}function K4(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Ot(i));const o=f(e,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(e,["topP"]);a!=null&&p(r,["topP"],a);const s=f(e,["topK"]);s!=null&&p(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=f(e,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const y=f(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const w=f(e,["seed"]);w!=null&&p(r,["seed"],w);const v=f(e,["responseMimeType"]);v!=null&&p(r,["responseMimeType"],v);const b=f(e,["responseSchema"]);b!=null&&p(r,["responseSchema"],$v(b));const x=f(e,["responseJsonSchema"]);x!=null&&p(r,["responseJsonSchema"],x);const _=f(e,["routingConfig"]);_!=null&&p(r,["routingConfig"],_);const T=f(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],T);const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let L=S;Array.isArray(L)&&(L=L.map(F=>F)),p(n,["safetySettings"],L)}const E=f(e,["tools"]);if(n!==void 0&&E!=null){let L=ja(E);Array.isArray(L)&&(L=L.map(F=>ck(La(F)))),p(n,["tools"],L)}const A=f(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const C=f(e,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],Nr(t,k));const P=f(e,["responseModalities"]);P!=null&&p(r,["responseModalities"],P);const N=f(e,["mediaResolution"]);N!=null&&p(r,["mediaResolution"],N);const I=f(e,["speechConfig"]);I!=null&&p(r,["speechConfig"],Dv(I));const R=f(e,["audioTimestamp"]);R!=null&&p(r,["audioTimestamp"],R);const D=f(e,["thinkingConfig"]);D!=null&&p(r,["thinkingConfig"],D);const j=f(e,["imageConfig"]);if(j!=null&&p(r,["imageConfig"],xF(j)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Hx(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["contents"]);if(i!=null){let a=bn(i);Array.isArray(a)&&(a=a.map(s=>Sf(s))),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],W4(t,o,n)),n}function qx(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["contents"]);if(i!=null){let a=bn(i);Array.isArray(a)&&(a=a.map(s=>s)),p(n,["contents"],a)}const o=f(e,["config"]);return o!=null&&p(n,["generationConfig"],K4(t,o,n)),n}function Wx(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>g4(u))),p(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const a=f(t,["responseId"]);a!=null&&p(e,["responseId"],a);const s=f(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function Kx(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const a=f(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const s=f(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function J4(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=f(t,["imageSize"]);if(e!==void 0&&m!=null&&p(e,["parameters","sampleImageSize"],m),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Y4(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&p(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=f(t,["language"]);e!==void 0&&m!=null&&p(e,["parameters","language"],m);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&p(e,["parameters","outputOptions","compressionQuality"],w);const v=f(t,["addWatermark"]);e!==void 0&&v!=null&&p(e,["parameters","addWatermark"],v);const b=f(t,["labels"]);e!==void 0&&b!=null&&p(e,["labels"],b);const x=f(t,["imageSize"]);e!==void 0&&x!=null&&p(e,["parameters","sampleImageSize"],x);const _=f(t,["enhancePrompt"]);return e!==void 0&&_!=null&&p(e,["parameters","enhancePrompt"],_),n}function X4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&J4(o,n),n}function Q4(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&Y4(o,n),n}function Z4(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>dF(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],lk(i)),e}function eF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Ef(a))),p(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],uk(i)),e}function tF(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const a=f(t,["resolution"]);e!==void 0&&a!=null&&p(e,["parameters","resolution"],a);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],Tf(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>r5(m))),p(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function nF(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const a=f(t,["durationSeconds"]);e!==void 0&&a!=null&&p(e,["parameters","durationSeconds"],a);const s=f(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&p(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const m=f(t,["enhancePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m);const y=f(t,["generateAudio"]);e!==void 0&&y!=null&&p(e,["parameters","generateAudio"],y);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&p(e,["instances[0]","lastFrame"],Kn(w));const v=f(t,["referenceImages"]);if(e!==void 0&&v!=null){let _=v;Array.isArray(_)&&(_=_.map(T=>i5(T))),p(e,["instances[0]","referenceImages"],_)}const b=f(t,["mask"]);e!==void 0&&b!=null&&p(e,["instances[0]","mask"],n5(b));const x=f(t,["compressionQuality"]);return e!==void 0&&x!=null&&p(e,["parameters","compressionQuality"],x),n}function rF(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response","generateVideoResponse"]);return a!=null&&p(e,["response"],sF(a)),e}function iF(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],lF(a)),e}function oF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Tf(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],dk(a));const s=f(e,["source"]);s!=null&&uF(s,n);const l=f(e,["config"]);return l!=null&&tF(l,n),n}function aF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&p(n,["instances[0]","image"],Kn(o));const a=f(e,["video"]);a!=null&&p(n,["instances[0]","video"],fk(a));const s=f(e,["source"]);s!=null&&cF(s,n);const l=f(e,["config"]);return l!=null&&nF(l,n),n}function sF(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>hF(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function lF(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>pF(a))),p(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function uF(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Tf(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],dk(o)),n}function cF(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Kn(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],fk(o)),n}function dF(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],_F(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],lk(i)),e}function Ef(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["image"],sk(n));const r=f(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&p(e,["safetyAttributes"],uk(i));const o=f(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function fF(t){const e={},n=f(t,["_self"]);n!=null&&p(e,["mask"],sk(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function hF(t){const e={},n=f(t,["video"]);return n!=null&&p(e,["video"],e5(n)),e}function pF(t){const e={},n=f(t,["_self"]);return n!=null&&p(e,["video"],t5(n)),e}function mF(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const a=f(t,["enableAffectiveDialog"]);a!=null&&p(e,["enableAffectiveDialog"],a);const s=f(t,["frequencyPenalty"]);s!=null&&p(e,["frequencyPenalty"],s);const l=f(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&p(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const m=f(t,["responseMimeType"]);m!=null&&p(e,["responseMimeType"],m);const y=f(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const w=f(t,["responseSchema"]);w!=null&&p(e,["responseSchema"],w);const v=f(t,["routingConfig"]);v!=null&&p(e,["routingConfig"],v);const b=f(t,["seed"]);b!=null&&p(e,["seed"],b);const x=f(t,["speechConfig"]);x!=null&&p(e,["speechConfig"],x);const _=f(t,["stopSequences"]);_!=null&&p(e,["stopSequences"],_);const T=f(t,["temperature"]);T!=null&&p(e,["temperature"],T);const S=f(t,["thinkingConfig"]);S!=null&&p(e,["thinkingConfig"],S);const E=f(t,["topK"]);E!=null&&p(e,["topK"],E);const A=f(t,["topP"]);if(A!=null&&p(e,["topP"],A),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function gF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],_e(t,r)),n}function yF(t,e){const n={},r=f(e,["model"]);return r!=null&&p(n,["_url","name"],_e(t,r)),n}function vF(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function wF(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function bF(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xF(t){const e={},n=f(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=f(t,["personGeneration"]);i!=null&&p(e,["personGeneration"],i);const o=f(t,["outputMimeType"]);o!=null&&p(e,["imageOutputOptions","mimeType"],o);const a=f(t,["outputCompressionQuality"]);return a!=null&&p(e,["imageOutputOptions","compressionQuality"],a),e}function _F(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],di(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function sk(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Tf(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],di(n));const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Kn(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function SF(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],ek(t,s)),r}function EF(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const a=f(e,["filter"]);n!==void 0&&a!=null&&p(n,["_query","filter"],a);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],ek(t,s)),r}function TF(t,e){const n={},r=f(e,["config"]);return r!=null&&SF(t,r,n),n}function AF(t,e){const n={},r=f(e,["config"]);return r!=null&&EF(t,r,n),n}function CF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=tk(i);Array.isArray(o)&&(o=o.map(a=>Vm(a))),p(e,["models"],o)}return e}function kF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=tk(i);Array.isArray(o)&&(o=o.map(a=>zm(a))),p(e,["models"],o)}return e}function PF(t){const e={},n=f(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function Vm(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["version"]);o!=null&&p(e,["version"],o);const a=f(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],HF(a));const s=f(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&p(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&p(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&p(e,["topP"],h);const m=f(t,["topK"]);m!=null&&p(e,["topK"],m);const y=f(t,["thinking"]);return y!=null&&p(e,["thinking"],y),e}function zm(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);i!=null&&p(e,["description"],i);const o=f(t,["versionId"]);o!=null&&p(e,["version"],o);const a=f(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>G4(h))),p(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&p(e,["labels"],s);const l=f(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],qF(l));const u=f(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),p(e,["checkpoints"],d)}return e}function IF(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],V4(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],z4(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],m4(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function NF(t){const e={},n=f(t,["productImage"]);return n!=null&&p(e,["image"],Kn(n)),e}function OF(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const a=f(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&p(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const m=f(t,["labels"]);return e!==void 0&&m!=null&&p(e,["labels"],m),n}function RF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["source"]);i!=null&&$F(i,n);const o=f(e,["config"]);return o!=null&&OF(o,n),n}function MF(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ef(i))),p(e,["generatedImages"],r)}return e}function $F(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Kn(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>NF(s))),p(e,["instances[0]","productImages"],a)}return n}function DF(t){const e={},n=f(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Kn(n));const r=f(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],PF(o));const a=f(t,["controlImageConfig"]);a!=null&&p(e,["controlImageConfig"],_4(a));const s=f(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],s);const l=f(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function lk(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function uk(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function LF(t){const e={},n=f(t,["category"]);if(n!=null&&p(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function jF(t){const e={},n=f(t,["image"]);return n!=null&&p(e,["image"],Kn(n)),e}function UF(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const a=f(t,["maskDilation"]);e!==void 0&&a!=null&&p(e,["parameters","maskDilation"],a);const s=f(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s);const l=f(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function FF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["source"]);i!=null&&GF(i,n);const o=f(e,["config"]);return o!=null&&UF(o,n),n}function BF(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fF(i))),p(e,["generatedMasks"],r)}return e}function GF(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Kn(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],jF(o)),n}function VF(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&p(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&p(e,["functionCallingConfig"],H4(r)),e}function zF(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],vF(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],wF(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function ck(t){const e={},n=f(t,["retrieval"]);n!=null&&p(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&p(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&p(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],o);const a=f(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>q4(h))),p(e,["functionDeclarations"],d)}const s=f(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],s);const l=f(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&p(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function HF(t){const e={},n=f(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function qF(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function WF(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function KF(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function JF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","name"],_e(t,r));const i=f(e,["config"]);return i!=null&&WF(i,n),n}function YF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["config"]);return i!=null&&KF(i,n),n}function XF(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const a=f(t,["includeRaiReason"]);e!==void 0&&a!=null&&p(e,["parameters","includeRaiReason"],a);const s=f(t,["outputMimeType"]);e!==void 0&&s!=null&&p(e,["parameters","outputOptions","mimeType"],s);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const m=f(t,["mode"]);return e!==void 0&&m!=null&&p(e,["parameters","mode"],m),n}function QF(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["_url","model"],_e(t,r));const i=f(e,["image"]);i!=null&&p(n,["instances[0]","image"],Kn(i));const o=f(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=f(e,["config"]);return a!=null&&XF(a,n),n}function ZF(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ef(o))),p(e,["generatedImages"],i)}return e}function e5(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],di(r));const i=f(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function t5(t){const e={},n=f(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function n5(t){const e={},n=f(t,["image"]);n!=null&&p(e,["_self"],Kn(n));const r=f(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function r5(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Tf(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function i5(t){const e={},n=f(t,["image"]);n!=null&&p(e,["image"],Kn(n));const r=f(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function dk(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function fk(t){const e={},n=f(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],di(r));const i=f(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o5(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function a5(t){const e={},n=f(t,["config"]);return n!=null&&o5(n,e),e}function s5(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function l5(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&s5(r,e),e}function u5(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function c5(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function d5(t){const e={},n=f(t,["name"]);n!=null&&p(e,["name"],n);const r=f(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=f(t,["done"]);i!=null&&p(e,["done"],i);const o=f(t,["error"]);o!=null&&p(e,["error"],o);const a=f(t,["response"]);return a!=null&&p(e,["response"],h5(a)),e}function f5(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&c5(i,e),e}function h5(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&p(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function p5(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function m5(t){const e={},n=f(t,["config"]);return n!=null&&p5(n,e),e}function g5(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["fileSearchStores"],o)}return e}function hk(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&p(e,["chunkingConfig"],a),n}function y5(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&hk(r,e),e}function v5(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w5="Content-Type",b5="X-Server-Timeout",x5="User-Agent",Hm="x-goog-api-client",_5="1.35.0",S5=`google-genai-sdk/${_5}`,E5="v1beta1",T5="v1beta";class A5{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:E5,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:T5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&C5(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Jx(i),new Fm(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Jx(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Vn(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield ce(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const y=JSON.parse(d);if("error"in y){const w=JSON.parse(JSON.stringify(y.error)),v=w.status,b=w.code,x=`got status: ${v}. ${JSON.stringify(y)}`;if(b>=400&&b<600)throw new _f({message:x,status:b})}}catch(y){if(y.name==="ApiError")throw y}a+=d;let h=-1,m=0;for(;;){h=-1,m=0;for(const v of l){const b=a.indexOf(v);b!==-1&&(h===-1||b<h)&&(h=b,m=v.length)}if(h===-1)break;const y=a.substring(0,h);a=a.substring(h+m);const w=y.trim();if(w.startsWith(s)){const v=w.substring(s.length).trim();try{const b=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ce(new Fm(b))}catch(b){throw new Error(`exception parsing stream chunk ${v}. ${b}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=S5+" "+this.clientOptions.userAgentExtra;return e[x5]=n,e[Hm]=n,e[w5]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(b5,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),c=Q("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&hk(r,d);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Jx(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new _f({message:i,status:n}):new Error(i)}}function C5(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k5="mcp_used/unknown";let P5=!1;function pk(t){for(const e of t)if(I5(e)||typeof e=="object"&&"inputSchema"in e)return!0;return P5}function mk(t){var e;const n=(e=t[Hm])!==null&&e!==void 0?e:"";t[Hm]=(n+` ${k5}`).trimStart()}function I5(t){return t!==null&&typeof t=="object"&&t instanceof jv}function N5(t){return Vn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield ce(n.listTools({cursor:i}));for(const s of a.tools)yield yield ce(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class jv{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new jv(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,zn(N5(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),uj(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function O5(t,e,n){const r=new tj;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class R5{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=D5(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=e.callbacks,h=function(){u({})},m=this.apiClient,y={onopen:h,onmessage:_=>{O5(m,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},w=this.webSocketFactory.create(l,$5(a),y);w.connect(),await c;const x={setup:{model:_e(this.apiClient,e.model)}};return w.send(JSON.stringify(x)),new M5(w,this.apiClient)}}class M5{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=a4(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=o4(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl($o.PLAY)}pause(){this.sendPlaybackControl($o.PAUSE)}stop(){this.sendPlaybackControl($o.STOP)}resetContext(){this.sendPlaybackControl($o.RESET_CONTEXT)}close(){this.conn.close()}}function $5(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function D5(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function j5(t,e,n){const r=new ej;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=u4(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class U5{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new R5(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&pk(e.config.tools)&&mk(d);const h=V5(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const k=this.apiClient.getApiKey();let P="BidiGenerateContent",N="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",N="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${P}?${N}=${k}`}let m=()=>{};const y=new Promise(k=>{m=k}),w=e.callbacks,v=function(){var k;(k=w==null?void 0:w.onopen)===null||k===void 0||k.call(w),m({})},b=this.apiClient,x={onopen:v,onmessage:k=>{j5(b,w.onmessage,k)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(k){}},_=this.webSocketFactory.create(c,G5(h),x);_.connect(),await y;let T=_e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const k=this.apiClient.getProject(),P=this.apiClient.getLocation();T=`projects/${k}/locations/${P}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[qc.AUDIO]}:e.config.responseModalities=[qc.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const k of E)if(this.isCallableTool(k)){const P=k;A.push(await P.tool())}else A.push(k);A.length>0&&(e.config.tools=A);const C={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=i4(this.apiClient,C):S=r4(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new B5(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const F5={turnComplete:!0};class B5{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=bn(n.turns),e.isVertexAI()||(r=r.map(i=>Sf(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(L5)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},F5),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:l4(e)}:n={realtimeInput:s4(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function G5(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function V5(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yx=10;function Xx(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Yo(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Yo(t){return"callTool"in t&&typeof t.callTool=="function"}function z5(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Yo(i)))!==null&&r!==void 0?r:!1}function Qx(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Yo(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Zx(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H5 extends Ir{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!z5(n)||Xx(n.config))return await this.generateContentInternal(l);const u=Qx(n);if(u.length>0){const w=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,d;const h=bn(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Yx;let y=0;for(;y<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,v=[];for(const b of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Yo(b)){const _=await b.callTool(c.functionCalls);v.push(..._)}y++,d={role:"user",parts:v},l.contents=bn(l.contents),l.contents.push(w),l.contents.push(d),Zx(l.config)&&(h.push(w),h.push(d))}return Zx(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),Xx(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=Qx(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new to(Sr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Yo(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&pk(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),mk(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Yo(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Yx;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Vn(this,arguments,function*(){for(var h,m,y,w,v,b;s<o;){a&&(s++,a=!1);const S=yield ce(u.processParamsMaybeAddMcpUsage(d)),E=yield ce(u.generateContentStreamInternal(S)),A=[],C=[];try{for(var x=!0,_=(m=void 0,zn(E)),T;T=yield ce(_.next()),h=T.done,!h;x=!0){w=T.value,x=!1;const k=w;if(yield yield ce(k),k.candidates&&(!((v=k.candidates[0])===null||v===void 0)&&v.content)){C.push(k.candidates[0].content);for(const P of(b=k.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(s<o&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(P.functionCall.name)){const N=yield ce(c.get(P.functionCall.name).callTool([P.functionCall]));A.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(k){m={error:k}}finally{try{!x&&!h&&(y=_.return)&&(yield ce(y.call(_)))}finally{if(m)throw m.error}}if(A.length>0){a=!0;const k=new us;k.candidates=[{content:{role:"user",parts:A}}],yield yield ce(k);const P=[];P.push(...C),P.push({role:"user",parts:A});const N=bn(d.contents).concat(P);d.contents=N}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qx(this.apiClient,e);return s=Q("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Kx(c),h=new us;return Object.assign(h,d),h})}else{const u=Hx(this.apiClient,e);return s=Q("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Wx(c),h=new us;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qx(this.apiClient,e);return s=Q("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return Vn(this,arguments,function*(){var h,m,y,w;try{for(var v=!0,b=zn(d),x;x=yield ce(b.next()),h=x.done,!h;v=!0){w=x.value,v=!1;const _=w,T=Kx(yield ce(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new us;Object.assign(S,T),yield yield ce(S)}}catch(_){m={error:_}}finally{try{!v&&!h&&(y=b.return)&&(yield ce(y.call(b)))}finally{if(m)throw m.error}}})})}else{const u=Hx(this.apiClient,e);return s=Q("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return Vn(this,arguments,function*(){var h,m,y,w;try{for(var v=!0,b=zn(d),x;x=yield ce(b.next()),h=x.done,!h;v=!0){w=x.value,v=!1;const _=w,T=Wx(yield ce(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new us;Object.assign(S,T),yield yield ce(S)}}catch(_){m={error:_}}finally{try{!v&&!h&&(y=b.return)&&(yield ce(y.call(b)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=U4(this.apiClient,e);return s=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=B4(c),h=new kx;return Object.assign(h,d),h})}else{const u=j4(this.apiClient,e);return s=Q("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=F4(c),h=new kx;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Q4(this.apiClient,e);return s=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=eF(c),h=new Px;return Object.assign(h,d),h})}else{const u=X4(this.apiClient,e);return s=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Z4(c),h=new Px;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=M4(this.apiClient,e);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=$4(l),c=new VL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=QF(this.apiClient,e);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=ZF(l),c=new zL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=RF(this.apiClient,e);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=MF(l),c=new HL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=FF(this.apiClient,e);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=BF(l),c=new qL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yF(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>zm(c))}else{const u=gF(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Vm(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=AF(this.apiClient,e);return s=Q("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=kF(c),h=new Ix;return Object.assign(h,d),h})}else{const u=TF(this.apiClient,e);return s=Q("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=CF(c),h=new Ix;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=YF(this.apiClient,e);return s=Q("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>zm(c))}else{const u=JF(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Vm(c))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=I4(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=O4(c),h=new Nx;return Object.assign(h,d),h})}else{const u=P4(this.apiClient,e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=N4(c),h=new Nx;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=A4(this.apiClient,e);return s=Q("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=k4(c),h=new Ox;return Object.assign(h,d),h})}else{const u=T4(this.apiClient,e);return s=Q("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=C4(c),h=new Ox;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=v4(this.apiClient,e);return o=Q("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=w4(l),c=new WL;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=aF(this.apiClient,e);return s=Q("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=iF(c),h=new Wc;return Object.assign(h,d),h})}else{const u=oF(this.apiClient,e);return s=Q("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=rF(c),h=new Wc;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q5 extends Ir{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=LL(e);return s=Q("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=DL(e);return s=Q("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=PL(e);return o=Q("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W5(t){const e={},n=f(t,["data"]);if(n!=null&&p(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function K5(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rB(o))),p(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&p(e,["role"],r),e}function J5(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(e,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],nB(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function Y5(t,e){const n={},r=f(e,["config"]);return r!=null&&p(n,["config"],J5(t,r,n)),n}function X5(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Q5(t){const e={},n=f(t,["id"]);n!=null&&p(e,["id"],n);const r=f(t,["args"]);r!=null&&p(e,["args"],r);const i=f(t,["name"]);if(i!=null&&p(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Z5(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function eB(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function tB(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const a=f(t,["topP"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topP"],a);const s=f(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&p(e,["setup","generationConfig","speechConfig"],Lv(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const m=f(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=f(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],K5(Ot(y)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let E=ja(w);Array.isArray(E)&&(E=E.map(A=>oB(La(A)))),p(e,["setup","tools"],E)}const v=f(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],iB(v));const b=f(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&p(e,["setup","inputAudioTranscription"],b);const x=f(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],x);const _=f(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&p(e,["setup","realtimeInputConfig"],_);const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],T);const S=f(t,["proactivity"]);if(e!==void 0&&S!=null&&p(e,["setup","proactivity"],S),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function nB(t,e){const n={},r=f(e,["model"]);r!=null&&p(n,["setup","model"],_e(t,r));const i=f(e,["config"]);return i!=null&&p(n,["config"],tB(i,n)),n}function rB(t){const e={},n=f(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&p(e,["fileData"],X5(o));const a=f(t,["functionCall"]);a!=null&&p(e,["functionCall"],Q5(a));const s=f(t,["functionResponse"]);s!=null&&p(e,["functionResponse"],s);const l=f(t,["inlineData"]);l!=null&&p(e,["inlineData"],W5(l));const u=f(t,["text"]);u!=null&&p(e,["text"],u);const c=f(t,["thought"]);c!=null&&p(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&p(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function iB(t){const e={},n=f(t,["handle"]);if(n!=null&&p(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oB(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&p(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&p(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&p(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(e,["functionDeclarations"],c)}const a=f(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],Z5(a));const s=f(t,["googleSearch"]);s!=null&&p(e,["googleSearch"],eB(s));const l=f(t,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aB(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function sB(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=aB(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class lB extends Ir{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Y5(this.apiClient,e);o=Q("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=sB(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uB(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function cB(t){const e={},n=f(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&uB(r,e),e}function dB(t){const e={},n=f(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function fB(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function hB(t){const e={},n=f(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&fB(r,e),e}function pB(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mB extends Ir{constructor(e){super(),this.apiClient=e,this.list=async n=>new to(Sr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=dB(e);return o=Q("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=cB(e);i=Q("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hB(e);return o=Q("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=pB(l),c=new KL;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gB extends Ir{constructor(e,n=new mB(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new to(Sr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=a5(e);return o=Q("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=u5(e);return o=Q("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=l5(e);i=Q("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=m5(e);return o=Q("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=g5(l),c=new JL;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=y5(e);return o=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=v5(l),c=new YL;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=f5(e);return o=Q("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=d5(l),c=new Ov;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gk=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return gk=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const yB=()=>gk();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Wm=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An extends Error{}class Ft extends An{constructor(e,n,r,i){super(`${Ft.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Af({message:r,cause:Wm(n)});const o=n;return e===400?new vk(e,o,r,i):e===401?new wk(e,o,r,i):e===403?new bk(e,o,r,i):e===404?new xk(e,o,r,i):e===409?new _k(e,o,r,i):e===422?new Sk(e,o,r,i):e===429?new Ek(e,o,r,i):e>=500?new Tk(e,o,r,i):new Ft(e,o,r,i)}}class Km extends Ft{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Af extends Ft{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class yk extends Af{constructor({message:e}={}){super({message:e??"Request timed out."})}}class vk extends Ft{}class wk extends Ft{}class bk extends Ft{}class xk extends Ft{}class _k extends Ft{}class Sk extends Ft{}class Ek extends Ft{}class Tk extends Ft{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vB=/^[a-z][a-z0-9+.-]*:/i,wB=t=>vB.test(t);let Jm=t=>(Jm=Array.isArray,Jm(t));const bB=Jm;let xB=bB;const e_=xB;function _B(t){if(!t)return!0;for(const e in t)return!1;return!0}function SB(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const EB=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new An(`${t} must be an integer`);if(e<0)throw new An(`${t} must be a positive integer`);return e},TB=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AB=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CB(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const kB=()=>{var t,e,n,r,i;const o=CB();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":n_(Deno.build.os),"X-Stainless-Arch":t_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":n_((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":t_((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=PB();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function PB(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const t_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",n_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $u;const IB=()=>$u??($u=kB());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NB(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ak(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function OB(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Ak({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Ck(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function RB(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MB=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kk=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Zh(t,e,n){return kk(),new File(t,e??"unknown_file",n)}function $B(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const DB=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pk=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",LB=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Pk(t),jB=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function UB(t,e,n){if(kk(),t=await t,LB(t))return t instanceof File?t:Zh([await t.arrayBuffer()],t.name);if(jB(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Zh(await Ym(i),e,n)}const r=await Ym(t);if(e||(e=$B(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Zh(r,e,n)}async function Ym(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(Pk(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(DB(t))try{for(var s=!0,l=zn(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const c=i;a.push(...await Ym(c))}}catch(c){n={error:c}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${FB(t)}`)}return a}function FB(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ik{constructor(e){this._client=e}}Ik._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nk(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const r_=Object.freeze(Object.create(null)),BB=(t=Nk)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,d,h)=>{var m,y,w;/[?#]/.test(d)&&(i=!0);const v=r[h];let b=(i?encodeURIComponent:t)(""+v);return h!==r.length&&(v==null||typeof v=="object"&&v.toString===((w=Object.getPrototypeOf((y=Object.getPrototypeOf((m=v.hasOwnProperty)!==null&&m!==void 0?m:r_))!==null&&y!==void 0?y:r_))===null||w===void 0?void 0:w.toString))&&(b=v+"",o.push({start:c.length+d.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":b)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,m)=>{const y=" ".repeat(m.start-c),w="^".repeat(m.length);return c=m.start+m.length,h+y+w},"");throw new An(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},Du=BB(Nk);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ok extends Ik{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Jc(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new An("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new An("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Du`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Du`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Du`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Jc(o,["api_version"]);return this._client.get(Du`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Ok._key=Object.freeze(["interactions"]);class Rk extends Ok{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GB(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Lu;function Uv(t){let e;return(Lu??(e=new globalThis.TextEncoder,Lu=e.encode.bind(e)))(t)}let ju;function i_(t){let e;return(ju??(e=new globalThis.TextDecoder,ju=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Uv(e):e;this.buffer=GB([this.buffer,n]);const r=[];let i;for(;(i=VB(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(i_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=i_(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Cf.NEWLINE_CHARS=new Set([`
`,"\r"]);Cf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function VB(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function zB(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yc={off:0,error:200,warn:300,info:400,debug:500},o_=(t,e,n)=>{if(t){if(SB(Yc,t))return t;$t(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Yc))}`)}};function As(){}function Uu(t,e,n){return!e||Yc[t]>Yc[n]?As:e[t].bind(e)}const HB={error:As,warn:As,info:As,debug:As};let a_=new WeakMap;function $t(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return HB;const i=a_.get(n);if(i&&i[0]===r)return i[1];const o={error:Uu("error",n,r),warn:Uu("warn",n,r),info:Uu("info",n,r),debug:Uu("debug",n,r)};return a_.set(n,[r,o]),o}const Si=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?$t(r):console;function a(){return Vn(this,arguments,function*(){var l,u,c,d;if(i)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,y=zn(qB(e,n)),w;w=yield ce(y.next()),l=w.done,!l;m=!0){d=w.value,m=!1;const v=d;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield ce(JSON.parse(v.data))}catch(b){throw o.error("Could not parse message into JSON:",v.data),o.error("From chunk:",v.raw),b}}}catch(v){u={error:v}}finally{try{!m&&!l&&(c=y.return)&&(yield ce(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(v){if(qm(v))return yield ce(void 0);throw v}finally{h||n.abort()}})}return new Do(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Vn(this,arguments,function*(){var l,u,c,d;const h=new Cf,m=Ck(e);try{for(var y=!0,w=zn(m),v;v=yield ce(w.next()),l=v.done,!l;y=!0){d=v.value,y=!1;const b=d;for(const x of h.decode(b))yield yield ce(x)}}catch(b){u={error:b}}finally{try{!y&&!l&&(c=w.return)&&(yield ce(c.call(w)))}finally{if(u)throw u.error}}for(const b of h.flush())yield yield ce(b)})}function a(){return Vn(this,arguments,function*(){var l,u,c,d;if(i)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,y=zn(o()),w;w=yield ce(y.next()),l=w.done,!l;m=!0){d=w.value,m=!1;const v=d;h||v&&(yield yield ce(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!m&&!l&&(c=y.return)&&(yield ce(c.call(y)))}finally{if(u)throw u.error}}h=!0}catch(v){if(qm(v))return yield ce(void 0);throw v}finally{h||n.abort()}})}return new Do(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new Do(()=>i(e),this.controller,this.client),new Do(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Ak({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Uv(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function qB(t,e){return Vn(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new An("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new An("Attempted to iterate over a response with no body");const s=new KB,l=new Cf,u=Ck(t.body);try{for(var c=!0,d=zn(WB(u)),h;h=yield ce(d.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const y of l.decode(m)){const w=s.decode(y);w&&(yield yield ce(w))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=d.return)&&(yield ce(o.call(d)))}finally{if(i)throw i.error}}for(const m of l.flush()){const y=s.decode(m);y&&(yield yield ce(y))}})}function WB(t){return Vn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=zn(t),u;u=yield ce(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?Uv(c):c;let h=new Uint8Array(a.length+d.length);h.set(a),h.set(d,a.length),a=h;let m;for(;(m=zB(a))!==-1;)yield yield ce(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield ce(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield ce(a))})}class KB{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=JB(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function JB(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function YB(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return $t(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Do.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return $t(t).debug(`[${r}] response parsed`,Si({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fv extends Promise{constructor(e,n,r=YB){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Fv(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mk=Symbol("brand.privateNullableHeaders");function*XB(t){if(!t)return;if(Mk in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():e_(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=e_(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const cs=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of XB(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[Mk]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ep=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=SL)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $k;class kf{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=ep("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=ep("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=Jc(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:kf.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(a=(o=o_(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:o_(ep("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:NB(),this.encoder=MB,this._options=m,this.apiKey=c,this.apiVersion=d,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=cs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return cs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return cs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new An(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${bo}`}defaultIdempotencyKey(){return`stainless-node-retry-${yB()}`}makeStatusError(e,n,r,i){return Ft.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=wB(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return _B(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Fv(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if($t(this).debug(`[${h}] sending request`,Si({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new Km;const w=new AbortController,v=await this.fetchWithTimeout(c,u,d,w).catch(Wm),b=Date.now();if(v instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new Km;const T=qm(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return $t(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${_}`),$t(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${_})`,Si({retryOfRequestLogID:r,url:c,durationMs:b-y,message:v.message})),this.retryRequest(s,n,r??h);throw $t(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),$t(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,Si({retryOfRequestLogID:r,url:c,durationMs:b-y,message:v.message})),T?new yk:new Af({cause:v})}const x=`[${h}${m}] ${u.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${b-y}ms`;if(!v.ok){const _=await this.shouldRetry(v);if(n&&_){const k=`retrying, ${n} attempts remaining`;return await RB(v.body),$t(this).info(`${x} - ${k}`),$t(this).debug(`[${h}] response error (${k})`,Si({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:b-y})),this.retryRequest(s,n,r??h,v.headers)}const T=_?"error; no more retries left":"error; not retryable";$t(this).info(`${x} - ${T}`);const S=await v.text().catch(k=>Wm(k).message),E=TB(S),A=E?void 0:S;throw $t(this).debug(`[${h}] response error (${T})`,Si({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:A,durationMs:Date.now()-y})),this.makeStatusError(v.status,E,A,v.headers)}return $t(this).info(x),$t(this).debug(`[${h}] response start`,Si({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:b-y})),{response:v,options:s,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Jc(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(d.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await AB(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:c}=a,d=this.buildURL(l,u,c);"timeout"in a&&EB("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),y=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:y},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=cs([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),IB()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=cs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:OB(e)}:this.encoder({body:e,headers:r})}}kf.DEFAULT_TIMEOUT=6e4;class yt extends kf{constructor(){super(...arguments),this.interactions=new Rk(this)}}$k=yt;yt.GeminiNextGenAPIClient=$k;yt.GeminiNextGenAPIClientError=An;yt.APIError=Ft;yt.APIConnectionError=Af;yt.APIConnectionTimeoutError=yk;yt.APIUserAbortError=Km;yt.NotFoundError=xk;yt.ConflictError=_k;yt.RateLimitError=Ek;yt.BadRequestError=vk;yt.AuthenticationError=wk;yt.InternalServerError=Tk;yt.PermissionDeniedError=bk;yt.UnprocessableEntityError=Sk;yt.toFile=UB;yt.Interactions=Rk;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QB(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function ZB(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function e3(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function t3(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function n3(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const a=f(t,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=f(t,["batchSize"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","batchSize"],s);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function r3(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=f(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec"],s_(m))}else if(i==="PREFERENCE_TUNING"){const m=f(t,["validationDataset"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec"],s_(m))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const m=f(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(s==="PREFERENCE_TUNING"){const m=f(t,["epochCount"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=f(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=f(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=f(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=f(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(c==="PREFERENCE_TUNING"){const m=f(t,["adapterSize"]);e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&p(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function i3(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&m3(o);const a=f(t,["config"]);return a!=null&&n3(a,n),n}function o3(t,e){const n={},r=f(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&g3(o,n,e);const a=f(t,["config"]);return a!=null&&r3(a,n,e),n}function a3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function s3(t,e){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function l3(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function u3(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const a=f(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),r}function c3(t,e){const n={},r=f(t,["config"]);return r!=null&&l3(r,n),n}function d3(t,e){const n={},r=f(t,["config"]);return r!=null&&u3(r,n),n}function f3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Dk(s))),p(n,["tuningJobs"],a)}return n}function h3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Xm(s))),p(n,["tuningJobs"],a)}return n}function p3(t,e){const n={},r=f(t,["name"]);r!=null&&p(n,["model"],r);const i=f(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function m3(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function g3(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(t,["gcsUri"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Dk(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],QC(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&p(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&p(n,["tunedModel"],p3(h)),n}function Xm(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["state"]);o!=null&&p(n,["state"],QC(o));const a=f(t,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(t,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&p(n,["error"],c);const d=f(t,["description"]);d!=null&&p(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=f(t,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const y=f(t,["preTunedModel"]);y!=null&&p(n,["preTunedModel"],y);const w=f(t,["supervisedTuningSpec"]);w!=null&&p(n,["supervisedTuningSpec"],w);const v=f(t,["preferenceOptimizationSpec"]);v!=null&&p(n,["preferenceOptimizationSpec"],v);const b=f(t,["tuningDataStats"]);b!=null&&p(n,["tuningDataStats"],b);const x=f(t,["encryptionSpec"]);x!=null&&p(n,["encryptionSpec"],x);const _=f(t,["partnerModelTuningSpec"]);_!=null&&p(n,["partnerModelTuningSpec"],_);const T=f(t,["customBaseModel"]);T!=null&&p(n,["customBaseModel"],T);const S=f(t,["experiment"]);S!=null&&p(n,["experiment"],S);const E=f(t,["labels"]);E!=null&&p(n,["labels"],E);const A=f(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const C=f(t,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const k=f(t,["serviceAccount"]);k!=null&&p(n,["serviceAccount"],k);const P=f(t,["tunedModelDisplayName"]);P!=null&&p(n,["tunedModelDisplayName"],P);const N=f(t,["veoTuningSpec"]);return N!=null&&p(n,["veoTuningSpec"],N),n}function y3(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&p(n,["name"],i);const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["done"]);a!=null&&p(n,["done"],a);const s=f(t,["error"]);return s!=null&&p(n,["error"],s),n}function s_(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v3 extends Ir{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new to(Sr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Um.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=s3(e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Xm(c))}else{const u=a3(e);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Dk(c))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=d3(e);return s=Q("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=h3(c),h=new Rx;return Object.assign(h,d),h})}else{const u=c3(e);return s=Q("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=f3(c),h=new Rx;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ZB(e);return s=Q("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=t3(c),h=new Mx;return Object.assign(h,d),h})}else{const u=QB(e);return s=Q("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=e3(c),h=new Mx;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=o3(e,e);return o=Q("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Xm(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=i3(e);return o=Q("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>y3(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const b3=1024*1024*8,x3=3,_3=1e3,S3=2,Xc="x-goog-upload-status";async function E3(t,e,n){var r;const i=await Lk(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function T3(t,e,n){var r;const i=await Lk(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=qC(o),s=new Rv;return Object.assign(s,a),s}async function Lk(t,e,n){var r,i;let o=0,a=0,s=new Fm(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(b3,o-a),c=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=_3;for(;d<x3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Xc]));)d++,await C3(h),h=h*S3;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Xc])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function A3(t){return{size:t.size,type:t.type}}function C3(t){return new Promise(e=>setTimeout(e,t))}class k3{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await E3(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await T3(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await A3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P3{create(e,n,r){return new I3(e,n,r)}}class I3{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l_="x-goog-api-key";class N3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(l_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(l_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O3="gl-node/";class jk{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new yt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=CL(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new N3(this.apiKey);this.apiClient=new A5({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:O3+"web",uploader:new k3,downloader:new w3}),this.models=new H5(this.apiClient),this.live=new U5(this.apiClient,i,new P3),this.batches=new nU(this.apiClient),this.chats=new LU(this.models,this.apiClient),this.caches=new MU(this.apiClient),this.files=new WU(this.apiClient),this.operations=new q5(this.apiClient),this.authTokens=new lB(this.apiClient),this.tunings=new v3(this.apiClient),this.fileSearchStores=new gB(this.apiClient)}}const R3=()=>"AIzaSyBe0v3rn4bATheRJCE77AmY58Op-tiJJVU",Uk=()=>{const t=R3();return console.log("Gemini Key Detected:","Yes",`(Length: ${t.length})`),new jk({apiKey:t})},Fk=`
You are an expert AI nutritionist and mathematical calculator. 

SCENARIO 1: IMAGE/TEXT ESTIMATION
- Analyze food descriptions or images.
- Provide a detailed "receipt" breakdown of every ingredient.
- Estimate weights in grams (g) and calculate nutrition.

SCENARIO 2: STRICT RECALCULATION (User provided weights)
- If a list of ingredients with specific weights (grams) is provided, you MUST act as a precise calculator.
- IGNORE your previous estimations.
- Use the provided weights as the ABSOLUTE GROUND TRUTH.
- Calculate calories and macros strictly based on these weights.
- Return the recalculated totals.
`,Bk=t=>{const e=(t==null?void 0:t.message)||String(t)||"",n=e.toLowerCase();return e.includes("429")||n.includes("quota")||n.includes("limit")||n.includes("exhausted")?"AI Limit Reached: You've sent too many requests. Please wait about 60 seconds for the quota to reset.":n.includes("api key")?"Configuration Error: Invalid API key. Please check your settings.":n.includes("network")||n.includes("fetch")?"Connection Error: Please check your internet connection and try again.":e||"An unexpected AI error occurred."};async function Bv(t,e=2,n=2e3){try{return await t()}catch(r){const i=(r==null?void 0:r.message)||"";if((i.includes("429")||i.toLowerCase().includes("quota"))&&e>0)return console.warn(`Gemini Quota hit. Retrying in ${n}ms... (${e} retries left)`),await new Promise(a=>setTimeout(a,n)),Bv(t,e-1,n*2);throw r}}const M3=async t=>{try{return await Bv(async()=>{const n=await Uk().models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:"Analyze this image. Breakdown into ingredients, weights in grams, calories, and total nutrition."}]},config:{systemInstruction:Fk,responseMimeType:"application/json",responseSchema:{type:xe.OBJECT,properties:{item:{type:xe.STRING},calories:{type:xe.INTEGER},protein:{type:xe.INTEGER},carbs:{type:xe.INTEGER},fat:{type:xe.INTEGER},confidence:{type:xe.NUMBER},ingredients:{type:xe.ARRAY,items:{type:xe.OBJECT,properties:{name:{type:xe.STRING},grams:{type:xe.INTEGER},calories:{type:xe.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(n.text||"{}")})}catch(e){throw console.error("Gemini Analysis Error:",e),new Error(Bk(e))}},u_=async(t,e)=>{try{return await Bv(async()=>{let n="";e&&e.length>0?n=`USER MANUAL WEIGHT CORRECTION:
        The following ingredients have been updated with exact weights. 
        Perform a mathematical calculation for the nutrition of each item based strictly on these grams:
        
        ${e.map(a=>`- ${a.name}: ${a.grams}g`).join(`
`)}
        
        CRITICAL: 
        1. Calculate calories/macros from scratch for each item.
        2. Sum the totals.
        3. Do not adjust the weights provided.
        4. Return the new AnalysisResult.`:n=`Estimate nutrition for: "${t}".`;const i=await Uk().models.generateContent({model:"gemini-3-flash-preview",contents:[{parts:[{text:n}]}],config:{systemInstruction:Fk,responseMimeType:"application/json",responseSchema:{type:xe.OBJECT,properties:{item:{type:xe.STRING},calories:{type:xe.INTEGER},protein:{type:xe.INTEGER},carbs:{type:xe.INTEGER},fat:{type:xe.INTEGER},confidence:{type:xe.NUMBER},ingredients:{type:xe.ARRAY,items:{type:xe.OBJECT,properties:{name:{type:xe.STRING},grams:{type:xe.INTEGER},calories:{type:xe.INTEGER}},required:["name","grams","calories"]}}},required:["item","calories","protein","carbs","fat","confidence","ingredients"]}}});return JSON.parse(i.text||"{}")})}catch(n){throw console.error("Gemini Text Analysis Error:",n),new Error(Bk(n))}};let Fu;const $3=new Uint8Array(16);function D3(){if(!Fu&&(Fu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fu($3)}const bt=[];for(let t=0;t<256;++t)bt.push((t+256).toString(16).slice(1));function L3(t,e=0){return bt[t[e+0]]+bt[t[e+1]]+bt[t[e+2]]+bt[t[e+3]]+"-"+bt[t[e+4]]+bt[t[e+5]]+"-"+bt[t[e+6]]+bt[t[e+7]]+"-"+bt[t[e+8]]+bt[t[e+9]]+"-"+bt[t[e+10]]+bt[t[e+11]]+bt[t[e+12]]+bt[t[e+13]]+bt[t[e+14]]+bt[t[e+15]]}const j3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),c_={randomUUID:j3};function U3(t,e,n){if(c_.randomUUID&&!t)return c_.randomUUID();t=t||{};const r=t.random||(t.rng||D3)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,L3(r)}const F3=(t,e=600,n=150,r=!1)=>new Promise((i,o)=>{const a=t.size/1048576,s=new FileReader;s.readAsDataURL(t),s.onload=l=>{var c;const u=new Image;u.src=(c=l.target)==null?void 0:c.result,u.onload=()=>{const d=document.createElement("canvas");let h=u.width,m=u.height;h>e&&(m=e/h*m,h=e),d.width=h,d.height=m;const y=d.getContext("2d");y==null||y.drawImage(u,0,0,h,m);let w=.5,v=d.toDataURL("image/jpeg",w);const b=n*1024;if(v.split(",")[1].length*3/4>b&&(w=.35,v=d.toDataURL("image/jpeg",w),v.split(",")[1].length*3/4>b&&(w=.25,v=d.toDataURL("image/jpeg",w))),r){const T=v.split(",")[1].length*3/4/1024,S=(a*1024-T)/(a*1024)*100;console.log(` Image Optimization:
  Original: ${a.toFixed(2)}MB (${u.width}${u.height}px)
  Optimized: ${T.toFixed(0)}KB (${Math.round(h)}${Math.round(m)}px)
  Quality: ${(w*100).toFixed(0)}%
  Saved: ${S.toFixed(0)}% `)}i(v)},u.onerror=d=>o(d)},s.onerror=l=>o(l)}),Gk=({onClose:t,onSuccess:e,editEntry:n})=>{const[r,i]=O.useState("scan"),[o,a]=O.useState(n?"details":"upload"),[s,l]=O.useState((n==null?void 0:n.imageUrl)||null),[u,c]=O.useState(!1),[d,h]=O.useState(!1),[m,y]=O.useState(!1),[w,v]=O.useState(null),b=O.useRef(null),[x,_]=O.useState(""),T=new Date,S=`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}`,[E,A]=O.useState((n==null?void 0:n.date)||T.toISOString().split("T")[0]),[C,k]=O.useState((n==null?void 0:n.time)||S),[P,N]=O.useState((n==null?void 0:n.food_item)||""),[I,R]=O.useState((n==null?void 0:n.calories.toString())||""),[D,j]=O.useState((n==null?void 0:n.protein.toString())||""),[L,F]=O.useState((n==null?void 0:n.carbs.toString())||""),[$,U]=O.useState((n==null?void 0:n.fat.toString())||""),[V,J]=O.useState((n==null?void 0:n.ingredients)||[]),[H,re]=O.useState((n==null?void 0:n.confidence)||null),[fe,be]=O.useState((n==null?void 0:n.originalAiResponse)||null),Ie=async ee=>{if(ee.target.files&&ee.target.files[0]){const Ne=ee.target.files[0];try{const at=await F3(Ne,600,150,!0);l(at),v(null)}catch{v("Failed to process image.")}}},q=async()=>{if(s){c(!0),v(null);try{const ee=s.split(",")[1],Ne=await M3(ee);z(Ne),be(Ne),a("details")}catch(ee){v(ee.message)}finally{c(!1)}}},X=async()=>{if(x.trim()){c(!0),v(null);try{const ee=await u_(x);z(ee),be(ee),a("details")}catch(ee){v(ee.message)}finally{c(!1)}}},z=ee=>{N(ee.item),R(ee.calories.toString()),j(ee.protein.toString()),F(ee.carbs.toString()),U(ee.fat.toString()),J(ee.ingredients||[]),re(ee.confidence)},Z=async()=>{h(!0),v(null);try{const ee=await u_(P,V);z(ee)}catch(ee){v(ee.message)}finally{h(!1)}},ie=(ee,Ne,at)=>{const Mt=[...V];if(Ne==="grams"||Ne==="calories"){const cn=at===""?0:parseInt(at);Mt[ee]={...Mt[ee],[Ne]:isNaN(cn)?0:cn}}else Mt[ee]={...Mt[ee],[Ne]:at};J(Mt)},G=ee=>{J(V.filter((Ne,at)=>at!==ee))},Ee=()=>{J([...V,{name:"",grams:100,calories:0}])},de=async()=>{if(!P.trim()||!I){v("Please fill required fields.");return}try{const[ee,Ne,at]=E.split("-").map(Number),[Mt,cn]=C.split(":").map(Number),ao=new Date(ee,Ne-1,at,Mt,cn);if(isNaN(ao.getTime()))throw new Error("Invalid date or time selected.");const fu=ao.toISOString(),es=Number(I),yO=Number(D)||0,vO=Number(L)||0,wO=Number($)||0;if(isNaN(es))throw new Error("Calories must be a valid number.");const bO={id:(n==null?void 0:n.id)||U3(),timestamp:fu,date:E,time:C,food_item:P,calories:es,protein:yO,carbs:vO,fat:wO,confidence:H||1,imageUrl:s||void 0,ingredients:V,originalAiResponse:fe};y(!0),v(null),await uL(bO),e()}catch(ee){console.error("Save failed:",ee),v(ee.message||"Failed to save record.")}finally{y(!1)}},Te=w==null?void 0:w.includes("Limit Reached"),K=w==null?void 0:w.includes("Database Quota"),Re=w==null?void 0:w.includes("Browser Storage Full");return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] p-6 shadow-2xl border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[o==="details"&&!n&&g.jsx("button",{onClick:()=>a("upload"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:g.jsx(yv,{size:24,className:"text-gray-900 dark:text-gray-50"})}),g.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-gray-50 tracking-tight",children:n?"Edit Record":o==="upload"?"Track Meal":"Meal Receipt"})]}),g.jsx("button",{onClick:t,className:"p-2 bg-gray-100 dark:bg-white/5 rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:g.jsx(ca,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),w&&g.jsxs("div",{className:`mb-4 p-4 rounded-3xl flex flex-col gap-3 animate-in shake-1 duration-300 ${Te?"bg-amber-50 dark:bg-amber-950/30 border border-amber-100 dark:border-amber-900/30 text-amber-700 dark:text-amber-400":K||Re?"bg-orange-50 dark:bg-orange-950/30 border border-orange-100 dark:border-orange-900/30 text-orange-700 dark:text-orange-400":"bg-red-50 dark:bg-red-950/20 border border-red-100 dark:border-red-900/30 text-red-600 dark:text-red-400"}`,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[Te?g.jsx(a2,{className:"shrink-0 mt-0.5",size:18}):K||Re?g.jsx(fC,{className:"shrink-0 mt-0.5",size:18}):g.jsx(uC,{className:"shrink-0 mt-0.5",size:18}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:Te?"AI limit reached":Re?"Phone Storage Full":K?"Cloud Storage Full":"Action Failed"}),g.jsx("p",{className:"text-xs font-semibold leading-relaxed",children:w})]})]}),!Re&&(Te||!K)&&g.jsxs("button",{onClick:()=>{v(null),o==="upload"?q():Z()},className:"w-full py-2 bg-white/50 dark:bg-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-white/80 dark:hover:bg-white/20 transition-all",children:[g.jsx(g2,{size:14})," Try Again"]}),Re&&g.jsx("div",{className:"pt-2 border-t border-orange-200 dark:border-orange-900/40",children:g.jsx("p",{className:"text-[10px] font-medium text-orange-600/70 dark:text-orange-400/70 italic",children:"Tip: Photos take up the most space. Delete old entries in the History tab to free up browser storage."})})]}),o==="upload"?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-[20px]",children:[g.jsxs("button",{onClick:()=>i("scan"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="scan"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(Ls,{size:16}),"Scan"]}),g.jsxs("button",{onClick:()=>i("chat"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="chat"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(d2,{size:16}),"Chat"]}),g.jsxs("button",{onClick:()=>i("recipe"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-[16px] text-xs font-bold transition-all ${r==="recipe"?"bg-white dark:bg-royal-600 text-royal-700 dark:text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:[g.jsx(Fc,{size:16}),"Recipe"]})]}),r==="scan"&&g.jsxs(g.Fragment,{children:[s?g.jsxs("div",{className:"rounded-[32px] overflow-hidden h-64 relative mb-6 shadow-xl border border-white/10",children:[g.jsx("img",{src:s,className:"w-full h-full object-cover"}),g.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 bg-black/40 text-white p-2 rounded-full backdrop-blur-md",children:g.jsx(ca,{size:20})})]}):g.jsxs("div",{onClick:()=>{var ee;return(ee=b.current)==null?void 0:ee.click()},className:"border-2 border-dashed border-gray-200 dark:border-white/10 rounded-[32px] h-64 flex flex-col items-center justify-center cursor-pointer hover:border-royal-400 hover:bg-royal-50 dark:hover:bg-white/5 transition-all group",children:[g.jsx(Ls,{size:48,className:"text-gray-300 group-hover:text-royal-600 mb-4 transition-colors"}),g.jsx("p",{className:"text-gray-900 dark:text-gray-50 font-bold",children:"Snap or Upload Photo"}),g.jsx("p",{className:"text-gray-400 text-xs mt-1 italic",children:"Let AI do the calorie math"})]}),g.jsx("input",{type:"file",ref:b,accept:"image/*",onChange:Ie,className:"hidden"}),g.jsx(Lt,{className:"w-full py-5 text-lg font-black",disabled:!s||u,isLoading:u,onClick:q,children:"Analyze Plate"})]}),r==="chat"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[g.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/40 p-5 rounded-[32px] border border-royal-100 dark:border-royal-900/30 transition-colors",children:[g.jsxs("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[g.jsx(ni,{size:14})," Describe your meal"]}),g.jsx("textarea",{value:x,onChange:ee=>_(ee.target.value),placeholder:"e.g. I had two slices of pepperoni pizza and a small Caesar salad with Italian dressing.",rows:4,className:"w-full bg-transparent border-none outline-none text-gray-900 dark:text-white font-medium text-sm resize-none placeholder-gray-400 dark:placeholder-gray-600"})]}),g.jsx(Lt,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",disabled:!x.trim()||u,isLoading:u,onClick:X,children:"Ask AI"})]}),r==="recipe"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 text-center py-6",children:[g.jsx(Fc,{size:40,className:"mx-auto text-royal-400 mb-2"}),g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Recipe Mode Coming Soon"}),g.jsx("p",{className:"text-xs font-medium text-gray-400 px-8",children:"For now, use Chat mode to describe your recipe ingredients for estimation."}),g.jsx(Lt,{className:"w-full py-3 mt-4 text-xs font-bold text-gray-400 hover:text-royal-500 bg-gray-50 dark:bg-white/5",onClick:()=>a("details"),children:"Enter Details Manually"})]}),r!=="recipe"&&g.jsx("button",{onClick:()=>a("details"),className:"w-full py-3 text-sm font-bold text-gray-400 dark:text-gray-600 hover:text-royal-500",children:"Enter Details Manually"})]}):g.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[g.jsxs("div",{className:"bg-royal-600 rounded-[32px] p-6 text-white shadow-xl shadow-royal-200 dark:shadow-none",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-royal-100 text-[10px] font-black uppercase tracking-widest mb-1",children:"Estimated Calories"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("input",{type:"number",value:I,onChange:ee=>R(ee.target.value),className:"bg-transparent text-4xl font-black w-24 outline-none border-b-2 border-white/20 focus:border-white transition-colors"}),g.jsx("span",{className:"text-xl font-bold opacity-70",children:"kcal"})]})]}),g.jsx("div",{className:"bg-white/20 p-3 rounded-2xl backdrop-blur-md",children:g.jsx(gv,{size:24})})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsxs("div",{className:"bg-white/10 rounded-xl p-3 flex flex-col items-center",children:[g.jsxs("div",{className:"relative w-full",children:[g.jsx("input",{type:"number",value:D,onChange:ee=>j(ee.target.value),className:"bg-transparent text-xs font-black w-full outline-none border-b border-white/20 focus:border-white transition-colors text-center pb-1"}),g.jsx("span",{className:"absolute -bottom-0 right-0 text-[10px] font-bold opacity-50",children:"g"})]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70 mt-1",children:"Protein"})]}),g.jsxs("div",{className:"bg-white/10 rounded-xl p-3 flex flex-col items-center",children:[g.jsxs("div",{className:"relative w-full",children:[g.jsx("input",{type:"number",value:L,onChange:ee=>F(ee.target.value),className:"bg-transparent text-xs font-black w-full outline-none border-b border-white/20 focus:border-white transition-colors text-center pb-1"}),g.jsx("span",{className:"absolute -bottom-0 right-0 text-[10px] font-bold opacity-50",children:"g"})]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70 mt-1",children:"Carbs"})]}),g.jsxs("div",{className:"bg-white/10 rounded-xl p-3 flex flex-col items-center",children:[g.jsxs("div",{className:"relative w-full",children:[g.jsx("input",{type:"number",value:$,onChange:ee=>U(ee.target.value),className:"bg-transparent text-xs font-black w-full outline-none border-b border-white/20 focus:border-white transition-colors text-center pb-1"}),g.jsx("span",{className:"absolute -bottom-0 right-0 text-[10px] font-bold opacity-50",children:"g"})]}),g.jsx("span",{className:"text-[8px] uppercase tracking-tighter opacity-70 mt-1",children:"Fat"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[g.jsx(la,{size:18,className:"text-royal-400"}),g.jsx("input",{type:"date",value:E,onChange:ee=>A(ee.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-3 flex items-center gap-3 border border-gray-100 dark:border-white/5",children:[g.jsx(dC,{size:18,className:"text-royal-400"}),g.jsx("input",{type:"time",value:C,onChange:ee=>k(ee.target.value),className:"bg-transparent text-sm font-bold w-full outline-none dark:text-white"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Meal Title"}),g.jsx("input",{type:"text",value:P,onChange:ee=>N(ee.target.value),className:"w-full p-4 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-2xl font-bold dark:text-white mt-1"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-[32px] p-5 border border-gray-100 dark:border-white/5",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[g.jsx(ni,{size:14,className:"text-royal-500"})," Ingredient Receipt"]}),g.jsx("button",{onClick:Ee,className:"text-royal-500 hover:text-royal-600",children:g.jsx(p2,{size:18})})]}),g.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto no-scrollbar pr-1",children:V.map((ee,Ne)=>g.jsxs("div",{className:"flex items-center gap-2 group animate-in slide-in-from-left duration-200",children:[g.jsx("input",{type:"text",value:ee.name,onChange:at=>ie(Ne,"name",at.target.value),className:"flex-1 bg-white dark:bg-white/10 p-2.5 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none focus:border-royal-300 dark:text-white",placeholder:"Ingredient"}),g.jsxs("div",{className:"relative w-20",children:[g.jsx("input",{type:"number",value:ee.grams===0?"":ee.grams,onChange:at=>ie(Ne,"grams",at.target.value),className:"w-full bg-white dark:bg-white/10 p-2.5 pr-6 rounded-xl text-xs font-bold border border-gray-100 dark:border-white/10 outline-none text-right dark:text-white"}),g.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[8px] font-black text-gray-400",children:"g"})]}),g.jsx("button",{onClick:()=>G(Ne),className:"text-red-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(mC,{size:16})})]},Ne))}),g.jsxs(Lt,{variant:"ghost",className:"w-full mt-4 py-3 text-[10px] font-black uppercase tracking-widest text-royal-600 bg-royal-100/50 hover:bg-royal-100",onClick:Z,isLoading:d,children:[g.jsx(Em,{size:14,className:`mr-2 ${d?"animate-spin":""}`}),"Recalculate Totals"]})]}),g.jsx(Lt,{className:"w-full py-5 text-lg font-black shadow-xl shadow-royal-200",onClick:de,isLoading:m,disabled:m,children:n?"Update Record":"Save & Track"})]})]})})},B3=({currentGoal:t,onClose:e,onSave:n})=>{const[r,i]=O.useState(t.toString()),o=()=>{const a=parseInt(r,10);!isNaN(a)&&a>0&&n(a)};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white w-full max-w-xs rounded-[32px] p-6 shadow-2xl border border-white/50 animate-in zoom-in-95 duration-200",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-lg font-extrabold text-gray-900",children:"Daily Calorie Goal"}),g.jsx("button",{onClick:e,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:g.jsx(ca,{size:18,className:"text-gray-600"})})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Target Calories"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:r,onChange:a=>i(a.target.value),className:"w-full p-5 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 transition-all font-extrabold text-3xl text-center text-gray-900",autoFocus:!0}),g.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-bold",children:"kcal"})]})]}),g.jsx(Lt,{className:"w-full py-4 shadow-lg shadow-royal-200",onClick:o,children:"Update Goal"})]})})},Qm=({entry:t,onClose:e,onDelete:n,onEdit:r})=>{const[i,o]=O.useState(!1),[a,s]=O.useState(!1),l=async()=>{confirm("Permanently remove this record?")&&(o(!0),await n(t.id),e())},u=async()=>{if(confirm("Remove the photo to save storage space? Nutritional data will be kept.")){s(!0);try{await mL(t.id),e(),window.dispatchEvent(new CustomEvent("food-entry-updated"))}catch(c){console.error("Failed to clear image",c),alert("Failed to clear image. Please try again.")}finally{s(!1)}}};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 dark:bg-black/60 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl dark:shadow-black border border-white/50 dark:border-white/5 animate-in slide-in-from-bottom duration-300 max-h-[95vh] overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"relative h-64 bg-gray-100 dark:bg-white/5",children:[t.imageUrl?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"}),g.jsxs("button",{onClick:u,disabled:a,className:"absolute bottom-4 right-4 p-2.5 bg-white/20 hover:bg-white/40 text-white rounded-full backdrop-blur-md border border-white/20 transition-all flex items-center gap-2",title:"Remove photo to save space",children:[a?g.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):g.jsx(s2,{size:18}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Clear Image"})]})]}):g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-300 dark:text-gray-700",children:[g.jsx(Fc,{size:48,className:"mb-2 opacity-50"}),g.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"No Photo Attached"})]}),g.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/80 dark:bg-black/40 text-gray-900 dark:text-white rounded-full backdrop-blur-md hover:bg-white dark:hover:bg-black/60 shadow-lg transition-colors z-10",children:g.jsx(ca,{size:20})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent pointer-events-none"}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white pointer-events-none",children:[g.jsx("h2",{className:"text-3xl font-black leading-tight tracking-tight",children:t.food_item}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-white/70 font-bold mt-2",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(la,{size:14})," ",t.date]}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(dC,{size:14})," ",t.time]})]})]})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[g.jsxs("div",{className:"bg-royal-50 dark:bg-royal-950/20 p-3 rounded-2xl flex flex-col items-center border border-royal-100/50",children:[g.jsx("span",{className:"text-lg font-black text-royal-600",children:t.calories}),g.jsx("span",{className:"text-[8px] font-black uppercase text-royal-400",children:"kcal"})]}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/20 p-3 rounded-2xl flex flex-col items-center border border-emerald-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-emerald-600",children:[t.protein,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-emerald-400",children:"Prot"})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-2xl flex flex-col items-center border border-blue-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-blue-600",children:[t.carbs,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-blue-400",children:"Carb"})]}),g.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 p-3 rounded-2xl flex flex-col items-center border border-orange-100/50",children:[g.jsxs("span",{className:"text-lg font-black text-orange-600",children:[t.fat,"g"]}),g.jsx("span",{className:"text-[8px] font-black uppercase text-orange-400",children:"Fat"})]})]}),t.ingredients&&t.ingredients.length>0&&g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-3xl p-6 border border-gray-100 dark:border-white/5",children:[g.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[g.jsx(u2,{size:14})," Ingredient Receipt"]}),g.jsx("div",{className:"space-y-3",children:t.ingredients.map((c,d)=>g.jsxs("div",{className:"flex justify-between items-center text-sm font-bold border-b border-gray-100 dark:border-white/5 pb-2 last:border-0 last:pb-0",children:[g.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c.name}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:"text-gray-400",children:[c.grams,"g"]}),g.jsxs("span",{className:"text-royal-500 text-xs w-12 text-right",children:[c.calories,"cal"]})]})]},d))})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs(Lt,{variant:"ghost",className:"flex-1 text-red-500 py-4 font-black",onClick:l,isLoading:i,children:[g.jsx(mC,{size:18,className:"mr-2"})," Delete"]}),g.jsxs(Lt,{className:"flex-[2] py-4 font-black shadow-lg shadow-royal-200",onClick:()=>r(t),children:[g.jsx(hC,{size:18,className:"mr-2"})," Edit Meal"]})]})]})]})})};var G3=Array.isArray,Jt=G3,V3=typeof hu=="object"&&hu&&hu.Object===Object&&hu,Vk=V3,z3=Vk,H3=typeof self=="object"&&self&&self.Object===Object&&self,q3=z3||H3||Function("return this")(),ar=q3,W3=ar,K3=W3.Symbol,ou=K3,d_=ou,zk=Object.prototype,J3=zk.hasOwnProperty,Y3=zk.toString,ds=d_?d_.toStringTag:void 0;function X3(t){var e=J3.call(t,ds),n=t[ds];try{t[ds]=void 0;var r=!0}catch{}var i=Y3.call(t);return r&&(e?t[ds]=n:delete t[ds]),i}var Q3=X3,Z3=Object.prototype,eG=Z3.toString;function tG(t){return eG.call(t)}var nG=tG,f_=ou,rG=Q3,iG=nG,oG="[object Null]",aG="[object Undefined]",h_=f_?f_.toStringTag:void 0;function sG(t){return t==null?t===void 0?aG:oG:h_&&h_ in Object(t)?rG(t):iG(t)}var Or=sG;function lG(t){return t!=null&&typeof t=="object"}var Rr=lG,uG=Or,cG=Rr,dG="[object Symbol]";function fG(t){return typeof t=="symbol"||cG(t)&&uG(t)==dG}var Fa=fG,hG=Jt,pG=Fa,mG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gG=/^\w*$/;function yG(t,e){if(hG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||pG(t)?!0:gG.test(t)||!mG.test(t)||e!=null&&t in Object(e)}var Gv=yG;function vG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fi=vG;const Ba=je(fi);var wG=Or,bG=fi,xG="[object AsyncFunction]",_G="[object Function]",SG="[object GeneratorFunction]",EG="[object Proxy]";function TG(t){if(!bG(t))return!1;var e=wG(t);return e==_G||e==SG||e==xG||e==EG}var Vv=TG;const pe=je(Vv);var AG=ar,CG=AG["__core-js_shared__"],kG=CG,tp=kG,p_=function(){var t=/[^.]+$/.exec(tp&&tp.keys&&tp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PG(t){return!!p_&&p_ in t}var IG=PG,NG=Function.prototype,OG=NG.toString;function RG(t){if(t!=null){try{return OG.call(t)}catch{}try{return t+""}catch{}}return""}var Hk=RG,MG=Vv,$G=IG,DG=fi,LG=Hk,jG=/[\\^$.*+?()[\]{}|]/g,UG=/^\[object .+?Constructor\]$/,FG=Function.prototype,BG=Object.prototype,GG=FG.toString,VG=BG.hasOwnProperty,zG=RegExp("^"+GG.call(VG).replace(jG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HG(t){if(!DG(t)||$G(t))return!1;var e=MG(t)?zG:UG;return e.test(LG(t))}var qG=HG;function WG(t,e){return t==null?void 0:t[e]}var KG=WG,JG=qG,YG=KG;function XG(t,e){var n=YG(t,e);return JG(n)?n:void 0}var no=XG,QG=no,ZG=QG(Object,"create"),Pf=ZG,m_=Pf;function e6(){this.__data__=m_?m_(null):{},this.size=0}var t6=e6;function n6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var r6=n6,i6=Pf,o6="__lodash_hash_undefined__",a6=Object.prototype,s6=a6.hasOwnProperty;function l6(t){var e=this.__data__;if(i6){var n=e[t];return n===o6?void 0:n}return s6.call(e,t)?e[t]:void 0}var u6=l6,c6=Pf,d6=Object.prototype,f6=d6.hasOwnProperty;function h6(t){var e=this.__data__;return c6?e[t]!==void 0:f6.call(e,t)}var p6=h6,m6=Pf,g6="__lodash_hash_undefined__";function y6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=m6&&e===void 0?g6:e,this}var v6=y6,w6=t6,b6=r6,x6=u6,_6=p6,S6=v6;function Ga(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ga.prototype.clear=w6;Ga.prototype.delete=b6;Ga.prototype.get=x6;Ga.prototype.has=_6;Ga.prototype.set=S6;var E6=Ga;function T6(){this.__data__=[],this.size=0}var A6=T6;function C6(t,e){return t===e||t!==t&&e!==e}var zv=C6,k6=zv;function P6(t,e){for(var n=t.length;n--;)if(k6(t[n][0],e))return n;return-1}var If=P6,I6=If,N6=Array.prototype,O6=N6.splice;function R6(t){var e=this.__data__,n=I6(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():O6.call(e,n,1),--this.size,!0}var M6=R6,$6=If;function D6(t){var e=this.__data__,n=$6(e,t);return n<0?void 0:e[n][1]}var L6=D6,j6=If;function U6(t){return j6(this.__data__,t)>-1}var F6=U6,B6=If;function G6(t,e){var n=this.__data__,r=B6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var V6=G6,z6=A6,H6=M6,q6=L6,W6=F6,K6=V6;function Va(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Va.prototype.clear=z6;Va.prototype.delete=H6;Va.prototype.get=q6;Va.prototype.has=W6;Va.prototype.set=K6;var Nf=Va,J6=no,Y6=ar,X6=J6(Y6,"Map"),Hv=X6,g_=E6,Q6=Nf,Z6=Hv;function eV(){this.size=0,this.__data__={hash:new g_,map:new(Z6||Q6),string:new g_}}var tV=eV;function nV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var rV=nV,iV=rV;function oV(t,e){var n=t.__data__;return iV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Of=oV,aV=Of;function sV(t){var e=aV(this,t).delete(t);return this.size-=e?1:0,e}var lV=sV,uV=Of;function cV(t){return uV(this,t).get(t)}var dV=cV,fV=Of;function hV(t){return fV(this,t).has(t)}var pV=hV,mV=Of;function gV(t,e){var n=mV(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var yV=gV,vV=tV,wV=lV,bV=dV,xV=pV,_V=yV;function za(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}za.prototype.clear=vV;za.prototype.delete=wV;za.prototype.get=bV;za.prototype.has=xV;za.prototype.set=_V;var qv=za,qk=qv,SV="Expected a function";function Wv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(SV);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Wv.Cache||qk),n}Wv.Cache=qk;var Wk=Wv;const EV=je(Wk);var TV=Wk,AV=500;function CV(t){var e=TV(t,function(r){return n.size===AV&&n.clear(),r}),n=e.cache;return e}var kV=CV,PV=kV,IV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NV=/\\(\\)?/g,OV=PV(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(IV,function(n,r,i,o){e.push(i?o.replace(NV,"$1"):r||n)}),e}),RV=OV;function MV(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Kv=MV,y_=ou,$V=Kv,DV=Jt,LV=Fa,v_=y_?y_.prototype:void 0,w_=v_?v_.toString:void 0;function Kk(t){if(typeof t=="string")return t;if(DV(t))return $V(t,Kk)+"";if(LV(t))return w_?w_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var jV=Kk,UV=jV;function FV(t){return t==null?"":UV(t)}var Jk=FV,BV=Jt,GV=Gv,VV=RV,zV=Jk;function HV(t,e){return BV(t)?t:GV(t,e)?[t]:VV(zV(t))}var Yk=HV,qV=Fa;function WV(t){if(typeof t=="string"||qV(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Rf=WV,KV=Yk,JV=Rf;function YV(t,e){e=KV(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[JV(e[n++])];return n&&n==r?t:void 0}var Jv=YV,XV=Jv;function QV(t,e,n){var r=t==null?void 0:XV(t,e);return r===void 0?n:r}var Xk=QV;const xn=je(Xk);function ZV(t){return t==null}var ez=ZV;const ye=je(ez);var tz=Or,nz=Jt,rz=Rr,iz="[object String]";function oz(t){return typeof t=="string"||!nz(t)&&rz(t)&&tz(t)==iz}var az=oz;const Ki=je(az);var Qk={exports:{}},Pe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=Symbol.for("react.element"),Xv=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),$f=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),jf=Symbol.for("react.context"),sz=Symbol.for("react.server_context"),Uf=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Vf=Symbol.for("react.lazy"),lz=Symbol.for("react.offscreen"),Zk;Zk=Symbol.for("react.module.reference");function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yv:switch(t=t.type,t){case Mf:case Df:case $f:case Ff:case Bf:return t;default:switch(t=t&&t.$$typeof,t){case sz:case jf:case Uf:case Vf:case Gf:case Lf:return t;default:return e}}case Xv:return e}}}Pe.ContextConsumer=jf;Pe.ContextProvider=Lf;Pe.Element=Yv;Pe.ForwardRef=Uf;Pe.Fragment=Mf;Pe.Lazy=Vf;Pe.Memo=Gf;Pe.Portal=Xv;Pe.Profiler=Df;Pe.StrictMode=$f;Pe.Suspense=Ff;Pe.SuspenseList=Bf;Pe.isAsyncMode=function(){return!1};Pe.isConcurrentMode=function(){return!1};Pe.isContextConsumer=function(t){return kn(t)===jf};Pe.isContextProvider=function(t){return kn(t)===Lf};Pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yv};Pe.isForwardRef=function(t){return kn(t)===Uf};Pe.isFragment=function(t){return kn(t)===Mf};Pe.isLazy=function(t){return kn(t)===Vf};Pe.isMemo=function(t){return kn(t)===Gf};Pe.isPortal=function(t){return kn(t)===Xv};Pe.isProfiler=function(t){return kn(t)===Df};Pe.isStrictMode=function(t){return kn(t)===$f};Pe.isSuspense=function(t){return kn(t)===Ff};Pe.isSuspenseList=function(t){return kn(t)===Bf};Pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mf||t===Df||t===$f||t===Ff||t===Bf||t===lz||typeof t=="object"&&t!==null&&(t.$$typeof===Vf||t.$$typeof===Gf||t.$$typeof===Lf||t.$$typeof===jf||t.$$typeof===Uf||t.$$typeof===Zk||t.getModuleId!==void 0)};Pe.typeOf=kn;Qk.exports=Pe;var uz=Qk.exports,cz=Or,dz=Rr,fz="[object Number]";function hz(t){return typeof t=="number"||dz(t)&&cz(t)==fz}var eP=hz;const pz=je(eP);var mz=eP;function gz(t){return mz(t)&&t!=+t}var yz=gz;const Ha=je(yz);var Fn=function(e){return e===0?0:e>0?1:-1},Ri=function(e){return Ki(e)&&e.indexOf("%")===e.length-1},Y=function(e){return pz(e)&&!Ha(e)},vz=function(e){return ye(e)},ft=function(e){return Y(e)||Ki(e)},wz=0,au=function(e){var n=++wz;return"".concat(e||"").concat(n)},Ji=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(e)&&!Ki(e))return r;var o;if(Ri(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Ha(o)&&(o=r),i&&o>n&&(o=n),o},xo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},bz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},gn=function(e,n){return Y(e)&&Y(n)?function(r){return e+r*(n-e)}:function(){return n}};function Qc(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):xn(r,e))===n})}var xz=function(e,n){return Y(e)&&Y(n)?e-n:Ki(e)&&Ki(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Xo(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}var _z=["viewBox","children"],Sz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b_=["points","pathLength"],np={svg:_z,polygon:b_,polyline:b_},Qv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zc=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),!Ba(r))return null;var i={};return Object.keys(r).forEach(function(o){Qv.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Ez=function(e,n,r){return function(i){return e(n,r,i),null}},ed=function(e,n,r){if(!Ba(e)||Zm(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Qv.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Ez(a,n,r))}),i},Tz=["children"],Az=["children"];function x_(t,e){if(t==null)return{};var n=Cz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}var __={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},S_=null,rp=null,Zv=function t(e){if(e===S_&&Array.isArray(rp))return rp;var n=[];return O.Children.forEach(e,function(r){ye(r)||(uz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),rp=n,S_=e,n};function Hn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return yr(i)}):r=[yr(e)],Zv(t).forEach(function(i){var o=xn(i,"type.displayName")||xn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Zt(t,e){var n=Hn(t,e);return n&&n[0]}var E_=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Y(r)||r<=0||!Y(i)||i<=0)},kz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Pz=function(e){return e&&e.type&&Ki(e.type)&&kz.indexOf(e.type)>=0},Iz=function(e){return e&&eg(e)==="object"&&"clipDot"in e},Nz=function(e,n,r,i){var o,a=(o=np==null?void 0:np[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!pe(e)&&(i&&a.includes(n)||Sz.includes(n))||r&&Qv.includes(n)},ge=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(O.isValidElement(e)&&(i=e.props),!Ba(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Nz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},tg=function t(e,n){if(e===n)return!0;var r=O.Children.count(e);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return T_(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!T_(o,a))return!1}return!0},T_=function(e,n){if(ye(e)&&ye(n))return!0;if(!ye(e)&&!ye(n)){var r=e.props||{},i=r.children,o=x_(r,Tz),a=n.props||{},s=a.children,l=x_(a,Az);return i&&s?Xo(o,l)&&tg(i,s):!i&&!s?Xo(o,l):!1}return!1},A_=function(e,n){var r=[],i={};return Zv(e).forEach(function(o,a){if(Pz(o))r.push(o);else if(o){var s=yr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},Oz=function(e){var n=e&&e.type;return n&&__[n]?__[n]:null},Rz=function(e,n){return Zv(n).indexOf(e)},Mz=["children","width","height","viewBox","className","style","title","desc"];function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function $z(t,e){if(t==null)return{};var n=Dz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rg(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=$z(t,Mz),c=i||{width:n,height:r,x:0,y:0},d=he("recharts-surface",o);return M.createElement("svg",ng({},ge(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var Lz=["children","className"];function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function jz(t,e){if(t==null)return{};var n=Uz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ke=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=jz(t,Lz),o=he("recharts-layer",r);return M.createElement("g",ig({className:o},ge(i,!0),{ref:e}),n)}),Fi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Fz(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Bz=Fz,Gz=Bz;function Vz(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Gz(t,e,n)}var zz=Vz,Hz="\\ud800-\\udfff",qz="\\u0300-\\u036f",Wz="\\ufe20-\\ufe2f",Kz="\\u20d0-\\u20ff",Jz=qz+Wz+Kz,Yz="\\ufe0e\\ufe0f",Xz="\\u200d",Qz=RegExp("["+Xz+Hz+Jz+Yz+"]");function Zz(t){return Qz.test(t)}var tP=Zz;function eH(t){return t.split("")}var tH=eH,nP="\\ud800-\\udfff",nH="\\u0300-\\u036f",rH="\\ufe20-\\ufe2f",iH="\\u20d0-\\u20ff",oH=nH+rH+iH,aH="\\ufe0e\\ufe0f",sH="["+nP+"]",og="["+oH+"]",ag="\\ud83c[\\udffb-\\udfff]",lH="(?:"+og+"|"+ag+")",rP="[^"+nP+"]",iP="(?:\\ud83c[\\udde6-\\uddff]){2}",oP="[\\ud800-\\udbff][\\udc00-\\udfff]",uH="\\u200d",aP=lH+"?",sP="["+aH+"]?",cH="(?:"+uH+"(?:"+[rP,iP,oP].join("|")+")"+sP+aP+")*",dH=sP+aP+cH,fH="(?:"+[rP+og+"?",og,iP,oP,sH].join("|")+")",hH=RegExp(ag+"(?="+ag+")|"+fH+dH,"g");function pH(t){return t.match(hH)||[]}var mH=pH,gH=tH,yH=tP,vH=mH;function wH(t){return yH(t)?vH(t):gH(t)}var bH=wH,xH=zz,_H=tP,SH=bH,EH=Jk;function TH(t){return function(e){e=EH(e);var n=_H(e)?SH(e):void 0,r=n?n[0]:e.charAt(0),i=n?xH(n,1).join(""):e.slice(1);return r[t]()+i}}var AH=TH,CH=AH,kH=CH("toUpperCase"),PH=kH;const zf=je(PH);function De(t){return function(){return t}}const lP=Math.cos,td=Math.sin,Jn=Math.sqrt,nd=Math.PI,Hf=2*nd,sg=Math.PI,lg=2*sg,Ei=1e-6,IH=lg-Ei;function uP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function NH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uP;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class OH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uP:NH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ei)if(!(Math.abs(d*l-u*c)>Ei)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=i-s,w=l*l+u*u,v=m*m+y*y,b=Math.sqrt(w),x=Math.sqrt(h),_=o*Math.tan((sg-Math.acos((w+h-v)/(2*b*x)))/2),T=_/x,S=_/b;Math.abs(T-1)>Ei&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*m>c*y)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ei||Math.abs(this._y1-c)>Ei)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%lg+lg),h>IH?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Ei&&this._append`A${r},${r},0,${+(h>=sg)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function e0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new OH(e)}function t0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cP(t){this._context=t}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qf(t){return new cP(t)}function dP(t){return t[0]}function fP(t){return t[1]}function hP(t,e){var n=De(!0),r=null,i=qf,o=null,a=e0(s);t=typeof t=="function"?t:t===void 0?dP:De(t),e=typeof e=="function"?e:e===void 0?fP:De(e);function s(l){var u,c=(l=t0(l)).length,d,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:De(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:De(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:De(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Bu(t,e,n){var r=null,i=De(!0),o=null,a=qf,s=null,l=e0(u);t=typeof t=="function"?t:t===void 0?dP:De(+t),e=typeof e=="function"?e:De(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?fP:De(+n);function u(d){var h,m,y,w=(d=t0(d)).length,v,b=!1,x,_=new Array(w),T=new Array(w);for(o==null&&(s=a(x=l())),h=0;h<=w;++h){if(!(h<w&&i(v=d[h],h,d))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=m;--y)s.point(_[y],T[y]);s.lineEnd(),s.areaEnd()}b&&(_[h]=+t(v,h,d),T[h]=+e(v,h,d),s.point(r?+r(v,h,d):_[h],n?+n(v,h,d):T[h]))}if(x)return s=null,x+""||null}function c(){return hP().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:De(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:De(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:De(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:De(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:De(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:De(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:De(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class pP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function RH(t){return new pP(t,!0)}function MH(t){return new pP(t,!1)}const n0={draw(t,e){const n=Jn(e/nd);t.moveTo(n,0),t.arc(0,0,n,0,Hf)}},$H={draw(t,e){const n=Jn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mP=Jn(1/3),DH=mP*2,LH={draw(t,e){const n=Jn(e/DH),r=n*mP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},jH={draw(t,e){const n=Jn(e),r=-n/2;t.rect(r,r,n,n)}},UH=.8908130915292852,gP=td(nd/10)/td(7*nd/10),FH=td(Hf/10)*gP,BH=-lP(Hf/10)*gP,GH={draw(t,e){const n=Jn(e*UH),r=FH*n,i=BH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Hf*o/5,s=lP(a),l=td(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},ip=Jn(3),VH={draw(t,e){const n=-Jn(e/(ip*3));t.moveTo(0,n*2),t.lineTo(-ip*n,-n),t.lineTo(ip*n,-n),t.closePath()}},dn=-.5,fn=Jn(3)/2,ug=1/Jn(12),zH=(ug/2+1)*3,HH={draw(t,e){const n=Jn(e/zH),r=n/2,i=n*ug,o=r,a=n*ug+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(dn*r-fn*i,fn*r+dn*i),t.lineTo(dn*o-fn*a,fn*o+dn*a),t.lineTo(dn*s-fn*l,fn*s+dn*l),t.lineTo(dn*r+fn*i,dn*i-fn*r),t.lineTo(dn*o+fn*a,dn*a-fn*o),t.lineTo(dn*s+fn*l,dn*l-fn*s),t.closePath()}};function qH(t,e){let n=null,r=e0(i);t=typeof t=="function"?t:De(t||n0),e=typeof e=="function"?e:De(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:De(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:De(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function rd(){}function id(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yP(t){this._context=t}yP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:id(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WH(t){return new yP(t)}function vP(t){this._context=t}vP.prototype={areaStart:rd,areaEnd:rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KH(t){return new vP(t)}function wP(t){this._context=t}wP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JH(t){return new wP(t)}function bP(t){this._context=t}bP.prototype={areaStart:rd,areaEnd:rd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function YH(t){return new bP(t)}function C_(t){return t<0?-1:1}function k_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(C_(o)+C_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function P_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function op(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function od(t){this._context=t}od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:op(this,this._t0,P_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,op(this,P_(this,n=k_(this,t,e)),n);break;default:op(this,this._t0,n=k_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function xP(t){this._context=new _P(t)}(xP.prototype=Object.create(od.prototype)).point=function(t,e){od.prototype.point.call(this,e,t)};function _P(t){this._context=t}_P.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function XH(t){return new od(t)}function QH(t){return new xP(t)}function SP(t){this._context=t}SP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=I_(t),i=I_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function I_(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ZH(t){return new SP(t)}function Wf(t,e){this._context=t,this._t=e}Wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eq(t){return new Wf(t,.5)}function tq(t){return new Wf(t,0)}function nq(t){return new Wf(t,1)}function fa(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rq(t,e){return t[e]}function iq(t){const e=[];return e.key=t,e}function oq(){var t=De([]),e=cg,n=fa,r=rq;function i(o){var a=Array.from(t.apply(this,arguments),iq),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=t0(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:De(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:De(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?cg:typeof o=="function"?o:De(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fa,i):n},i}function aq(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}fa(t,e)}}function sq(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}fa(t,e)}}function lq(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,m=(d-h)/2,y=0;y<s;++y){var w=t[e[y]],v=w[r][1]||0,b=w[r-1][1]||0;m+=v-b}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,fa(t,e)}}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}var uq=["type","size","sizeType"];function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(n),!0).forEach(function(r){cq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cq(t,e,n){return e=dq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dq(t){var e=fq(t,"string");return gl(e)=="symbol"?e:e+""}function fq(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hq(t,e){if(t==null)return{};var n=pq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EP={symbolCircle:n0,symbolCross:$H,symbolDiamond:LH,symbolSquare:jH,symbolStar:GH,symbolTriangle:VH,symbolWye:HH},mq=Math.PI/180,gq=function(e){var n="symbol".concat(zf(e));return EP[n]||n0},yq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vq=function(e,n){EP["symbol".concat(zf(e))]=n},r0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=hq(e,uq),u=O_(O_({},l),{},{type:r,size:o,sizeType:s}),c=function(){var v=gq(r),b=qH().type(v).size(yq(o,s,r));return b()},d=u.className,h=u.cx,m=u.cy,y=ge(u,!0);return h===+h&&m===+m&&o===+o?M.createElement("path",dg({},y,{className:he("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};r0.registerSymbol=vq;function ha(t){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){yl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AP(r.key),r)}}function _q(t,e,n){return e&&xq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sq(t,e,n){return e=ad(e),Eq(t,TP()?Reflect.construct(e,n||[],ad(t).constructor):e.apply(t,n))}function Eq(t,e){if(e&&(ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tq(t)}function Tq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TP=function(){return!!t})()}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ad(t)}function Aq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hg(t,e)}function hg(t,e){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hg(t,e)}function yl(t,e,n){return e=AP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AP(t){var e=Cq(t,"string");return ha(e)=="symbol"?e:e+""}function Cq(t,e){if(ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hn=32,i0=function(t){function e(){return bq(this,e),Sq(this,e,arguments)}return Aq(e,t),_q(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=hn/2,a=hn/6,s=hn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:hn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(hn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(hn/8,"h").concat(hn,"v").concat(hn*3/4,"h").concat(-hn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=wq({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(r0,{fill:l,cx:o,cy:o,size:hn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:hn,height:hn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var w=m.formatter||l,v=he(yl(yl({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=pe(m.value)?null:m.value;Fi(!pe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return M.createElement("li",fg({className:v,style:d,key:"legend-item-".concat(y)},ed(r.props,m,y)),M.createElement(rg,{width:a,height:a,viewBox:c,style:h},r.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},w?w(b,m,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);yl(i0,"displayName","Legend");yl(i0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kq=Nf;function Pq(){this.__data__=new kq,this.size=0}var Iq=Pq;function Nq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Oq=Nq;function Rq(t){return this.__data__.get(t)}var Mq=Rq;function $q(t){return this.__data__.has(t)}var Dq=$q,Lq=Nf,jq=Hv,Uq=qv,Fq=200;function Bq(t,e){var n=this.__data__;if(n instanceof Lq){var r=n.__data__;if(!jq||r.length<Fq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Uq(r)}return n.set(t,e),this.size=n.size,this}var Gq=Bq,Vq=Nf,zq=Iq,Hq=Oq,qq=Mq,Wq=Dq,Kq=Gq;function qa(t){var e=this.__data__=new Vq(t);this.size=e.size}qa.prototype.clear=zq;qa.prototype.delete=Hq;qa.prototype.get=qq;qa.prototype.has=Wq;qa.prototype.set=Kq;var CP=qa,Jq="__lodash_hash_undefined__";function Yq(t){return this.__data__.set(t,Jq),this}var Xq=Yq;function Qq(t){return this.__data__.has(t)}var Zq=Qq,e8=qv,t8=Xq,n8=Zq;function sd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new e8;++e<n;)this.add(t[e])}sd.prototype.add=sd.prototype.push=t8;sd.prototype.has=n8;var kP=sd;function r8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var PP=r8;function i8(t,e){return t.has(e)}var IP=i8,o8=kP,a8=PP,s8=IP,l8=1,u8=2;function c8(t,e,n,r,i,o){var a=n&l8,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,m=n&u8?new o8:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var y=t[d],w=e[d];if(r)var v=a?r(w,y,d,e,t,o):r(y,w,d,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!a8(e,function(b,x){if(!s8(m,x)&&(y===b||i(y,b,n,r,o)))return m.push(x)})){h=!1;break}}else if(!(y===w||i(y,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var NP=c8,d8=ar,f8=d8.Uint8Array,h8=f8;function p8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var m8=p8;function g8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var o0=g8,M_=ou,$_=h8,y8=zv,v8=NP,w8=m8,b8=o0,x8=1,_8=2,S8="[object Boolean]",E8="[object Date]",T8="[object Error]",A8="[object Map]",C8="[object Number]",k8="[object RegExp]",P8="[object Set]",I8="[object String]",N8="[object Symbol]",O8="[object ArrayBuffer]",R8="[object DataView]",D_=M_?M_.prototype:void 0,ap=D_?D_.valueOf:void 0;function M8(t,e,n,r,i,o,a){switch(n){case R8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O8:return!(t.byteLength!=e.byteLength||!o(new $_(t),new $_(e)));case S8:case E8:case C8:return y8(+t,+e);case T8:return t.name==e.name&&t.message==e.message;case k8:case I8:return t==e+"";case A8:var s=w8;case P8:var l=r&x8;if(s||(s=b8),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=_8,a.set(t,e);var c=v8(s(t),s(e),r,i,o,a);return a.delete(t),c;case N8:if(ap)return ap.call(t)==ap.call(e)}return!1}var $8=M8;function D8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var OP=D8,L8=OP,j8=Jt;function U8(t,e,n){var r=e(t);return j8(t)?r:L8(r,n(t))}var F8=U8;function B8(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var G8=B8;function V8(){return[]}var z8=V8,H8=G8,q8=z8,W8=Object.prototype,K8=W8.propertyIsEnumerable,L_=Object.getOwnPropertySymbols,J8=L_?function(t){return t==null?[]:(t=Object(t),H8(L_(t),function(e){return K8.call(t,e)}))}:q8,Y8=J8;function X8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Q8=X8,Z8=Or,eW=Rr,tW="[object Arguments]";function nW(t){return eW(t)&&Z8(t)==tW}var rW=nW,j_=rW,iW=Rr,RP=Object.prototype,oW=RP.hasOwnProperty,aW=RP.propertyIsEnumerable,sW=j_(function(){return arguments}())?j_:function(t){return iW(t)&&oW.call(t,"callee")&&!aW.call(t,"callee")},a0=sW,ld={exports:{}};function lW(){return!1}var uW=lW;ld.exports;(function(t,e){var n=ar,r=uW,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(ld,ld.exports);var MP=ld.exports,cW=9007199254740991,dW=/^(?:0|[1-9]\d*)$/;function fW(t,e){var n=typeof t;return e=e??cW,!!e&&(n=="number"||n!="symbol"&&dW.test(t))&&t>-1&&t%1==0&&t<e}var s0=fW,hW=9007199254740991;function pW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hW}var l0=pW,mW=Or,gW=l0,yW=Rr,vW="[object Arguments]",wW="[object Array]",bW="[object Boolean]",xW="[object Date]",_W="[object Error]",SW="[object Function]",EW="[object Map]",TW="[object Number]",AW="[object Object]",CW="[object RegExp]",kW="[object Set]",PW="[object String]",IW="[object WeakMap]",NW="[object ArrayBuffer]",OW="[object DataView]",RW="[object Float32Array]",MW="[object Float64Array]",$W="[object Int8Array]",DW="[object Int16Array]",LW="[object Int32Array]",jW="[object Uint8Array]",UW="[object Uint8ClampedArray]",FW="[object Uint16Array]",BW="[object Uint32Array]",Fe={};Fe[RW]=Fe[MW]=Fe[$W]=Fe[DW]=Fe[LW]=Fe[jW]=Fe[UW]=Fe[FW]=Fe[BW]=!0;Fe[vW]=Fe[wW]=Fe[NW]=Fe[bW]=Fe[OW]=Fe[xW]=Fe[_W]=Fe[SW]=Fe[EW]=Fe[TW]=Fe[AW]=Fe[CW]=Fe[kW]=Fe[PW]=Fe[IW]=!1;function GW(t){return yW(t)&&gW(t.length)&&!!Fe[mW(t)]}var VW=GW;function zW(t){return function(e){return t(e)}}var $P=zW,ud={exports:{}};ud.exports;(function(t,e){var n=Vk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(ud,ud.exports);var HW=ud.exports,qW=VW,WW=$P,U_=HW,F_=U_&&U_.isTypedArray,KW=F_?WW(F_):qW,DP=KW,JW=Q8,YW=a0,XW=Jt,QW=MP,ZW=s0,e9=DP,t9=Object.prototype,n9=t9.hasOwnProperty;function r9(t,e){var n=XW(t),r=!n&&YW(t),i=!n&&!r&&QW(t),o=!n&&!r&&!i&&e9(t),a=n||r||i||o,s=a?JW(t.length,String):[],l=s.length;for(var u in t)(e||n9.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ZW(u,l)))&&s.push(u);return s}var i9=r9,o9=Object.prototype;function a9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||o9;return t===n}var s9=a9;function l9(t,e){return function(n){return t(e(n))}}var LP=l9,u9=LP,c9=u9(Object.keys,Object),d9=c9,f9=s9,h9=d9,p9=Object.prototype,m9=p9.hasOwnProperty;function g9(t){if(!f9(t))return h9(t);var e=[];for(var n in Object(t))m9.call(t,n)&&n!="constructor"&&e.push(n);return e}var y9=g9,v9=Vv,w9=l0;function b9(t){return t!=null&&w9(t.length)&&!v9(t)}var Kf=b9,x9=i9,_9=y9,S9=Kf;function E9(t){return S9(t)?x9(t):_9(t)}var u0=E9,T9=F8,A9=Y8,C9=u0;function k9(t){return T9(t,C9,A9)}var P9=k9,B_=P9,I9=1,N9=Object.prototype,O9=N9.hasOwnProperty;function R9(t,e,n,r,i,o){var a=n&I9,s=B_(t),l=s.length,u=B_(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:O9.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var w=!0;o.set(t,e),o.set(e,t);for(var v=a;++d<l;){h=s[d];var b=t[h],x=e[h];if(r)var _=a?r(x,b,h,e,t,o):r(b,x,h,t,e,o);if(!(_===void 0?b===x||i(b,x,n,r,o):_)){w=!1;break}v||(v=h=="constructor")}if(w&&!v){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(w=!1)}return o.delete(t),o.delete(e),w}var M9=R9,$9=no,D9=ar,L9=$9(D9,"DataView"),j9=L9,U9=no,F9=ar,B9=U9(F9,"Promise"),G9=B9,V9=no,z9=ar,H9=V9(z9,"Set"),jP=H9,q9=no,W9=ar,K9=q9(W9,"WeakMap"),J9=K9,pg=j9,mg=Hv,gg=G9,yg=jP,vg=J9,UP=Or,Wa=Hk,G_="[object Map]",Y9="[object Object]",V_="[object Promise]",z_="[object Set]",H_="[object WeakMap]",q_="[object DataView]",X9=Wa(pg),Q9=Wa(mg),Z9=Wa(gg),eK=Wa(yg),tK=Wa(vg),Ti=UP;(pg&&Ti(new pg(new ArrayBuffer(1)))!=q_||mg&&Ti(new mg)!=G_||gg&&Ti(gg.resolve())!=V_||yg&&Ti(new yg)!=z_||vg&&Ti(new vg)!=H_)&&(Ti=function(t){var e=UP(t),n=e==Y9?t.constructor:void 0,r=n?Wa(n):"";if(r)switch(r){case X9:return q_;case Q9:return G_;case Z9:return V_;case eK:return z_;case tK:return H_}return e});var nK=Ti,sp=CP,rK=NP,iK=$8,oK=M9,W_=nK,K_=Jt,J_=MP,aK=DP,sK=1,Y_="[object Arguments]",X_="[object Array]",Gu="[object Object]",lK=Object.prototype,Q_=lK.hasOwnProperty;function uK(t,e,n,r,i,o){var a=K_(t),s=K_(e),l=a?X_:W_(t),u=s?X_:W_(e);l=l==Y_?Gu:l,u=u==Y_?Gu:u;var c=l==Gu,d=u==Gu,h=l==u;if(h&&J_(t)){if(!J_(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new sp),a||aK(t)?rK(t,e,n,r,i,o):iK(t,e,l,n,r,i,o);if(!(n&sK)){var m=c&&Q_.call(t,"__wrapped__"),y=d&&Q_.call(e,"__wrapped__");if(m||y){var w=m?t.value():t,v=y?e.value():e;return o||(o=new sp),i(w,v,n,r,o)}}return h?(o||(o=new sp),oK(t,e,n,r,i,o)):!1}var cK=uK,dK=cK,Z_=Rr;function FP(t,e,n,r,i){return t===e?!0:t==null||e==null||!Z_(t)&&!Z_(e)?t!==t&&e!==e:dK(t,e,n,r,FP,i)}var c0=FP,fK=CP,hK=c0,pK=1,mK=2;function gK(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new fK;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?hK(c,u,pK|mK,r,d):h))return!1}}return!0}var yK=gK,vK=fi;function wK(t){return t===t&&!vK(t)}var BP=wK,bK=BP,xK=u0;function _K(t){for(var e=xK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,bK(i)]}return e}var SK=_K;function EK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var GP=EK,TK=yK,AK=SK,CK=GP;function kK(t){var e=AK(t);return e.length==1&&e[0][2]?CK(e[0][0],e[0][1]):function(n){return n===t||TK(n,t,e)}}var PK=kK;function IK(t,e){return t!=null&&e in Object(t)}var NK=IK,OK=Yk,RK=a0,MK=Jt,$K=s0,DK=l0,LK=Rf;function jK(t,e,n){e=OK(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=LK(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&DK(i)&&$K(a,i)&&(MK(t)||RK(t)))}var UK=jK,FK=NK,BK=UK;function GK(t,e){return t!=null&&BK(t,e,FK)}var VK=GK,zK=c0,HK=Xk,qK=VK,WK=Gv,KK=BP,JK=GP,YK=Rf,XK=1,QK=2;function ZK(t,e){return WK(t)&&KK(e)?JK(YK(t),e):function(n){var r=HK(n,t);return r===void 0&&r===e?qK(n,t):zK(e,r,XK|QK)}}var e7=ZK;function t7(t){return t}var Ka=t7;function n7(t){return function(e){return e==null?void 0:e[t]}}var r7=n7,i7=Jv;function o7(t){return function(e){return i7(e,t)}}var a7=o7,s7=r7,l7=a7,u7=Gv,c7=Rf;function d7(t){return u7(t)?s7(c7(t)):l7(t)}var f7=d7,h7=PK,p7=e7,m7=Ka,g7=Jt,y7=f7;function v7(t){return typeof t=="function"?t:t==null?m7:typeof t=="object"?g7(t)?p7(t[0],t[1]):h7(t):y7(t)}var Ja=v7;function w7(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var b7=w7;function x7(t){return t!==t}var _7=x7;function S7(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var E7=S7,T7=b7,A7=_7,C7=E7;function k7(t,e,n){return e===e?C7(t,e,n):T7(t,A7,n)}var P7=k7,I7=P7;function N7(t,e){var n=t==null?0:t.length;return!!n&&I7(t,e,0)>-1}var O7=N7;function R7(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var M7=R7;function $7(){}var D7=$7,lp=jP,L7=D7,j7=o0,U7=1/0,F7=lp&&1/j7(new lp([,-0]))[1]==U7?function(t){return new lp(t)}:L7,B7=F7,G7=kP,V7=O7,z7=M7,H7=IP,q7=B7,W7=o0,K7=200;function J7(t,e,n){var r=-1,i=V7,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=z7;else if(o>=K7){var u=e?null:q7(t);if(u)return W7(u);a=!1,i=H7,l=new G7}else l=e?[]:s;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var Y7=J7,X7=Ja,Q7=Y7;function Z7(t,e){return t&&t.length?Q7(t,X7(e)):[]}var eJ=Z7;const eS=je(eJ);function VP(t,e,n){return e===!0?eS(t,n):pe(e)?eS(t,e):t}function pa(t){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(t)}var tJ=["ref"];function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){Jf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HP(r.key),r)}}function rJ(t,e,n){return e&&nS(t.prototype,e),n&&nS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iJ(t,e,n){return e=cd(e),oJ(t,zP()?Reflect.construct(e,n||[],cd(t).constructor):e.apply(t,n))}function oJ(t,e){if(e&&(pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aJ(t)}function aJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zP=function(){return!!t})()}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cd(t)}function sJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wg(t,e)}function wg(t,e){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wg(t,e)}function Jf(t,e,n){return e=HP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HP(t){var e=lJ(t,"string");return pa(e)=="symbol"?e:e+""}function lJ(t,e){if(pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uJ(t,e){if(t==null)return{};var n=cJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dJ(t){return t.value}function fJ(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=uJ(e,tJ);return M.createElement(i0,n)}var rS=1,Qo=function(t){function e(){var n;nJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=iJ(this,e,[].concat(i)),Jf(n,"lastBoundingBox",{width:-1,height:-1}),n}return sJ(e,t),rJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>rS||Math.abs(i.height-this.lastBoundingBox.height)>rS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?sr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return sr(sr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=sr(sr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},fJ(o,sr(sr({},this.props),{},{payload:VP(c,u,dJ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=sr(sr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Y(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(O.PureComponent);Jf(Qo,"displayName","Legend");Jf(Qo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iS=ou,hJ=a0,pJ=Jt,oS=iS?iS.isConcatSpreadable:void 0;function mJ(t){return pJ(t)||hJ(t)||!!(oS&&t&&t[oS])}var gJ=mJ,yJ=OP,vJ=gJ;function qP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=vJ),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?qP(s,e-1,n,r,i):yJ(i,s):r||(i[i.length]=s)}return i}var WP=qP;function wJ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var bJ=wJ,xJ=bJ,_J=xJ(),SJ=_J,EJ=SJ,TJ=u0;function AJ(t,e){return t&&EJ(t,e,TJ)}var KP=AJ,CJ=Kf;function kJ(t,e){return function(n,r){if(n==null)return n;if(!CJ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var PJ=kJ,IJ=KP,NJ=PJ,OJ=NJ(IJ),d0=OJ,RJ=d0,MJ=Kf;function $J(t,e){var n=-1,r=MJ(t)?Array(t.length):[];return RJ(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var JP=$J;function DJ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var LJ=DJ,aS=Fa;function jJ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=aS(t),a=e!==void 0,s=e===null,l=e===e,u=aS(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var UJ=jJ,FJ=UJ;function BJ(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=FJ(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var GJ=BJ,up=Kv,VJ=Jv,zJ=Ja,HJ=JP,qJ=LJ,WJ=$P,KJ=GJ,JJ=Ka,YJ=Jt;function XJ(t,e,n){e.length?e=up(e,function(o){return YJ(o)?function(a){return VJ(a,o.length===1?o[0]:o)}:o}):e=[JJ];var r=-1;e=up(e,WJ(zJ));var i=HJ(t,function(o,a,s){var l=up(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return qJ(i,function(o,a){return KJ(o,a,n)})}var QJ=XJ;function ZJ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var eY=ZJ,tY=eY,sS=Math.max;function nY(t,e,n){return e=sS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=sS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),tY(t,this,s)}}var rY=nY;function iY(t){return function(){return t}}var oY=iY,aY=no,sY=function(){try{var t=aY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),YP=sY,lY=oY,lS=YP,uY=Ka,cY=lS?function(t,e){return lS(t,"toString",{configurable:!0,enumerable:!1,value:lY(e),writable:!0})}:uY,dY=cY,fY=800,hY=16,pY=Date.now;function mY(t){var e=0,n=0;return function(){var r=pY(),i=hY-(r-n);if(n=r,i>0){if(++e>=fY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gY=mY,yY=dY,vY=gY,wY=vY(yY),bY=wY,xY=Ka,_Y=rY,SY=bY;function EY(t,e){return SY(_Y(t,e,xY),t+"")}var TY=EY,AY=zv,CY=Kf,kY=s0,PY=fi;function IY(t,e,n){if(!PY(n))return!1;var r=typeof e;return(r=="number"?CY(n)&&kY(e,n.length):r=="string"&&e in n)?AY(n[e],t):!1}var Yf=IY,NY=WP,OY=QJ,RY=TY,uS=Yf,MY=RY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&uS(t,e[0],e[1])?e=[]:n>2&&uS(e[0],e[1],e[2])&&(e=[e[0]]),OY(t,NY(e,1),[])}),$Y=MY;const f0=je($Y);function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function DY(t,e){return FY(t)||UY(t,e)||jY(t,e)||LY()}function LY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jY(t,e){if(t){if(typeof t=="string")return cS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cS(t,e)}}function cS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function FY(t){if(Array.isArray(t))return t}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return e=GY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=VY(t,"string");return vl(e)=="symbol"?e:e+""}function VY(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zY(t){return Array.isArray(t)&&ft(t[0])&&ft(t[1])?t.join(" ~ "):t}var HY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,w=e.label,v=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,_=function(){if(c&&c.length){var I={padding:0,margin:0},R=(h?f0(c,h):c).map(function(D,j){if(D.type==="none")return null;var L=cp({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),F=D.formatter||d||zY,$=D.value,U=D.name,V=$,J=U;if(F&&V!=null&&J!=null){var H=F($,U,D,j,c);if(Array.isArray(H)){var re=DY(H,2);V=re[0],J=re[1]}else V=H}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:L},ft(J)?M.createElement("span",{className:"recharts-tooltip-item-name"},J):null,ft(J)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},V),M.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:I},R)}return null},T=cp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=cp({margin:0},u),E=!ye(w),A=E?w:"",C=he("recharts-default-tooltip",m),k=he("recharts-tooltip-label",y);E&&v&&c!==void 0&&c!==null&&(A=v(w,c));var P=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",bg({className:C,style:T},P),M.createElement("p",{className:k,style:S},M.isValidElement(A)?A:"".concat(A)),_())};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Vu(t,e,n){return e=qY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=WY(t,"string");return wl(e)=="symbol"?e:e+""}function WY(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fs="recharts-tooltip-wrapper",KY={visibility:"hidden"};function JY(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return he(fs,Vu(Vu(Vu(Vu({},"".concat(fs,"-right"),Y(n)&&e&&Y(e.x)&&n>=e.x),"".concat(fs,"-left"),Y(n)&&e&&Y(e.x)&&n<e.x),"".concat(fs,"-bottom"),Y(r)&&e&&Y(e.y)&&r>=e.y),"".concat(fs,"-top"),Y(r)&&e&&Y(e.y)&&r<e.y))}function fS(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Y(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?c:d;if(a[r]){var h=c,m=l[r];return h<m?Math.max(d,l[r]):Math.max(c,l[r])}var y=d+s,w=l[r]+u;return y>w?Math.max(c,l[r]):Math.max(d,l[r])}function YY(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function XY(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=fS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=fS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=YY({translateX:c,translateY:d,useTranslate3d:s})):u=KY,{cssProperties:u,cssClasses:JY({translateX:c,translateY:d,coordinate:n})}}function ma(t){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(t)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){_g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QP(r.key),r)}}function eX(t,e,n){return e&&ZY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tX(t,e,n){return e=dd(e),nX(t,XP()?Reflect.construct(e,n||[],dd(t).constructor):e.apply(t,n))}function nX(t,e){if(e&&(ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(t)}function rX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XP=function(){return!!t})()}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dd(t)}function iX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xg(t,e)}function xg(t,e){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xg(t,e)}function _g(t,e,n){return e=QP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QP(t){var e=oX(t,"string");return ma(e)=="symbol"?e:e+""}function oX(t,e){if(ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mS=1,aX=function(t){function e(){var n;QY(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tX(this,e,[].concat(i)),_g(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_g(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return iX(e,t),eX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>mS||Math.abs(r.height-this.state.lastBoundingBox.height)>mS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,w=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,_=XY({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:y,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),T=_.cssClasses,S=_.cssProperties,E=pS(pS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(C){r.wrapperNode=C}},u)}}])}(O.PureComponent),sX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ya={isSsr:sX()};function ga(t){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(t)}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){h0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eI(r.key),r)}}function cX(t,e,n){return e&&uX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dX(t,e,n){return e=fd(e),fX(t,ZP()?Reflect.construct(e,n||[],fd(t).constructor):e.apply(t,n))}function fX(t,e){if(e&&(ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(t)}function hX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!t})()}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fd(t)}function pX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}function Sg(t,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sg(t,e)}function h0(t,e,n){return e=eI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eI(t){var e=mX(t,"string");return ga(e)=="symbol"?e:e+""}function mX(t,e){if(ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gX(t){return t.dataKey}function yX(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(HY,e)}var cr=function(t){function e(){return lX(this,e),dX(this,e,arguments)}return pX(e,t),cX(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,w=i.payloadUniqBy,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=y??[];d&&S.length&&(S=VP(y.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),w,gX));var E=S.length>0;return M.createElement(aX,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:E,offset:m,position:v,reverseDirection:b,useTranslate3d:x,viewBox:_,wrapperStyle:T},yX(u,yS(yS({},this.props),{},{payload:S})))}}])}(O.PureComponent);h0(cr,"displayName","Tooltip");h0(cr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ya.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vX=ar,wX=function(){return vX.Date.now()},bX=wX,xX=/\s/;function _X(t){for(var e=t.length;e--&&xX.test(t.charAt(e)););return e}var SX=_X,EX=SX,TX=/^\s+/;function AX(t){return t&&t.slice(0,EX(t)+1).replace(TX,"")}var CX=AX,kX=CX,vS=fi,PX=Fa,wS=NaN,IX=/^[-+]0x[0-9a-f]+$/i,NX=/^0b[01]+$/i,OX=/^0o[0-7]+$/i,RX=parseInt;function MX(t){if(typeof t=="number")return t;if(PX(t))return wS;if(vS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kX(t);var n=NX.test(t);return n||OX.test(t)?RX(t.slice(2),n?2:8):IX.test(t)?wS:+t}var tI=MX,$X=fi,dp=bX,bS=tI,DX="Expected a function",LX=Math.max,jX=Math.min;function UX(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(DX);e=bS(e)||0,$X(n)&&(c=!!n.leading,d="maxWait"in n,o=d?LX(bS(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(E){var A=r,C=i;return r=i=void 0,u=E,a=t.apply(C,A),a}function y(E){return u=E,s=setTimeout(b,e),c?m(E):a}function w(E){var A=E-l,C=E-u,k=e-A;return d?jX(k,o-C):k}function v(E){var A=E-l,C=E-u;return l===void 0||A>=e||A<0||d&&C>=o}function b(){var E=dp();if(v(E))return x(E);s=setTimeout(b,w(E))}function x(E){return s=void 0,h&&r?m(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:x(dp())}function S(){var E=dp(),A=v(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return y(l);if(d)return clearTimeout(s),s=setTimeout(b,e),m(l)}return s===void 0&&(s=setTimeout(b,e)),a}return S.cancel=_,S.flush=T,S}var FX=UX,BX=FX,GX=fi,VX="Expected a function";function zX(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(VX);return GX(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),BX(t,e,{leading:r,maxWait:e,trailing:i})}var HX=zX;const nI=je(HX);function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){qX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qX(t,e,n){return e=WX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=KX(t,"string");return bl(e)=="symbol"?e:e+""}function KX(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JX(t,e){return ZX(t)||QX(t,e)||XX(t,e)||YX()}function YX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(t,e){if(t){if(typeof t=="string")return _S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _S(t,e)}}function _S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ZX(t){if(Array.isArray(t))return t}var eQ=O.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,w=y===void 0?0:y,v=t.id,b=t.className,x=t.onResize,_=t.style,T=_===void 0?{}:_,S=O.useRef(null),E=O.useRef();E.current=x,O.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=O.useState({containerWidth:i.width,containerHeight:i.height}),C=JX(A,2),k=C[0],P=C[1],N=O.useCallback(function(R,D){P(function(j){var L=Math.round(R),F=Math.round(D);return j.containerWidth===L&&j.containerHeight===F?j:{containerWidth:L,containerHeight:F}})},[]);O.useEffect(function(){var R=function(U){var V,J=U[0].contentRect,H=J.width,re=J.height;N(H,re),(V=E.current)===null||V===void 0||V.call(E,H,re)};w>0&&(R=nI(R,w,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),j=S.current.getBoundingClientRect(),L=j.width,F=j.height;return N(L,F),D.observe(S.current),function(){D.disconnect()}},[N,w]);var I=O.useMemo(function(){var R=k.containerWidth,D=k.containerHeight;if(R<0||D<0)return null;Fi(Ri(a)||Ri(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Fi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=Ri(a)?R:a,L=Ri(l)?D:l;n&&n>0&&(j?L=j/n:L&&(j=L*n),h&&L>h&&(L=h)),Fi(j>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,L,a,l,c,d,n);var F=!Array.isArray(m)&&yr(m.type).endsWith("Chart");return M.Children.map(m,function($){return M.isValidElement($)?O.cloneElement($,zu({width:j,height:L},F?{style:zu({height:"100%",width:"100%",maxHeight:L,maxWidth:j},$.props.style)}:{})):$})},[n,m,l,h,d,c,k,a]);return M.createElement("div",{id:v?"".concat(v):void 0,className:he("recharts-responsive-container",b),style:zu(zu({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},I)}),rI=function(e){return null};rI.displayName="Cell";function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function SS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SS(Object(n),!0).forEach(function(r){tQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tQ(t,e,n){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=rQ(t,"string");return xl(e)=="symbol"?e:e+""}function rQ(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mo={widthCache:{},cacheCount:0},iQ=2e3,oQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ES="recharts_measurement_span";function aQ(t){var e=Eg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Fs=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ya.isSsr)return{width:0,height:0};var r=aQ(n),i=JSON.stringify({text:e,copyStyle:r});if(mo.widthCache[i])return mo.widthCache[i];try{var o=document.getElementById(ES);o||(o=document.createElement("span"),o.setAttribute("id",ES),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Eg(Eg({},oQ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return mo.widthCache[i]=l,++mo.cacheCount>iQ&&(mo.cacheCount=0,mo.widthCache={}),l}catch{return{width:0,height:0}}},sQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function hd(t,e){return dQ(t)||cQ(t,e)||uQ(t,e)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(t,e){if(t){if(typeof t=="string")return TS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TS(t,e)}}function TS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dQ(t){if(Array.isArray(t))return t}function fQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pQ(r.key),r)}}function hQ(t,e,n){return e&&AS(t.prototype,e),n&&AS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pQ(t){var e=mQ(t,"string");return _l(e)=="symbol"?e:e+""}function mQ(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vQ=Object.keys(iI),Lo="NaN";function wQ(t,e){return t*iI[e]}var Hu=function(){function t(e,n){fQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!gQ.test(n)&&(this.num=NaN,this.unit=""),vQ.includes(n)&&(this.num=wQ(e,n),this.unit="px")}return hQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=yQ.exec(n))!==null&&r!==void 0?r:[],o=hd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function oI(t){if(t.includes(Lo))return Lo;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=CS.exec(e))!==null&&n!==void 0?n:[],i=hd(r,4),o=i[1],a=i[2],s=i[3],l=Hu.parse(o??""),u=Hu.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Lo;e=e.replace(CS,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=kS.exec(e))!==null&&d!==void 0?d:[],m=hd(h,4),y=m[1],w=m[2],v=m[3],b=Hu.parse(y??""),x=Hu.parse(v??""),_=w==="+"?b.add(x):b.subtract(x);if(_.isNaN())return Lo;e=e.replace(kS,_.toString())}return e}var PS=/\(([^()]*)\)/;function bQ(t){for(var e=t;e.includes("(");){var n=PS.exec(e),r=hd(n,2),i=r[1];e=e.replace(PS,oI(i))}return e}function xQ(t){var e=t.replace(/\s+/g,"");return e=bQ(e),e=oI(e),e}function _Q(t){try{return xQ(t)}catch{return Lo}}function fp(t){var e=_Q(t.slice(5,-1));return e===Lo?"":e}var SQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],EQ=["dx","dy","angle","className","breakAll"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function IS(t,e){if(t==null)return{};var n=TQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NS(t,e){return PQ(t)||kQ(t,e)||CQ(t,e)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t,e){if(t){if(typeof t=="string")return OS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OS(t,e)}}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function PQ(t){if(Array.isArray(t))return t}var aI=/[ \f\n\r\t\v\u2028\u2029]+/,sI=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ye(n)||(r?o=n.toString().split(""):o=n.toString().split(aI));var a=o.map(function(l){return{word:l,width:Fs(l,i).width}}),s=r?0:Fs("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},IQ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Y(a),d=s,h=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(L,F){var $=F.word,U=F.width,V=L[L.length-1];if(V&&(i==null||o||V.width+U+r<Number(i)))V.words.push($),V.width+=U+r;else{var J={words:[$],width:U};L.push(J)}return L},[])},m=h(n),y=function(j){return j.reduce(function(L,F){return L.width>F.width?L:F})};if(!c)return m;for(var w="",v=function(j){var L=d.slice(0,j),F=sI({breakAll:u,style:l,children:L+w}).wordsWithComputedWidth,$=h(F),U=$.length>a||y($).width>Number(i);return[U,$]},b=0,x=d.length-1,_=0,T;b<=x&&_<=d.length-1;){var S=Math.floor((b+x)/2),E=S-1,A=v(E),C=NS(A,2),k=C[0],P=C[1],N=v(S),I=NS(N,1),R=I[0];if(!k&&!R&&(b=S+1),k&&R&&(x=S-1),!k&&R){T=P;break}_++}return T||m},RS=function(e){var n=ye(e)?[]:e.toString().split(aI);return[{words:n}]},NQ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Ya.isSsr){var l,u,c=sI({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return RS(i);return IQ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return RS(i)},MS="#808080",pd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,w=y===void 0?"end":y,v=e.fill,b=v===void 0?MS:v,x=IS(e,SQ),_=O.useMemo(function(){return NQ({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),T=x.dx,S=x.dy,E=x.angle,A=x.className,C=x.breakAll,k=IS(x,EQ);if(!ft(r)||!ft(o))return null;var P=r+(Y(T)?T:0),N=o+(Y(S)?S:0),I;switch(w){case"start":I=fp("calc(".concat(u,")"));break;case"middle":I=fp("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=fp("calc(".concat(_.length-1," * -").concat(s,")"));break}var R=[];if(d){var D=_[0].width,j=x.width;R.push("scale(".concat((Y(j)?j/D:1)/D,")"))}return E&&R.push("rotate(".concat(E,", ").concat(P,", ").concat(N,")")),R.length&&(k.transform=R.join(" ")),M.createElement("text",Tg({},ge(k,!0),{x:P,y:N,className:he("recharts-text",A),textAnchor:m,fill:b.includes("url")?MS:b}),_.map(function(L,F){var $=L.words.join(C?"":" ");return M.createElement("tspan",{x:P,dy:F===0?I:s,key:"".concat($,"-").concat(F)},$)}))};function ii(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function p0(t){let e,n,r;t.length!==2?(e=ii,n=(s,l)=>ii(t(s),l),r=(s,l)=>t(s)-l):(e=t===ii||t===OQ?t:RQ,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function RQ(){return 0}function lI(t){return t===null?NaN:+t}function*MQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const $Q=p0(ii),su=$Q.right;p0(lI).center;class $S extends Map{constructor(e,n=jQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(DS(this,e))}has(e){return super.has(DS(this,e))}set(e,n){return super.set(DQ(this,e),n)}delete(e){return super.delete(LQ(this,e))}}function DS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function DQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function LQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function jQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function UQ(t=ii){if(t===ii)return uI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function uI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const FQ=Math.sqrt(50),BQ=Math.sqrt(10),GQ=Math.sqrt(2);function md(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=FQ?10:o>=BQ?5:o>=GQ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?md(t,e,n*2):[s,l,u]}function Ag(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?md(e,t,n):md(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Cg(t,e,n){return e=+e,t=+t,n=+n,md(t,e,n)[2]}function kg(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Cg(e,t,n):Cg(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function LS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cI(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?uI:UQ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+h)),y=Math.min(r,Math.floor(e+(l-u)*d/l+h));cI(t,e,m,y,i)}const o=t[e];let a=n,s=r;for(hs(t,n,e),i(t[r],o)>0&&hs(t,n,r);a<s;){for(hs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?hs(t,n,s):(++s,hs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function hs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function VQ(t,e,n){if(t=Float64Array.from(MQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return jS(t);if(e>=1)return LS(t);var r,i=(r-1)*e,o=Math.floor(i),a=LS(cI(t,o).subarray(0,o+1)),s=jS(t.subarray(o+1));return a+(s-a)*(i-o)}}function zQ(t,e,n=lI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function HQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Pn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Mr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Pg=Symbol("implicit");function m0(){var t=new $S,e=[],n=[],r=Pg;function i(o){let a=t.get(o);if(a===void 0){if(r!==Pg)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new $S;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return m0(e,n).unknown(r)},Pn.apply(i,arguments),i}function Sl(){var t=m0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,m=i<r,y=m?i:r,w=m?r:i;o=(w-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(w-y-o*(h-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var v=HQ(h).map(function(b){return y+o*b});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Sl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Pn.apply(d(),arguments)}function dI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dI(e())},t}function Bs(){return dI(Sl.apply(null,arguments).paddingInner(1))}function g0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lu(){}var El=.7,gd=1/El,Zo="\\s*([+-]?\\d+)\\s*",Tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qQ=/^#([0-9a-f]{3,8})$/,WQ=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),KQ=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),JQ=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${Tl}\\)$`),YQ=new RegExp(`^rgba\\(${rr},${rr},${rr},${Tl}\\)$`),XQ=new RegExp(`^hsl\\(${Tl},${rr},${rr}\\)$`),QQ=new RegExp(`^hsla\\(${Tl},${rr},${rr},${Tl}\\)$`),US={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g0(lu,Al,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FS,formatHex:FS,formatHex8:ZQ,formatHsl:eZ,formatRgb:BS,toString:BS});function FS(){return this.rgb().formatHex()}function ZQ(){return this.rgb().formatHex8()}function eZ(){return hI(this).formatHsl()}function BS(){return this.rgb().formatRgb()}function Al(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?GS(e):n===3?new Ht(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=WQ.exec(t))?new Ht(e[1],e[2],e[3],1):(e=KQ.exec(t))?new Ht(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JQ.exec(t))?qu(e[1],e[2],e[3],e[4]):(e=YQ.exec(t))?qu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XQ.exec(t))?HS(e[1],e[2]/100,e[3]/100,1):(e=QQ.exec(t))?HS(e[1],e[2]/100,e[3]/100,e[4]):US.hasOwnProperty(t)?GS(US[t]):t==="transparent"?new Ht(NaN,NaN,NaN,0):null}function GS(t){return new Ht(t>>16&255,t>>8&255,t&255,1)}function qu(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ht(t,e,n,r)}function tZ(t){return t instanceof lu||(t=Al(t)),t?(t=t.rgb(),new Ht(t.r,t.g,t.b,t.opacity)):new Ht}function Ig(t,e,n,r){return arguments.length===1?tZ(t):new Ht(t,e,n,r??1)}function Ht(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}g0(Ht,Ig,fI(lu,{brighter(t){return t=t==null?gd:Math.pow(gd,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?El:Math.pow(El,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ht(Bi(this.r),Bi(this.g),Bi(this.b),yd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VS,formatHex:VS,formatHex8:nZ,formatRgb:zS,toString:zS}));function VS(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}`}function nZ(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}${Mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function zS(){const t=yd(this.opacity);return`${t===1?"rgb(":"rgba("}${Bi(this.r)}, ${Bi(this.g)}, ${Bi(this.b)}${t===1?")":`, ${t})`}`}function yd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mi(t){return t=Bi(t),(t<16?"0":"")+t.toString(16)}function HS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Un(t,e,n,r)}function hI(t){if(t instanceof Un)return new Un(t.h,t.s,t.l,t.opacity);if(t instanceof lu||(t=Al(t)),!t)return new Un;if(t instanceof Un)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Un(a,s,l,t.opacity)}function rZ(t,e,n,r){return arguments.length===1?hI(t):new Un(t,e,n,r??1)}function Un(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}g0(Un,rZ,fI(lu,{brighter(t){return t=t==null?gd:Math.pow(gd,t),new Un(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?El:Math.pow(El,t),new Un(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ht(hp(t>=240?t-240:t+120,i,r),hp(t,i,r),hp(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Un(qS(this.h),Wu(this.s),Wu(this.l),yd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yd(this.opacity);return`${t===1?"hsl(":"hsla("}${qS(this.h)}, ${Wu(this.s)*100}%, ${Wu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qS(t){return t=(t||0)%360,t<0?t+360:t}function Wu(t){return Math.max(0,Math.min(1,t||0))}function hp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const y0=t=>()=>t;function iZ(t,e){return function(n){return t+n*e}}function oZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function aZ(t){return(t=+t)==1?pI:function(e,n){return n-e?oZ(e,n,t):y0(isNaN(e)?n:e)}}function pI(t,e){var n=e-t;return n?iZ(t,n):y0(isNaN(t)?e:t)}const WS=function t(e){var n=aZ(e);function r(i,o){var a=n((i=Ig(i)).r,(o=Ig(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=pI(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function sZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function lZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Xa(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function cZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function vd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xa(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pp=new RegExp(Ng.source,"g");function fZ(t){return function(){return t}}function hZ(t){return function(e){return t(e)+""}}function pZ(t,e){var n=Ng.lastIndex=pp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Ng.exec(t))&&(i=pp.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:vd(r,i)})),n=pp.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?hZ(l[0].x):fZ(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Xa(t,e){var n=typeof e,r;return e==null||n==="boolean"?y0(e):(n==="number"?vd:n==="string"?(r=Al(e))?(e=r,WS):pZ:e instanceof Al?WS:e instanceof Date?cZ:lZ(e)?sZ:Array.isArray(e)?uZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dZ:vd)(t,e)}function v0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mZ(t,e){e===void 0&&(e=t,t=Xa);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function gZ(t){return function(){return t}}function wd(t){return+t}var KS=[0,1];function jt(t){return t}function Og(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gZ(isNaN(e)?NaN:.5)}function yZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function vZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Og(i,r),o=n(a,o)):(r=Og(r,i),o=n(o,a)),function(s){return o(r(s))}}function wZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Og(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=su(t,s,1,r)-1;return o[l](i[l](s))}}function uu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xf(){var t=KS,e=KS,n=Xa,r,i,o,a=jt,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==jt&&(a=yZ(t[0],t[h-1])),s=h>2?wZ:vZ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(e,t.map(r),vd)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,wd),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=v0,c()},d.clamp=function(h){return arguments.length?(a=h?!0:jt,c()):a!==jt},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,m){return r=h,i=m,c()}}function w0(){return Xf()(jt,jt)}function bZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ya(t){return t=bd(Math.abs(t)),t?t[1]:NaN}function xZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function _Z(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var SZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cl(t){if(!(e=SZ.exec(t)))throw new Error("invalid format: "+t);var e;return new b0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cl.prototype=b0.prototype;function b0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}b0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var mI;function TZ(t,e){var n=bd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(mI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bd(t,Math.max(0,e+o-1))[0]}function JS(t,e){var n=bd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JS(t*100,e),r:JS,s:TZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XS(t){return t}var QS=Array.prototype.map,ZS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AZ(t){var e=t.grouping===void 0||t.thousands===void 0?XS:xZ(QS.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?XS:_Z(QS.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Cl(d);var h=d.fill,m=d.align,y=d.sign,w=d.symbol,v=d.zero,b=d.width,x=d.comma,_=d.precision,T=d.trim,S=d.type;S==="n"?(x=!0,S="g"):YS[S]||(_===void 0&&(_=12),T=!0,S="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var E=w==="$"?n:w==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=w==="$"?r:/[%p]/.test(S)?a:"",C=YS[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(N){var I=E,R=A,D,j,L;if(S==="c")R=C(N)+R,N="";else{N=+N;var F=N<0||1/N<0;if(N=isNaN(N)?l:C(Math.abs(N),_),T&&(N=EZ(N)),F&&+N==0&&y!=="+"&&(F=!1),I=(F?y==="("?y:s:y==="-"||y==="("?"":y)+I,R=(S==="s"?ZS[8+mI/3]:"")+R+(F&&y==="("?")":""),k){for(D=-1,j=N.length;++D<j;)if(L=N.charCodeAt(D),48>L||L>57){R=(L===46?i+N.slice(D+1):N.slice(D))+R,N=N.slice(0,D);break}}}x&&!v&&(N=e(N,1/0));var $=I.length+N.length+R.length,U=$<b?new Array(b-$+1).join(h):"";switch(x&&v&&(N=e(U+N,U.length?b-R.length:1/0),U=""),m){case"<":N=I+N+R+U;break;case"=":N=I+U+N+R;break;case"^":N=U.slice(0,$=U.length>>1)+I+N+R+U.slice($);break;default:N=U+I+N+R;break}return o(N)}return P.toString=function(){return d+""},P}function c(d,h){var m=u((d=Cl(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(ya(h)/3)))*3,w=Math.pow(10,-y),v=ZS[8+y/3];return function(b){return m(w*b)+v}}return{format:u,formatPrefix:c}}var Ku,x0,gI;CZ({thousands:",",grouping:[3],currency:["$",""]});function CZ(t){return Ku=AZ(t),x0=Ku.format,gI=Ku.formatPrefix,Ku}function kZ(t){return Math.max(0,-ya(Math.abs(t)))}function PZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ya(e)/3)))*3-ya(Math.abs(t)))}function IZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ya(e)-ya(t))+1}function yI(t,e,n,r){var i=kg(t,e,n),o;switch(r=Cl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=PZ(i,a))&&(r.precision=o),gI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=IZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=kZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return x0(r)}function hi(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ag(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Cg(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function xd(){var t=w0();return t.copy=function(){return uu(t,xd())},Pn.apply(t,arguments),hi(t)}function vI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,wd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vI(t).unknown(e)},t=arguments.length?Array.from(t,wd):[0,1],hi(n)}function wI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function e1(t){return Math.log(t)}function t1(t){return Math.exp(t)}function NZ(t){return-Math.log(-t)}function OZ(t){return-Math.exp(-t)}function RZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function MZ(t){return t===10?RZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $Z(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function n1(t){return(e,n)=>-t(-e,n)}function _0(t){const e=t(e1,t1),n=e.domain;let r=10,i,o;function a(){return i=$Z(r),o=MZ(r),n()[0]<0?(i=n1(i),o=n1(o),t(NZ,OZ)):t(e1,t1),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),m=i(c),y,w;const v=s==null?10:+s;let b=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<r;++y)if(w=h<0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;b.push(w)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(w=h>0?y/o(-h):y*o(h),!(w<u)){if(w>c)break;b.push(w)}b.length*2<v&&(b=Ag(u,c,v))}else b=Ag(h,m,Math.min(m-h,v)).map(o);return d?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Cl(l)).precision==null&&(l.trim=!0),l=x0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(wI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function bI(){const t=_0(Xf()).domain([1,10]);return t.copy=()=>uu(t,bI()).base(t.base()),Pn.apply(t,arguments),t}function r1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function i1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function S0(t){var e=1,n=t(r1(e),i1(e));return n.constant=function(r){return arguments.length?t(r1(e=+r),i1(e)):e},hi(n)}function xI(){var t=S0(Xf());return t.copy=function(){return uu(t,xI()).constant(t.constant())},Pn.apply(t,arguments)}function o1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function DZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function LZ(t){return t<0?-t*t:t*t}function E0(t){var e=t(jt,jt),n=1;function r(){return n===1?t(jt,jt):n===.5?t(DZ,LZ):t(o1(n),o1(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},hi(e)}function T0(){var t=E0(Xf());return t.copy=function(){return uu(t,T0()).exponent(t.exponent())},Pn.apply(t,arguments),t}function jZ(){return T0.apply(null,arguments).exponent(.5)}function a1(t){return Math.sign(t)*t*t}function UZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _I(){var t=w0(),e=[0,1],n=!1,r;function i(o){var a=UZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(a1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,wd)).map(a1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return _I(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pn.apply(i,arguments),hi(i)}function SI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=zQ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[su(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ii),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return SI().domain(t).range(e).unknown(r)},Pn.apply(o,arguments)}function EI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[su(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return EI().domain([t,e]).range(i).unknown(o)},Pn.apply(hi(a),arguments)}function TI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[su(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return TI().domain(t).range(e).unknown(n)},Pn.apply(i,arguments)}const mp=new Date,gp=new Date;function ht(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>ht(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(mp.setTime(+o),gp.setTime(+a),t(mp),t(gp),Math.floor(n(mp,gp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _d=ht(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_d.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ht(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_d);_d.range;const pr=1e3,vn=pr*60,mr=vn*60,Er=mr*24,A0=Er*7,s1=Er*30,yp=Er*365,$i=ht(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pr)},(t,e)=>(e-t)/pr,t=>t.getUTCSeconds());$i.range;const C0=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pr)},(t,e)=>{t.setTime(+t+e*vn)},(t,e)=>(e-t)/vn,t=>t.getMinutes());C0.range;const k0=ht(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vn)},(t,e)=>(e-t)/vn,t=>t.getUTCMinutes());k0.range;const P0=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pr-t.getMinutes()*vn)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getHours());P0.range;const I0=ht(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mr)},(t,e)=>(e-t)/mr,t=>t.getUTCHours());I0.range;const cu=ht(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vn)/Er,t=>t.getDate()-1);cu.range;const Qf=ht(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Er,t=>t.getUTCDate()-1);Qf.range;const AI=ht(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Er,t=>Math.floor(t/Er));AI.range;function ro(t){return ht(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vn)/A0)}const Zf=ro(0),Sd=ro(1),FZ=ro(2),BZ=ro(3),va=ro(4),GZ=ro(5),VZ=ro(6);Zf.range;Sd.range;FZ.range;BZ.range;va.range;GZ.range;VZ.range;function io(t){return ht(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/A0)}const eh=io(0),Ed=io(1),zZ=io(2),HZ=io(3),wa=io(4),qZ=io(5),WZ=io(6);eh.range;Ed.range;zZ.range;HZ.range;wa.range;qZ.range;WZ.range;const N0=ht(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());N0.range;const O0=ht(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());O0.range;const Tr=ht(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Tr.range;const Ar=ht(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ar.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ar.range;function CI(t,e,n,r,i,o){const a=[[$i,1,pr],[$i,5,5*pr],[$i,15,15*pr],[$i,30,30*pr],[o,1,vn],[o,5,5*vn],[o,15,15*vn],[o,30,30*vn],[i,1,mr],[i,3,3*mr],[i,6,6*mr],[i,12,12*mr],[r,1,Er],[r,2,2*Er],[n,1,A0],[e,1,s1],[e,3,3*s1],[t,1,yp]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),y=m?m.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,d){const h=Math.abs(c-u)/d,m=p0(([,,v])=>v).right(a,h);if(m===a.length)return t.every(kg(u/yp,c/yp,d));if(m===0)return _d.every(Math.max(kg(u,c,d),1));const[y,w]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return y.every(w)}return[s,l]}const[KZ,JZ]=CI(Ar,O0,eh,AI,I0,k0),[YZ,XZ]=CI(Tr,N0,Zf,cu,P0,C0);function vp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function wp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ps(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function QZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ms(i),c=gs(i),d=ms(o),h=gs(o),m=ms(a),y=gs(a),w=ms(s),v=gs(s),b=ms(l),x=gs(l),_={a:F,A:$,b:U,B:V,c:null,d:h1,e:h1,f:xee,g:Nee,G:Ree,H:vee,I:wee,j:bee,L:kI,m:_ee,M:See,p:J,q:H,Q:g1,s:y1,S:Eee,u:Tee,U:Aee,V:Cee,w:kee,W:Pee,x:null,X:null,y:Iee,Y:Oee,Z:Mee,"%":m1},T={a:re,A:fe,b:be,B:Ie,c:null,d:p1,e:p1,f:jee,g:Kee,G:Yee,H:$ee,I:Dee,j:Lee,L:II,m:Uee,M:Fee,p:q,q:X,Q:g1,s:y1,S:Bee,u:Gee,U:Vee,V:zee,w:Hee,W:qee,x:null,X:null,y:Wee,Y:Jee,Z:Xee,"%":m1},S={a:P,A:N,b:I,B:R,c:D,d:d1,e:d1,f:pee,g:c1,G:u1,H:f1,I:f1,j:cee,L:hee,m:uee,M:dee,p:k,q:lee,Q:gee,s:yee,S:fee,u:ree,U:iee,V:oee,w:nee,W:aee,x:j,X:L,y:c1,Y:u1,Z:see,"%":mee};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(z,Z){return function(ie){var G=[],Ee=-1,de=0,Te=z.length,K,Re,ee;for(ie instanceof Date||(ie=new Date(+ie));++Ee<Te;)z.charCodeAt(Ee)===37&&(G.push(z.slice(de,Ee)),(Re=l1[K=z.charAt(++Ee)])!=null?K=z.charAt(++Ee):Re=K==="e"?" ":"0",(ee=Z[K])&&(K=ee(ie,Re)),G.push(K),de=Ee+1);return G.push(z.slice(de,Ee)),G.join("")}}function A(z,Z){return function(ie){var G=ps(1900,void 0,1),Ee=C(G,z,ie+="",0),de,Te;if(Ee!=ie.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(Z&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(de=wp(ps(G.y,0,1)),Te=de.getUTCDay(),de=Te>4||Te===0?Ed.ceil(de):Ed(de),de=Qf.offset(de,(G.V-1)*7),G.y=de.getUTCFullYear(),G.m=de.getUTCMonth(),G.d=de.getUTCDate()+(G.w+6)%7):(de=vp(ps(G.y,0,1)),Te=de.getDay(),de=Te>4||Te===0?Sd.ceil(de):Sd(de),de=cu.offset(de,(G.V-1)*7),G.y=de.getFullYear(),G.m=de.getMonth(),G.d=de.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Te="Z"in G?wp(ps(G.y,0,1)).getUTCDay():vp(ps(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Te+5)%7:G.w+G.U*7-(Te+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,wp(G)):vp(G)}}function C(z,Z,ie,G){for(var Ee=0,de=Z.length,Te=ie.length,K,Re;Ee<de;){if(G>=Te)return-1;if(K=Z.charCodeAt(Ee++),K===37){if(K=Z.charAt(Ee++),Re=S[K in l1?Z.charAt(Ee++):K],!Re||(G=Re(z,ie,G))<0)return-1}else if(K!=ie.charCodeAt(G++))return-1}return G}function k(z,Z,ie){var G=u.exec(Z.slice(ie));return G?(z.p=c.get(G[0].toLowerCase()),ie+G[0].length):-1}function P(z,Z,ie){var G=m.exec(Z.slice(ie));return G?(z.w=y.get(G[0].toLowerCase()),ie+G[0].length):-1}function N(z,Z,ie){var G=d.exec(Z.slice(ie));return G?(z.w=h.get(G[0].toLowerCase()),ie+G[0].length):-1}function I(z,Z,ie){var G=b.exec(Z.slice(ie));return G?(z.m=x.get(G[0].toLowerCase()),ie+G[0].length):-1}function R(z,Z,ie){var G=w.exec(Z.slice(ie));return G?(z.m=v.get(G[0].toLowerCase()),ie+G[0].length):-1}function D(z,Z,ie){return C(z,e,Z,ie)}function j(z,Z,ie){return C(z,n,Z,ie)}function L(z,Z,ie){return C(z,r,Z,ie)}function F(z){return a[z.getDay()]}function $(z){return o[z.getDay()]}function U(z){return l[z.getMonth()]}function V(z){return s[z.getMonth()]}function J(z){return i[+(z.getHours()>=12)]}function H(z){return 1+~~(z.getMonth()/3)}function re(z){return a[z.getUTCDay()]}function fe(z){return o[z.getUTCDay()]}function be(z){return l[z.getUTCMonth()]}function Ie(z){return s[z.getUTCMonth()]}function q(z){return i[+(z.getUTCHours()>=12)]}function X(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var Z=E(z+="",_);return Z.toString=function(){return z},Z},parse:function(z){var Z=A(z+="",!1);return Z.toString=function(){return z},Z},utcFormat:function(z){var Z=E(z+="",T);return Z.toString=function(){return z},Z},utcParse:function(z){var Z=A(z+="",!0);return Z.toString=function(){return z},Z}}}var l1={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,ZZ=/^%/,eee=/[\\^$*+?|[\]().{}]/g;function Se(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function tee(t){return t.replace(eee,"\\$&")}function ms(t){return new RegExp("^(?:"+t.map(tee).join("|")+")","i")}function gs(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ree(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function iee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function oee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function aee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function u1(t,e,n){var r=vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function c1(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function see(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lee(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function uee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function d1(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cee(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function f1(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function fee(t,e,n){var r=vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hee(t,e,n){var r=vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pee(t,e,n){var r=vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mee(t,e,n){var r=ZZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gee(t,e,n){var r=vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yee(t,e,n){var r=vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function h1(t,e){return Se(t.getDate(),e,2)}function vee(t,e){return Se(t.getHours(),e,2)}function wee(t,e){return Se(t.getHours()%12||12,e,2)}function bee(t,e){return Se(1+cu.count(Tr(t),t),e,3)}function kI(t,e){return Se(t.getMilliseconds(),e,3)}function xee(t,e){return kI(t,e)+"000"}function _ee(t,e){return Se(t.getMonth()+1,e,2)}function See(t,e){return Se(t.getMinutes(),e,2)}function Eee(t,e){return Se(t.getSeconds(),e,2)}function Tee(t){var e=t.getDay();return e===0?7:e}function Aee(t,e){return Se(Zf.count(Tr(t)-1,t),e,2)}function PI(t){var e=t.getDay();return e>=4||e===0?va(t):va.ceil(t)}function Cee(t,e){return t=PI(t),Se(va.count(Tr(t),t)+(Tr(t).getDay()===4),e,2)}function kee(t){return t.getDay()}function Pee(t,e){return Se(Sd.count(Tr(t)-1,t),e,2)}function Iee(t,e){return Se(t.getFullYear()%100,e,2)}function Nee(t,e){return t=PI(t),Se(t.getFullYear()%100,e,2)}function Oee(t,e){return Se(t.getFullYear()%1e4,e,4)}function Ree(t,e){var n=t.getDay();return t=n>=4||n===0?va(t):va.ceil(t),Se(t.getFullYear()%1e4,e,4)}function Mee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Se(e/60|0,"0",2)+Se(e%60,"0",2)}function p1(t,e){return Se(t.getUTCDate(),e,2)}function $ee(t,e){return Se(t.getUTCHours(),e,2)}function Dee(t,e){return Se(t.getUTCHours()%12||12,e,2)}function Lee(t,e){return Se(1+Qf.count(Ar(t),t),e,3)}function II(t,e){return Se(t.getUTCMilliseconds(),e,3)}function jee(t,e){return II(t,e)+"000"}function Uee(t,e){return Se(t.getUTCMonth()+1,e,2)}function Fee(t,e){return Se(t.getUTCMinutes(),e,2)}function Bee(t,e){return Se(t.getUTCSeconds(),e,2)}function Gee(t){var e=t.getUTCDay();return e===0?7:e}function Vee(t,e){return Se(eh.count(Ar(t)-1,t),e,2)}function NI(t){var e=t.getUTCDay();return e>=4||e===0?wa(t):wa.ceil(t)}function zee(t,e){return t=NI(t),Se(wa.count(Ar(t),t)+(Ar(t).getUTCDay()===4),e,2)}function Hee(t){return t.getUTCDay()}function qee(t,e){return Se(Ed.count(Ar(t)-1,t),e,2)}function Wee(t,e){return Se(t.getUTCFullYear()%100,e,2)}function Kee(t,e){return t=NI(t),Se(t.getUTCFullYear()%100,e,2)}function Jee(t,e){return Se(t.getUTCFullYear()%1e4,e,4)}function Yee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wa(t):wa.ceil(t),Se(t.getUTCFullYear()%1e4,e,4)}function Xee(){return"+0000"}function m1(){return"%"}function g1(t){return+t}function y1(t){return Math.floor(+t/1e3)}var go,OI,RI;Qee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qee(t){return go=QZ(t),OI=go.format,go.parse,RI=go.utcFormat,go.utcParse,go}function Zee(t){return new Date(t)}function ete(t){return t instanceof Date?+t:+new Date(+t)}function R0(t,e,n,r,i,o,a,s,l,u){var c=w0(),d=c.invert,h=c.domain,m=u(".%L"),y=u(":%S"),w=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?m:s(E)<E?y:a(E)<E?w:o(E)<E?v:r(E)<E?i(E)<E?b:x:n(E)<E?_:T)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,ete)):h().map(Zee)},c.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},c.tickFormat=function(E,A){return A==null?S:u(A)},c.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(wI(A,E)):c},c.copy=function(){return uu(c,R0(t,e,n,r,i,o,a,s,l,u))},c}function tte(){return Pn.apply(R0(YZ,XZ,Tr,N0,Zf,cu,P0,C0,$i,OI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nte(){return Pn.apply(R0(KZ,JZ,Ar,O0,eh,Qf,I0,k0,$i,RI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function th(){var t=0,e=1,n,r,i,o,a=jt,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var m,y;return arguments.length?([m,y]=h,a=d(m,y),u):[a(0),a(1)]}}return u.range=c(Xa),u.rangeRound=c(v0),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function pi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MI(){var t=hi(th()(jt));return t.copy=function(){return pi(t,MI())},Mr.apply(t,arguments)}function $I(){var t=_0(th()).domain([1,10]);return t.copy=function(){return pi(t,$I()).base(t.base())},Mr.apply(t,arguments)}function DI(){var t=S0(th());return t.copy=function(){return pi(t,DI()).constant(t.constant())},Mr.apply(t,arguments)}function M0(){var t=E0(th());return t.copy=function(){return pi(t,M0()).exponent(t.exponent())},Mr.apply(t,arguments)}function rte(){return M0.apply(null,arguments).exponent(.5)}function LI(){var t=[],e=jt;function n(r){if(r!=null&&!isNaN(r=+r))return e((su(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ii),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>VQ(t,o/r))},n.copy=function(){return LI(e).domain(t)},Mr.apply(n,arguments)}function nh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=jt,c,d=!1,h;function m(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?s:l),u(d?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(d=!!w,m):d},m.interpolator=function(w){return arguments.length?(u=w,m):u};function y(w){return function(v){var b,x,_;return arguments.length?([b,x,_]=v,u=mZ(w,[b,x,_]),m):[u(0),u(.5),u(1)]}}return m.range=y(Xa),m.rangeRound=y(v0),m.unknown=function(w){return arguments.length?(h=w,m):h},function(w){return c=w,i=w(t),o=w(e),a=w(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function jI(){var t=hi(nh()(jt));return t.copy=function(){return pi(t,jI())},Mr.apply(t,arguments)}function UI(){var t=_0(nh()).domain([.1,1,10]);return t.copy=function(){return pi(t,UI()).base(t.base())},Mr.apply(t,arguments)}function FI(){var t=S0(nh());return t.copy=function(){return pi(t,FI()).constant(t.constant())},Mr.apply(t,arguments)}function $0(){var t=E0(nh());return t.copy=function(){return pi(t,$0()).exponent(t.exponent())},Mr.apply(t,arguments)}function ite(){return $0.apply(null,arguments).exponent(.5)}const v1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sl,scaleDiverging:jI,scaleDivergingLog:UI,scaleDivergingPow:$0,scaleDivergingSqrt:ite,scaleDivergingSymlog:FI,scaleIdentity:vI,scaleImplicit:Pg,scaleLinear:xd,scaleLog:bI,scaleOrdinal:m0,scalePoint:Bs,scalePow:T0,scaleQuantile:SI,scaleQuantize:EI,scaleRadial:_I,scaleSequential:MI,scaleSequentialLog:$I,scaleSequentialPow:M0,scaleSequentialQuantile:LI,scaleSequentialSqrt:rte,scaleSequentialSymlog:DI,scaleSqrt:jZ,scaleSymlog:xI,scaleThreshold:TI,scaleTime:tte,scaleUtc:nte,tickFormat:yI},Symbol.toStringTag,{value:"Module"}));var ote=Fa;function ate(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!ote(a):n(a,s)))var s=a,l=o}return l}var BI=ate;function ste(t,e){return t>e}var lte=ste,ute=BI,cte=lte,dte=Ka;function fte(t){return t&&t.length?ute(t,dte,cte):void 0}var hte=fte;const qr=je(hte);function pte(t,e){return t<e}var mte=pte,gte=BI,yte=mte,vte=Ka;function wte(t){return t&&t.length?gte(t,vte,yte):void 0}var bte=wte;const rh=je(bte);var xte=Kv,_te=Ja,Ste=JP,Ete=Jt;function Tte(t,e){var n=Ete(t)?xte:Ste;return n(t,_te(e))}var Ate=Tte,Cte=WP,kte=Ate;function Pte(t,e){return Cte(kte(t,e),1)}var Ite=Pte;const Nte=je(Ite);var Ote=c0;function Rte(t,e){return Ote(t,e)}var Mte=Rte;const kl=je(Mte);var Qa=1e9,$te={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},L0,He=!0,Cn="[DecimalError] ",Gi=Cn+"Invalid argument: ",D0=Cn+"Exponent out of range: ",Za=Math.floor,Ai=Math.pow,Dte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nn,pt=1e7,Be=7,GI=9007199254740991,Td=Za(GI/Be),ne={};ne.absoluteValue=ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ne.comparedTo=ne.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Be;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ne.dividedBy=ne.div=function(t){return vr(this,new this.constructor(t))};ne.dividedToIntegerBy=ne.idiv=function(t){var e=this,n=e.constructor;return Me(vr(e,new n(t),0,1),n.precision)};ne.equals=ne.eq=function(t){return!this.cmp(t)};ne.exponent=function(){return it(this)};ne.greaterThan=ne.gt=function(t){return this.cmp(t)>0};ne.greaterThanOrEqualTo=ne.gte=function(t){return this.cmp(t)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(t){return this.cmp(t)<0};ne.lessThanOrEqualTo=ne.lte=function(t){return this.cmp(t)<1};ne.logarithm=ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(nn))throw Error(Cn+"NaN");if(n.s<1)throw Error(Cn+(n.s?"NaN":"-Infinity"));return n.eq(nn)?new r(0):(He=!1,e=vr(Pl(n,o),Pl(t,o),o),He=!0,Me(e,i))};ne.minus=ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HI(e,t):VI(e,(t.s=-t.s,t))};ne.modulo=ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Cn+"NaN");return n.s?(He=!1,e=vr(n,t,0,1).times(t),He=!0,n.minus(e)):Me(new r(n),i)};ne.naturalExponential=ne.exp=function(){return zI(this)};ne.naturalLogarithm=ne.ln=function(){return Pl(this)};ne.negated=ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ne.plus=ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VI(e,t):HI(e,(t.s=-t.s,t))};ne.precision=ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gi+t);if(e=it(i)+1,r=i.d.length-1,n=r*Be+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ne.squareRoot=ne.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Cn+"NaN")}for(t=it(s),He=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Zn(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Za((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(vr(s,o,a+2)).times(.5),Zn(o.d).slice(0,a)===(e=Zn(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Me(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return He=!0,Me(r,n)};ne.times=ne.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,m=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%pt|0,e=s/pt|0;o[i]=(o[i]+e)%pt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,He?Me(t,d.precision):t};ne.toDecimalPlaces=ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(or(t,0,Qa),e===void 0?e=r.rounding:or(e,0,8),Me(n,t+it(n)+1,e))};ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yi(r,!0):(or(t,0,Qa),e===void 0?e=i.rounding:or(e,0,8),r=Me(new i(r),t+1,e),n=Yi(r,!0,t+1)),n};ne.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Yi(i):(or(t,0,Qa),e===void 0?e=o.rounding:or(e,0,8),r=Me(new o(i),t+it(i)+1,e),n=Yi(r.abs(),!1,t+it(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ne.toInteger=ne.toint=function(){var t=this,e=t.constructor;return Me(new e(t),it(t)+1,e.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(nn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Cn+"Infinity");return s}if(s.eq(nn))return s;if(r=l.precision,t.eq(nn))return Me(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=GI){for(i=new l(nn),e=Math.ceil(r/Be+4),He=!1;n%2&&(i=i.times(s),b1(i.d,e)),n=Za(n/2),n!==0;)s=s.times(s),b1(s.d,e);return He=!0,t.s<0?new l(nn).div(i):Me(i,r)}}else if(o<0)throw Error(Cn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,He=!1,i=t.times(Pl(s,r+u)),He=!0,i=zI(i),i.s=o,i};ne.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=it(i),r=Yi(i,n<=o.toExpNeg||n>=o.toExpPos)):(or(t,1,Qa),e===void 0?e=o.rounding:or(e,0,8),i=Me(new o(i),t,e),n=it(i),r=Yi(i,t<=n||n<=o.toExpNeg,t)),r};ne.toSignificantDigits=ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(or(t,1,Qa),e===void 0?e=r.rounding:or(e,0,8)),Me(new r(n),t,e)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=it(t),n=t.constructor;return Yi(t,e<=n.toExpNeg||e>=n.toExpPos)};function VI(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),He?Me(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Be),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/pt|0,l[o]%=pt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,He?Me(e,d):e}function or(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Gi+t)}function Zn(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Be-r.length,n&&(o+=Fr(n)),o+=r;a=t[e],r=a+"",n=Be-r.length,n&&(o+=Fr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var vr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%pt|0,a=o/pt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,m,y,w,v,b,x,_,T,S,E,A,C,k=r.constructor,P=r.s==i.s?1:-1,N=r.d,I=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Cn+"Division by zero");for(l=r.e-i.e,A=I.length,S=N.length,m=new k(P),y=m.d=[],u=0;I[u]==(N[u]||0);)++u;if(I[u]>(N[u]||0)&&--l,o==null?x=o=k.precision:a?x=o+(it(r)-it(i))+1:x=o,x<0)return new k(0);if(x=x/Be+2|0,u=0,A==1)for(c=0,I=I[0],x++;(u<S||c)&&x--;u++)_=c*pt+(N[u]||0),y[u]=_/I|0,c=_%I|0;else{for(c=pt/(I[0]+1)|0,c>1&&(I=t(I,c),N=t(N,c),A=I.length,S=N.length),T=A,w=N.slice(0,A),v=w.length;v<A;)w[v++]=0;C=I.slice(),C.unshift(0),E=I[0],I[1]>=pt/2&&++E;do c=0,s=e(I,w,A,v),s<0?(b=w[0],A!=v&&(b=b*pt+(w[1]||0)),c=b/E|0,c>1?(c>=pt&&(c=pt-1),d=t(I,c),h=d.length,v=w.length,s=e(d,w,h,v),s==1&&(c--,n(d,A<h?C:I,h))):(c==0&&(s=c=1),d=I.slice()),h=d.length,h<v&&d.unshift(0),n(w,d,v),s==-1&&(v=w.length,s=e(I,w,A,v),s<1&&(c++,n(w,A<v?C:I,v))),v=w.length):s===0&&(c++,w=[0]),y[u++]=c,s&&w[0]?w[v++]=N[T]||0:(w=[N[T]],v=1);while((T++<S||w[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=l,Me(m,a?o+it(m)+1:o)}}();function zI(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,d=c.precision;if(it(t)>16)throw Error(D0+it(t));if(!t.s)return new c(nn);for(He=!1,s=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ai(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(nn),c.precision=s;;){if(i=Me(i.times(t),s),n=n.times(++l),a=o.plus(vr(i,n,s)),Zn(a.d).slice(0,s)===Zn(o.d).slice(0,s)){for(;u--;)o=Me(o.times(o),s);return c.precision=d,e==null?(He=!0,Me(o,d)):o}o=a}}function it(t){for(var e=t.e*Be,n=t.d[0];n>=10;n/=10)e++;return e}function bp(t,e,n){if(e>t.LN10.sd())throw He=!0,n&&(t.precision=n),Error(Cn+"LN10 precision limit exceeded");return Me(new t(t.LN10),e)}function Fr(t){for(var e="";t--;)e+="0";return e}function Pl(t,e){var n,r,i,o,a,s,l,u,c,d=1,h=10,m=t,y=m.d,w=m.constructor,v=w.precision;if(m.s<1)throw Error(Cn+(m.s?"NaN":"-Infinity"));if(m.eq(nn))return new w(0);if(e==null?(He=!1,u=v):u=e,m.eq(10))return e==null&&(He=!0),bp(w,u);if(u+=h,w.precision=u,n=Zn(y),r=n.charAt(0),o=it(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Zn(m.d),r=n.charAt(0),d++;o=it(m),r>1?(m=new w("0."+n),o++):m=new w(r+"."+n.slice(1))}else return l=bp(w,u+2,v).times(o+""),m=Pl(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=v,e==null?(He=!0,Me(m,v)):m;for(s=a=m=vr(m.minus(nn),m.plus(nn),u),c=Me(m.times(m),u),i=3;;){if(a=Me(a.times(c),u),l=s.plus(vr(a,new w(i),u)),Zn(l.d).slice(0,u)===Zn(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(bp(w,u+2,v).times(o+""))),s=vr(s,new w(d),u),w.precision=v,e==null?(He=!0,Me(s,v)):s;s=l,i+=2}}function w1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Za(n/Be),t.d=[],r=(n+1)%Be,n<0&&(r+=Be),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Be;r<i;)t.d.push(+e.slice(r,r+=Be));e=e.slice(r),r=Be-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),He&&(t.e>Td||t.e<-Td))throw Error(D0+n)}else t.s=0,t.e=0,t.d=[0];return t}function Me(t,e,n){var r,i,o,a,s,l,u,c,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Be,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Be),o=d.length,c>=o)return t;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Be,i=r-Be+a}if(n!==void 0&&(o=Ai(10,a-i-1),s=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ai(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=it(t),d.length=1,e=e-o-1,d[0]=Ai(10,(Be-e%Be)%Be),t.e=Za(-e/Be)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Ai(10,Be-r),d[c]=i>0?(u/Ai(10,a-i)%Ai(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==pt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=pt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(He&&(t.e>Td||t.e<-Td))throw Error(D0+it(t));return t}function HI(t,e){var n,r,i,o,a,s,l,u,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),He?Me(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/Be),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=pt-1;--l[o],l[i]+=pt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,He?Me(e,m):e):new h(0)}function Yi(t,e,n){var r,i=it(t),o=Zn(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Fr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fr(-i-1)+o,n&&(r=n-a)>0&&(o+=Fr(r))):i>=a?(o+=Fr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Fr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Fr(r))),t.s<0?"-"+o:o}function b1(t,e){if(t.length>e)return t.length=e,!0}function qI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Gi+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return w1(a,o.toString())}else if(typeof o!="string")throw Error(Gi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Dte.test(o))w1(a,o);else throw Error(Gi+o)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qI,i.config=i.set=Lte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Lte(t){if(!t||typeof t!="object")throw Error(Cn+"Object expected");var e,n,r,i=["precision",1,Qa,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Za(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Gi+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gi+n+": "+r);return this}var L0=qI($te);nn=new L0(1);const Oe=L0;function jte(t){return Gte(t)||Bte(t)||Fte(t)||Ute()}function Ute(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fte(t,e){if(t){if(typeof t=="string")return Rg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rg(t,e)}}function Bte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Gte(t){if(Array.isArray(t))return Rg(t)}function Rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vte=function(e){return e},WI={},KI=function(e){return e===WI},x1=function(e){return function n(){return arguments.length===0||arguments.length===1&&KI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},zte=function t(e,n){return e===1?n:x1(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==WI}).length;return a>=e?n.apply(void 0,i):t(e-a,x1(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return KI(d)?l.shift():d});return n.apply(void 0,jte(c).concat(l))}))})},ih=function(e){return zte(e.length,e)},Mg=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Hte=ih(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),qte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Vte;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},$g=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},JI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Wte(t){var e;return t===0?e=1:e=Math.floor(new Oe(t).abs().log(10).toNumber())+1,e}function Kte(t,e,n){for(var r=new Oe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Jte=ih(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Yte=ih(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Xte=ih(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const oh={rangeStep:Kte,getDigitCount:Wte,interpolateNumber:Jte,uninterpolateNumber:Yte,uninterpolateTruncation:Xte};function Dg(t){return ene(t)||Zte(t)||YI(t)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ene(t){if(Array.isArray(t))return Lg(t)}function Il(t,e){return rne(t)||nne(t,e)||YI(t,e)||tne()}function tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YI(t,e){if(t){if(typeof t=="string")return Lg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lg(t,e)}}function Lg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function rne(t){if(Array.isArray(t))return t}function XI(t){var e=Il(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function QI(t,e,n){if(t.lte(0))return new Oe(0);var r=oh.getDigitCount(t.toNumber()),i=new Oe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Oe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Oe(Math.ceil(l))}function ine(t,e,n){var r=1,i=new Oe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Oe(10).pow(oh.getDigitCount(t)-1),i=new Oe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Oe(Math.floor(t)))}else t===0?i=new Oe(Math.floor((e-1)/2)):n||(i=new Oe(Math.floor(t)));var a=Math.floor((e-1)/2),s=qte(Hte(function(l){return i.add(new Oe(l-a).mul(r)).toNumber()}),Mg);return s(0,e)}function ZI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var o=QI(new Oe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Oe(0):(a=new Oe(t).add(e).div(2),a=a.sub(new Oe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Oe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?ZI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Oe(s).mul(o)),tickMax:a.add(new Oe(l).mul(o))})}function one(t){var e=Il(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=XI([n,r]),l=Il(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Dg(Mg(0,i-1).map(function(){return 1/0}))):[].concat(Dg(Mg(0,i-1).map(function(){return-1/0})),[c]);return n>r?$g(d):d}if(u===c)return ine(u,i,o);var h=ZI(u,c,a,o),m=h.step,y=h.tickMin,w=h.tickMax,v=oh.rangeStep(y,w.add(new Oe(.1).mul(m)),m);return n>r?$g(v):v}function ane(t,e){var n=Il(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=XI([r,i]),s=Il(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=QI(new Oe(u).sub(l).div(c-1),o,0),h=[].concat(Dg(oh.rangeStep(new Oe(l),new Oe(u).sub(new Oe(.99).mul(d)),d)),[u]);return r>i?$g(h):h}var sne=JI(one),lne=JI(ane),une="Invariant failed";function Xi(t,e){throw new Error(une)}var cne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}function dne(t,e){return mne(t)||pne(t,e)||hne(t,e)||fne()}function fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return _1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _1(t,e)}}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mne(t){if(Array.isArray(t))return t}function gne(t,e){if(t==null)return{};var n=yne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nN(r.key),r)}}function bne(t,e,n){return e&&wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xne(t,e,n){return e=Cd(e),_ne(t,eN()?Reflect.construct(e,n||[],Cd(t).constructor):e.apply(t,n))}function _ne(t,e){if(e&&(ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sne(t)}function Sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eN=function(){return!!t})()}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(t)}function Ene(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jg(t,e)}function jg(t,e){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jg(t,e)}function tN(t,e,n){return e=nN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nN(t){var e=Tne(t,"string");return ba(e)=="symbol"?e:e+""}function Tne(t,e){if(ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ah=function(t){function e(){return vne(this,e),xne(this,e,arguments)}return Ene(e,t),bne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=gne(r,cne),m=ge(h,!1);this.props.direction==="x"&&c.type!=="number"&&Xi();var y=l.map(function(w){var v=u(w,s),b=v.x,x=v.y,_=v.value,T=v.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var C=dne(T,2);E=C[0],A=C[1]}else E=A=T;if(o==="vertical"){var k=c.scale,P=x+i,N=P+a,I=P-a,R=k(_-E),D=k(_+A);S.push({x1:D,y1:N,x2:D,y2:I}),S.push({x1:R,y1:P,x2:D,y2:P}),S.push({x1:R,y1:N,x2:R,y2:I})}else if(o==="horizontal"){var j=d.scale,L=b+i,F=L-a,$=L+a,U=j(_-E),V=j(_+A);S.push({x1:F,y1:V,x2:$,y2:V}),S.push({x1:L,y1:U,x2:L,y2:V}),S.push({x1:F,y1:U,x2:$,y2:U})}return M.createElement(Ke,Ad({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),S.map(function(J){return M.createElement("line",Ad({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return M.createElement(Ke,{className:"recharts-errorBars"},y)}}])}(M.Component);tN(ah,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});tN(ah,"displayName","ErrorBar");function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function S1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S1(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=kne(t,"string");return Nl(e)=="symbol"?e:e+""}function kne(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rN=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Zt(n,Qo);if(!a)return null;var s=Qo.defaultProps,l=s!==void 0?wi(wi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,m=d.props,y=m.sectors||m.data||[];return c.concat(y.map(function(w){return{type:a.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,m=h!==void 0?wi(wi({},h),d.props):{},y=m.dataKey,w=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:y,type:l.iconType||v||"square",color:j0(d),value:w||y,payload:m}}),wi(wi(wi({},l),Qo.getWithHeight(a,i)),{},{payload:u,item:a})};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function E1(t){return One(t)||Nne(t)||Ine(t)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(t,e){if(t){if(typeof t=="string")return Ug(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(t,e)}}function Nne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function One(t){if(Array.isArray(t))return Ug(t)}function Ug(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){ea(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ea(t,e,n){return e=Rne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=Mne(t,"string");return Ol(e)=="symbol"?e:e+""}function Mne(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sn(t,e,n){return ye(t)||ye(e)?n:ft(e)?xn(t,e,n):pe(e)?e(t):n}function Gs(t,e,n,r){var i=Nte(t,function(s){return sn(s,e)});if(n==="number"){var o=i.filter(function(s){return Y(s)||parseFloat(s)});return o.length?[rh(o),qr(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ye(s)}):i;return a.map(function(s){return ft(s)||s instanceof Date?s:""})}var $ne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Fn(d-c)!==Fn(h-d)){var y=[];if(Fn(h-d)===Fn(l[1]-l[0])){m=h;var w=d+l[1]-l[0];y[0]=Math.min(w,(w+c)/2),y[1]=Math.max(w,(w+c)/2)}else{m=c;var v=h+l[1]-l[0];y[0]=Math.min(d,(v+d)/2),y[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(e>(x+d)/2&&e<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},j0=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ze(Ze({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Dne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,m=d.length;h<m;h++){var y=c[d[h]],w=y.items,v=y.cateAxisId,b=w.filter(function(A){return yr(A.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,_=x!==void 0?Ze(Ze({},x),b[0].props):b[0].props,T=_.barSize,S=_[v];a[S]||(a[S]=[]);var E=ye(T)?n:T;a[S].push({item:b[0],stackList:b.slice(1),barSize:ye(E)?void 0:Ji(E,r,0)})}}return a},Lne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ji(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,y=a.reduce(function(T,S){return T+S.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var w=(i-y)/2>>0,v={offset:w-u,size:0};c=a.reduce(function(T,S){var E={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},A=[].concat(E1(T),[E]);return v=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:v})}),A},d)}else{var b=Ji(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var x=(i-2*b-(l-1)*u)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;c=a.reduce(function(T,S,E){var A=[].concat(E1(T),[{item:S.item,position:{offset:b+(x+u)*E+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return c},jne=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=rN({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,m=u.align,y=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&y==="middle")&&m!=="center"&&Y(e[m]))return Ze(Ze({},e),{},ea({},m,e[m]+(d||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&y!=="middle"&&Y(e[y]))return Ze(Ze({},e),{},ea({},y,e[y]+(h||0)))}return e},Une=function(e,n,r){return ye(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},iN=function(e,n,r,i,o){var a=n.props.children,s=Hn(a,ah).filter(function(u){return Une(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=sn(c,r);if(ye(d))return u;var h=Array.isArray(d)?[rh(d),qr(d)]:[d,d],m=l.reduce(function(y,w){var v=sn(c,w,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Fne=function(e,n,r,i,o){var a=n.map(function(s){return iN(e,s,r,o,i)}).filter(function(s){return!ye(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},oN=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&iN(e,l,u,i)||Gs(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},aN=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Di=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Fn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Ha(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},xp=new WeakMap,Ju=function(e,n){if(typeof n!="function")return e;xp.has(e)||xp.set(e,new WeakMap);var r=xp.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Bne=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Sl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:xd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Bs(),realScaleType:"point"}:o==="category"?{scale:Sl(),realScaleType:"band"}:{scale:xd(),realScaleType:"linear"};if(Ki(i)){var l="scale".concat(zf(i));return{scale:(v1[l]||Bs)(),realScaleType:v1[l]?l:"point"}}return pe(i)?{scale:i}:{scale:Bs(),realScaleType:"point"}},A1=1e-4,Gne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-A1,a=Math.max(i[0],i[1])+A1,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Vne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},zne=function(e,n){if(!n||n.length!==2||!Y(n[0])||!Y(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Y(e[0])||e[0]<r)&&(o[0]=r),(!Y(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Hne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Ha(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},qne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Ha(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Wne={sign:Hne,expand:aq,none:fa,silhouette:sq,wiggle:lq,positive:qne},Kne=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Wne[r],a=oq().keys(i).value(function(s,l){return+sn(s,l,0)}).order(cg).offset(o);return a(e)},Jne=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ze(Ze({},h.type.defaultProps),h.props):h.props,w=y.stackId,v=y.hide;if(v)return d;var b=y[r],x=d[b]||{hasStack:!1,stackGroups:{}};if(ft(w)){var _=x.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[w]=_}else x.stackGroups[au("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ze(Ze({},d),{},ea({},b,x))},l),c={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,v){var b=m.stackGroups[v];return Ze(Ze({},w),{},ea({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Kne(e,b.items,o)}))},y)}return Ze(Ze({},d),{},ea({},h,m))},c)},Yne=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=sne(u,o,s);return e.domain([rh(c),qr(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=lne(d,o,s);return{niceTicks:h}}return null};function C1(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ye(i[e.dataKey])){var s=Qc(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=sn(i,ye(a)?e.dataKey:a);return ye(l)?null:e.scale(l)}var k1=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=sn(a,n.dataKey,n.domain[s]);return ye(l)?null:n.scale(l)-o/2+i},Xne=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Qne=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ze(Ze({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(ft(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Zne=function(e){return e.reduce(function(n,r){return[rh(r.concat([n[0]]).filter(Y)),qr(r.concat([n[1]]).filter(Y))]},[1/0,-1/0])},sN=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var d=Zne(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},P1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fg=function(e,n,r){if(pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Y(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(P1.test(e[0])){var o=+P1.exec(e[0])[1];i[0]=n[0]-o}else pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Y(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(I1.test(e[1])){var a=+I1.exec(e[1])[1];i[1]=n[1]+a}else pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=f0(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},N1=function(e,n,r){return!e||!e.length||kl(e,xn(r,"type.defaultProps.domain"))?n:e},lN=function(e,n){var r=e.type.defaultProps?Ze(Ze({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Ze(Ze({},ge(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:j0(e),value:sn(n,i),type:l,payload:n,chartType:u,hide:c})};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return e=tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return Rl(e)=="symbol"?e:e+""}function nre(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pd=Math.PI/180,rre=function(e){return e*180/Math.PI},Et=function(e,n,r,i){return{x:e+Math.cos(-Pd*i)*r,y:n+Math.sin(-Pd*i)*r}},ire=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},ore=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=ire({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:rre(u),angleInRadian:u}},are=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},sre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},M1=function(e,n){var r=e.x,i=e.y,o=ore({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=are(n),d=c.startAngle,h=c.endAngle,m=s,y;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}return y?R1(R1({},n),{},{radius:a,angle:sre(m,n)}):null};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}var lre=["offset"];function ure(t){return hre(t)||fre(t)||dre(t)||cre()}function cre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(t,e){if(t){if(typeof t=="string")return Bg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bg(t,e)}}function fre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hre(t){if(Array.isArray(t))return Bg(t)}function Bg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pre(t,e){if(t==null)return{};var n=mre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gre(t,e,n){return e=yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=vre(t,"string");return Ml(e)=="symbol"?e:e+""}function vre(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}var wre=function(e){var n=e.value,r=e.formatter,i=ye(e.children)?n:e.children;return pe(r)?r(i):i},bre=function(e,n){var r=Fn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},xre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,w=l.clockWise,v=(d+h)/2,b=bre(m,y),x=b>=0?1:-1,_,T;i==="insideStart"?(_=m+x*a,T=w):i==="insideEnd"?(_=y-x*a,T=!w):i==="end"&&(_=y+x*a,T=w),T=b<=0?T:!T;var S=Et(u,c,v,_),E=Et(u,c,v,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),C=ye(e.id)?au("recharts-radial-line-"):e.id;return M.createElement("text",$l({},r,{dominantBaseline:"central",className:he("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:C,d:A})),M.createElement("textPath",{xlinkHref:"#".concat(C)},n))},_re=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var m=Et(a,s,u+r,h),y=m.x,w=m.y;return{x:y,y:w,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=Et(a,s,v,h),x=b.x,_=b.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Sre=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,m=d>0?"end":"start",y=d>0?"start":"end",w=u>=0?1:-1,v=w*i,b=w>0?"end":"start",x=w>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return lt(lt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return lt(lt({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return lt(lt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var E={x:s+u+v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return lt(lt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?lt({x:s+v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideRight"?lt({x:s+u-v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideTop"?lt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},A):o==="insideBottom"?lt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},A):o==="insideTopLeft"?lt({x:s+v,y:l+h,textAnchor:x,verticalAnchor:y},A):o==="insideTopRight"?lt({x:s+u-v,y:l+h,textAnchor:b,verticalAnchor:y},A):o==="insideBottomLeft"?lt({x:s+v,y:l+c-h,textAnchor:x,verticalAnchor:m},A):o==="insideBottomRight"?lt({x:s+u-v,y:l+c-h,textAnchor:b,verticalAnchor:m},A):Ba(o)&&(Y(o.x)||Ri(o.x))&&(Y(o.y)||Ri(o.y))?lt({x:s+Ji(o.x,u),y:l+Ji(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):lt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Ere=function(e){return"cx"in e&&Y(e.cx)};function Nt(t){var e=t.offset,n=e===void 0?5:e,r=pre(t,lre),i=lt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||ye(s)&&ye(l)&&!O.isValidElement(u)&&!pe(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var m;if(pe(u)){if(m=O.createElement(u,i),O.isValidElement(m))return m}else m=wre(i);var y=Ere(o),w=ge(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return xre(i,m,w);var v=y?_re(i):Sre(i);return M.createElement(pd,$l({className:he("recharts-label",d)},w,v,{breakAll:h}),m)}Nt.displayName="Label";var uN=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,m=e.top,y=e.left,w=e.width,v=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(Y(w)&&Y(v)){if(Y(d)&&Y(h))return{x:d,y:h,width:w,height:v};if(Y(m)&&Y(y))return{x:m,y,width:w,height:v}}return Y(d)&&Y(h)?{x:d,y:h,width:0,height:0}:Y(n)&&Y(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Tre=function(e,n){return e?e===!0?M.createElement(Nt,{key:"label-implicit",viewBox:n}):ft(e)?M.createElement(Nt,{key:"label-implicit",viewBox:n,value:e}):O.isValidElement(e)?e.type===Nt?O.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Nt,{key:"label-implicit",content:e,viewBox:n}):pe(e)?M.createElement(Nt,{key:"label-implicit",content:e,viewBox:n}):Ba(e)?M.createElement(Nt,$l({viewBox:n},e,{key:"label-implicit"})):null:null},Are=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=uN(e),a=Hn(i,Nt).map(function(l,u){return O.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Tre(e.label,n||o);return[s].concat(ure(a))};Nt.parseViewBox=uN;Nt.renderCallByParent=Are;function Cre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kre=Cre;const Pre=je(kre);function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}var Ire=["valueAccessor"],Nre=["data","dataKey","clockWise","id","textBreakAll"];function Ore(t){return Dre(t)||$re(t)||Mre(t)||Rre()}function Rre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mre(t,e){if(t){if(typeof t=="string")return Gg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gg(t,e)}}function $re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dre(t){if(Array.isArray(t))return Gg(t)}function Gg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(r){Lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e,n){return e=jre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jre(t){var e=Ure(t,"string");return Dl(e)=="symbol"?e:e+""}function Ure(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j1(t,e){if(t==null)return{};var n=Fre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bre=function(e){return Array.isArray(e.value)?Pre(e.value):e.value};function oi(t){var e=t.valueAccessor,n=e===void 0?Bre:e,r=j1(t,Ire),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=j1(r,Nre);return!i||!i.length?null:M.createElement(Ke,{className:"recharts-label-list"},i.map(function(c,d){var h=ye(o)?n(c,d):sn(c&&c.payload,o),m=ye(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(Nt,Id({},ge(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Nt.parseViewBox(ye(a)?c:L1(L1({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}oi.displayName="LabelList";function Gre(t,e){return t?t===!0?M.createElement(oi,{key:"labelList-implicit",data:e}):M.isValidElement(t)||pe(t)?M.createElement(oi,{key:"labelList-implicit",data:e,content:t}):Ba(t)?M.createElement(oi,Id({data:e},t,{key:"labelList-implicit"})):null:null}function Vre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Hn(r,oi).map(function(a,s){return O.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Gre(t.label,e);return[o].concat(Ore(i))}oi.renderCallByParent=Vre;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function U1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(n),!0).forEach(function(r){zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zre(t,e,n){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=qre(t,"string");return Ll(e)=="symbol"?e:e+""}function qre(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wre=function(e,n){var r=Fn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Yu=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Pd,h=u?o:o+a*d,m=Et(n,r,c,h),y=Et(n,r,i,h),w=u?o-a*d:o,v=Et(n,r,c*Math.cos(d*Pd),w);return{center:m,circleTangency:y,lineTangency:v,theta:d}},cN=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Wre(a,s),u=a+l,c=Et(n,r,o,a),d=Et(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Et(n,r,i,a),y=Et(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Kre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Fn(c-u),h=Yu({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,w=h.theta,v=Yu({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),b=v.circleTangency,x=v.lineTangency,_=v.theta,T=l?Math.abs(u-c):Math.abs(u-c)-w-_;if(T<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):cN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=Yu({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,C=E.lineTangency,k=E.theta,P=Yu({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=P.circleTangency,I=P.lineTangency,R=P.theta,D=l?Math.abs(u-c):Math.abs(u-c)-k-R;if(D<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Jre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dN=function(e){var n=F1(F1({},Jre),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var m=he("recharts-sector",h),y=a-o,w=Ji(s,y,0,!0),v;return w>0&&Math.abs(c-d)<360?v=Kre({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=cN({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),M.createElement("path",Vg({},ge(n,!0),{className:m,d:v,role:"img"}))};function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){Yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yre(t,e,n){return e=Xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xre(t){var e=Qre(t,"string");return jl(e)=="symbol"?e:e+""}function Qre(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V1={curveBasisClosed:KH,curveBasisOpen:JH,curveBasis:WH,curveBumpX:RH,curveBumpY:MH,curveLinearClosed:YH,curveLinear:qf,curveMonotoneX:XH,curveMonotoneY:QH,curveNatural:ZH,curveStep:eq,curveStepAfter:nq,curveStepBefore:tq},Xu=function(e){return e.x===+e.x&&e.y===+e.y},ys=function(e){return e.x},vs=function(e){return e.y},Zre=function(e,n){if(pe(e))return e;var r="curve".concat(zf(e));return(r==="curveMonotone"||r==="curveBump")&&n?V1["".concat(r).concat(n==="vertical"?"Y":"X")]:V1[r]||qf},eie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Zre(r,s),d=u?o.filter(function(w){return Xu(w)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(w){return Xu(w)}):a,y=d.map(function(w,v){return G1(G1({},w),{},{base:m[v]})});return s==="vertical"?h=Bu().y(vs).x1(ys).x0(function(w){return w.base.x}):h=Bu().x(ys).y1(vs).y0(function(w){return w.base.y}),h.defined(Xu).curve(c),h(y)}return s==="vertical"&&Y(a)?h=Bu().y(vs).x1(ys).x0(a):Y(a)?h=Bu().x(ys).y1(vs).y0(a):h=hP().x(ys).y(vs),h.defined(Xu).curve(c),h(d)},Vs=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?eie(e):i;return O.createElement("path",zg({},ge(e,!1),Zc(e),{className:he("recharts-curve",n),d:a,ref:o}))},fN={exports:{}},tie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nie=tie,rie=nie;function hN(){}function pN(){}pN.resetWarningCache=hN;var iie=function(){function t(r,i,o,a,s,l){if(l!==rie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:pN,resetWarningCache:hN};return n.PropTypes=n,n};fN.exports=iie();var oie=fN.exports;const Ae=je(oie),{getOwnPropertyNames:aie,getOwnPropertySymbols:sie}=Object,{hasOwnProperty:lie}=Object.prototype;function _p(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Qu(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function uie(t){return t!=null?t[Symbol.toStringTag]:void 0}function z1(t){return aie(t).concat(sie(t))}const cie=Object.hasOwn||((t,e)=>lie.call(t,e));function oo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const die="__v",fie="__o",hie="_owner",{getOwnPropertyDescriptor:H1,keys:q1}=Object;function pie(t,e){return t.byteLength===e.byteLength&&Nd(new Uint8Array(t),new Uint8Array(e))}function mie(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function gie(t,e){return t.byteLength===e.byteLength&&Nd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function yie(t,e){return oo(t.getTime(),e.getTime())}function vie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function wie(t,e){return t===e}function W1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,d=0;for(;(s=u.next())&&!s.done;){if(i[d]){d++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,d,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const bie=oo;function xie(t,e,n){const r=q1(t);let i=r.length;if(q1(e).length!==i)return!1;for(;i-- >0;)if(!mN(t,e,n,r[i]))return!1;return!0}function ws(t,e,n){const r=z1(t);let i=r.length;if(z1(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!mN(t,e,n,o)||(a=H1(t,o),s=H1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function _ie(t,e){return oo(t.valueOf(),e.valueOf())}function Sie(t,e){return t.source===e.source&&t.flags===e.flags}function K1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Nd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Eie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function mN(t,e,n,r){return(r===hie||r===fie||r===die)&&(t.$$typeof||e.$$typeof)?!0:cie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Tie="[object ArrayBuffer]",Aie="[object Arguments]",Cie="[object Boolean]",kie="[object DataView]",Pie="[object Date]",Iie="[object Error]",Nie="[object Map]",Oie="[object Number]",Rie="[object Object]",Mie="[object RegExp]",$ie="[object Set]",Die="[object String]",Lie={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},jie="[object URL]",Uie=Object.prototype.toString;function Fie({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:y}){return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;const _=typeof v;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?s(v,b,x):_==="function"?o(v,b,x):!1;const T=v.constructor;if(T!==b.constructor)return!1;if(T===Object)return l(v,b,x);if(Array.isArray(v))return e(v,b,x);if(T===Date)return r(v,b,x);if(T===RegExp)return c(v,b,x);if(T===Map)return a(v,b,x);if(T===Set)return d(v,b,x);const S=Uie.call(v);if(S===Pie)return r(v,b,x);if(S===Mie)return c(v,b,x);if(S===Nie)return a(v,b,x);if(S===$ie)return d(v,b,x);if(S===Rie)return typeof v.then!="function"&&typeof b.then!="function"&&l(v,b,x);if(S===jie)return m(v,b,x);if(S===Iie)return i(v,b,x);if(S===Aie)return l(v,b,x);if(Lie[S])return h(v,b,x);if(S===Tie)return t(v,b,x);if(S===kie)return n(v,b,x);if(S===Cie||S===Oie||S===Die)return u(v,b,x);if(y){let E=y[S];if(!E){const A=uie(v);A&&(E=y[A])}if(E)return E(v,b,x)}return!1}}function Bie({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:pie,areArraysEqual:n?ws:mie,areDataViewsEqual:gie,areDatesEqual:yie,areErrorsEqual:vie,areFunctionsEqual:wie,areMapsEqual:n?_p(W1,ws):W1,areNumbersEqual:bie,areObjectsEqual:n?ws:xie,arePrimitiveWrappersEqual:_ie,areRegExpsEqual:Sie,areSetsEqual:n?_p(K1,ws):K1,areTypedArraysEqual:n?_p(Nd,ws):Nd,areUrlsEqual:Eie,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Qu(r.areArraysEqual),o=Qu(r.areMapsEqual),a=Qu(r.areObjectsEqual),s=Qu(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Gie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Vie({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const zie=mi();mi({strict:!0});mi({circular:!0});mi({circular:!0,strict:!0});mi({createInternalComparator:()=>oo});mi({strict:!0,createInternalComparator:()=>oo});mi({circular:!0,createInternalComparator:()=>oo});mi({circular:!0,createInternalComparator:()=>oo,strict:!0});function mi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Bie(t),a=Fie(o),s=n?n(a):Gie(a);return Vie({circular:e,comparator:a,createState:r,equals:s,strict:i})}function Hie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function J1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Hie(i)};requestAnimationFrame(r)}function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function qie(t){return Yie(t)||Jie(t)||Kie(t)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kie(t,e){if(t){if(typeof t=="string")return Y1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y1(t,e)}}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yie(t){if(Array.isArray(t))return t}function Xie(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=qie(a),l=s[0],u=s.slice(1);if(typeof l=="number"){J1(i.bind(null,u),l);return}i(l),J1(i.bind(null,u));return}Hg(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){gN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gN(t,e,n){return e=Qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Zie(t,"string");return Ul(e)==="symbol"?e:String(e)}function Zie(t,e){if(Ul(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eoe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},toe=function(e){return e},noe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},zs=function(e,n){return Object.keys(n).reduce(function(r,i){return Q1(Q1({},r),{},gN({},i,e(i,n[i])))},{})},Z1=function(e,n,r){return e.map(function(i){return"".concat(noe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function roe(t,e){return aoe(t)||ooe(t,e)||yN(t,e)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function aoe(t){if(Array.isArray(t))return t}function soe(t){return coe(t)||uoe(t)||yN(t)||loe()}function loe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yN(t,e){if(t){if(typeof t=="string")return qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qg(t,e)}}function uoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function coe(t){if(Array.isArray(t))return qg(t)}function qg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Od=1e-4,vN=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},wN=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},eE=function(e,n){return function(r){var i=vN(e,n);return wN(i,r)}},doe=function(e,n){return function(r){var i=vN(e,n),o=[].concat(soe(i.map(function(a,s){return a*s}).slice(1)),[0]);return wN(o,r)}},tE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=roe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=eE(i,a),h=eE(o,s),m=doe(i,a),y=function(b){return b>1?1:b<0?0:b},w=function(b){for(var x=b>1?1:b,_=x,T=0;T<8;++T){var S=d(_)-x,E=m(_);if(Math.abs(S-x)<Od||E<Od)return h(_);_=y(_-S/E)}return h(_)};return w.isStepper=!1,w},foe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,d,h){var m=-(c-d)*r,y=h*o,w=h+(m-y)*s/1e3,v=h*s/1e3+c;return Math.abs(v-d)<Od&&Math.abs(w)<Od?[d,0]:[v,w]};return l.isStepper=!0,l.dt=s,l},hoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tE(i);case"spring":return foe();default:if(i.split("(")[0]==="cubic-bezier")return tE(i)}return typeof i=="function"?i:null};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function nE(t){return goe(t)||moe(t)||bN(t)||poe()}function poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function moe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function goe(t){if(Array.isArray(t))return Kg(t)}function rE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(r){Wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wg(t,e,n){return e=yoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yoe(t){var e=voe(t,"string");return Fl(e)==="symbol"?e:String(e)}function voe(t,e){if(Fl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function woe(t,e){return _oe(t)||xoe(t,e)||bN(t,e)||boe()}function boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bN(t,e){if(t){if(typeof t=="string")return Kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kg(t,e)}}function Kg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _oe(t){if(Array.isArray(t))return t}var Rd=function(e,n,r){return e+(n-e)*r},Jg=function(e){var n=e.from,r=e.to;return n!==r},Soe=function t(e,n,r){var i=zs(function(o,a){if(Jg(a)){var s=e(a.from,a.to,a.velocity),l=woe(s,2),u=l[0],c=l[1];return _t(_t({},a),{},{from:u,velocity:c})}return a},n);return r<1?zs(function(o,a){return Jg(a)?_t(_t({},a),{},{velocity:Rd(a.velocity,i[o].velocity,r),from:Rd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Eoe=function(t,e,n,r,i){var o=eoe(t,e),a=o.reduce(function(v,b){return _t(_t({},v),{},Wg({},b,[t[b],e[b]]))},{}),s=o.reduce(function(v,b){return _t(_t({},v),{},Wg({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return zs(function(b,x){return x.from},s)},m=function(){return!Object.values(s).filter(Jg).length},y=function(b){u||(u=b);var x=b-u,_=x/n.dt;s=Soe(n,s,_),i(_t(_t(_t({},t),e),h())),u=b,m()||(l=requestAnimationFrame(d))},w=function(b){c||(c=b);var x=(b-c)/r,_=zs(function(S,E){return Rd.apply(void 0,nE(E).concat([n(x)]))},a);if(i(_t(_t(_t({},t),e),_)),x<1)l=requestAnimationFrame(d);else{var T=zs(function(S,E){return Rd.apply(void 0,nE(E).concat([n(1)]))},a);i(_t(_t(_t({},t),e),T))}};return d=n.isStepper?y:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}var Toe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Aoe(t,e){if(t==null)return{};var n=Coe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Coe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Sp(t){return Noe(t)||Ioe(t)||Poe(t)||koe()}function koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(t,e){if(t){if(typeof t=="string")return Yg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yg(t,e)}}function Ioe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Noe(t){if(Array.isArray(t))return Yg(t)}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(r){Cs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cs(t,e,n){return e=xN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ooe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Roe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xN(r.key),r)}}function Moe(t,e,n){return e&&Roe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xN(t){var e=$oe(t,"string");return xa(e)==="symbol"?e:String(e)}function $oe(t,e){if(xa(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Doe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xg(t,e)}function Xg(t,e){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xg(t,e)}function Loe(t){var e=joe();return function(){var r=Md(t),i;if(e){var o=Md(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Qg(this,i)}}function Qg(t,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zg(t)}function Zg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function joe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Md(t){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Md(t)}var Cr=function(t){Doe(n,t);var e=Loe(n);function n(r,i){var o;Ooe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Zg(o)),o.changeStyle=o.changeStyle.bind(Zg(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Qg(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Qg(o);o.state={style:l?Cs({},l,u):u}}else o.state={style:{}};return o}return Moe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var m={style:l?Cs({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(zie(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=y||u?d:i.to;if(this.state&&h){var v={style:l?Cs({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(v)}this.runAnimation(Nn(Nn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,m=Eoe(a,s,hoe(u),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,c,y,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,m=function(w,v,b){if(b===0)return w;var x=v.duration,_=v.easing,T=_===void 0?"ease":_,S=v.style,E=v.properties,A=v.onAnimationEnd,C=b>0?a[b-1]:v,k=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(Sp(w),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:x,easing:T}),x]);var P=Z1(k,x,T),N=Nn(Nn(Nn({},C.style),S),{},{transition:P});return[].concat(Sp(w),[N,x,A]).filter(toe)};return this.manager.start([l].concat(Sp(a.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Xie());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=s?Cs({},s,l):l,v=Z1(Object.keys(w),a,u);y.start([c,o,Nn(Nn({},w),{},{transition:v}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Aoe(i,Toe),u=O.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(m){var y=m.props,w=y.style,v=w===void 0?{}:w,b=y.className,x=O.cloneElement(m,Nn(Nn({},l),{},{style:Nn(Nn({},v),c),className:b}));return x};return u===1?d(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),n}(O.PureComponent);Cr.displayName="Animate";Cr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cr.propTypes={from:Ae.oneOfType([Ae.object,Ae.string]),to:Ae.oneOfType([Ae.object,Ae.string]),attributeName:Ae.string,duration:Ae.number,begin:Ae.number,easing:Ae.oneOfType([Ae.string,Ae.func]),steps:Ae.arrayOf(Ae.shape({duration:Ae.number.isRequired,style:Ae.object.isRequired,easing:Ae.oneOfType([Ae.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ae.func]),properties:Ae.arrayOf("string"),onAnimationEnd:Ae.func})),children:Ae.oneOfType([Ae.node,Ae.func]),isActive:Ae.bool,canBegin:Ae.bool,onAnimationEnd:Ae.func,shouldReAnimate:Ae.bool,onAnimationStart:Ae.func,onAnimationReStart:Ae.func};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function Uoe(t,e){return Voe(t)||Goe(t,e)||Boe(t,e)||Foe()}function Foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Boe(t,e){if(t){if(typeof t=="string")return oE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(t,e)}}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Goe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Voe(t){if(Array.isArray(t))return t}function aE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(n),!0).forEach(function(r){zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zoe(t,e,n){return e=Hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hoe(t){var e=qoe(t,"string");return Bl(e)=="symbol"?e:e+""}function qoe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lE=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Woe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},Koe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U0=function(e){var n=sE(sE({},Koe),e),r=O.useRef(),i=O.useState(-1),o=Uoe(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,m=n.className,y=n.animationEasing,w=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=he("recharts-rectangle",m);return x?M.createElement(Cr,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:y,isActive:x},function(T){var S=T.width,E=T.height,A=T.x,C=T.y;return M.createElement(Cr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:b,easing:y},M.createElement("path",$d({},ge(n,!0),{className:_,d:lE(A,C,S,E,h),ref:r})))}):M.createElement("path",$d({},ge(n,!0),{className:_,d:lE(l,u,c,d,h)}))};function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}var F0=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=he("recharts-dot",o);return n===+n&&r===+r&&i===+i?O.createElement("circle",ey({},ge(e,!1),Zc(e),{className:a,cx:n,cy:r,r:i})):null};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}var Joe=["x","y","top","left","width","height","className"];function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function uE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(n),!0).forEach(function(r){Xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e,n){return e=Qoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qoe(t){var e=Zoe(t,"string");return Gl(e)=="symbol"?e:e+""}function Zoe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eae(t,e){if(t==null)return{};var n=tae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},rae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,m=h===void 0?0:h,y=e.className,w=eae(e,Joe),v=Yoe({x:r,y:o,top:s,left:u,width:d,height:m},w);return!Y(r)||!Y(o)||!Y(d)||!Y(m)||!Y(s)||!Y(u)?null:M.createElement("path",ty({},ge(v,!0),{className:he("recharts-cross",y),d:nae(r,o,d,m,s,u)}))},iae=LP,oae=iae(Object.getPrototypeOf,Object),aae=oae,sae=Or,lae=aae,uae=Rr,cae="[object Object]",dae=Function.prototype,fae=Object.prototype,_N=dae.toString,hae=fae.hasOwnProperty,pae=_N.call(Object);function mae(t){if(!uae(t)||sae(t)!=cae)return!1;var e=lae(t);if(e===null)return!0;var n=hae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_N.call(n)==pae}var gae=mae;const yae=je(gae);var vae=Or,wae=Rr,bae="[object Boolean]";function xae(t){return t===!0||t===!1||wae(t)&&vae(t)==bae}var _ae=xae;const Sae=je(_ae);function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}function Eae(t,e){return kae(t)||Cae(t,e)||Aae(t,e)||Tae()}function Tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(t,e){if(t){if(typeof t=="string")return cE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(t,e)}}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kae(t){if(Array.isArray(t))return t}function dE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return e=Iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Nae(t,"string");return Vl(e)=="symbol"?e:e+""}function Nae(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hE=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Oae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rae=function(e){var n=fE(fE({},Oae),e),r=O.useRef(),i=O.useState(-1),o=Eae(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,w=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=he("recharts-trapezoid",m);return b?M.createElement(Cr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:w,animationEasing:y,isActive:b},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,C=_.y;return M.createElement(Cr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:y},M.createElement("path",Dd({},ge(n,!0),{className:x,d:hE(A,C,T,S,E),ref:r})))}):M.createElement("g",null,M.createElement("path",Dd({},ge(n,!0),{className:x,d:hE(l,u,c,d,h)})))},Mae=["option","shapeType","propTransformer","activeClassName","isActive"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function $ae(t,e){if(t==null)return{};var n=Dae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(r){Lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lae(t,e,n){return e=jae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jae(t){var e=Uae(t,"string");return zl(e)=="symbol"?e:e+""}function Uae(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fae(t,e){return Ld(Ld({},e),t)}function Bae(t,e){return t==="symbols"}function mE(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(U0,n);case"trapezoid":return M.createElement(Rae,n);case"sector":return M.createElement(dN,n);case"symbols":if(Bae(e))return M.createElement(r0,n);break;default:return null}}function Gae(t){return O.isValidElement(t)?t.props:t}function Vae(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Fae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=$ae(t,Mae),u;if(O.isValidElement(e))u=O.cloneElement(e,Ld(Ld({},l),Gae(e)));else if(pe(e))u=e(l);else if(yae(e)&&!Sae(e)){var c=i(e,l);u=M.createElement(mE,{shapeType:n,elementProps:c})}else{var d=l;u=M.createElement(mE,{shapeType:n,elementProps:d})}return s?M.createElement(Ke,{className:a},u):u}function sh(t,e){return e!=null&&"trapezoids"in t.props}function lh(t,e){return e!=null&&"sectors"in t.props}function Hl(t,e){return e!=null&&"points"in t.props}function zae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Hae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function qae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Wae(t,e){var n;return sh(t,e)?n=zae:lh(t,e)?n=Hae:Hl(t,e)&&(n=qae),n}function Kae(t,e){var n;return sh(t,e)?n="trapezoids":lh(t,e)?n="sectors":Hl(t,e)&&(n="points"),n}function Jae(t,e){if(sh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(lh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Hl(t,e)?e.payload:{}}function Yae(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Kae(n,e),o=Jae(n,e),a=r.filter(function(l,u){var c=kl(o,l),d=n.props[i].filter(function(y){var w=Wae(n,e);return w(y,e)}),h=n.props[i].indexOf(d[d.length-1]),m=u===h;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var Xae=Math.ceil,Qae=Math.max;function Zae(t,e,n,r){for(var i=-1,o=Qae(Xae((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ese=Zae,tse=tI,gE=1/0,nse=17976931348623157e292;function rse(t){if(!t)return t===0?t:0;if(t=tse(t),t===gE||t===-gE){var e=t<0?-1:1;return e*nse}return t===t?t:0}var ise=rse,ose=ese,ase=Yf,Ep=ise;function sse(t){return function(e,n,r){return r&&typeof r!="number"&&ase(e,n,r)&&(n=r=void 0),e=Ep(e),n===void 0?(n=e,e=0):n=Ep(n),r=r===void 0?e<n?1:-1:Ep(r),ose(e,n,r,t)}}var lse=sse,use=lse,cse=use(),dse=cse;const jd=je(dse);function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function yE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(n),!0).forEach(function(r){SN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SN(t,e,n){return e=fse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=hse(t,"string");return ql(e)=="symbol"?e:e+""}function hse(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pse=["Webkit","Moz","O","ms"],mse=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=pse.reduce(function(o,a){return vE(vE({},o),{},SN({},a+r,n))},{});return i[e]=n,i};function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function wE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(n),!0).forEach(function(r){Xt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TN(r.key),r)}}function yse(t,e,n){return e&&bE(t.prototype,e),n&&bE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vse(t,e,n){return e=Fd(e),wse(t,EN()?Reflect.construct(e,n||[],Fd(t).constructor):e.apply(t,n))}function wse(t,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bse(t)}function bse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EN=function(){return!!t})()}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fd(t)}function xse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ny(t,e)}function ny(t,e){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ny(t,e)}function Xt(t,e,n){return e=TN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TN(t){var e=_se(t,"string");return _a(e)=="symbol"?e:e+""}function _se(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Bs().domain(jd(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},xE=function(e){return e.changedTouches&&!!e.changedTouches.length},Sa=function(t){function e(n){var r;return gse(this,e),r=vse(this,e,[n]),Xt(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Xt(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Xt(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Xt(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Xt(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Xt(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Xt(r,"handleSlideDragStart",function(i){var o=xE(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return xse(e,t),yse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,d),y=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=sn(o[r],s,r);return pe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-d-s,u+c-d-a):w<0&&(w=Math.max(w,u-a,u-s));var v=this.getIndex({startX:a+w,endX:s+w});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:a+w,endX:s+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=xE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,m=c.travellerWidth,y=c.onChange,w=c.gap,v=c.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-m-u):x<0&&(x=Math.max(x,d-u)),b[a]=u+x;var _=this.getIndex(b),T=_.startIndex,S=_.endIndex,E=function(){var C=v.length-1;return a==="startX"&&(s>l?T%w===0:S%w===0)||s<l&&S===C||a==="endX"&&(s>l?S%w===0:T%w===0)||s>l&&S===C};this.setState(Xt(Xt({},a,u+x),"brushMoveStartX",r.pageX),function(){y&&E()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Xt({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=O.Children.only(u);return d?M.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,w=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),x=Tp(Tp({},ge(this.props,!1)),{},{x:b,y:u,width:c,height:d}),_=m||"Min value: ".concat((o=y[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[v])===null||a===void 0?void 0:a.name);return M.createElement(Ke,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,m=5,y={pointerEvents:"none",fill:u};return M.createElement(Ke,{className:"recharts-brush-texts"},M.createElement(pd,Ud({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:a+s/2},y),this.getTextOfTick(i)),M.createElement(pd,Ud({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+m,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,w=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!Y(s)||!Y(l)||!Y(u)||!Y(c)||u<=0||c<=0)return null;var _=he("recharts-brush",o),T=M.Children.count(a)===1,S=mse("userSelect","none");return M.createElement(Ke,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(w||v||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):pe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Tp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Sse({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(O.PureComponent);Xt(Sa,"displayName","Brush");Xt(Sa,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ese=d0;function Tse(t,e){var n;return Ese(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Ase=Tse,Cse=PP,kse=Ja,Pse=Ase,Ise=Jt,Nse=Yf;function Ose(t,e,n){var r=Ise(t)?Cse:Pse;return n&&Nse(t,e,n)&&(e=void 0),r(t,kse(e))}var Rse=Ose;const Mse=je(Rse);var ir=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},_E=YP;function $se(t,e,n){e=="__proto__"&&_E?_E(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Dse=$se,Lse=Dse,jse=KP,Use=Ja;function Fse(t,e){var n={};return e=Use(e),jse(t,function(r,i,o){Lse(n,i,e(r,i,o))}),n}var Bse=Fse;const Gse=je(Bse);function Vse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var zse=Vse,Hse=d0;function qse(t,e){var n=!0;return Hse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Wse=qse,Kse=zse,Jse=Wse,Yse=Ja,Xse=Jt,Qse=Yf;function Zse(t,e,n){var r=Xse(t)?Kse:Jse;return n&&Qse(t,e,n)&&(e=void 0),r(t,Yse(e))}var ele=Zse;const tle=je(ele);var nle=["x","y"];function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(this,arguments)}function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return e=ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ole(t,"string");return Wl(e)=="symbol"?e:e+""}function ole(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ale(t,e){if(t==null)return{};var n=sle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lle(t,e){var n=t.x,r=t.y,i=ale(t,nle),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return bs(bs(bs(bs(bs({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function EE(t){return M.createElement(Vae,ry({shapeType:"rectangle",propTransformer:lle,activeClassName:"recharts-active-bar"},t))}var ule=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Y(r)||vz(r);return o?e(r,i):(o||Xi(),n)}},cle=["value","background"],AN;function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}function dle(t,e){if(t==null)return{};var n=fle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(this,arguments)}function TE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(r){Wr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kN(r.key),r)}}function ple(t,e,n){return e&&AE(t.prototype,e),n&&AE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mle(t,e,n){return e=Gd(e),gle(t,CN()?Reflect.construct(e,n||[],Gd(t).constructor):e.apply(t,n))}function gle(t,e){if(e&&(Ea(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yle(t)}function yle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CN=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}function vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iy(t,e)}function iy(t,e){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iy(t,e)}function Wr(t,e,n){return e=kN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kN(t){var e=wle(t,"string");return Ea(e)=="symbol"?e:e+""}function wle(t,e){if(Ea(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ea(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var du=function(t){function e(){var n;hle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mle(this,e,[].concat(i)),Wr(n,"state",{isAnimationFinished:!1}),Wr(n,"id",au("recharts-bar-")),Wr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Wr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return vle(e,t),ple(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ge(this.props,!1);return r&&r.map(function(d,h){var m=h===l,y=m?u:a,w=tt(tt(tt({},c),d),{},{isActive:m,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Ke,Bd({className:"recharts-bar-rectangle"},ed(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(EE,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return M.createElement(Cr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,w=o.map(function(v,b){var x=h&&h[b];if(x){var _=gn(x.x,v.x),T=gn(x.y,v.y),S=gn(x.width,v.width),E=gn(x.height,v.height);return tt(tt({},v),{},{x:_(y),y:T(y),width:S(y),height:E(y)})}if(a==="horizontal"){var A=gn(0,v.height),C=A(y);return tt(tt({},v),{},{y:v.y+v.height-C,height:C})}var k=gn(0,v.width),P=k(y);return tt(tt({},v),{},{width:P})});return M.createElement(Ke,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!kl(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ge(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=dle(u,cle);if(!d)return null;var m=tt(tt(tt(tt(tt({},h),{},{fill:"#eee"},d),l),ed(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return M.createElement(EE,Bd({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Hn(c,ah);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:sn(v,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Ke,y,d.map(function(w){return M.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,m=r.isAnimationActive,y=r.background,w=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=he("recharts-bar",a),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=x||_,S=ye(w)?this.id:w;return M.createElement(Ke,{className:b},x||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:x?u:u-d/2,y:_?c:c-h/2,width:x?d:d*2,height:_?h:h*2}))):null,M.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!m||v)&&oi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(O.PureComponent);AN=du;Wr(du,"displayName","Bar");Wr(du,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wr(du,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=Vne(r,n);if(!m)return null;var y=e.layout,w=n.type.defaultProps,v=w!==void 0?tt(tt({},w),n.props):n.props,b=v.dataKey,x=v.children,_=v.minPointSize,T=y==="horizontal"?a:o,S=u?T.scale.domain():null,E=Xne({numericAxis:T}),A=Hn(x,rI),C=d.map(function(k,P){var N,I,R,D,j,L;u?N=zne(u[c+P],S):(N=sn(k,b),Array.isArray(N)||(N=[E,N]));var F=ule(_,AN.defaultProps.minPointSize)(N[1],P);if(y==="horizontal"){var $,U=[a.scale(N[0]),a.scale(N[1])],V=U[0],J=U[1];I=k1({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:k,index:P}),R=($=J??V)!==null&&$!==void 0?$:void 0,D=m.size;var H=V-J;if(j=Number.isNaN(H)?0:H,L={x:I,y:a.y,width:D,height:a.height},Math.abs(F)>0&&Math.abs(j)<Math.abs(F)){var re=Fn(j||F)*(Math.abs(F)-Math.abs(j));R-=re,j+=re}}else{var fe=[o.scale(N[0]),o.scale(N[1])],be=fe[0],Ie=fe[1];if(I=be,R=k1({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:k,index:P}),D=Ie-be,j=m.size,L={x:o.x,y:R,width:o.width,height:j},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var q=Fn(D||F)*(Math.abs(F)-Math.abs(D));D+=q}}return tt(tt(tt({},k),{},{x:I,y:R,width:D,height:j,value:u?N:N[1],payload:k,background:L},A&&A[P]&&A[P].props),{},{tooltipPayload:[lN(n,k)],tooltipPosition:{x:I+D/2,y:R+j/2}})});return tt({data:C,layout:y},h)});function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PN(r.key),r)}}function xle(t,e,n){return e&&CE(t.prototype,e),n&&CE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(n),!0).forEach(function(r){uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uh(t,e,n){return e=PN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PN(t){var e=_le(t,"string");return Kl(e)=="symbol"?e:e+""}function _le(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sle=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Zt(u,du);return c.reduce(function(m,y){var w=n[y],v=w.orientation,b=w.domain,x=w.padding,_=x===void 0?{}:x,T=w.mirror,S=w.reversed,E="".concat(v).concat(T?"Mirror":""),A,C,k,P,N;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var I=b[1]-b[0],R=1/0,D=w.categoricalDomain.sort(xz);if(D.forEach(function(fe,be){be>0&&(R=Math.min((fe||0)-(D[be-1]||0),R))}),Number.isFinite(R)){var j=R/I,L=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(A=j*L/2),w.padding==="no-gap"){var F=Ji(e.barCategoryGap,j*L),$=j*L/2;A=$-F-($-F)/L*F}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=w.range,S&&(C=[C[1],C[0]]);var U=Bne(w,o,h),V=U.scale,J=U.realScaleType;V.domain(b).range(C),Gne(V);var H=Yne(V,Ln(Ln({},w),{},{realScaleType:J}));i==="xAxis"?(N=v==="top"&&!T||v==="bottom"&&T,k=r.left,P=d[E]-N*w.height):i==="yAxis"&&(N=v==="left"&&!T||v==="right"&&T,k=d[E]-N*w.width,P=r.top);var re=Ln(Ln(Ln({},w),H),{},{realScaleType:J,x:k,y:P,scale:V,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return re.bandSize=kd(re,H),!w.hide&&i==="xAxis"?d[E]+=(N?-1:1)*re.height:w.hide||(d[E]+=(N?-1:1)*re.width),Ln(Ln({},m),{},uh({},y,re))},{})},IN=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Ele=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return IN({x:n,y:r},{x:i,y:o})},NN=function(){function t(e){ble(this,t),this.scale=e}return xle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();uh(NN,"EPS",1e-4);var B0=function(e){var n=Object.keys(e).reduce(function(r,i){return Ln(Ln({},r),{},uh({},i,NN.create(e[i])))},{});return Ln(Ln({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Gse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return tle(i,function(o,a){return n[a].isInRange(o)})}})};function Tle(t){return(t%180+180)%180}var Ale=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Tle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Cle=EV(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ON=O.createContext(void 0),RN=O.createContext(void 0),MN=O.createContext(void 0),kle=O.createContext({}),$N=O.createContext(void 0),DN=O.createContext(0),LN=O.createContext(0),PE=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Cle(o);return M.createElement(ON.Provider,{value:r},M.createElement(RN.Provider,{value:i},M.createElement(kle.Provider,{value:o},M.createElement(MN.Provider,{value:c},M.createElement($N.Provider,{value:a},M.createElement(DN.Provider,{value:u},M.createElement(LN.Provider,{value:l},s)))))))},Ple=function(){return O.useContext($N)},jN=function(e){var n=O.useContext(ON);n==null&&Xi();var r=n[e];return r==null&&Xi(),r},UN=function(e){var n=O.useContext(RN);n==null&&Xi();var r=n[e];return r==null&&Xi(),r},Ile=function(){var e=O.useContext(MN);return e},FN=function(){return O.useContext(LN)},BN=function(){return O.useContext(DN)};function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}function Nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ole(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VN(r.key),r)}}function Rle(t,e,n){return e&&Ole(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mle(t,e,n){return e=Vd(e),$le(t,GN()?Reflect.construct(e,n||[],Vd(t).constructor):e.apply(t,n))}function $le(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dle(t)}function Dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GN=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}function Lle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oy(t,e)}function oy(t,e){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oy(t,e)}function IE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(n),!0).forEach(function(r){G0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0(t,e,n){return e=VN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VN(t){var e=jle(t,"string");return Ta(e)=="symbol"?e:e+""}function jle(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ule(t,e){return Vle(t)||Gle(t,e)||Ble(t,e)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ble(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Vle(t){if(Array.isArray(t))return t}function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}var zle=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):pe(e)?r=e(n):r=M.createElement("line",ay({},n,{className:"recharts-reference-line-line"})),r},Hle=function(e,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,m=o.height;if(r){var y=u.y,w=e.y.apply(y,{position:a});if(ir(u,"discard")&&!e.y.isInRange(w))return null;var v=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?v.reverse():v}if(n){var b=u.x,x=e.x.apply(b,{position:a});if(ir(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:d+m},{x,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return ir(u,"discard")&&Mse(S,function(E){return!e.isInRange(E)})?null:S}return null};function qle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Ple(),c=jN(i),d=UN(o),h=Ile();if(!u||!h)return null;Fi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=B0({x:c.scale,y:d.scale}),y=ft(e),w=ft(n),v=r&&r.length===2,b=Hle(m,y,w,v,h,t.position,c.orientation,d.orientation,t);if(!b)return null;var x=Ule(b,2),_=x[0],T=_.x,S=_.y,E=x[1],A=E.x,C=E.y,k=ir(t,"hidden")?"url(#".concat(u,")"):void 0,P=NE(NE({clipPath:k},ge(t,!0)),{},{x1:T,y1:S,x2:A,y2:C});return M.createElement(Ke,{className:he("recharts-reference-line",s)},zle(a,P),Nt.renderCallByParent(t,Ele({x1:T,y1:S,x2:A,y2:C})))}var V0=function(t){function e(){return Nle(this,e),Mle(this,e,arguments)}return Lle(e,t),Rle(e,[{key:"render",value:function(){return M.createElement(qle,this.props)}}])}(M.Component);G0(V0,"displayName","ReferenceLine");G0(V0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function RE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ME(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(n),!0).forEach(function(r){ch(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HN(r.key),r)}}function Jle(t,e,n){return e&&Kle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yle(t,e,n){return e=zd(e),Xle(t,zN()?Reflect.construct(e,n||[],zd(t).constructor):e.apply(t,n))}function Xle(t,e){if(e&&(Aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qle(t)}function Qle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zN=function(){return!!t})()}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zd(t)}function Zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ly(t,e)}function ly(t,e){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ly(t,e)}function ch(t,e,n){return e=HN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HN(t){var e=eue(t,"string");return Aa(e)=="symbol"?e:e+""}function eue(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=B0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return ir(e,"discard")&&!a.isInRange(s)?null:s},dh=function(t){function e(){return Wle(this,e),Yle(this,e,arguments)}return Zle(e,t),Jle(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=ft(i),c=ft(o);if(Fi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=tue(this.props);if(!d)return null;var h=d.x,m=d.y,y=this.props,w=y.shape,v=y.className,b=ir(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=ME(ME({clipPath:b},ge(this.props,!0)),{},{cx:h,cy:m});return M.createElement(Ke,{className:he("recharts-reference-dot",v)},e.renderDot(w,x),Nt.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(M.Component);ch(dh,"displayName","ReferenceDot");ch(dh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ch(dh,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):pe(t)?n=t(e):n=M.createElement(F0,sy({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(r){fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WN(r.key),r)}}function iue(t,e,n){return e&&rue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oue(t,e,n){return e=Hd(e),aue(t,qN()?Reflect.construct(e,n||[],Hd(t).constructor):e.apply(t,n))}function aue(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sue(t)}function sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qN=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hd(t)}function lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cy(t,e)}function cy(t,e){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cy(t,e)}function fh(t,e,n){return e=WN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WN(t){var e=uue(t,"string");return Ca(e)=="symbol"?e:e+""}function uue(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=B0({x:c.scale,y:d.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ir(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:IN(m,y)},hh=function(t){function e(){return nue(this,e),oue(this,e,arguments)}return lue(e,t),iue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Fi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ft(i),h=ft(o),m=ft(a),y=ft(s),w=this.props.shape;if(!d&&!h&&!m&&!y&&!w)return null;var v=cue(d,h,m,y,this.props);if(!v&&!w)return null;var b=ir(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(Ke,{className:he("recharts-reference-area",l)},e.renderRect(w,DE(DE({clipPath:b},ge(this.props,!0)),v)),Nt.renderCallByParent(this.props,v))}}])}(M.Component);fh(hh,"displayName","ReferenceArea");fh(hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fh(hh,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):pe(t)?n=t(e):n=M.createElement(U0,uy({},e,{className:"recharts-reference-area-rect"})),n});function KN(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function due(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ale(r,n)}function fue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function qd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function hue(t,e){return KN(t,e+1)}function pue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,d=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:KN(r,u)};var w=l,v,b=function(){return v===void 0&&(v=n(y,w)),v},x=y.coordinate,_=l===0||qd(t,x,b,c,s);_||(l=0,c=a,u+=1),_&&(c=x+t*(b()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return e=gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=yue(t,"string");return Jl(e)=="symbol"?e:e+""}function yue(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var m=o[h],y,w=function(){return y===void 0&&(y=n(m,h)),y};if(h===a-1){var v=t*(m.coordinate+t*w()/2-l);o[h]=m=Pt(Pt({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[h]=m=Pt(Pt({},m),{},{tickCoord:m.coordinate});var b=qd(t,m.tickCoord,w,s,l);b&&(l=m.tickCoord-t*(w()/2+i),o[h]=Pt(Pt({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function wue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);a[s-1]=c=Pt(Pt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var m=qd(t,c.tickCoord,function(){return d},l,u);m&&(u=c.tickCoord-t*(d/2+i),a[s-1]=Pt(Pt({},c),{},{isShow:!0}))}for(var y=o?s-1:s,w=function(x){var _=a[x],T,S=function(){return T===void 0&&(T=n(_,x)),T};if(x===0){var E=t*(_.coordinate-t*S()/2-l);a[x]=_=Pt(Pt({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[x]=_=Pt(Pt({},_),{},{tickCoord:_.coordinate});var A=qd(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[x]=Pt(Pt({},_),{},{isShow:!0}))},v=0;v<y;v++)w(v);return a}function bue(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Y(l)||Ya.isSsr)return hue(i,typeof l=="number"&&Y(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",y=c&&m==="width"?Fs(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(_,T){var S=pe(u)?u(_.value,T):_.value;return m==="width"?due(Fs(S,{fontSize:e,letterSpacing:n}),y,d):Fs(S,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?Fn(i[1].coordinate-i[0].coordinate):1,b=fue(o,v,m);return l==="equidistantPreserveStart"?pue(v,b,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=wue(v,b,w,i,a,l==="preserveStartEnd"):h=vue(v,b,w,i,a),h.filter(function(x){return x.isShow}))}var xue=["viewBox"],_ue=["viewBox"],Sue=["ticks"];function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(this,arguments)}function jE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ap(t,e){if(t==null)return{};var n=Eue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YN(r.key),r)}}function Aue(t,e,n){return e&&UE(t.prototype,e),n&&UE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cue(t,e,n){return e=Wd(e),kue(t,JN()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function kue(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pue(t)}function Pue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JN=function(){return!!t})()}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}function Iue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dy(t,e)}function dy(t,e){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(t,e)}function z0(t,e,n){return e=YN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YN(t){var e=Nue(t,"string");return ka(e)=="symbol"?e:e+""}function Nue(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ph=function(t){function e(n){var r;return Tue(this,e),r=Cue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Iue(e,t),Aue(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Ap(r,xue),s=this.props,l=s.viewBox,u=Ap(s,_ue);return!Xo(o,l)||!Xo(a,u)||!Xo(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,m,y,w,v,b,x,_=d?-1:1,T=r.tickSize||c,S=Y(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,v=a+ +!d*l,w=v-_*T,x=w-_*h,b=S;break;case"left":w=v=r.coordinate,y=o+ +!d*s,m=y-_*T,b=m-_*h,x=S;break;case"right":w=v=r.coordinate,y=o+ +d*s,m=y+_*T,b=m+_*h,x=S;break;default:m=y=r.coordinate,v=a+ +d*l,w=v+_*T,x=w+_*h,b=S;break}return{line:{x1:m,y1:w,x2:y,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=st(st(st({},ge(this.props,!1)),ge(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=st(st({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=st(st({},d),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return M.createElement("line",jo({},d,{className:he("recharts-cartesian-axis-line",xn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,m=bue(st(st({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=ge(this.props,!1),b=ge(c,!1),x=st(st({},v),{},{fill:"none"},ge(l,!1)),_=m.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,C=E.tick,k=st(st(st(st({textAnchor:y,verticalAnchor:w},v),{},{stroke:"none",fill:u},b),C),{},{index:S,payload:T,visibleTicksCount:m.length,tickFormatter:d});return M.createElement(Ke,jo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},ed(a.props,T,S)),l&&M.createElement("line",jo({},x,A,{className:he("recharts-cartesian-axis-tick-line",xn(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(pe(d)?d(T.value,S):T.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,m=Ap(d,Sue),y=h;return pe(l)&&(y=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!y||!y.length?null:M.createElement(Ke,{className:he("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Nt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=he(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?a=M.cloneElement(r,st(st({},i),{},{className:s})):pe(r)?a=r(st(st({},i),{},{className:s})):a=M.createElement(pd,jo({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(O.Component);z0(ph,"displayName","CartesianAxis");z0(ph,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Oue=["layout","type","stroke","connectNulls","isRange","ref"],Rue=["key"],XN;function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function QN(t,e){if(t==null)return{};var n=Mue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Li(){return Li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eO(r.key),r)}}function Due(t,e,n){return e&&BE(t.prototype,e),n&&BE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lue(t,e,n){return e=Kd(e),jue(t,ZN()?Reflect.construct(e,n||[],Kd(t).constructor):e.apply(t,n))}function jue(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(t)}function Uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZN=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(t)}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fy(t,e)}function fy(t,e){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fy(t,e)}function er(t,e,n){return e=eO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eO(t){var e=Bue(t,"string");return Pa(e)=="symbol"?e:e+""}function Bue(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gi=function(t){function e(){var n;$ue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Lue(this,e,[].concat(i)),er(n,"state",{isAnimationFinished:!0}),er(n,"id",au("recharts-area-")),er(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),pe(a)&&a()}),er(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),pe(a)&&a()}),n}return Fue(e,t),Due(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=ge(this.props,!1),m=ge(u,!0),y=c.map(function(v,b){var x=Dr(Dr(Dr({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:c});return e.renderDotItem(u,x)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Ke,Li({className:"recharts-area-dots"},w),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),d=qr(a.map(function(h){return h.y||0}));return Y(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(qr(o.map(function(h){return h.y||0})),d)),Y(d)?M.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),d=qr(a.map(function(h){return h.x||0}));return Y(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(qr(o.map(function(h){return h.x||0})),d)),Y(d)?M.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var m=QN(s,Oue);return M.createElement(Ke,{clipPath:o?"url(#clipPath-".concat(a,")"):null},M.createElement(Vs,Li({},ge(m,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&M.createElement(Vs,Li({},ge(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&M.createElement(Vs,Li({},ge(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,y=this.state,w=y.prevPoints,v=y.prevBaseLine;return M.createElement(Cr,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(w){var _=w.length/s.length,T=s.map(function(C,k){var P=Math.floor(k*_);if(w[P]){var N=w[P],I=gn(N.x,C.x),R=gn(N.y,C.y);return Dr(Dr({},C),{},{x:I(x),y:R(x)})}return C}),S;if(Y(l)&&typeof l=="number"){var E=gn(v,l);S=E(x)}else if(ye(l)||Ha(l)){var A=gn(v,0);S=A(x)}else S=l.map(function(C,k){var P=Math.floor(k*_);if(v[P]){var N=v[P],I=gn(N.x,C.x),R=gn(N.y,C.y);return Dr(Dr({},C),{},{x:I(x),y:R(x)})}return C});return o.renderAreaStatically(T,S,r,i)}return M.createElement(Ke,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(x))),M.createElement(Ke,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!kl(c,a)||!kl(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,m=i.width,y=i.height,w=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,x=s.length===1,_=he("recharts-area",l),T=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,E=T||S,A=ye(v)?this.id:v,C=(r=ge(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,P=k===void 0?3:k,N=C.strokeWidth,I=N===void 0?2:N,R=Iz(a)?a:{},D=R.clipDot,j=D===void 0?!0:D,L=P*2+I;return M.createElement(Ke,{className:_},T||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:T?c:c-m/2,y:S?u:u-y/2,width:T?m:m*2,height:S?y:y*2})),!j&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:c-L/2,y:u-L/2,width:m+L,height:y+L}))):null,x?null:this.renderArea(E,A),(a||x)&&this.renderDots(E,j,A),(!w||b)&&oi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(O.PureComponent);XN=gi;er(gi,"displayName","Area");er(gi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});er(gi,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(Y(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});er(gi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,m=e.layout,y=u&&u.length,w=XN.getBaseValue(e,n,r,i),v=m==="horizontal",b=!1,x=d.map(function(T,S){var E;y?E=u[c+S]:(E=sn(T,l),Array.isArray(E)?b=!0:E=[w,E]);var A=E[1]==null||y&&sn(T,l)==null;return v?{x:C1({axis:r,ticks:o,bandSize:s,entry:T,index:S}),y:A?null:i.scale(E[1]),value:E,payload:T}:{x:A?null:r.scale(E[1]),y:C1({axis:i,ticks:a,bandSize:s,entry:T,index:S}),value:E,payload:T}}),_;return y||b?_=x.map(function(T){var S=Array.isArray(T.value)?T.value[0]:null;return v?{x:T.x,y:S!=null&&T.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:T.y}}):_=v?i.scale(w):r.scale(w),Dr({points:x,baseLine:_,layout:m,isRange:b},h)});er(gi,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(pe(t))n=t(e);else{var r=he("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=QN(e,Rue);n=M.createElement(F0,Li({},o,{key:i,className:r}))}return n});function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function Gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rO(r.key),r)}}function zue(t,e,n){return e&&Vue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hue(t,e,n){return e=Jd(e),que(t,tO()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function que(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wue(t)}function Wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function Kue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hy(t,e)}function hy(t,e){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hy(t,e)}function nO(t,e,n){return e=rO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rO(t){var e=Jue(t,"string");return Ia(e)=="symbol"?e:e+""}function Jue(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function Yue(t){var e=t.xAxisId,n=FN(),r=BN(),i=jN(e);return i==null?null:O.createElement(ph,py({},i,{className:he("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Di(a,!0)}}))}var H0=function(t){function e(){return Gue(this,e),Hue(this,e,arguments)}return Kue(e,t),zue(e,[{key:"render",value:function(){return O.createElement(Yue,this.props)}}])}(O.Component);nO(H0,"displayName","XAxis");nO(H0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function Xue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Que(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aO(r.key),r)}}function Zue(t,e,n){return e&&Que(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ece(t,e,n){return e=Yd(e),tce(t,iO()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function tce(t,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nce(t)}function nce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iO=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function rce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&my(t,e)}function my(t,e){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},my(t,e)}function oO(t,e,n){return e=aO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aO(t){var e=ice(t,"string");return Na(e)=="symbol"?e:e+""}function ice(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}var oce=function(e){var n=e.yAxisId,r=FN(),i=BN(),o=UN(n);return o==null?null:O.createElement(ph,gy({},o,{className:he("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Di(s,!0)}}))},q0=function(t){function e(){return Xue(this,e),ece(this,e,arguments)}return rce(e,t),Zue(e,[{key:"render",value:function(){return O.createElement(oce,this.props)}}])}(O.Component);oO(q0,"displayName","YAxis");oO(q0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GE(t){return uce(t)||lce(t)||sce(t)||ace()}function ace(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sce(t,e){if(t){if(typeof t=="string")return yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(t,e)}}function lce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uce(t){if(Array.isArray(t))return yy(t)}function yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vy=function(e,n,r,i,o){var a=Hn(e,V0),s=Hn(e,dh),l=[].concat(GE(a),GE(s)),u=Hn(e,hh),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(w,v){if(v.props[c]===r&&ir(v.props,"extendDomain")&&Y(v.props[d])){var b=v.props[d];return[Math.min(w[0],b),Math.max(w[1],b)]}return w},h)),u.length){var m="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(w,v){if(v.props[c]===r&&ir(v.props,"extendDomain")&&Y(v.props[m])&&Y(v.props[y])){var b=v.props[m],x=v.props[y];return[Math.min(w[0],b,x),Math.max(w[1],b,x)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,v){return Y(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},h)),h},sO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,y=new Array(m);h<m;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,m,y){var w=n?n+u:u;if(!this._events[w])return!1;var v=this._events[w],b=arguments.length,x,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,m),!0;case 6:return v.fn.call(v.context,c,d,h,m,y),!0}for(_=1,x=new Array(b-1);_<b;_++)x[_-1]=arguments[_];v.fn.apply(v.context,x)}else{var T=v.length,S;for(_=0;_<T;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,c);break;case 3:v[_].fn.call(v[_].context,c,d);break;case 4:v[_].fn.call(v[_].context,c,d,h);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];v[_].fn.apply(v[_].context,x)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!h||y.once)&&(!d||y.context===d)&&a(this,m);else{for(var w=0,v=[],b=y.length;w<b;w++)(y[w].fn!==c||h&&!y[w].once||d&&y[w].context!==d)&&v.push(y[w]);v.length?this._events[m]=v.length===1?v[0]:v:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(sO);var cce=sO.exports;const dce=je(cce);var Cp=new dce,kp="recharts.syncMouseEvents";function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lO(r.key),r)}}function pce(t,e,n){return e&&hce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pp(t,e,n){return e=lO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lO(t){var e=mce(t,"string");return Yl(e)=="symbol"?e:e+""}function mce(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gce=function(){function t(){fce(this,t),Pp(this,"activeIndex",0),Pp(this,"coordinateList",[]),Pp(this,"layout","horizontal")}return pce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function yce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Y(r)&&Y(i))return!0}return!1}function vce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function uO(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Et(e,n,r,i),s=Et(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function wce(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Et(s,l,u,d),m=Et(s,l,c,d);r=h.x,i=h.y,o=m.x,a=m.y}else return uO(e);return[{x:r,y:i},{x:o,y:a}]}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e,n){return e=xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=_ce(t,"string");return Xl(e)=="symbol"?e:e+""}function _ce(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sce(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,w=Vs;if(h==="ScatterChart")y=a,w=rae;else if(h==="BarChart")y=vce(d,a,l,c),w=U0;else if(d==="radial"){var v=uO(a),b=v.cx,x=v.cy,_=v.radius,T=v.startAngle,S=v.endAngle;y={cx:b,cy:x,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},w=dN}else y={points:wce(d,a,l)},w=Vs;var E=Zu(Zu(Zu(Zu({stroke:"#ccc",pointerEvents:"none"},l),y),ge(m,!1)),{},{payload:s,payloadIndex:u,className:he("recharts-tooltip-cursor",m.className)});return O.isValidElement(m)?O.cloneElement(m,E):O.createElement(w,E)}var Ece=["item"],Tce=["children","className","width","height","style","compact","title","desc"];function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uo.apply(this,arguments)}function zE(t,e){return kce(t)||Cce(t,e)||dO(t,e)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kce(t){if(Array.isArray(t))return t}function HE(t,e){if(t==null)return{};var n=Pce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fO(r.key),r)}}function Oce(t,e,n){return e&&Nce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rce(t,e,n){return e=Xd(e),Mce(t,cO()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function Mce(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ce(t)}function $ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function Dce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(t,e)}function Ra(t){return Uce(t)||jce(t)||dO(t)||Lce()}function Lce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dO(t,e){if(t){if(typeof t=="string")return by(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return by(t,e)}}function jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uce(t){if(Array.isArray(t))return by(t)}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(n),!0).forEach(function(r){se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function se(t,e,n){return e=fO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fO(t){var e=Fce(t,"string");return Oa(e)=="symbol"?e:e+""}function Fce(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bce={xAxis:["bottom","top"],yAxis:["left","right"]},Gce={width:"100%",height:"100%"},hO={x:0,y:0};function ec(t){return t}var Vce=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},zce=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return B(B(B({},i),Et(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return B(B(B({},i),Et(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return hO},mh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Ra(s),Ra(u)):s},[]);return a.length>0?a:e&&e.length&&Y(i)&&Y(o)?e.slice(i,o+1):[]};function pO(t){return t==="number"?[0,"auto"]:void 0}var xy=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=mh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=d===void 0?s:d;h=Qc(m,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Ra(l),[lN(u,h)]):l},[])},WE=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Vce(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=$ne(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=xy(e,n,c,d),m=zce(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},Hce=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,m=aN(c,o);return r.reduce(function(y,w){var v,b=w.type.defaultProps!==void 0?B(B({},w.type.defaultProps),w.props):w.props,x=b.type,_=b.dataKey,T=b.allowDataOverflow,S=b.allowDuplicatedCategory,E=b.scale,A=b.ticks,C=b.includeHidden,k=b[a];if(y[k])return y;var P=mh(e.data,{graphicalItems:i.filter(function(H){var re,fe=a in H.props?H.props[a]:(re=H.type.defaultProps)===null||re===void 0?void 0:re[a];return fe===k}),dataStartIndex:l,dataEndIndex:u}),N=P.length,I,R,D;yce(b.domain,T,x)&&(I=Fg(b.domain,null,T),m&&(x==="number"||E!=="auto")&&(D=Gs(P,_,"category")));var j=pO(x);if(!I||I.length===0){var L,F=(L=b.domain)!==null&&L!==void 0?L:j;if(_){if(I=Gs(P,_,x),x==="category"&&m){var $=bz(I);S&&$?(R=I,I=jd(0,N)):S||(I=N1(F,I,w).reduce(function(H,re){return H.indexOf(re)>=0?H:[].concat(Ra(H),[re])},[]))}else if(x==="category")S?I=I.filter(function(H){return H!==""&&!ye(H)}):I=N1(F,I,w).reduce(function(H,re){return H.indexOf(re)>=0||re===""||ye(re)?H:[].concat(Ra(H),[re])},[]);else if(x==="number"){var U=Fne(P,i.filter(function(H){var re,fe,be=a in H.props?H.props[a]:(re=H.type.defaultProps)===null||re===void 0?void 0:re[a],Ie="hide"in H.props?H.props.hide:(fe=H.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return be===k&&(C||!Ie)}),_,o,c);U&&(I=U)}m&&(x==="number"||E!=="auto")&&(D=Gs(P,_,"category"))}else m?I=jd(0,N):s&&s[k]&&s[k].hasStack&&x==="number"?I=h==="expand"?[0,1]:sN(s[k].stackGroups,l,u):I=oN(P,i.filter(function(H){var re=a in H.props?H.props[a]:H.type.defaultProps[a],fe="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return re===k&&(C||!fe)}),x,c,!0);if(x==="number")I=vy(d,I,k,o,A),F&&(I=Fg(F,I,T));else if(x==="category"&&F){var V=F,J=I.every(function(H){return V.indexOf(H)>=0});J&&(I=V)}}return B(B({},y),{},se({},k,B(B({},b),{},{axisType:o,domain:I,categoricalDomain:D,duplicateDomain:R,originalDomain:(v=b.domain)!==null&&v!==void 0?v:j,isCategorical:m,layout:c})))},{})},qce=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=mh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,y=aN(c,o),w=-1;return r.reduce(function(v,b){var x=b.type.defaultProps!==void 0?B(B({},b.type.defaultProps),b.props):b.props,_=x[a],T=pO("number");if(!v[_]){w++;var S;return y?S=jd(0,m):s&&s[_]&&s[_].hasStack?(S=sN(s[_].stackGroups,l,u),S=vy(d,S,_,o)):(S=Fg(T,oN(h,r.filter(function(E){var A,C,k=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],P="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===_&&!P}),"number",c),i.defaultProps.allowDataOverflow),S=vy(d,S,_,o)),B(B({},v),{},se({},_,B(B({axisType:o},i.defaultProps),{},{hide:!0,orientation:xn(Bce,"".concat(o,".").concat(w%2),null),domain:S,originalDomain:T,isCategorical:y,layout:c})))}return v},{})},Wce=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Hn(c,o),m={};return h&&h.length?m=Hce(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=qce(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Kce=function(e){var n=xo(e),r=Di(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:f0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kd(n,r)}},KE=function(e){var n=e.children,r=e.defaultShowTooltip,i=Zt(n,Sa),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Jce=function(e){return!e||!e.length?!1:e.some(function(n){var r=yr(n&&n.type);return r&&r.indexOf("Bar")>=0})},JE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Yce=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},m=Zt(d,Sa),y=Zt(d,Qo),w=Object.keys(l).reduce(function(S,E){var A=l[E],C=A.orientation;return!A.mirror&&!A.hide?B(B({},S),{},se({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(S,E){var A=a[E],C=A.orientation;return!A.mirror&&!A.hide?B(B({},S),{},se({},C,xn(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=B(B({},v),w),x=b.bottom;m&&(b.bottom+=m.props.height||Sa.defaultProps.height),y&&n&&(b=jne(b,i,r,n));var _=u-b.left-b.right,T=c-b.top-b.bottom;return B(B({brushBottom:x},b),{},{width:Math.max(_,0),height:Math.max(T,0)})},Xce=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Qce=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(b,x){var _=x.graphicalItems,T=x.stackGroups,S=x.offset,E=x.updateId,A=x.dataStartIndex,C=x.dataEndIndex,k=b.barSize,P=b.layout,N=b.barGap,I=b.barCategoryGap,R=b.maxBarSize,D=JE(P),j=D.numericAxisName,L=D.cateAxisName,F=Jce(_),$=[];return _.forEach(function(U,V){var J=mh(b.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:C}),H=U.type.defaultProps!==void 0?B(B({},U.type.defaultProps),U.props):U.props,re=H.dataKey,fe=H.maxBarSize,be=H["".concat(j,"Id")],Ie=H["".concat(L,"Id")],q={},X=l.reduce(function(Mt,cn){var ao=x["".concat(cn.axisType,"Map")],fu=H["".concat(cn.axisType,"Id")];ao&&ao[fu]||cn.axisType==="zAxis"||Xi();var es=ao[fu];return B(B({},Mt),{},se(se({},cn.axisType,es),"".concat(cn.axisType,"Ticks"),Di(es)))},q),z=X[L],Z=X["".concat(L,"Ticks")],ie=T&&T[be]&&T[be].hasStack&&Qne(U,T[be].stackGroups),G=yr(U.type).indexOf("Bar")>=0,Ee=kd(z,Z),de=[],Te=F&&Dne({barSize:k,stackGroups:T,totalSize:Xce(X,L)});if(G){var K,Re,ee=ye(fe)?R:fe,Ne=(K=(Re=kd(z,Z,!0))!==null&&Re!==void 0?Re:ee)!==null&&K!==void 0?K:0;de=Lne({barGap:N,barCategoryGap:I,bandSize:Ne!==Ee?Ne:Ee,sizeList:Te[Ie],maxBarSize:ee}),Ne!==Ee&&(de=de.map(function(Mt){return B(B({},Mt),{},{position:B(B({},Mt.position),{},{offset:Mt.position.offset-Ne/2})})}))}var at=U&&U.type&&U.type.getComposedData;at&&$.push({props:B(B({},at(B(B({},X),{},{displayedData:J,props:b,dataKey:re,item:U,bandSize:Ee,barPosition:de,offset:S,stackedData:ie,layout:P,dataStartIndex:A,dataEndIndex:C}))),{},se(se(se({key:U.key||"item-".concat(V)},j,X[j]),L,X[L]),"animationId",E)),childIndex:Rz(U,b.children),item:U})}),$},m=function(b,x){var _=b.props,T=b.dataStartIndex,S=b.dataEndIndex,E=b.updateId;if(!E_({props:_}))return null;var A=_.children,C=_.layout,k=_.stackOffset,P=_.data,N=_.reverseStackOrder,I=JE(C),R=I.numericAxisName,D=I.cateAxisName,j=Hn(A,r),L=Jne(P,j,"".concat(R,"Id"),"".concat(D,"Id"),k,N),F=l.reduce(function(H,re){var fe="".concat(re.axisType,"Map");return B(B({},H),{},se({},fe,Wce(_,B(B({},re),{},{graphicalItems:j,stackGroups:re.axisType===R&&L,dataStartIndex:T,dataEndIndex:S}))))},{}),$=Yce(B(B({},F),{},{props:_,graphicalItems:j}),x==null?void 0:x.legendBBox);Object.keys(F).forEach(function(H){F[H]=c(_,F[H],$,H.replace("Map",""),n)});var U=F["".concat(D,"Map")],V=Kce(U),J=h(_,B(B({},F),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:j,stackGroups:L,offset:$}));return B(B({formattedGraphicalItems:J,graphicalItems:j,offset:$,stackGroups:L},V),F)},y=function(v){function b(x){var _,T,S;return Ice(this,b),S=Rce(this,b,[x]),se(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),se(S,"accessibilityManager",new gce),se(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,C=A.dataStartIndex,k=A.dataEndIndex,P=A.updateId;S.setState(B({legendBBox:E},m({props:S.props,dataStartIndex:C,dataEndIndex:k,updateId:P},B(B({},S.state),{},{legendBBox:E}))))}}),se(S,"handleReceiveSyncEvent",function(E,A,C){if(S.props.syncId===E){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),se(S,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return B({dataStartIndex:A,dataEndIndex:C},m({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),se(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var C=B(B({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseEnter;pe(k)&&k(C,E)}}),se(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),C=A?B(B({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var k=S.props.onMouseMove;pe(k)&&k(C,E)}),se(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),se(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),se(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),se(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;pe(C)&&C(A,E)}),se(S,"handleOuterEvent",function(E){var A=Oz(E),C=xn(S.props,"".concat(A));if(A&&pe(C)){var k,P;/.*touch.*/i.test(A)?P=S.getMouseInfo(E.changedTouches[0]):P=S.getMouseInfo(E),C((k=P)!==null&&k!==void 0?k:{},E)}}),se(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var C=B(B({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var k=S.props.onClick;pe(k)&&k(C,E)}}),se(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(pe(A)){var C=S.getMouseInfo(E);A(C,E)}}),se(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(pe(A)){var C=S.getMouseInfo(E);A(C,E)}}),se(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),se(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),se(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),se(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(pe(A)){var C=S.getMouseInfo(E);A(C,E)}}),se(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(pe(A)){var C=S.getMouseInfo(E);A(C,E)}}),se(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&Cp.emit(kp,S.props.syncId,E,S.eventEmitterSymbol)}),se(S,"applySyncEvent",function(E){var A=S.props,C=A.layout,k=A.syncMethod,P=S.state.updateId,N=E.dataStartIndex,I=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(B({dataStartIndex:N,dataEndIndex:I},m({props:S.props,dataStartIndex:N,dataEndIndex:I,updateId:P},S.state)));else if(E.activeTooltipIndex!==void 0){var R=E.chartX,D=E.chartY,j=E.activeTooltipIndex,L=S.state,F=L.offset,$=L.tooltipTicks;if(!F)return;if(typeof k=="function")j=k($,E);else if(k==="value"){j=-1;for(var U=0;U<$.length;U++)if($[U].value===E.activeLabel){j=U;break}}var V=B(B({},F),{},{x:F.left,y:F.top}),J=Math.min(R,V.x+V.width),H=Math.min(D,V.y+V.height),re=$[j]&&$[j].value,fe=xy(S.state,S.props.data,j),be=$[j]?{x:C==="horizontal"?$[j].coordinate:J,y:C==="horizontal"?H:$[j].coordinate}:hO;S.setState(B(B({},E),{},{activeLabel:re,activeCoordinate:be,activePayload:fe,activeTooltipIndex:j}))}else S.setState(E)}),se(S,"renderCursor",function(E){var A,C=S.state,k=C.isTooltipActive,P=C.activeCoordinate,N=C.activePayload,I=C.offset,R=C.activeTooltipIndex,D=C.tooltipAxisBandSize,j=S.getTooltipEventType(),L=(A=E.props.active)!==null&&A!==void 0?A:k,F=S.props.layout,$=E.key||"_recharts-cursor";return M.createElement(Sce,{key:$,activeCoordinate:P,activePayload:N,activeTooltipIndex:R,chartName:n,element:E,isActive:L,layout:F,offset:I,tooltipAxisBandSize:D,tooltipEventType:j})}),se(S,"renderPolarAxis",function(E,A,C){var k=xn(E,"type.axisType"),P=xn(S.state,"".concat(k,"Map")),N=E.type.defaultProps,I=N!==void 0?B(B({},N),E.props):E.props,R=P&&P[I["".concat(k,"Id")]];return O.cloneElement(E,B(B({},R),{},{className:he(k,R.className),key:E.key||"".concat(A,"-").concat(C),ticks:Di(R,!0)}))}),se(S,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,k=A.polarAngles,P=A.polarRadius,N=S.state,I=N.radiusAxisMap,R=N.angleAxisMap,D=xo(I),j=xo(R),L=j.cx,F=j.cy,$=j.innerRadius,U=j.outerRadius;return O.cloneElement(E,{polarAngles:Array.isArray(k)?k:Di(j,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(P)?P:Di(D,!0).map(function(V){return V.coordinate}),cx:L,cy:F,innerRadius:$,outerRadius:U,key:E.key||"polar-grid",radialLines:C})}),se(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,C=A.children,k=A.width,P=A.height,N=S.props.margin||{},I=k-(N.left||0)-(N.right||0),R=rN({children:C,formattedGraphicalItems:E,legendWidth:I,legendContent:u});if(!R)return null;var D=R.item,j=HE(R,Ece);return O.cloneElement(D,B(B({},j),{},{chartWidth:k,chartHeight:P,margin:N,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),se(S,"renderTooltip",function(){var E,A=S.props,C=A.children,k=A.accessibilityLayer,P=Zt(C,cr);if(!P)return null;var N=S.state,I=N.isTooltipActive,R=N.activeCoordinate,D=N.activePayload,j=N.activeLabel,L=N.offset,F=(E=P.props.active)!==null&&E!==void 0?E:I;return O.cloneElement(P,{viewBox:B(B({},L),{},{x:L.left,y:L.top}),active:F,label:j,payload:F?D:[],coordinate:R,accessibilityLayer:k})}),se(S,"renderBrush",function(E){var A=S.props,C=A.margin,k=A.data,P=S.state,N=P.offset,I=P.dataStartIndex,R=P.dataEndIndex,D=P.updateId;return O.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Ju(S.handleBrushChange,E.props.onChange),data:k,x:Y(E.props.x)?E.props.x:N.left,y:Y(E.props.y)?E.props.y:N.top+N.height+N.brushBottom-(C.bottom||0),width:Y(E.props.width)?E.props.width:N.width,startIndex:I,endIndex:R,updateId:"brush-".concat(D)})}),se(S,"renderReferenceElement",function(E,A,C){if(!E)return null;var k=S,P=k.clipPathId,N=S.state,I=N.xAxisMap,R=N.yAxisMap,D=N.offset,j=E.type.defaultProps||{},L=E.props,F=L.xAxisId,$=F===void 0?j.xAxisId:F,U=L.yAxisId,V=U===void 0?j.yAxisId:U;return O.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:I[$],yAxis:R[V],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:P})}),se(S,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,k=E.basePoint,P=E.childIndex,N=E.isRange,I=[],R=A.props.key,D=A.item.type.defaultProps!==void 0?B(B({},A.item.type.defaultProps),A.item.props):A.item.props,j=D.activeDot,L=D.dataKey,F=B(B({index:P,dataKey:L,cx:C.x,cy:C.y,r:4,fill:j0(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ge(j,!1)),Zc(j));return I.push(b.renderActiveDot(j,F,"".concat(R,"-activePoint-").concat(P))),k?I.push(b.renderActiveDot(j,B(B({},F),{},{cx:k.x,cy:k.y}),"".concat(R,"-basePoint-").concat(P))):N&&I.push(null),I}),se(S,"renderGraphicChild",function(E,A,C){var k=S.filterFormatItem(E,A,C);if(!k)return null;var P=S.getTooltipEventType(),N=S.state,I=N.isTooltipActive,R=N.tooltipAxis,D=N.activeTooltipIndex,j=N.activeLabel,L=S.props.children,F=Zt(L,cr),$=k.props,U=$.points,V=$.isRange,J=$.baseLine,H=k.item.type.defaultProps!==void 0?B(B({},k.item.type.defaultProps),k.item.props):k.item.props,re=H.activeDot,fe=H.hide,be=H.activeBar,Ie=H.activeShape,q=!!(!fe&&I&&F&&(re||be||Ie)),X={};P!=="axis"&&F&&F.props.trigger==="click"?X={onClick:Ju(S.handleItemMouseEnter,E.props.onClick)}:P!=="axis"&&(X={onMouseLeave:Ju(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Ju(S.handleItemMouseEnter,E.props.onMouseEnter)});var z=O.cloneElement(E,B(B({},k.props),X));function Z(cn){return typeof R.dataKey=="function"?R.dataKey(cn.payload):null}if(q)if(D>=0){var ie,G;if(R.dataKey&&!R.allowDuplicatedCategory){var Ee=typeof R.dataKey=="function"?Z:"payload.".concat(R.dataKey.toString());ie=Qc(U,Ee,j),G=V&&J&&Qc(J,Ee,j)}else ie=U==null?void 0:U[D],G=V&&J&&J[D];if(Ie||be){var de=E.props.activeIndex!==void 0?E.props.activeIndex:D;return[O.cloneElement(E,B(B(B({},k.props),X),{},{activeIndex:de})),null,null]}if(!ye(ie))return[z].concat(Ra(S.renderActivePoints({item:k,activePoint:ie,basePoint:G,childIndex:D,isRange:V})))}else{var Te,K=(Te=S.getItemByXY(S.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:z},Re=K.graphicalItem,ee=Re.item,Ne=ee===void 0?E:ee,at=Re.childIndex,Mt=B(B(B({},k.props),X),{},{activeIndex:at});return[O.cloneElement(Ne,Mt),null,null]}return V?[z,null,null]:[z,null]}),se(S,"renderCustomized",function(E,A,C){return O.cloneElement(E,B(B({key:"recharts-customized-".concat(C)},S.props),S.state))}),se(S,"renderMap",{CartesianGrid:{handler:ec,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:ec},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:ec},YAxis:{handler:ec},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:au("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=nI(S.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return Dce(b,v),Oce(b,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,C=Zt(T,cr);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,N=xy(this.state,S,k,P),I=this.state.tooltipTicks[k].coordinate,R=(this.state.offset.top+E)/2,D=A==="horizontal",j=D?{x:I,y:R}:{y:I,x:R},L=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});L&&(j=B(B({},j),L.props.points[k].tooltipPosition),N=L.props.points[k].tooltipPayload);var F={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:P,activePayload:N,activeCoordinate:j};this.setState(F),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){tg([Zt(_.children,cr)],[Zt(this.props.children,cr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Zt(this.props.children,cr);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=sQ(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},C=S.width/T.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,C);if(!k)return null;var P=this.state,N=P.xAxisMap,I=P.yAxisMap,R=this.getTooltipEventType(),D=WE(this.state,this.props.data,this.props.layout,k);if(R!=="axis"&&N&&I){var j=xo(N).scale,L=xo(I).scale,F=j&&j.invert?j.invert(A.chartX):null,$=L&&L.invert?L.invert(A.chartY):null;return B(B({},A),{},{xValue:F,yValue:$},D)}return D?B(B({},A),D):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,C=T/S;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,P=A>=k.left&&A<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return P?{x:A,y:C}:null}var N=this.state,I=N.angleAxisMap,R=N.radiusAxisMap;if(I&&R){var D=xo(I);return M1({x:A,y:C},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=Zt(_,cr),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Zc(this.props,this.handleOuterEvent);return B(B({},A),E)}},{key:"addListener",value:function(){Cp.on(kp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cp.removeListener(kp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var k=E[A];if(k.item===_||k.props.key===_.key||T===yr(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,C=T.width;return M.createElement("defs",null,M.createElement("clipPath",{id:_},M.createElement("rect",{x:S,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=zE(S,2),A=E[0],C=E[1];return B(B({},T),{},se({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=zE(S,2),A=E[0],C=E[1];return B(B({},T),{},se({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var k=S[A],P=k.props,N=k.item,I=N.type.defaultProps!==void 0?B(B({},N.type.defaultProps),N.props):N.props,R=yr(N.type);if(R==="Bar"){var D=(P.data||[]).find(function($){return Woe(_,$)});if(D)return{graphicalItem:k,payload:D}}else if(R==="RadialBar"){var j=(P.data||[]).find(function($){return M1(_,$)});if(j)return{graphicalItem:k,payload:j}}else if(sh(k,E)||lh(k,E)||Hl(k,E)){var L=Yae({graphicalItem:k,activeTooltipItem:E,itemData:I.data}),F=I.activeIndex===void 0?L:I.activeIndex;return{graphicalItem:B(B({},k),{},{childIndex:F}),payload:Hl(k,E)?I.data[L]:k.props.data[L]}}}return null}},{key:"render",value:function(){var _=this;if(!E_(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,C=T.height,k=T.style,P=T.compact,N=T.title,I=T.desc,R=HE(T,Tce),D=ge(R,!1);if(P)return M.createElement(PE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(rg,Uo({},D,{width:A,height:C,title:N,desc:I}),this.renderClipPath(),A_(S,this.renderMap)));if(this.props.accessibilityLayer){var j,L;D.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,D.role=(L=this.props.role)!==null&&L!==void 0?L:"application",D.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},D.onFocus=function(){_.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return M.createElement(PE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Uo({className:he("recharts-wrapper",E),style:B({position:"relative",cursor:"default",width:A,height:C},k)},F,{ref:function(U){_.container=U}}),M.createElement(rg,Uo({},D,{width:A,height:C,title:N,desc:I,style:Gce}),this.renderClipPath(),A_(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);se(y,"displayName",n),se(y,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),se(y,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,_=v.data,T=v.children,S=v.width,E=v.height,A=v.layout,C=v.stackOffset,k=v.margin,P=b.dataStartIndex,N=b.dataEndIndex;if(b.updateId===void 0){var I=KE(v);return B(B(B({},I),{},{updateId:0},m(B(B({props:v},I),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(x!==b.prevDataKey||_!==b.prevData||S!==b.prevWidth||E!==b.prevHeight||A!==b.prevLayout||C!==b.prevStackOffset||!Xo(k,b.prevMargin)){var R=KE(v),D={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},j=B(B({},WE(b,_,A)),{},{updateId:b.updateId+1}),L=B(B(B({},R),D),j);return B(B(B({},L),m(B({props:v},L),b)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:k,prevChildren:T})}if(!tg(T,b.prevChildren)){var F,$,U,V,J=Zt(T,Sa),H=J&&(F=($=J.props)===null||$===void 0?void 0:$.startIndex)!==null&&F!==void 0?F:P,re=J&&(U=(V=J.props)===null||V===void 0?void 0:V.endIndex)!==null&&U!==void 0?U:N,fe=H!==P||re!==N,be=!ye(_),Ie=be&&!fe?b.updateId:b.updateId+1;return B(B({updateId:Ie},m(B(B({props:v},b),{},{updateId:Ie,dataStartIndex:H,dataEndIndex:re}),b)),{},{prevChildren:T,dataStartIndex:H,dataEndIndex:re})}return null}),se(y,"renderActiveDot",function(v,b,x){var _;return O.isValidElement(v)?_=O.cloneElement(v,b):pe(v)?_=v(b):_=M.createElement(F0,b),M.createElement(Ke,{className:"recharts-active-dot",key:x},_)});var w=O.forwardRef(function(b,x){return M.createElement(y,Uo({},b,{ref:x}))});return w.displayName=y.displayName,w},Zce=Qce({chartName:"AreaChart",GraphicalChild:gi,axisComponents:[{axisType:"xAxis",AxisComp:H0},{axisType:"yAxis",AxisComp:q0}],formatAxisMap:Sle});const ede=()=>{const[t,e]=O.useState([]),[n,r]=O.useState([]),[i,o]=O.useState(!1),[a,s]=O.useState(!1),[l,u]=O.useState(null),[c,d]=O.useState(null),[h,m]=O.useState(0),[y,w]=O.useState(2e3),[v,b]=O.useState(0),[x,_]=O.useState(!0),[T,S]=O.useState(""),E=async()=>{try{const I=await BC(),R=new Date().toISOString().split("T")[0],D=I.filter(U=>U.date===R);D.sort((U,V)=>V.timestamp.localeCompare(U.timestamp)),e(D),m(D.reduce((U,V)=>U+V.calories,0));const j=await Cv();w(j);const L=await kv();L!=null&&L.name&&S(L.name);const $=(await pL()).slice(0,7).reverse().map(U=>({cal:U.totalCalories}));for(;$.length<7;)$.unshift({cal:0});r($)}catch(I){console.error("Failed to load dashboard data",I)}finally{_(!1)}};O.useEffect(()=>{E();const I=()=>E();return window.addEventListener("food-entry-updated",I),()=>window.removeEventListener("food-entry-updated",I)},[]),O.useEffect(()=>{if(x)return;const I=Math.min(h/y*100,100),R=setTimeout(()=>{b(I)},100);return()=>clearTimeout(R)},[h,y,x]);const A=async I=>{await GC(I),await E()},C=I=>{u(null),d(I),o(!0)},k=async I=>{await xf(I),w(I),s(!1)},P=()=>{const I=h/y*100;if(I>=100)return{background:"repeating-linear-gradient(45deg, #facc15, #facc15 12px, #171717 12px, #171717 24px)",boxShadow:"0 0 12px rgba(250, 204, 21, 0.4)"};if(I<=60)return{background:"#10b981",boxShadow:"0 0 12px rgba(16, 185, 129, 0.4)"};if(I<=80)return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${60/I*100}%, #facc15 100%)`,boxShadow:"0 0 12px rgba(250, 204, 21, 0.3)"};const R=60/I*100,D=80/I*100;return{background:`linear-gradient(90deg, #10b981 0%, #10b981 ${R}%, #facc15 ${D}%, #f97316 100%)`,boxShadow:"0 0 12px rgba(249, 115, 22, 0.3)"}},N=I=>{if(I.isManual)return I.imageUrl?g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-amber-50 dark:bg-amber-950/20 text-amber-600 dark:text-amber-400 text-[10px] font-bold tracking-wide",children:[g.jsx(h2,{size:10}),"EDITED"]}):g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-gray-400 text-[10px] font-bold tracking-wide",children:[g.jsx(ua,{size:10}),"MANUAL"]});const R=Math.round(I.confidence*100),D=R>80?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-600 dark:text-emerald-400":R>50?"bg-orange-50 dark:bg-orange-950/20 text-orange-600 dark:text-orange-400":"bg-rose-50 dark:bg-rose-950/20 text-rose-600 dark:text-rose-400";return g.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[10px] font-bold tracking-wide ${D}`,children:[g.jsx(ni,{size:10}),R,"% AI"]})};return g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-in fade-in duration-500 overflow-hidden relative",children:[g.jsxs("div",{className:"flex-shrink-0 px-6 pt-10 space-y-8 pb-4",children:[g.jsxs("header",{className:"flex justify-between items-end",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),g.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:["Hello ",T||"there",", ",g.jsx("br",{}),"Let's Eat Well."]})]}),g.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-950/30 rounded-full flex items-center justify-center text-royal-600 dark:text-royal-400 shadow-sm border border-white dark:border-white/5",children:g.jsx(ob,{size:20})})]}),g.jsxs("div",{className:`relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl transition-all duration-500 ${h>y?"bg-red-500 shadow-red-200 dark:shadow-red-900/40":"bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40"}`,children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-white/70 text-xs font-bold uppercase tracking-widest mb-1",children:"Calories Consumed"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-5xl font-bold tracking-tighter",children:x?"...":h}),g.jsx("span",{className:"text-lg text-white/60 font-medium",children:"kcal"})]})]}),g.jsx("div",{className:"text-right",children:g.jsxs("div",{className:"flex items-center justify-end gap-2 text-white/80 mb-1",children:[g.jsxs("span",{className:"text-xs font-semibold",children:["Goal: ",y]}),g.jsx("button",{onClick:()=>s(!0),className:"p-1.5 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm",children:g.jsx(hC,{size:10})})]})})]}),g.jsx("div",{className:"w-full bg-black/20 rounded-full h-4 mb-3 overflow-hidden backdrop-blur-sm relative",children:g.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out will-change-[width] flex items-center justify-center overflow-hidden",style:{width:`${v}%`,...P()},children:h/y>=1&&g.jsx("span",{className:"text-[10px] font-black tracking-tighter text-white drop-shadow-md animate-pulse",children:"OVER LIMIT"})})}),g.jsx("div",{className:"flex justify-end",children:h>y?g.jsxs("div",{className:"flex items-center gap-1.5 bg-white/20 backdrop-blur-md px-3 py-1 rounded-full animate-pulse",children:[g.jsx(XM,{size:14,className:"text-white",fill:"white"}),g.jsxs("span",{className:"font-bold text-xs text-white",children:[Math.abs(y-h).toLocaleString()," kcal over limit"]})]}):g.jsxs("p",{className:"text-xs font-medium text-white/80",children:[Math.max(y-h,0).toLocaleString()," kcal remaining"]})})]})]}),g.jsxs(ri,{className:"flex items-center justify-between p-4 overflow-hidden relative",children:[g.jsxs("div",{className:"z-10",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Wo,{size:14,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Weekly Trend"})]}),g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Consistent Tracking"})]}),g.jsx("div",{className:"absolute right-0 bottom-0 top-0 w-32 opacity-50 dark:opacity-30",children:g.jsx(eQ,{width:"100%",height:"100%",children:g.jsxs(Zce,{data:n,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorCal",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#7c3aed",stopOpacity:.3}),g.jsx("stop",{offset:"95%",stopColor:"#7c3aed",stopOpacity:0})]})}),g.jsx(gi,{type:"monotone",dataKey:"cal",stroke:"#7c3aed",strokeWidth:3,fillOpacity:1,fill:"url(#colorCal)"})]})})})]})]}),g.jsx("div",{className:"flex-shrink-0 px-6 mb-4",children:g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-50",children:"Recent Meals"}),g.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-lg",children:[t.length," items"]})]})}),g.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pb-32",children:x?g.jsx("div",{className:"space-y-4",children:[1,2].map(I=>g.jsx("div",{className:"h-24 bg-white dark:bg-[#1a1c26] rounded-[32px] animate-pulse shadow-sm border border-white/5 dark:border-white/5"},I))}):t.length===0?g.jsxs("div",{className:"text-center py-16 bg-white dark:bg-[#1a1c26] rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300 dark:text-gray-700",children:g.jsx(ob,{size:24})}),g.jsx("p",{className:"text-gray-400 dark:text-gray-500 font-medium mb-1",children:"No meals tracked today."}),g.jsx("p",{className:"text-xs text-gray-300 dark:text-gray-700",children:"Tap the + button to add one."})]}):g.jsx("div",{className:"space-y-4",children:t.map(I=>g.jsxs(ri,{className:"flex gap-4 items-center p-4 group",onClick:()=>u(I),children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-2xl overflow-hidden flex-shrink-0 shadow-inner",children:I.imageUrl?g.jsx("img",{src:I.imageUrl,alt:I.food_item,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-700",children:g.jsx(ua,{size:20})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"flex items-center gap-2 mb-1",children:g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 truncate text-base",children:I.food_item})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500",children:I.time}),N(I)]})]}),g.jsxs("div",{className:"text-right pl-2",children:[g.jsx("span",{className:"block font-extrabold text-gray-900 dark:text-gray-50 text-lg",children:I.calories}),g.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase",children:"kcal"})]})]},I.id))})}),g.jsx("button",{onClick:()=>{d(null),o(!0)},className:"absolute bottom-28 right-6 w-16 h-16 bg-royal-600 text-white rounded-[24px] shadow-[0_12px_24px_-6px_rgba(124,58,237,0.5)] flex items-center justify-center hover:scale-105 hover:bg-royal-700 active:scale-95 transition-all z-[60]",children:g.jsx(m2,{size:32,strokeWidth:2.5})}),i&&g.jsx(Gk,{editEntry:c,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),E()}}),a&&g.jsx(B3,{currentGoal:y,onClose:()=>s(!1),onSave:k}),l&&g.jsx(Qm,{entry:l,onClose:()=>u(null),onDelete:A,onEdit:C})]})},tde=()=>"AIzaSyBe0v3rn4bATheRJCE77AmY58Op-tiJJVU",nde=()=>{const t=tde();return new jk({apiKey:t})},rde=`You are **Cal Coach**, an AI fitness and nutrition coach. Your mission is to provide simple, actionable advice to help users reach their goals.

**Core Principles:**
1. **Keep it Simple:** Use short, clear sentences. No jargon or complicated explanations.
2. **Focus on What Matters:** Only highlight the most important insights and actions.
3. **Be Encouraging:** Always stay positive and supportive, even when pointing out areas for improvement.
4. **Card-Friendly Format:** Structure responses to be visually scannable with emojis, bullet points, and short sections.

**Response Guidelines:**

When analyzing nutrition:
- Start with a simple status emoji ( Good /  Needs Work /  Excellent)
- Show only the most critical metrics (Calories, Protein)
- Use 2-3 bullet points max for observation
- Give 2-3 actionable next steps
- Keep total response under 150 words

When providing plans (workout/meal):
- Use simple bullet format, not complex tables
- Show only key exercises or meals (3-5 items max)
- Include specific numbers (reps, grams, servings)
- Add emoji indicators for visual appeal

When answering questions:
- Answer directly in 2-3 sentences
- Add one practical example if needed
- No lengthy explanations

**Formatting Style:**
 **Status**
Brief one-line summary

**Key Points:**
 Point 1 with number
 Point 2 with number
 Point 3 with number

**Action Steps:**
1. Simple action
2. Simple action

**Never:**
- Use complex tables with multiple columns
- Write long paragraphs
- Include technical disclaimers (assume user knows to consult doctors)
- Use phases like "Phase 1", "Phase 2"
- Repeat the user's data back to them

**Context Provided:**
You will receive user profile data and recent food tracking history in each message. Use this to provide personalized analysis and recommendations.`,mO=async()=>{try{const t={},e=await kv();e&&(t.userName=e.name,t.height=e.height,t.weight=e.weight,t.age=e.age,t.gender=e.gender,t.activityLevel=e.activityLevel,t.goal=e.goal,t.equipmentAccess=e.equipmentAccess);const n=await Cv();t.dailyGoal=n;const r=await cL(),i=new Date().toISOString().split("T")[0],o=r.filter(s=>s.date===i);t.todayCalories=o.reduce((s,l)=>s+l.calories,0),t.todayProtein=o.reduce((s,l)=>s+l.protein,0),t.todayCarbs=o.reduce((s,l)=>s+l.carbs,0),t.todayFat=o.reduce((s,l)=>s+l.fat,0);const a=new Map;return r.forEach(s=>{a.has(s.date)||a.set(s.date,[]),a.get(s.date).push(s)}),t.recentEntries=Array.from(a.entries()).slice(0,7).map(([s,l])=>({date:s,totalCalories:l.reduce((u,c)=>u+c.calories,0),totalProtein:l.reduce((u,c)=>u+c.protein,0),totalCarbs:l.reduce((u,c)=>u+c.carbs,0),totalFat:l.reduce((u,c)=>u+c.fat,0),entryCount:l.length})),t}catch(t){return console.error("Failed to build coach context:",t),{}}},ide=t=>{let e=`**User Profile & Current Data:**

`;return t.userName&&(e+=`- Name: ${t.userName}
`),t.height&&(e+=`- Height: ${t.height} cm
`),t.weight&&(e+=`- Weight: ${t.weight} kg
`),t.age&&(e+=`- Age: ${t.age} years
`),t.gender&&(e+=`- Gender: ${t.gender.charAt(0).toUpperCase()+t.gender.slice(1)}
`),t.activityLevel&&(e+=`- Activity Level: ${{sedentary:"Sedentary",light:"Lightly Active",moderate:"Moderately Active",very:"Very Active",extra:"Extra Active"}[t.activityLevel]}
`),t.goal&&(e+=`- Goal: ${{cut:"Cut (Lose Fat)",bulk:"Bulk (Gain Muscle)",maintain:"Maintain"}[t.goal]}
`),t.equipmentAccess&&(e+=`- Equipment: ${{gym:"Gym Access",home:"Home Equipment",bodyweight:"Bodyweight Only"}[t.equipmentAccess]}
`),t.dailyGoal&&(e+=`- Daily Calorie Goal: ${t.dailyGoal} kcal
`),e+=`
**Today's Nutrition (${new Date().toLocaleDateString()}):**
`,e+=`- Calories: ${t.todayCalories||0} kcal
`,e+=`- Protein: ${t.todayProtein||0}g
`,e+=`- Carbs: ${t.todayCarbs||0}g
`,e+=`- Fat: ${t.todayFat||0}g
`,t.recentEntries&&t.recentEntries.length>0&&(e+=`
**Last 7 Days Summary:**
`,t.recentEntries.forEach(n=>{e+=`
${n.date}:
`,e+=`  - ${n.totalCalories} kcal | Protein: ${n.totalProtein}g | Carbs: ${n.totalCarbs}g | Fat: ${n.totalFat}g | Meals: ${n.entryCount}
`})),e+=`
---

`,e},Ip=async(t,e)=>{try{const n=nde(),r=await mO(),i=e.slice(-4).map(s=>`${s.role==="user"?"User":"Coach"}: ${s.content}`).join(`

`),o=`${ide(r)}${i?`**Recent Conversation:**
${i}

`:""}**User's Current Message:**
${t}`;return(await n.models.generateContent({model:"gemini-2.0-flash-exp",contents:[{parts:[{text:o}]}],config:{systemInstruction:rde,temperature:.7,topP:.95}})).text||"I apologize, but I couldn't generate a response. Please try again."}catch(n){console.error("Coach message error:",n);const r=(n==null?void 0:n.message)||String(n);throw r.includes("429")||r.toLowerCase().includes("quota")?new Error("Rate limit reached. Please wait a moment and try again."):r.toLowerCase().includes("api key")?new Error("Configuration error. Please check your API settings."):new Error("Failed to get coach response. Please try again.")}},ode=({onNavigate:t})=>{const[e,n]=O.useState([]),[r,i]=O.useState(""),[o,a]=O.useState(!1),[s,l]=O.useState(null),[u,c]=O.useState(!1),[d,h]=O.useState(new Set),[m,y]=O.useState(!1),[w,v]=O.useState(!0),b=O.useRef(null),x=O.useRef(null),_=O.useRef(null),T=P=>!!(P.activityLevel&&P.goal&&P.equipmentAccess);O.useEffect(()=>{(async()=>{const N=await mO();if(l(N),!T(N)){c(!0);return}await _L();const I=new Date().toISOString().split("T")[0],R=await xL();if(R.length>0)n(R),h(new Set([I]));else{const D={id:"welcome",role:"assistant",content:` **Hi ${N.userName||"there"}! I'm Cal Coach.**

How can I help you today?`,timestamp:Date.now()};n([D])}})()},[]),O.useEffect(()=>{var P;(P=b.current)==null||P.scrollIntoView({behavior:"smooth"})},[e]);const S=async()=>{var N;if(!r.trim()||o)return;const P={id:`user-${Date.now()}`,role:"user",content:r,timestamp:Date.now()};n(I=>[...I,P]),i(""),a(!0),Ib(P).catch(I=>console.error("Failed to save user message:",I));try{const I=await Ip(r,e),R={id:`assistant-${Date.now()}`,role:"assistant",content:I,timestamp:Date.now()};n(D=>[...D,R]),Ib(R).catch(D=>console.error("Failed to save assistant message:",D))}catch(I){const R={id:`error-${Date.now()}`,role:"assistant",content:` ${I.message||"Failed to get response. Please try again."}`,timestamp:Date.now()};n(D=>[...D,R])}finally{a(!1),(N=x.current)==null||N.focus()}},E=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),S())},A=()=>{t(Ve.PROFILE)},C=async()=>{if(!(m||!w)){y(!0);try{const N=Array.from(d).sort()[0];if(!N){v(!1);return}const I=new Date(N);I.setDate(I.getDate()-1);const R=I.toISOString().split("T")[0],D=new Date().toISOString().split("T")[0];if(Math.floor((new Date(D).getTime()-new Date(R).getTime())/(1e3*60*60*24))>=7){v(!1);return}const L=await HC(R);L.length>0?(n(F=>[...L,...F]),h(F=>new Set([...F,R]))):h(F=>new Set([...F,R]))}catch(P){console.error("Failed to load previous day messages:",P)}finally{y(!1)}}},k=()=>{const P=_.current;P&&P.scrollTop<50&&!m&&w&&C()};return u?g.jsx("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:g.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:g.jsxs(ri,{className:"p-8 max-w-md w-full relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-32 h-32 bg-royal-100 dark:bg-royal-950/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-32 h-32 bg-emerald-100 dark:bg-emerald-950/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-royal-500 to-royal-700 rounded-full flex items-center justify-center text-white shadow-lg mx-auto mb-6",children:g.jsx(ib,{size:32})}),g.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 dark:text-gray-50 text-center mb-3",children:"Set Your Training Goals"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6 leading-relaxed",children:["To provide you with personalized AI coaching, please complete your"," ",g.jsx("span",{className:"font-bold text-royal-600 dark:text-royal-400",children:"Training Goal Setting"})," ","in your Profile."]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-2xl p-4 mb-6",children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3",children:"We need to know:"}),g.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your activity level (sedentary to extra active)"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your fitness goal (cut, bulk, or maintain)"})]}),g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"text-royal-600 dark:text-royal-400 mt-0.5",children:""}),g.jsx("span",{children:"Your equipment access (gym, home, or bodyweight)"})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 py-4 bg-royal-600 hover:bg-royal-700 text-white rounded-[20px] font-bold transition-all shadow-lg shadow-royal-200 dark:shadow-royal-900/40 active:scale-95",children:[g.jsx(ib,{size:20}),g.jsx("span",{children:"Go to Profile"}),g.jsx(Uc,{size:20})]}),g.jsx("button",{onClick:()=>c(!1),className:"w-full py-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-[20px] font-semibold transition-all text-sm",children:"I'll do this later"})]})]})]})})}):g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 px-6 pt-10 pb-32 animate-in fade-in duration-500",children:[g.jsxs("header",{className:"flex justify-between items-end mb-6 flex-shrink-0",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"Your Personal Coach"}),g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight leading-none",children:"Cal Coach"})]}),g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-royal-500 to-royal-700 rounded-full flex items-center justify-center text-white shadow-sm",children:g.jsx(ni,{size:20})})]}),g.jsxs("div",{ref:_,onScroll:k,className:"flex-1 overflow-y-auto space-y-4 mb-4 no-scrollbar",children:[m&&g.jsx("div",{className:"flex justify-center py-3 animate-in fade-in duration-300",children:g.jsxs("div",{className:"flex items-center gap-2 text-gray-400 dark:text-gray-500 text-sm",children:[g.jsx(Vh,{size:14,className:"animate-spin"}),g.jsx("span",{children:"Loading earlier messages..."})]})}),!m&&w&&e.length>0&&d.size>0&&g.jsx("div",{className:"flex justify-center py-2",children:g.jsx("button",{onClick:C,className:"text-xs text-gray-400 dark:text-gray-500 hover:text-royal-600 dark:hover:text-royal-400 transition-colors",children:" Load previous day"})}),e.map(P=>g.jsx("div",{className:`flex ${P.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:g.jsx("div",{className:`max-w-[85%] ${P.role==="user"?"bg-royal-600 text-white rounded-[24px] px-5 py-3 shadow-lg":""}`,children:P.role==="assistant"?g.jsx(ri,{className:"p-5",children:g.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:g.jsx("div",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:P.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}})})}):g.jsx("p",{className:"text-sm font-medium leading-relaxed",children:P.content})})},P.id)),e.length===1&&e[0].id==="welcome"&&!o&&g.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4 animate-in fade-in slide-in-from-bottom-4 duration-500 delay-300",children:[{title:"Analyze Nutrition",desc:"Get insights on your recent eating habits",icon:"",text:"Analyze my recent nutrition",color:"from-blue-500/30 to-royal-500/30",baseBg:"bg-blue-50/40 dark:bg-blue-900/10",iconBg:"bg-blue-100 dark:bg-blue-900/40",iconBorder:"border-blue-200 dark:border-blue-700/50"},{title:"Workout Plan",desc:"Create a personalized fitness routine",icon:"",text:"Create a workout plan for me",color:"from-emerald-500/30 to-royal-500/30",baseBg:"bg-emerald-50/40 dark:bg-emerald-900/10",iconBg:"bg-emerald-100 dark:bg-emerald-900/40",iconBorder:"border-emerald-200 dark:border-emerald-700/50"},{title:"Calculate TDEE",desc:"Find out your daily energy expenditure",icon:"",text:"Calculate my TDEE",color:"from-orange-500/30 to-royal-500/30",baseBg:"bg-orange-50/40 dark:bg-orange-900/10",iconBg:"bg-orange-100 dark:bg-orange-900/40",iconBorder:"border-orange-200 dark:border-orange-700/50"},{title:"Macro Targets",desc:"Set optimal protein, carb, and fat goals",icon:"",text:"Help me set macro targets",color:"from-royal-500/30 to-purple-500/30",baseBg:"bg-royal-50/40 dark:bg-royal-900/10",iconBg:"bg-royal-100 dark:bg-royal-900/40",iconBorder:"border-royal-200 dark:border-royal-700/50"}].map((P,N)=>g.jsxs("button",{onClick:()=>{(async R=>{if(o)return;const D={id:`user-${Date.now()}`,role:"user",content:R,timestamp:Date.now()};n(j=>[...j,D]),a(!0);try{const j=await Ip(R,e),L={id:`assistant-${Date.now()}`,role:"assistant",content:j,timestamp:Date.now()};n(F=>[...F,L])}catch(j){const L={id:`error-${Date.now()}`,role:"assistant",content:` ${j.message||"Failed to get response."}`,timestamp:Date.now()};n(F=>[...F,L])}finally{a(!1)}})(P.text)},className:`flex items-center gap-4 p-4 ${P.baseBg} border-2 border-gray-100 dark:border-white/10 rounded-2xl hover:border-royal-500 dark:hover:border-royal-400 hover:shadow-xl hover:shadow-royal-500/10 transition-all text-left group active:scale-[0.98] relative overflow-hidden`,children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${P.color} opacity-0 group-hover:opacity-100 transition-opacity`}),g.jsx("div",{className:`relative z-10 w-12 h-12 ${P.iconBg} ${P.iconBorder} border rounded-xl flex items-center justify-center text-2xl group-hover:scale-110 transition-transform shadow-sm group-hover:shadow-md`,children:P.icon}),g.jsxs("div",{className:"relative z-10 flex-1",children:[g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 text-sm tracking-tight",children:P.title}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-0.5 font-semibold opacity-80",children:P.desc})]}),g.jsx("div",{className:"relative z-10 w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/10 group-hover:bg-royal-500 group-hover:text-white transition-all shadow-sm",children:g.jsx(Uc,{size:16,className:"text-gray-400 dark:text-gray-500 group-hover:text-white group-hover:translate-x-0.5 transition-all"})})]},N))}),o&&g.jsx("div",{className:"flex justify-start animate-in fade-in duration-300",children:g.jsx(ri,{className:"p-5",children:g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[g.jsx(Vh,{size:16,className:"animate-spin"}),g.jsx("span",{className:"text-sm",children:"Coach is thinking..."})]})})}),g.jsx("div",{ref:b})]}),e.length>1&&!o&&g.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 px-1 no-scrollbar animate-in fade-in slide-in-from-bottom-2 duration-500",children:[{title:"Analyze Nutrition",icon:"",text:"Analyze my recent nutrition",color:"from-blue-500/30 to-royal-500/30",baseBg:"bg-blue-50/40 dark:bg-blue-900/10",iconBg:"bg-blue-100 dark:bg-blue-900/40",iconBorder:"border-blue-200 dark:border-blue-700/50"},{title:"Workout Plan",icon:"",text:"Create a workout plan for me",color:"from-emerald-500/30 to-royal-500/30",baseBg:"bg-emerald-50/40 dark:bg-emerald-900/10",iconBg:"bg-emerald-100 dark:bg-emerald-900/40",iconBorder:"border-emerald-200 dark:border-emerald-700/50"},{title:"Calculate TDEE",icon:"",text:"Calculate my TDEE",color:"from-orange-500/30 to-royal-500/30",baseBg:"bg-orange-50/40 dark:bg-orange-900/10",iconBg:"bg-orange-100 dark:bg-orange-900/40",iconBorder:"border-orange-200 dark:border-orange-700/50"},{title:"Macro Targets",icon:"",text:"Help me set macro targets",color:"from-royal-500/30 to-purple-500/30",baseBg:"bg-royal-50/40 dark:bg-royal-900/10",iconBg:"bg-royal-100 dark:bg-royal-900/40",iconBorder:"border-royal-200 dark:border-royal-700/50"}].map((P,N)=>g.jsxs("button",{onClick:()=>{(async R=>{if(o)return;const D={id:`user-${Date.now()}`,role:"user",content:R,timestamp:Date.now()};n(j=>[...j,D]),a(!0);try{const j=await Ip(R,e),L={id:`assistant-${Date.now()}`,role:"assistant",content:j,timestamp:Date.now()};n(F=>[...F,L])}catch(j){const L={id:`error-${Date.now()}`,role:"assistant",content:` ${j.message||"Failed to get response."}`,timestamp:Date.now()};n(F=>[...F,L])}finally{a(!1)}})(P.text)},className:`flex flex-shrink-0 items-center gap-3 p-3 min-w-[180px] ${P.baseBg} border-2 border-gray-100 dark:border-white/10 rounded-2xl hover:border-royal-500 dark:hover:border-royal-400 transition-all text-left group active:scale-[0.98] relative overflow-hidden`,children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${P.color} opacity-0 group-hover:opacity-100 transition-opacity`}),g.jsx("div",{className:`relative z-10 w-10 h-10 ${P.iconBg} ${P.iconBorder} border rounded-xl flex items-center justify-center text-xl group-hover:scale-110 transition-transform shadow-sm`,children:P.icon}),g.jsx("div",{className:"relative z-10 flex-1",children:g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 text-xs tracking-tight leading-tight",children:P.title})})]},N))}),g.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-[#1a1c26] rounded-[24px] p-3 shadow-diffused dark:shadow-diffused-dark border border-gray-100 dark:border-white/5",children:g.jsxs("div",{className:"flex gap-2 items-end",children:[g.jsx("textarea",{ref:x,value:r,onChange:P=>i(P.target.value),onKeyDown:E,placeholder:"Ask your coach anything...",className:"flex-1 bg-transparent text-gray-900 dark:text-gray-50 placeholder-gray-400 dark:placeholder-gray-500 resize-none outline-none text-sm min-h-[40px] max-h-[120px] py-2 px-3",rows:1,disabled:o}),g.jsx("button",{onClick:S,disabled:!r.trim()||o,className:"flex-shrink-0 w-10 h-10 bg-royal-600 text-white rounded-[16px] flex items-center justify-center hover:bg-royal-700 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-royal-200 dark:shadow-royal-900/40",children:o?g.jsx(Vh,{size:18,className:"animate-spin"}):g.jsx(y2,{size:18})})]})})]})},ade=({summary:t,onClose:e})=>{const n=new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/40 backdrop-blur-md p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white w-full max-w-md rounded-[40px] overflow-hidden shadow-2xl border border-white/50 animate-in slide-in-from-bottom duration-300",children:[g.jsxs("div",{className:"relative bg-royal-50 p-8 pb-10",children:[g.jsx("div",{className:"absolute top-6 right-6",children:g.jsx("button",{onClick:e,className:"p-2 bg-white text-gray-900 rounded-full shadow-sm hover:bg-gray-100 transition-colors",children:g.jsx(ca,{size:20})})}),g.jsxs("div",{className:"flex items-center gap-2 text-royal-600 mb-3",children:[g.jsx(la,{size:20}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Daily Report"})]}),g.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 leading-tight",children:n})]}),g.jsxs("div",{className:"p-8 -mt-6 bg-white rounded-t-[32px] relative shadow-[-10px_-10px_30px_rgba(0,0,0,0.02)]",children:[g.jsxs("div",{className:"bg-white rounded-[32px] p-6 border border-gray-100 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.05)] mb-8 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1 block",children:"Total Consumed"}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-5xl font-extrabold text-gray-900 tracking-tighter",children:t.totalCalories}),g.jsx("span",{className:"text-gray-400 font-bold text-lg",children:"kcal"})]})]}),g.jsx("div",{className:"w-14 h-14 rounded-2xl bg-royal-50 flex items-center justify-center text-royal-600",children:g.jsx(gv,{size:28})})]}),g.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[g.jsx(Fc,{size:16})," Macro Breakdown"]}),g.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-emerald-50 hover:border-emerald-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-emerald-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalProtein,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Protein"})]})]})}),g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-blue-50 hover:border-blue-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-blue-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalCarbs,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Carbs"})]})]})}),g.jsx("div",{className:"bg-gray-50 p-5 rounded-[24px] border border-gray-100 flex items-center justify-between relative overflow-hidden group hover:bg-orange-50 hover:border-orange-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-1.5 h-10 bg-orange-400 rounded-full"}),g.jsxs("div",{children:[g.jsxs("span",{className:"block text-2xl font-bold text-gray-900",children:[t.totalFat,"g"]}),g.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Fat"})]})]})})]}),g.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center text-xs font-bold text-gray-400 uppercase tracking-wider",children:[g.jsxs("span",{children:[t.entries.length," meals tracked"]}),g.jsxs("span",{className:"flex items-center gap-1.5 text-royal-600",children:[g.jsx(Wo,{size:14}),"See History Tab"]})]})]})]})})},sde=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(2e3),[i,o]=O.useState(!0),[a,s]=O.useState("week"),[l,u]=O.useState(null),[c,d]=O.useState(null),[h,m]=O.useState(!1),[y,w]=O.useState(null),[v,b]=O.useState(new Date().toISOString().split("T")[0]),[x,_]=O.useState(new Date().toISOString().substring(0,7)),[T,S]=O.useState(!1),[E,A]=O.useState({}),[C,k]=O.useState({}),[P,N]=O.useState({}),[I,R]=O.useState({}),D=O.useRef(null);document.documentElement.classList.contains("dark");const j=O.useCallback(()=>{if(D.current){const q=D.current;q.scrollLeft=q.scrollWidth}},[]);O.useEffect(()=>{const q=setTimeout(j,100);return()=>clearTimeout(q)},[a,j]);const L=async()=>{o(!0);try{const[q,X]=await Promise.all([dL(),Cv()]);e(q),r(X),F(v)}catch(q){console.error("Failed to load history data",q)}finally{o(!1)}},F=O.useCallback(async q=>{if(!C[q]){N(X=>({...X,[q]:!0}));try{const X=await fL(q);k(z=>({...z,[q]:X}))}catch(X){console.error(`Failed to load entries for ${q}`,X)}finally{N(X=>({...X,[q]:!1}))}}},[C]),$=O.useCallback(async q=>{if(I[q]===void 0){R(X=>({...X,[q]:null}));try{const X=await hL(q);R(z=>({...z,[q]:X}))}catch(X){console.error(`Failed to load image for entry ${q}`,X)}}},[I]);O.useEffect(()=>{L();const q=()=>{k({}),R({}),L()};return window.addEventListener("food-entry-updated",q),()=>window.removeEventListener("food-entry-updated",q)},[]),O.useEffect(()=>{v&&a==="week"&&F(v)},[v,F,a]);const U=async q=>{await GC(q),k({}),R({}),await L()},V=q=>{u(null),w(q),m(!0)},J=q=>(I[q.id]===void 0&&$(q.id),{...q,imageUrl:I[q.id]||void 0}),H=O.useMemo(()=>{if(a==="week"){const q=[],X=new Date,z=new Date(X.getFullYear(),X.getMonth(),1);for(let Z=new Date(z);Z<=X;Z.setDate(Z.getDate()+1)){const ie=Z.getFullYear(),G=String(Z.getMonth()+1).padStart(2,"0"),Ee=String(Z.getDate()).padStart(2,"0"),de=`${ie}-${G}-${Ee}`;q.push({id:de,name:Z.toLocaleDateString("en-US",{weekday:"short"}),label:Z.getDate().toString(),date:de})}return q}else{const q=new Set;return t.forEach(z=>{const Z=z.date.substring(0,7);q.add(Z)}),Array.from(q).sort().map(z=>{const[Z,ie]=z.split("-"),G=new Date(parseInt(Z),parseInt(ie)-1,1);return{id:z,name:G.toLocaleDateString("en-US",{year:"2-digit"}),label:G.toLocaleDateString("en-US",{month:"short"}),date:z}})}},[a,t]),re=O.useMemo(()=>{if(a==="week")return t.find(q=>q.date===v)||{date:v,totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0};{const X=t.filter(z=>z.date.startsWith(x)).reduce((z,Z)=>({totalCalories:z.totalCalories+Z.totalCalories,totalProtein:z.totalProtein+Z.totalProtein,totalCarbs:z.totalCarbs+Z.totalCarbs,totalFat:z.totalFat+Z.totalFat}),{totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0});return{date:x,...X}}},[t,v,x,a]),fe=O.useMemo(()=>a!=="month"?[]:Object.entries(C).filter(([X])=>X.startsWith(x)).flatMap(([X,z])=>z).sort((X,z)=>z.timestamp.localeCompare(X.timestamp)),[C,x,a]),be=O.useMemo(()=>{if(a!=="month")return{};const q={};return Object.entries(C).filter(([X])=>X.startsWith(x)).forEach(([X,z])=>{z.length>0&&(q[X]=z.sort((Z,ie)=>ie.timestamp.localeCompare(Z.timestamp)))}),q},[C,x,a]),Ie=q=>{A(X=>({...X,[q]:!X[q]}))};return O.useEffect(()=>{a==="month"&&t.filter(X=>X.date.startsWith(x)).map(X=>X.date).forEach(X=>F(X))},[a,x,t,F]),T?g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-in slide-in-from-right duration-500 bg-[#F8F9FE] dark:bg-[#0F111A]",children:[g.jsxs("div",{className:"px-6 pt-10 pb-32 overflow-y-auto no-scrollbar",children:[g.jsxs("button",{onClick:()=>S(!1),className:"flex items-center gap-2 text-gray-400 dark:text-gray-500 mb-6 hover:text-royal-600 transition-colors",children:[g.jsx(yv,{size:20}),g.jsx("span",{className:"text-sm font-bold uppercase tracking-widest",children:"Back to Report"})]}),g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx("h1",{className:"text-2xl font-black text-gray-900 dark:text-gray-50 tracking-tight",children:"History Log"}),g.jsx("div",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 bg-royal-50 dark:bg-royal-900/20 px-3 py-1.5 rounded-xl border border-royal-100 dark:border-royal-800/50",children:a==="week"?new Date(v).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):new Date(x+"-01").toLocaleDateString(void 0,{month:"long",year:"numeric"})})]}),g.jsx("div",{className:"space-y-4",children:a==="week"?P[v]?g.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(q=>g.jsx("div",{className:"h-20 bg-white dark:bg-[#1A1C26] rounded-[24px] animate-pulse border border-gray-100 dark:border-white/5"},q))}):(C[v]||[]).length>0?(C[v]||[]).map(q=>{const X=J(q);return g.jsxs("div",{onClick:()=>u(X),className:"bg-white dark:bg-[#1A1C26] p-4 flex justify-between items-center rounded-[24px] shadow-sm border border-gray-100 dark:border-white/5 hover:bg-gray-50 dark:hover:bg-white/5 transition-all cursor-pointer active:scale-[0.98]",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-white/5 overflow-hidden shadow-inner border border-gray-100 dark:border-white/5",children:X.imageUrl?g.jsx("img",{src:X.imageUrl,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-white/10 text-gray-300 dark:text-gray-700",children:g.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-700"})})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-50 font-bold",children:q.food_item}),g.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium",children:q.time})]})]}),g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx("span",{className:"text-sm text-royal-600 dark:text-royal-400 font-black",children:q.calories}),g.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase",children:"kcal"})]})]},q.id)}):g.jsxs("div",{className:"bg-white dark:bg-[#1A1C26] rounded-[24px] p-12 text-center border border-dashed border-gray-200 dark:border-white/10",children:[g.jsx(la,{size:32,className:"mx-auto text-gray-200 dark:text-white/5 mb-4"}),g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"No meals logged for this day."})]}):Object.keys(be).length>0?Object.entries(be).sort(([q],[X])=>X.localeCompare(q)).map(([q,X])=>{const z=E[q],Z=X.reduce((ie,G)=>ie+G.calories,0);return g.jsxs("div",{className:"bg-white dark:bg-[#1A1C26] rounded-[24px] border border-gray-100 dark:border-white/5 overflow-hidden",children:[g.jsxs("button",{onClick:()=>Ie(q),className:"w-full p-4 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-white/5 transition-all",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`transition-transform duration-200 ${z?"rotate-90":""}`,children:g.jsx(qo,{size:16,className:"text-gray-400"})}),g.jsxs("div",{className:"flex flex-col items-start",children:[g.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:new Date(q).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),g.jsxs("span",{className:"text-[9px] font-medium text-gray-400",children:[X.length," meal",X.length!==1?"s":""]})]})]}),g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx("span",{className:"text-sm text-royal-600 dark:text-royal-400 font-black",children:Z}),g.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase",children:"kcal"})]})]}),z&&g.jsx("div",{className:"border-t border-gray-100 dark:border-white/5",children:X.map(ie=>{const G=J(ie);return g.jsxs("div",{onClick:()=>u(G),className:"p-4 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-white/5 transition-all cursor-pointer border-b border-gray-50 dark:border-white/5 last:border-b-0",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-white/5 overflow-hidden shadow-inner border border-gray-100 dark:border-white/5",children:G.imageUrl?g.jsx("img",{src:G.imageUrl,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-white/10 text-gray-300 dark:text-gray-700",children:g.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-700"})})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-50 font-bold leading-tight",children:ie.food_item}),g.jsx("span",{className:"text-[9px] text-gray-400 dark:text-gray-500",children:ie.time})]})]}),g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx("span",{className:"text-sm text-royal-600 dark:text-royal-400 font-black",children:ie.calories}),g.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase",children:"kcal"})]})]},ie.id)})})]},q)}):g.jsxs("div",{className:"bg-white dark:bg-[#1A1C26] rounded-[24px] p-12 text-center border border-dashed border-gray-200 dark:border-white/10",children:[g.jsx(la,{size:32,className:"mx-auto text-gray-200 dark:text-white/5 mb-4"}),g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"No data for this month."})]})})]}),l&&g.jsx(Qm,{entry:l,onClose:()=>u(null),onDelete:U,onEdit:V})]}):g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-in fade-in duration-500 overflow-y-auto no-scrollbar relative bg-[#F8F9FE] dark:bg-[#0F111A]",children:[g.jsxs("div",{className:"px-6 pt-10 pb-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-2xl font-black text-gray-900 dark:text-gray-50 tracking-tight",children:"Report"}),g.jsxs("div",{className:"flex p-1 bg-white dark:bg-[#1A1C26] rounded-xl border border-gray-100 dark:border-white/5 shadow-sm",children:[g.jsx("button",{onClick:()=>s("week"),className:`px-3 py-1 rounded-lg text-[10px] font-bold transition-all ${a==="week"?"bg-royal-600 text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-royal-500"}`,children:"Weekly"}),g.jsx("button",{onClick:()=>s("month"),className:`px-3 py-1 rounded-lg text-[10px] font-bold transition-all ${a==="month"?"bg-royal-600 text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-royal-500"}`,children:"Monthly"})]})]}),g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{ref:D,className:"flex gap-3 overflow-x-auto no-scrollbar pb-2 px-1 snap-x",style:{WebkitOverflowScrolling:"touch"},children:H.map(q=>{const X=a==="week"?q.id===v:q.id===x,z=t.some(Z=>a==="week"?Z.date===q.id:Z.date.startsWith(q.id));return g.jsxs("button",{onClick:()=>a==="week"?b(q.id):_(q.id),className:`flex-shrink-0 flex flex-col items-center justify-center w-12 py-3 rounded-2xl transition-all duration-300 snap-center ${X?"bg-royal-600 text-white shadow-lg shadow-royal-200 dark:shadow-royal-900/40 transform scale-110":"bg-white dark:bg-[#1A1C26] text-gray-400 dark:text-gray-500 border border-gray-100 dark:border-white/5"}`,children:[g.jsx("span",{className:`text-[9px] font-bold uppercase mb-1 ${X?"text-white/70":"text-gray-400"}`,children:q.name}),g.jsx("span",{className:"text-sm font-extrabold",children:q.label}),z&&!X&&g.jsx("div",{className:"w-1 h-1 rounded-full bg-royal-400 mt-1"})]},q.id)})}),g.jsx("div",{className:"absolute top-0 left-0 bottom-2 w-8 bg-gradient-to-r from-[#F8F9FE] dark:from-[#0F111A] to-transparent pointer-events-none z-10"}),g.jsx("div",{className:"absolute top-0 right-0 bottom-2 w-8 bg-gradient-to-l from-[#F8F9FE] dark:from-[#0F111A] to-transparent pointer-events-none z-10"})]}),g.jsx("div",{className:"mb-8",children:g.jsxs("div",{className:"bg-white dark:bg-[#1A1C26] rounded-[28px] p-6 shadow-sm border border-gray-100 dark:border-white/5 flex flex-col items-center",children:[g.jsx("span",{className:"text-[9px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1",children:a==="week"?"Daily Total":"Monthly Total"}),g.jsxs("div",{className:"flex flex-col items-center mb-6",children:[g.jsx("span",{className:"text-5xl font-black text-gray-900 dark:text-gray-50 tracking-tighter",children:Math.round(re.totalCalories)}),g.jsx("span",{className:"text-[10px] font-black text-royal-600 dark:text-royal-400 uppercase tracking-widest mt-0.5",children:"KCAL"})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-2.5 w-full",children:[g.jsxs("div",{className:"flex flex-col items-center py-2.5 bg-emerald-50/30 dark:bg-emerald-500/5 rounded-2xl border border-emerald-100/50 dark:border-emerald-500/10 transition-colors",children:[g.jsx("span",{className:"text-[8px] font-bold text-emerald-600/60 dark:text-emerald-400/60 uppercase mb-0.5",children:"Protein"}),g.jsxs("span",{className:"text-sm font-black text-emerald-600 dark:text-emerald-400",children:[Math.round(re.totalProtein),"g"]})]}),g.jsxs("div",{className:"flex flex-col items-center py-2.5 bg-amber-50/30 dark:bg-amber-500/5 rounded-2xl border border-amber-100/50 dark:border-amber-500/10 transition-colors",children:[g.jsx("span",{className:"text-[8px] font-bold text-amber-600/60 dark:text-amber-400/60 uppercase mb-0.5",children:"Carbs"}),g.jsxs("span",{className:"text-sm font-black text-amber-600 dark:text-amber-400",children:[Math.round(re.totalCarbs),"g"]})]}),g.jsxs("div",{className:"flex flex-col items-center py-2.5 bg-rose-50/30 dark:bg-rose-500/5 rounded-2xl border border-rose-100/50 dark:border-rose-500/10 transition-colors",children:[g.jsx("span",{className:"text-[8px] font-bold text-rose-600/60 dark:text-rose-400/60 uppercase mb-0.5",children:"Fat"}),g.jsxs("span",{className:"text-sm font-black text-rose-600 dark:text-rose-400",children:[Math.round(re.totalFat),"g"]})]})]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[g.jsxs(ri,{className:"p-5 flex flex-col justify-between h-36 bg-gradient-to-br from-royal-500 to-royal-700 text-white border-none shadow-royal-200/50",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-bold text-white/70 uppercase mb-1",children:a==="week"?"Coach Tips":"Monthly Report"}),g.jsx("h3",{className:"text-lg font-black leading-tight",children:a==="week"?"Weekly Review":g.jsxs(g.Fragment,{children:["Your Health",g.jsx("br",{}),"Summary"]})})]}),g.jsxs("div",{className:"mt-2 py-2 bg-white/20 rounded-xl text-[10px] font-bold backdrop-blur-sm flex items-center justify-center gap-2",children:[a==="week"?"COMING SOON":"VIEW DETAILS",g.jsx(qo,{size:12})]})]}),g.jsxs("div",{className:"grid grid-rows-2 gap-4 h-36",children:[g.jsxs(ri,{onClick:()=>S(!0),className:"p-4 flex flex-col justify-center bg-white dark:bg-[#1A1C26] border-gray-100 dark:border-white/5 active:scale-95 transition-transform cursor-pointer",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"History Log"}),g.jsx(qo,{size:10,className:"text-gray-300"})]}),g.jsxs("p",{className:"text-xs font-black text-gray-900 dark:text-gray-50",children:[a==="week"?(C[v]||[]).length:fe.length," Meals"]})]}),g.jsxs(ri,{className:"p-4 flex flex-col justify-center bg-white dark:bg-[#1A1C26] border-gray-100 dark:border-white/5",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Goal Status"}),g.jsx(l2,{size:10,className:"text-gray-300"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex-1 h-1 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-royal-500 rounded-full",style:{width:`${Math.min(re.totalCalories/(a==="week"?n:n*30)*100,100)}%`}})}),g.jsxs("span",{className:"text-[10px] font-black text-gray-900 dark:text-gray-50",children:[Math.round(re.totalCalories/(a==="week"?n:n*30)*100),"%"]})]})]})]})]}),g.jsx("div",{className:"h-24"})]}),l&&g.jsx(Qm,{entry:l,onClose:()=>u(null),onDelete:U,onEdit:V}),c&&g.jsx(ade,{summary:c,onClose:()=>d(null)}),h&&g.jsx(Gk,{editEntry:y,onClose:()=>{m(!1),w(null)},onSuccess:()=>{m(!1),w(null),k({}),R({}),L()}})]})},lde=()=>{const[t,e]=O.useState(!0),[n,r]=O.useState(""),[i,o]=O.useState(""),[a,s]=O.useState(null),[l,u]=O.useState(!1),[c,d]=O.useState(null),h=async m=>{m.preventDefault(),s(null),d(null),u(!0);try{t?await jC(n,i):(await nL(n,i),t||(d("Account created successfully!"),e(!0)))}catch(y){console.error(y),s(y.message||"Authentication failed")}finally{u(!1)}};return g.jsxs("div",{className:"min-h-screen bg-royal-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[500px] h-[500px] bg-royal-200/40 rounded-full blur-[100px]"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-80 h-80 bg-pink-200/40 rounded-full blur-[80px]"})]}),g.jsxs("div",{className:"w-full max-w-sm z-10",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("div",{className:"w-20 h-20 bg-white rounded-[24px] flex items-center justify-center mx-auto mb-6 shadow-xl shadow-royal-200 rotate-3 transition-transform hover:rotate-0 duration-500",children:g.jsx(yC,{size:36,className:"text-royal-600 fill-royal-600"})}),g.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-2",children:"SnapCal AI"}),g.jsx("p",{className:"text-gray-500 font-medium",children:"Track your vibe, not just calories."})]}),g.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white p-8 rounded-[40px] shadow-[0_20px_40px_-12px_rgba(0,0,0,0.05)]",children:[g.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-[20px] mb-8",children:[g.jsx("button",{onClick:()=>{e(!0),s(null),d(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"bg-white text-royal-700 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Sign In"}),g.jsx("button",{onClick:()=>{e(!1),s(null),d(null)},className:`flex-1 py-3 text-sm font-bold rounded-[16px] transition-all duration-300 ${t?"text-gray-400 hover:text-gray-600":"bg-white text-royal-700 shadow-sm"}`,children:"Sign Up"})]}),g.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a&&g.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-2xl flex items-center gap-3 text-red-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[g.jsx(uC,{size:18}),a]}),c&&g.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-2xl flex items-center gap-3 text-emerald-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[g.jsx(ZM,{size:18}),c]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Email"}),g.jsx("input",{type:"email",required:!0,value:n,onChange:m=>r(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"hello@snapcal.ai"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 ml-1",children:"Password"}),g.jsx("input",{type:"password",required:!0,value:i,onChange:m=>o(m.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 text-gray-900 transition-all placeholder:text-gray-400 font-medium",placeholder:"",minLength:6})]})]}),g.jsxs(Lt,{className:"w-full mt-4 flex justify-between items-center group py-5",isLoading:l,children:[g.jsx("span",{children:t?"Sign In":"Create Account"}),!l&&g.jsx(Uc,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),g.jsx("p",{className:"text-center text-gray-400 text-xs mt-8 font-medium",children:t?"New here? Create an account above.":"Welcome back. Sign in above."})]})]})},YE=`
-- Run this in your Supabase SQL Editor

-- 1. Create Food Entries Table
create table if not exists food_entries (
  id uuid primary key,
  user_id uuid not null references auth.users(id),
  timestamp text not null,
  date text not null,
  time text not null,
  food_item text not null,
  calories integer not null,
  protein integer default 0,
  carbs integer default 0,
  fat integer default 0,
  confidence float default 1.0,
  is_manual boolean default false,
  image_url text,
  ingredients jsonb default '[]'::jsonb,
  original_ai_response jsonb,
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 2. Create User Profiles Table
create table if not exists user_profiles (
  user_id uuid primary key references auth.users(id),
  name text,
  height float,
  weight float,
  age integer,
  gender text check (gender in ('male', 'female')),
  activity_level text check (activity_level in ('sedentary', 'light', 'moderate', 'very', 'extra')),
  goal text check (goal in ('cut', 'bulk', 'maintain')),
  equipment_access text check (equipment_access in ('gym', 'home', 'bodyweight')),
  created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 3. Create Settings Table
create table if not exists user_settings (
  user_id uuid primary key references auth.users(id),
  daily_goal integer default 2000,
  has_completed_onboarding boolean default false
);

-- 4. Create Summaries Table (Optional optimization)
create table if not exists daily_summaries (
  id text primary key, -- Composite key user_id + date usually
  user_id uuid not null references auth.users(id),
  date text not null,
  total_calories integer default 0,
  total_protein integer default 0,
  total_carbs integer default 0,
  total_fat integer default 0
);

-- 5. Enable Row Level Security (RLS)
alter table food_entries enable row level security;
alter table user_profiles enable row level security;
alter table user_settings enable row level security;
alter table daily_summaries enable row level security;

-- 6. Create Policies (Allow users to see/edit ONLY their own data)

-- Food Entries
create policy "Users can all own entries" on food_entries
  for all using (auth.uid() = user_id);

-- Profiles
create policy "Users can all own profile" on user_profiles
  for all using (auth.uid() = user_id);

-- Settings
create policy "Users can all own settings" on user_settings
  for all using (auth.uid() = user_id);

-- Summaries
create policy "Users can all own summaries" on daily_summaries
  for all using (auth.uid() = user_id);
`,ude=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[i,o]=O.useState(""),[a,s]=O.useState(""),[l,u]=O.useState(""),[c,d]=O.useState(""),[h,m]=O.useState(""),[y,w]=O.useState(""),[v,b]=O.useState(!1),[x,_]=O.useState(!1),[T,S]=O.useState(null),[E,A]=O.useState(document.documentElement.classList.contains("dark")),[C,k]=O.useState(!1),[P,N]=O.useState(!1),[I,R]=O.useState(!1),[D,j]=O.useState("checking"),[L,F]=O.useState(!1),[$,U]=O.useState(!1);O.useEffect(()=>{re(),ve?(N(gL()),V()):j("ok")},[]);const V=async()=>{const K=await vL();K.missingTables?j("missing_tables"):K.ok?j("ok"):j("error")},J=()=>{const K=!E;A(K),K?(document.documentElement.classList.add("dark"),localStorage.setItem("snapcal-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("snapcal-theme","light"))},H=K=>{if(K===Lm())return;confirm(K==="local"?"Switching to Local Mode means your data will stay on this device only. You will be logged out of Cloud to create a local profile.":"Switching to Cloud Mode allows you to sync data across devices. You will be redirected to log in or sign up.")&&eL(K)},re=async()=>{const K=await kv();K&&(e(K.name),r(K.height.toString()),o(K.weight.toString()),K.age&&s(K.age.toString()),K.gender&&u(K.gender),K.activityLevel&&d(K.activityLevel),K.goal&&m(K.goal),K.equipmentAccess&&w(K.equipmentAccess))},fe=()=>{const K=parseFloat(n),Re=parseFloat(i);return!K||!Re?null:Re/(K/100*(K/100))},be=K=>K<18.5?{label:"Underweight",color:"text-blue-300"}:K<25?{label:"Healthy",color:"text-emerald-300"}:K<30?{label:"Overweight",color:"text-orange-300"}:{label:"Obese",color:"text-red-300"},Ie=K=>{const Ne=(10*parseFloat(i)+6.25*parseFloat(n)-5*25+5)*1.2;return K<18.5?Math.round(Ne+400):K>25?Math.round(Ne-400):Math.round(Ne)},q=async()=>{if(!(!t||!n||!i)){b(!0);try{await Pv({name:t,height:parseFloat(n),weight:parseFloat(i),age:a?parseInt(a):void 0,gender:l||void 0,activityLevel:c||void 0,goal:h||void 0,equipmentAccess:y||void 0}),_(!0),setTimeout(()=>_(!1),2e3);const K=fe();if(K){const Re=Ie(K);S(Re)}}catch(K){console.error(K)}finally{b(!1)}}},X=async()=>{T&&(await xf(T),alert(`Daily goal updated to ${T} kcal!`))},z=async()=>{if(confirm("Are you sure you want to sign out?")){k(!0);try{await rL()}catch(K){console.error(K)}finally{k(!1)}}},Z=async()=>{if(confirm("This will upload your local history to your Supabase account and clear local storage. Continue?")){R(!0);try{await yL(),N(!1),alert("Migration successful! Your local history is now in the cloud.")}catch(K){alert("Sync failed: "+K.message)}finally{R(!1)}}},ie=()=>{navigator.clipboard.writeText(YE),alert("SQL Copied to clipboard! Paste it into the Supabase SQL Editor.")},G=fe(),Ee=G?be(G):null,de=G?Ie(G):null,Te=Lm();return g.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-32 px-6 pt-10 space-y-8 animate-in fade-in duration-500",children:[g.jsxs("header",{children:[g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs font-semibold uppercase tracking-widest mb-2",children:"My Profile"}),g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-50 tracking-tight",children:"Personal Details"})]}),ve&&P&&g.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-100 dark:border-indigo-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/50 rounded-2xl text-indigo-600 dark:text-indigo-400",children:g.jsx(w2,{size:24})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-extrabold text-indigo-900 dark:text-indigo-200",children:"Local Data Found"}),g.jsx("p",{className:"text-xs text-indigo-700 dark:text-indigo-300 mt-1 mb-3 leading-relaxed",children:"We found meal history on this device that isn't in the cloud yet. Sync now to secure your data."}),g.jsx(Lt,{onClick:Z,isLoading:I,className:"py-3 px-6 text-xs bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 dark:shadow-none",children:"Sync to Cloud"})]})]})}),ve&&D==="missing_tables"&&g.jsx("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-100 dark:border-rose-900/40 p-5 rounded-[32px] animate-in slide-in-from-top-4",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/50 rounded-2xl text-rose-600 dark:text-rose-400",children:g.jsx(nb,{size:24})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-sm font-extrabold text-rose-900 dark:text-rose-200",children:"Database Setup Required"}),g.jsx("p",{className:"text-xs text-rose-700 dark:text-rose-300 mt-1 mb-3 leading-relaxed",children:"Your Supabase project is connected, but the required tables don't exist yet. Saving will fail until you run the setup script."}),g.jsxs("button",{onClick:()=>F(!L),className:"flex items-center gap-2 py-2 px-4 rounded-xl text-xs font-bold bg-white dark:bg-white/10 text-rose-600 dark:text-rose-200 shadow-sm",children:[g.jsx(n2,{size:14})," ",L?"Hide SQL":"View SQL Script"]}),L&&g.jsxs("div",{className:"mt-4 animate-in slide-in-from-top-2",children:[g.jsx("div",{className:"bg-gray-900 rounded-xl p-3 mb-2 overflow-x-auto border border-white/10",children:g.jsx("pre",{className:"text-[10px] text-emerald-400 font-mono leading-relaxed",children:YE})}),g.jsxs(Lt,{onClick:ie,className:"w-full py-3 text-xs bg-rose-600 hover:bg-rose-700 text-white",children:[g.jsx(r2,{size:14,className:"mr-2"})," Copy SQL to Clipboard"]}),g.jsx("p",{className:"text-[10px] text-rose-600/70 dark:text-rose-400/70 mt-2 italic text-center",children:"Paste this into the SQL Editor in your Supabase Dashboard."})]})]})]})}),g.jsx("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center text-royal-600 dark:text-royal-400",children:E?g.jsx(f2,{size:20}):g.jsx(v2,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Dark Mode"}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Optimize for low light"})]})]}),g.jsx("button",{onClick:J,className:`w-14 h-8 rounded-full transition-all duration-300 relative ${E?"bg-royal-600":"bg-gray-200 dark:bg-gray-800"}`,children:g.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-sm transition-transform duration-300 ${E?"translate-x-6":""}`})})]})}),G&&Ee&&de&&g.jsxs("div",{className:"relative rounded-[32px] p-6 text-white overflow-hidden shadow-xl bg-royal-600 shadow-royal-200 dark:shadow-royal-900/40 animate-in slide-in-from-bottom-4 duration-500",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-black/10 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(gv,{size:16,className:"text-royal-200"}),g.jsx("span",{className:"text-royal-200 text-xs font-bold uppercase tracking-widest",children:"Body Insight"})]}),g.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight",children:["BMI: ",G.toFixed(1)]})]}),g.jsx("div",{className:`px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/10 text-sm font-bold ${Ee.color}`,children:Ee.label})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-[24px] p-5 border border-white/5",children:[g.jsx("p",{className:"text-white/70 text-xs font-medium mb-3",children:"Based on your profile, we recommend a daily calorie limit of:"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-4xl font-extrabold tracking-tighter",children:de}),g.jsx("span",{className:"text-lg font-bold text-white/60",children:"kcal"})]}),g.jsx("button",{onClick:X,className:"w-10 h-10 bg-white text-royal-600 rounded-full flex items-center justify-center hover:scale-110 active:scale-95 transition-all shadow-lg",children:g.jsx(Uc,{size:20,strokeWidth:3})})]})]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:t,onChange:K=>e(K.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:n,onChange:K=>r(K.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(pC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:i,onChange:K=>o(K.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(gC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Age"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:a,onChange:K=>s(K.target.value),placeholder:"25",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(la,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Gender"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:l,onChange:K=>u(K.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"male",children:"Male"}),g.jsx("option",{value:"female",children:"Female"})]}),g.jsx(b2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-white/5",children:[g.jsxs("button",{type:"button",onClick:()=>U(!$),className:"w-full flex items-center justify-between mb-3 group",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Tm,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("p",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Training Goal Setting"})]}),g.jsx(e2,{size:18,className:`text-royal-600 dark:text-royal-400 transition-transform duration-300 ${$?"rotate-180":""}`})]}),g.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-3 ml-1",children:"Optional - Fill this for personalized AI Coach recommendations"}),$&&g.jsxs("div",{className:"space-y-5 animate-in slide-in-from-top-2 duration-300",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Activity Level"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:c,onChange:K=>d(K.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"sedentary",children:"Sedentary (Little or no exercise)"}),g.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),g.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),g.jsx("option",{value:"very",children:"Very Active (6-7 days/week)"}),g.jsx("option",{value:"extra",children:"Extra Active (Intense daily)"})]}),g.jsx(Wo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Goal"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:h,onChange:K=>m(K.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"cut",children:"Cut (Lose Fat)"}),g.jsx("option",{value:"bulk",children:"Bulk (Gain Muscle)"}),g.jsx("option",{value:"maintain",children:"Maintain"})]}),g.jsx(Tm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Equipment"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:y,onChange:K=>w(K.target.value),className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"gym",children:"Gym Access"}),g.jsx("option",{value:"home",children:"Home Equipment"}),g.jsx("option",{value:"bodyweight",children:"Bodyweight Only"})]}),g.jsx(i2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none",size:20})]})]})]})]})]}),g.jsx(Lt,{className:"w-full py-5 text-lg shadow-lg shadow-royal-200 dark:shadow-royal-900/40",onClick:q,isLoading:v,children:x?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(cC,{size:20})," Saved"]}):"Save Profile"})]}),da&&g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] p-6 rounded-[32px] border border-gray-100 dark:border-white/5 shadow-diffused dark:shadow-diffused-dark",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${Te==="cloud"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600":"bg-gray-100 dark:bg-white/10 text-gray-500"}`,children:Te==="cloud"?g.jsx(t2,{size:20}):g.jsx(fC,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-50",children:"Storage Mode"}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:Te==="cloud"?"Connected to Supabase":"Device Storage Only"})]})]}),ve&&g.jsx("button",{onClick:V,className:"p-2 text-gray-400 hover:text-royal-500 transition-colors",title:"Check Connection",children:g.jsx(Em,{size:16,className:D==="checking"?"animate-spin":""})})]}),g.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-white/5 rounded-2xl",children:[g.jsx("button",{onClick:()=>H("local"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${Te==="local"?"bg-white dark:bg-white/10 text-gray-900 dark:text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Device Only"}),g.jsx("button",{onClick:()=>H("cloud"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all ${Te==="cloud"?"bg-emerald-500 text-white shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Cloud Sync"})]})]}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{onClick:z,disabled:C,className:"w-full flex items-center justify-center gap-3 py-5 rounded-[24px] border border-red-200 dark:border-red-900/30 text-red-500 dark:text-red-400 font-bold hover:bg-red-50 dark:hover:bg-red-950/20 active:scale-95 transition-all shadow-sm",children:C?g.jsx(Em,{size:20,className:"animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx(c2,{size:20}),g.jsx("span",{children:"Sign Out"})]})})}),g.jsx("div",{className:"text-center pt-4 pb-2",children:g.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-bold border transition-colors ${ve?"bg-emerald-50 dark:bg-emerald-950/20 text-emerald-700 dark:text-emerald-400 border-emerald-100 dark:border-emerald-900/30":"bg-amber-50 dark:bg-amber-950/20 text-amber-700 dark:text-amber-400 border-amber-100 dark:border-amber-900/30"}`,children:[g.jsx(nb,{size:12}),g.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${ve?"bg-emerald-500 animate-pulse":"bg-amber-500"}`}),ve?"Syncing to Supabase":"Local Storage Mode"]})})]})},cde=({user:t,onComplete:e})=>{const[n,r]=O.useState(0),[i,o]=O.useState(""),[a,s]=O.useState(""),[l,u]=O.useState(""),[c,d]=O.useState(!1),h=5,m=()=>{const E=parseFloat(a),A=parseFloat(l);return!E||!A?null:A/(E/100*(E/100))},y=E=>{const k=(10*parseFloat(l)+6.25*parseFloat(a)-5*25+5)*1.2;return E<18.5?Math.round(k+400):E>25?Math.round(k-400):Math.round(k)},w=()=>{n<h-1&&r(n+1)},v=()=>{n>0&&r(n-1)},b=async()=>{await bL(t),e()},x=async()=>{d(!0);try{if(i&&a&&l){await Pv({name:i,height:parseFloat(a),weight:parseFloat(l)});const E=m();if(E){const A=y(E);await xf(A)}}await VC(t),e()}catch(E){console.error("Failed to save onboarding data:",E),alert("Failed to save your profile. Please try again.")}finally{d(!1)}},_=i&&a&&l,T=m(),S=T?y(T):null;return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface via-royal-50/30 to-royal-100/40 dark:from-surface-dark dark:via-royal-950/20 dark:to-black flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-royal-200/20 dark:bg-royal-800/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-200/20 dark:bg-purple-900/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),g.jsxs("button",{onClick:b,className:"absolute top-6 right-6 z-50 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-sm font-medium flex items-center gap-1",children:["Skip ",g.jsx(ca,{size:16})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[g.jsx("div",{className:"flex justify-center gap-2 mb-8",children:Array.from({length:h}).map((E,A)=>g.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${A===n?"w-12 bg-royal-600 dark:bg-royal-500":A<n?"w-8 bg-royal-400 dark:bg-royal-600":"w-8 bg-gray-200 dark:bg-gray-700"}`},A))}),g.jsxs("div",{className:"bg-white dark:bg-[#1a1c26] rounded-[40px] shadow-diffused-lg dark:shadow-diffused-dark p-8 md:p-12 min-h-[500px] flex flex-col",children:[n===0&&g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-royal-500 to-purple-600 rounded-[32px] flex items-center justify-center shadow-xl shadow-royal-200 dark:shadow-royal-900/40 animate-in zoom-in duration-700",children:g.jsx(ni,{size:48,className:"text-white",strokeWidth:2})}),g.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-bounce"})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"Welcome to SnapCal AI"}),g.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your AI-Powered Nutrition Companion"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 max-w-md leading-relaxed",children:"Track calories effortlessly with the power of artificial intelligence. Just snap a photo of your meal and let AI do the rest."}),g.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-6 w-full max-w-md",children:[g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-royal-50 dark:bg-royal-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(Ls,{size:28,className:"text-royal-600 dark:text-royal-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Snap"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-purple-50 dark:bg-purple-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(yC,{size:28,className:"text-purple-600 dark:text-purple-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Analyze"})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-950/30 rounded-2xl flex items-center justify-center",children:g.jsx(Wo,{size:28,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Track"})]})]})]}),n===1&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[g.jsx(Ls,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"How It Works"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Instant Nutrition Insights"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Our AI analyzes your food photos to provide accurate calorie counts and nutritional breakdowns in seconds."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-royal-100 dark:bg-royal-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(Ls,{size:24,className:"text-royal-600 dark:text-royal-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"1. Capture Your Meal"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Take a photo of any dish, snack, or beverage"})]})]}),g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(ni,{size:24,className:"text-purple-600 dark:text-purple-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"2. AI Recognition"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced AI identifies ingredients and portions instantly"})]})]}),g.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gray-50 dark:bg-white/5 rounded-[24px] border border-gray-100 dark:border-white/5",children:[g.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center flex-shrink-0",children:g.jsx(Wo,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-50 mb-1",children:"3. Get Detailed Breakdown"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Calories, protein, carbs, and fatsall automatically calculated"})]})]})]})]}),n===2&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-50 dark:bg-purple-950/30 rounded-full mb-4",children:[g.jsx(rb,{size:16,className:"text-purple-600 dark:text-purple-400"}),g.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wider",children:"Personalization"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Why Your Profile Matters"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Share a few details to unlock truly personalized nutrition recommendations tailored just for you."})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(Tm,{size:24,className:"text-royal-600 dark:text-royal-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Accurate Goals"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Get a science-backed daily calorie target based on your unique body metrics and health objectives."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 rounded-[28px] border border-emerald-100 dark:border-emerald-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(Wo,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Smart Insights"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Receive personalized BMI analysis and recommendations to help you reach your ideal weight."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/20 dark:to-amber-950/20 rounded-[28px] border border-orange-100 dark:border-orange-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(ni,{size:24,className:"text-orange-600 dark:text-orange-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Better Tracking"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"See how your intake compares to your goals and adjust your habits for optimal results."})]}),g.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-950/20 dark:to-rose-950/20 rounded-[28px] border border-pink-100 dark:border-pink-900/30",children:[g.jsx("div",{className:"w-12 h-12 bg-white dark:bg-white/10 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:g.jsx(rb,{size:24,className:"text-pink-600 dark:text-pink-400"})}),g.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-gray-50 mb-2",children:"Long-term Success"}),g.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Build sustainable habits with data-driven feedback tailored to your wellness journey."})]})]})]}),n===3&&g.jsxs("div",{className:"flex-1 flex flex-col justify-center animate-in fade-in slide-in-from-right-4 duration-500",children:[g.jsxs("div",{className:"mb-6 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-royal-50 dark:bg-royal-950/30 rounded-full mb-4",children:[g.jsx(ua,{size:16,className:"text-royal-600 dark:text-royal-400"}),g.jsx("span",{className:"text-xs font-bold text-royal-600 dark:text-royal-400 uppercase tracking-wider",children:"Your Details"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-50 mb-3",children:"Set Up Your Profile"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm max-w-lg mx-auto",children:"Just a few quick details to personalize your experience"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Display Name"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:i,onChange:E=>o(E.target.value),placeholder:"Enter your name",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Height (cm)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:a,onChange:E=>s(E.target.value),placeholder:"175",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(pC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Weight (kg)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"number",value:l,onChange:E=>u(E.target.value),placeholder:"70",className:"w-full p-4 pl-12 bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5 rounded-[20px] focus:outline-none focus:ring-2 focus:ring-royal-200 focus:border-royal-400 font-bold text-gray-900 dark:text-gray-50 transition-all placeholder:text-gray-300 dark:placeholder:text-gray-600"}),g.jsx(gC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:20})]})]})]}),T&&g.jsxs("div",{className:"p-5 bg-gradient-to-r from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[24px] border border-royal-100 dark:border-royal-900/30 animate-in slide-in-from-bottom-2",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-xs font-bold text-royal-700 dark:text-royal-300 uppercase tracking-wider",children:"Your BMI"}),g.jsx("span",{className:"text-2xl font-extrabold text-royal-900 dark:text-royal-100",children:T.toFixed(1)})]}),S&&g.jsxs("p",{className:"text-xs text-royal-600 dark:text-royal-400",children:["Recommended daily goal: ",g.jsxs("span",{className:"font-bold",children:[S," kcal"]})]})]})]})]}),n===4&&g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-500",children:[g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-2xl shadow-emerald-200 dark:shadow-emerald-900/40 animate-in zoom-in duration-700",children:g.jsx(cC,{size:56,className:"text-white",strokeWidth:3})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full animate-ping opacity-20"})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-gray-50 mb-4 tracking-tight",children:"You're All Set!"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Your personalized nutrition journey begins now"}),i&&S&&g.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-royal-50 to-purple-50 dark:from-royal-950/20 dark:to-purple-950/20 rounded-[28px] border border-royal-100 dark:border-royal-900/30 max-w-md w-full",children:[g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Welcome, ",g.jsx("span",{className:"font-bold text-royal-600 dark:text-royal-400",children:i}),"!"]}),g.jsxs("div",{className:"flex items-baseline gap-2 justify-center",children:[g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500 font-medium",children:"Daily Goal:"}),g.jsx("span",{className:"text-3xl font-extrabold text-royal-900 dark:text-royal-100",children:S}),g.jsx("span",{className:"text-sm font-bold text-gray-500 dark:text-gray-500",children:"kcal"})]})]}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-6 max-w-md leading-relaxed",children:"Start snapping photos of your meals to track your nutrition effortlessly. We'll help you stay on track!"})]}),g.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-100 dark:border-white/5",children:[g.jsxs("button",{onClick:v,disabled:n===0,className:`flex items-center gap-2 px-5 py-3 rounded-[16px] font-bold text-sm transition-all ${n===0?"opacity-0 pointer-events-none":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[g.jsx(yv,{size:20}),"Back"]}),n===h-1?g.jsxs(Lt,{onClick:x,isLoading:c,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Start Tracking",g.jsx(qo,{size:20,className:"ml-1"})]}):n===3?g.jsxs(Lt,{onClick:w,disabled:!_,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Continue",g.jsx(qo,{size:20,className:"ml-1"})]}):g.jsxs(Lt,{onClick:w,className:"px-8 py-4 text-base shadow-xl shadow-royal-200 dark:shadow-royal-900/40",children:["Next",g.jsx(qo,{size:20,className:"ml-1"})]})]})]})]})]})};function dde(){const[t,e]=O.useState(Ve.DASHBOARD),[n,r]=O.useState(null),[i,o]=O.useState(!0),[a,s]=O.useState(!1),[l,u]=O.useState(!0);O.useEffect(()=>{ot().then(h=>{r(h),o(!1),h&&Pb().catch(m=>console.error("Cleanup failed:",m))});const d=iL(h=>{r(h),o(!1),h&&Pb().catch(m=>console.error("Cleanup failed:",m))});return()=>d()},[]),O.useEffect(()=>{(async()=>{if(n){u(!0);const h=await wL(n);s(!h),u(!1)}else s(!1),u(!1)})()},[n]);const c=()=>{s(!1),e(Ve.DASHBOARD)};return i||l?g.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:g.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):n?a?g.jsx(cde,{user:n,onComplete:c}):g.jsxs(x2,{currentView:t,onNavigate:e,children:[t===Ve.DASHBOARD&&g.jsx(ede,{}),t===Ve.CAL_COACH&&g.jsx(ode,{onNavigate:e}),t===Ve.HISTORY&&g.jsx(sde,{}),t===Ve.PROFILE&&g.jsx(ude,{})]}):g.jsx(lde,{})}const gO=document.getElementById("root");if(!gO)throw new Error("Could not find root element to mount to");const fde=Np.createRoot(gO);fde.render(g.jsx(M.StrictMode,{children:g.jsx(dde,{})}));
